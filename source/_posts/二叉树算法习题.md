---
title: äºŒå‰æ ‘ç®—æ³•ä¹ é¢˜
typora-root-url: äºŒå‰æ ‘ç®—æ³•ä¹ é¢˜
mathjax: true
date: 2025-08-03 14:02:25
tags:
    - å®è·µ
    - LeetCode
categories: 
  - äºŒå‰æ ‘ç®—æ³•
  - ç®—æ³•
  - æ•°æ®ç»“æ„
---

# ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I

ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè®©ä½ åœ¨äºŒå‰æ ‘çš„ã€Œæ ‘æã€ä¸Šåšæ–‡ç« ï¼Œé‚£ä¹ˆç”¨éå†çš„æ€ç»´æ¨¡å¼è§£é¢˜æ˜¯æ¯”è¾ƒè‡ªç„¶çš„æƒ³æ³•ã€‚

## [257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_binary-tree-paths)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼ŒæŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„é¡ºåº</strong><span>&nbsp;</span>ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>&nbsp;<p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/12/paths-tree.jpg" style="max-width: 100%; width: 207px; height: 293px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,5]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["1-&gt;2-&gt;5","1-&gt;3"]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["1"]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-paths/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ä½ è®©æˆ‘æ±‚æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œé‚£æˆ‘éå†ä¸€éäºŒå‰æ ‘è‚¯å®šå¯ä»¥æå®šï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™æƒ³åŠæ³•æŠŠè·¯å¾„ç”Ÿæˆå‡ºæ¥å°±è¡Œäº†ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç )

```python
class Solution:
    def binaryTreePaths(self, root: TreeNode) -> List[str]:
        # éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å‡ºç»“æœäº†
        self.traverse(root)
        return self.res

    def __init__(self):
        # è®°å½• traverse å‡½æ•°é€’å½’æ—¶çš„è·¯å¾„
        self.path = []
        # è®°å½•æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„
        self.res = []

    def traverse(self, root: TreeNode):
        if root is None:
            return
        # root æ˜¯å¶å­èŠ‚ç‚¹
        if root.left is None and root.right is None:
            self.path.append(str(root.val))
            # å°†è¿™æ¡è·¯å¾„è£…å…¥ res
            self.res.append("->".join(self.path))
            self.path.pop()
            return
        # å‰åºéå†ä½ç½®
        self.path.append(str(root.val))
        # é€’å½’éå†å·¦å³å­æ ‘
        self.traverse(root.left)
        self.traverse(root.right)
        # ååºéå†ä½ç½®
        self.path.pop()
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#å¯è§†åŒ–)

<details data-v-ee1a9bd0="" id="div_binary-tree-paths" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-paths" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-paths/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_sum-root-to-leaf-numbers)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-root-to-leaf-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-root-to-leaf-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜æ”¾æœ‰ä¸€ä¸ª<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">9</code><span>&nbsp;</span>ä¹‹é—´çš„æ•°å­—ã€‚<div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;">æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 -&gt; 2 -&gt; 3</code><span>&nbsp;</span>è¡¨ç¤ºæ•°å­—<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">123</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç”Ÿæˆçš„<span>&nbsp;</span><strong style="font-weight: 600;">æ‰€æœ‰æ•°å­—ä¹‹å’Œ</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/num1tree.jpg" style="max-width: 100%; width: 212px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>25
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1-&gt;2</code> ä»£è¡¨æ•°å­— <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">12</code>
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1-&gt;3</code> ä»£è¡¨æ•°å­— <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">13</code>
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 12 + 13 = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">25</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/num2tree.jpg" style="max-width: 100%; width: 292px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,9,0,5,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1026
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;9-&gt;5</code> ä»£è¡¨æ•°å­— 495
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;9-&gt;1</code> ä»£è¡¨æ•°å­— 491
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;0</code> ä»£è¡¨æ•°å­— 40
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1026</code>
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 9</code></li><li>æ ‘çš„æ·±åº¦ä¸è¶…è¿‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-root-to-leaf-numbers/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯-1)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ä½ æƒ³ï¼Œè®©æˆ‘è·å–æ‰€æœ‰è·¯å¾„æ•°å­—ä¹‹å’Œï¼Œé‚£æˆ‘é€’å½’éå†ä¸€éäºŒå‰æ ‘ï¼Œæ²¿è·¯è®°å½•ä¸‹æ¥è·¯å¾„ä¸Šçš„æ•°å­—ï¼Œåˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™æ±‚å’Œï¼Œä¸å°±å®Œäº‹äº†ï¼Ÿ

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç -1)

```python
class Solution:
    def __init__(self):
        self.path = ""
        self.res = 0

    def sumNumbers(self, root: TreeNode) -> int:
        # éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å‡ºç»“æœ
        self.traverse(root)
        return self.res

    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root):
        if root is None:
            return
        # å‰åºéå†ä½ç½®ï¼Œè®°å½•èŠ‚ç‚¹å€¼
        self.path += str(root.val)
        if root.left is None and root.right is None:
            # åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œç´¯åŠ è·¯å¾„å’Œ
            self.res += int(self.path)
        # äºŒå‰æ ‘é€’å½’æ¡†æ¶ï¼Œéå†å·¦å³å­æ ‘
        self.traverse(root.left)
        self.traverse(root.right)

        # åç»­éå†ä½ç½®ï¼Œæ’¤é”€èŠ‚ç‚¹å€¼
        self.path = self.path[:-1]
```

**ç±»ä¼¼é¢˜ç›®**ï¼š

- [å‰‘æŒ‡ Offer II 049. ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„æ•°å­—ä¹‹å’Œ ğŸŸ ](https://leetcode.cn/problems/3Etpl5)

## [199. äºŒå‰æ ‘çš„å³è§†å›¾](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_binary-tree-right-side-view)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">199. äºŒå‰æ ‘çš„å³è§†å›¾</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-right-side-view/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-right-side-view/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ ¹èŠ‚ç‚¹</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/02/14/tree.jpg" style="max-width: 100%; width: 270px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> [1,2,3,null,5,null,4]
<strong style="font-weight: 600;">è¾“å‡º:</strong> [1,3,4]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> [1,null,3]
<strong style="font-weight: 600;">è¾“å‡º:</strong> [1,3]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> []
<strong style="font-weight: 600;">è¾“å‡º:</strong> []
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,100]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-right-side-view/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 199. äºŒå‰æ ‘çš„å³è§†å›¾</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯-2)

è¿™é¢˜æœ‰ä¸¤ä¸ªæ€è·¯ï¼š

1ã€ç”¨ BFS å±‚åºéå†ç®—æ³•ï¼Œæ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯äºŒå‰æ ‘çš„å³ä¾§è§†å›¾ã€‚æˆ‘ä»¬å¯ä»¥æŠŠ BFS åè¿‡æ¥ï¼Œä»å³å¾€å·¦éå†æ¯ä¸€è¡Œï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡ã€‚

2ã€ç”¨ DFS é€’å½’éå†ç®—æ³•ï¼ŒåŒæ ·éœ€è¦åè¿‡æ¥ï¼Œå…ˆé€’å½’ `root.right` å†é€’å½’ `root.left`ï¼ŒåŒæ—¶ç”¨ `res` è®°å½•æ¯ä¸€å±‚çš„æœ€å³ä¾§èŠ‚ç‚¹ä½œä¸ºå³ä¾§è§†å›¾ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç -2)

```python
from collections import deque

class Solution:
    # BFS å±‚åºéå†è§£æ³•
    def rightSideView(self, root) -> list:
        res = []
        if root is None:
            return res
        # BFS å±‚åºéå†ï¼Œè®¡ç®—å³ä¾§è§†å›¾
        q = deque([root])
        # while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†
        while q:
            sz = len(q)
            # æ¯ä¸€å±‚å¤´éƒ¨å°±æ˜¯æœ€å³ä¾§çš„å…ƒç´ 
            last = q[0]
            for i in range(sz):
                cur = q.popleft()
                # æ§åˆ¶æ¯ä¸€å±‚ä»å³å‘å·¦éå†
                if cur.right:
                    q.append(cur.right)
                if cur.left:
                    q.append(cur.left)
            # æ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯äºŒå‰æ ‘çš„å³ä¾§è§†å›¾
            res.append(last.val)
        return res

    # DFS é€’å½’éå†è§£æ³•
    def rightSideView_DFS(self, root) -> list:
        self.res = []
        # è®°å½•é€’å½’çš„å±‚æ•°
        self.depth = 0
        self.traverse(root)
        return self.res

    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root):
        if root is None:
            return
        # å‰åºéå†ä½ç½®
        self.depth += 1
        if len(self.res) < self.depth:
            # è¿™ä¸€å±‚è¿˜æ²¡æœ‰è®°å½•å€¼
            # è¯´æ˜ root å°±æ˜¯å³ä¾§è§†å›¾çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
            self.res.append(root.val)
        # æ³¨æ„ï¼Œè¿™é‡Œåè¿‡æ¥ï¼Œå…ˆéå†å³å­æ ‘å†éå†å·¦å­æ ‘
        # è¿™æ ·é¦–å…ˆéå†çš„ä¸€å®šæ˜¯å³ä¾§èŠ‚ç‚¹
        self.traverse(root.right)
        self.traverse(root.left)
        # ååºéå†ä½ç½®
        self.depth -= 1
# ä»å·¦åˆ°å³æ­£å¸¸éå†
class Solution:
    def __init__(self):
        self.res = []

    def rightSideView(self, root: Optional[TreeNode]) -> List[int]:
        self.bfs(root)
        return self.res

    def bfs(self, root: Optional[TreeNode]):
        if root is None:
            return
        q = [root]
        while q:
            sz = len(q)
            self.res.append(q[-1].val)
            for _ in range(sz):
                cur = q.pop(0)  # ç§»é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
                if cur.left:
                    q.append(cur.left)
                if cur.right:
                    q.append(cur.right)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#å¯è§†åŒ–-1)

<details data-v-ee1a9bd0="" id="div_binary-tree-right-side-view" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-right-side-view" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-right-side-view/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

**ç±»ä¼¼é¢˜ç›®**ï¼š

- [662. äºŒå‰æ ‘æœ€å¤§å®½åº¦ ğŸŸ ](https://leetcode.cn/problems/maximum-width-of-binary-tree)
- [å‰‘æŒ‡ Offer II 046. äºŒå‰æ ‘çš„å³ä¾§è§†å›¾ ğŸŸ ](https://leetcode.cn/problems/WNC0Lk)

## [988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_smallest-string-starting-from-leaf)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/smallest-string-starting-from-leaf/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/smallest-string-starting-from-leaf/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€é¢—æ ¹ç»“ç‚¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„äºŒå‰æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ª&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 25]</code>&nbsp;èŒƒå›´å†…çš„å€¼ï¼Œåˆ†åˆ«ä»£è¡¨å­—æ¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'a'</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'z'</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›<span>&nbsp;</span><em><strong style="font-weight: 600;">æŒ‰å­—å…¸åºæœ€å°</strong><span>&nbsp;</span>çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä»è¿™æ£µæ ‘çš„ä¸€ä¸ªå¶ç»“ç‚¹å¼€å§‹ï¼Œåˆ°æ ¹ç»“ç‚¹ç»“æŸ</em>ã€‚</p><blockquote style="margin: 1rem 0px; padding-block: 0.25rem; padding-inline: 1rem 0px; border-inline-start: 3px solid rgb(184, 184, 186); color: rgba(60, 60, 67, 0.78); font-size: 1rem; overflow-wrap: break-word; transition: border-color 0.3s, color 0.3s;"><p style="line-height: 1.6; overflow-wrap: break-word; margin: inherit;">æ³¨<strong style="font-weight: 600;">ï¼š</strong>å­—ç¬¦ä¸²ä¸­ä»»ä½•è¾ƒçŸ­çš„å‰ç¼€åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">å­—å…¸åºä¸Š</strong><span>&nbsp;</span>éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">è¾ƒå°</strong><span>&nbsp;</span>çš„ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œåœ¨å­—å…¸åºä¸Š&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"ab"</code><span>&nbsp;</span>æ¯”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"aba"</code>&nbsp;è¦å°ã€‚å¶ç»“ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­ç»“ç‚¹çš„ç»“ç‚¹ã€‚&nbsp;</li></ul></blockquote><p style="line-height: 1.6; overflow-wrap: break-word;">èŠ‚ç‚¹çš„å¶èŠ‚ç‚¹æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/02/tree1.png" style="max-width: 100%; height: 358px; width: 534px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0,1,2,3,4,3,4]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"dba"
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2019/01/30/tree2.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [25,1,3,1,3,0,2]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"adz"
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2019/02/01/tree3.png" style="max-width: 100%; height: 513px; width: 490px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,2,1,null,1,0,null,0]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"abc"
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ ‘çš„ç»“ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 8500]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 25</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/smallest-string-starting-from-leaf/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯-3)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ä»£ç çœ‹èµ·æ¥è™½ç„¶å¤šï¼Œä½†æ€è·¯éå¸¸ç®€å•ï¼šç”¨ `path` ç»´æŠ¤é€’å½’éå†çš„è·¯å¾„ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹çš„æ—¶å€™åˆ¤æ–­å­—å…¸åºæœ€å°çš„è·¯å¾„ã€‚

ä¸è¦å¿˜äº†åœ¨å¶å­èŠ‚ç‚¹çš„æ—¶å€™ä¹Ÿè¦æ­£ç¡®ç»´æŠ¤ `path` å˜é‡ï¼Œè€Œä¸”è¦æŠŠ StringBuilder ä¸­çš„å­—ç¬¦ä¸²åè½¬æ‰æ˜¯é¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç -3)

```python
class Solution:
    def smallestFromLeaf(self, root: TreeNode) -> str:
        self.traverse(root)
        return self.res
    
    # éå†è¿‡ç¨‹ä¸­çš„è·¯å¾„
    path = ""
    res = None

    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root):
        if root is None:
            return
        if root.left is None and root.right is None:
            # æ‰¾åˆ°å¶å­ç»“ç‚¹ï¼Œæ¯”è¾ƒå­—å…¸åºæœ€å°çš„è·¯å¾„
            # ç»“æœå­—ç¬¦ä¸²æ˜¯ä»å¶å­å‘æ ¹ï¼Œæ‰€ä»¥éœ€è¦åè½¬
            self.path = chr(ord('a') + root.val) + self.path

            s = self.path
            if self.res is None or self.res > s:
                # å¦‚æœå­—å…¸åºæ›´å°ï¼Œåˆ™æ›´æ–° res
                self.res = s

            # æ¢å¤ï¼Œæ­£ç¡®ç»´æŠ¤ path ä¸­çš„å…ƒç´ 
            self.path = self.path[1:]
            return
        # å‰åºä½ç½®
        self.path = chr(ord('a') + root.val) + self.path

        self.traverse(root.left)
        self.traverse(root.right)

        # ååºä½ç½®
        self.path = self.path[1:]
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#å¯è§†åŒ–-2)

<details data-v-ee1a9bd0="" id="div_smallest-string-starting-from-leaf" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_smallest-string-starting-from-leaf" src="https://labuladong.online/algo-visualize/leetcode/smallest-string-starting-from-leaf/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_sum-of-root-to-leaf-binary-numbers)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸Šæ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;æˆ–&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;ã€‚æ¯ä¸€æ¡ä»æ ¹åˆ°å¶çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªä»æœ€é«˜æœ‰æ•ˆä½å¼€å§‹çš„äºŒè¿›åˆ¶æ•°ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œå¦‚æœè·¯å¾„ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 -&gt; 1 -&gt; 1 -&gt; 0 -&gt; 1</code>ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºäºŒè¿›åˆ¶æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">01101</code>ï¼Œä¹Ÿå°±æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">13</code>&nbsp;ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹æ ‘ä¸Šçš„æ¯ä¸€ç‰‡å¶å­ï¼Œæˆ‘ä»¬éƒ½è¦æ‰¾å‡ºä»æ ¹åˆ°è¯¥å¶å­çš„è·¯å¾„æ‰€è¡¨ç¤ºçš„æ•°å­—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›è¿™äº›æ•°å­—ä¹‹å’Œã€‚é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">32 ä½<span>&nbsp;</span></strong>æ•´æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/04/04/sum-of-root-to-leaf-binary-numbers.png" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,1,0,1,0,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>22
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>(100) + (101) + (110) + (111) = 4 + 5 + 6 + 7 = 22
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>&nbsp;ä»…ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯-4)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ç”¨ `path` å˜é‡ç»´æŠ¤æ¯ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„å½¢æˆçš„äºŒè¿›åˆ¶æ•°ï¼Œåˆ°äº†å¶å­èŠ‚ç‚¹ä¹‹åå°†è¿™æ¡è·¯å¾„çš„äºŒè¿›åˆ¶æ•°ç´¯åŠ åˆ° `res` ä¸­å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç -4)

```python
class Solution:
    def sumRootToLeaf(self, root: TreeNode) -> int:
        self.path = 0
        self.res = 0
        self.traverse(root)
        return self.res

    def traverse(self, root: TreeNode):
        if root is None:
            return
        if root.left is None and root.right is None:
            # å¶å­èŠ‚ç‚¹
            self.res += self.path << 1 | root.val
            return
        # å‰åºä½ç½®
        self.path = self.path << 1 | root.val
        self.traverse(root.left)
        self.traverse(root.right)
        # ååºä½ç½®
        self.path = self.path >> 1
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#å¯è§†åŒ–-3)

<details data-v-ee1a9bd0="" id="div_sum-of-root-to-leaf-binary-numbers" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-root-to-leaf-binary-numbers" src="https://labuladong.online/algo-visualize/leetcode/sum-of-root-to-leaf-binary-numbers/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_pseudo-palindromic-paths-in-a-binary-tree)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º 1 åˆ° 9 ã€‚æˆ‘ä»¬ç§°äºŒå‰æ ‘ä¸­çš„ä¸€æ¡è·¯å¾„æ˜¯ ã€Œ<strong style="font-weight: 600;">ä¼ªå›æ–‡</strong>ã€çš„ï¼Œå½“å®ƒæ»¡è¶³ï¼šè·¯å¾„ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹å€¼çš„æ’åˆ—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå›æ–‡åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­&nbsp;<strong style="font-weight: 600;">ä¼ªå›æ–‡&nbsp;</strong>è·¯å¾„çš„æ•°ç›®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_1.png" style="max-width: 100%; height: 201px; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,3,1,3,1,null,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2 
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šçš„äºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šçº¢è‰²è·¯å¾„ [2,3,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å’Œè·¯å¾„ [2,3,1] ã€‚
     åœ¨è¿™äº›è·¯å¾„ä¸­ï¼Œåªæœ‰çº¢è‰²å’Œç»¿è‰²çš„è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸ºçº¢è‰²è·¯å¾„ [2,3,3] å­˜åœ¨å›æ–‡æ’åˆ— [3,2,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_2.png" style="max-width: 100%; height: 314px; width: 300px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,1,1,1,3,null,null,null,null,null,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1 
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šäºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šç»¿è‰²è·¯å¾„ [2,1,1] ï¼Œè·¯å¾„ [2,1,3,1] å’Œè·¯å¾„ [2,1] ã€‚
     è¿™äº›è·¯å¾„ä¸­åªæœ‰ç»¿è‰²è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸º [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [9]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>5</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 9</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#åŸºæœ¬æ€è·¯-5)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å¾—åˆ°æ¯æ¡è·¯å¾„ä¸Šçš„æ•°å­—ï¼Œä½†è¿™é¢˜çš„è€ƒç‚¹åœ¨äºï¼Œå¦‚ä½•åˆ¤æ–­ä¸€ç»„æ•°å­—æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå›æ–‡ä¸²ç»„åˆï¼Ÿ

ç¨åŠ æ€è€ƒä¸éš¾æƒ³åˆ°ï¼š**å¦‚æœä¸€ç»„æ•°å­—ä¸­ï¼Œåªæœ‰æœ€å¤šä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ä¸ºå¥‡æ•°ï¼Œå‰©ä½™æ•°å­—çš„å‡ºç°æ¬¡æ•°å‡ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆè¿™ç»„æ•°å­—å¯ä»¥ç»„æˆä¸€ä¸ªå›æ–‡ä¸²**ã€‚

é¢˜ç›®è¯´äº† `1 <= root.val <= 9`ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå¤§å°ä¸º 10 çš„ `count` æ•°ç»„åšè®¡æ•°å™¨æ¥è®°å½•æ¯æ¡è·¯å¾„ä¸Šçš„å…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹ä¹‹åæ ¹æ®å…ƒç´ å‡ºç°çš„æ¬¡æ•°åˆ¤æ–­æ˜¯å¦å¯ä»¥æ„æˆå›æ–‡ä¸²ã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ›´å·§å¦™çš„ä½è¿ç®—æ¥å®ç°ä¸Šè¿°é€»è¾‘ï¼š

1ã€é¦–å…ˆç”¨åˆ°å¼‚æˆ–è¿ç®—çš„ç‰¹æ€§ï¼Œ1 ^ 1 = 0, 0 ^ 0 = 0, 1 ^ 0 = 1ã€‚

2ã€å…¶æ¬¡ç”¨åˆ° `n & (n - 1)` å»é™¤äºŒè¿›åˆ¶æœ€åä¸€ä¸ª 1 çš„æŠ€å·§ï¼Œè¯¦è§ [ä¸œå“¥æ•™ä½ å‡ æ‹›å¸¸ç”¨çš„ä½è¿ç®—æŠ€å·§](https://labuladong.online/algo/frequency-interview/bitwise-operation/)ã€‚

æˆ‘åŒæ—¶å®ç°äº†è¿™ä¸¤ç§æ–¹æ³•ï¼Œä¾›ä½ å‚è€ƒã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#è§£æ³•ä»£ç -5)

```python
class Solution:
    def __init__(self):
        self.count = [0] * 10
        self.res = 0

    def pseudoPalindromicPaths(self, root: TreeNode) -> int:
        self.traverse(root)
        return self.res

    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root: TreeNode):
        if root is None:
            return
        if root.left is None and root.right is None:
            # é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œåˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¼ªå›æ–‡ä¸²
            self.count[root.val] += 1
            # å¦‚æœè·¯å¾„ä¸Šå‡ºç°å¥‡æ•°æ¬¡çš„æ•°å­—ä¸ªæ•°å¤§äº 1ï¼Œ
            # åˆ™ä¸å¯èƒ½ç»„æˆå›æ–‡ä¸²ï¼Œåä¹‹åˆ™å¯ä»¥ç»„æˆå›æ–‡ä¸²
            odd = 0
            for n in self.count:
                if n % 2 == 1:
                    odd += 1
            if odd <= 1:
                self.res += 1
            self.count[root.val] -= 1
            return

        self.count[root.val] += 1
        # äºŒå‰æ ‘éå†æ¡†æ¶
        self.traverse(root.left)
        self.traverse(root.right)

        self.count[root.val] -= 1

# ç”¨ä½è¿ç®—ä»£æ›¿æ•°ç»„è®¡æ•°ï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡
class Solution2:
    def __init__(self):
        self.count = 0
        self.res = 0

    def pseudoPalindromicPaths(self, root: TreeNode) -> int:
        self.traverse(root)
        return self.res

    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root: TreeNode):
        if root is None:
            return
        if root.left is None and root.right is None:
            # é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œåˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¼ªå›æ–‡ä¸²
            self.count ^= (1 << root.val)
            # åˆ¤æ–­äºŒè¿›åˆ¶ä¸­åªæœ‰ä¸€ä½ 1ï¼ŒåŸç†è§ https://labuladong.online/algo/frequency-interview/bitwise-operation/
            if (self.count & (self.count - 1)) == 0:
                self.res += 1
            self.count ^= (1 << root.val)
            return
        self.count ^= (1 << root.val)
        # äºŒå‰æ ‘éå†æ¡†æ¶
        self.traverse(root.left)
        self.traverse(root.right)

        self.count ^= (1 << root.val)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#å¯è§†åŒ–-4)

<details data-v-ee1a9bd0="" id="div_pseudo-palindromic-paths-in-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 0px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_pseudo-palindromic-paths-in-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/pseudo-palindromic-paths-in-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>



## [404. å·¦å¶å­ä¹‹å’Œ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_sum-of-left-leaves)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">404. å·¦å¶å­ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-left-leaves/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-left-leaves/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¿”å›æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/04/08/leftsum-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [3,9,20,null,null,15,7] 
<strong style="font-weight: 600;">è¾“å‡º:</strong> 24 
<strong style="font-weight: 600;">è§£é‡Š:</strong> åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [1]
<strong style="font-weight: 600;">è¾“å‡º:</strong> 0
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-left-leaves/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 404. å·¦å¶å­ä¹‹å’Œ</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

æ— éå°±æ˜¯éå†ä¸€éäºŒå‰æ ‘ï¼Œç„¶åæ‰¾åˆ°é‚£äº›å·¦å¶å­èŠ‚ç‚¹ï¼Œç´¯åŠ å®ƒä»¬çš„å€¼ç½¢äº†ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç )

```python
class Solution:
    def __init__(self):
        # è®°å½•å·¦å¶å­ä¹‹å’Œ
        self.sum = 0

    def sumOfLeftLeaves(self, root: TreeNode) -> int:
        self.traverse(root)
        return self.sum


    # äºŒå‰æ ‘éå†å‡½æ•°
    def traverse(self, root: TreeNode):
        if root is None:
            return

        if (root.left is not None and
            root.left.left is None and root.left.right is None):
            # æ‰¾åˆ°å·¦ä¾§çš„å¶å­èŠ‚ç‚¹ï¼Œè®°å½•ç´¯åŠ å€¼
            self.sum += root.left.val

        # é€’å½’æ¡†æ¶
        self.traverse(root.left)
        self.traverse(root.right)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–)

<details data-v-ee1a9bd0="" id="div_sum-of-left-leaves" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-left-leaves" src="https://labuladong.online/algo-visualize/leetcode/sum-of-left-leaves/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_add-one-row-to-tree)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/add-one-row-to-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/add-one-row-to-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;å’Œä¸¤ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>&nbsp;ï¼Œåœ¨ç»™å®šçš„æ·±åº¦&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>&nbsp;å¤„æ·»åŠ ä¸€ä¸ªå€¼ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>çš„èŠ‚ç‚¹è¡Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ³¨æ„ï¼Œæ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ä½äºæ·±åº¦&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åŠ æ³•è§„åˆ™å¦‚ä¸‹:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>ï¼Œå¯¹äºæ·±åº¦ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth - 1</code><span>&nbsp;</span>çš„æ¯ä¸ªéç©ºæ ‘èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>ï¼Œåˆ›å»ºä¸¤ä¸ªå€¼ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>çš„æ ‘èŠ‚ç‚¹ä½œä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>çš„å·¦å­æ ‘æ ¹å’Œå³å­æ ‘æ ¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>åŸæ¥çš„å·¦å­æ ‘åº”è¯¥æ˜¯æ–°çš„å·¦å­æ ‘æ ¹çš„å·¦å­æ ‘ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>åŸæ¥çš„å³å­æ ‘åº”è¯¥æ˜¯æ–°çš„å³å­æ ‘æ ¹çš„å³å­æ ‘ã€‚</li><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth == 1<span>&nbsp;</span></code>æ„å‘³ç€&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth - 1</code>&nbsp;æ ¹æœ¬æ²¡æœ‰æ·±åº¦ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‘èŠ‚ç‚¹ï¼Œå€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val<span>&nbsp;</span></code>ä½œä¸ºæ•´ä¸ªåŸå§‹æ ‘çš„æ–°æ ¹ï¼Œè€ŒåŸå§‹æ ‘å°±æ˜¯æ–°æ ¹çš„å·¦å­æ ‘ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/03/15/addrow-tree.jpg" style="max-width: 100%; height: 231px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [4,2,6,3,1,5], val = 1, depth = 2
<strong style="font-weight: 600;">è¾“å‡º:</strong> [4,1,1,2,null,null,6,3,1,5]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/03/11/add2-tree.jpg" style="max-width: 100%; height: 277px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [4,2,null,3,1], val = 1, depth = 3
<strong style="font-weight: 600;">è¾“å‡º:</strong>  [4,2,null,1,1,3,null,null,1]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>&nbsp;èŒƒå›´å†…</li><li>æ ‘çš„æ·±åº¦åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= val &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= depth &lt;= the depth of tree + 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/add-one-row-to-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-1)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ç”¨ `traverse` å‡½æ•°éå†åˆ°å¯¹åº”è¡Œï¼Œè¿›è¡Œæ’å…¥å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -1)

```python
class Solution:
    def __init__(self):
        self.targetVal = 0
        self.targetDepth = 0

    def addOneRow(self, root: TreeNode, val: int, depth: int) -> TreeNode:
        self.targetVal = val
        self.targetDepth = depth
        # æ’å…¥åˆ°ç¬¬ä¸€è¡Œçš„è¯ç‰¹æ®Šå¯¹å¾…ä¸€ä¸‹
        if self.targetDepth == 1:
            newRoot = TreeNode(self.targetVal)
            newRoot.left = root
            return newRoot
        # éå†äºŒå‰æ ‘ï¼Œèµ°åˆ°å¯¹åº”è¡Œè¿›è¡Œæ’å…¥
        self.traverse(root, 1)

        return root

    def traverse(self, root: TreeNode, curDepth: int):
        if root is None:
            return
        # å‰åºéå†
        if curDepth == self.targetDepth - 1:
            # è¿›è¡Œæ’å…¥
            newLeft = TreeNode(self.targetVal)
            newRight = TreeNode(self.targetVal)
            newLeft.left = root.left
            newRight.right = root.right
            root.left = newLeft
            root.right = newRight
        # Recursively traverse the left and right subtree
        self.traverse(root.left, curDepth + 1)
        self.traverse(root.right, curDepth + 1)
        # ååºéå†
        # Note: The original Java code does not have any action in the post-order position,
        # but we keep the comment for consistency.
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–-1)

<details data-v-ee1a9bd0="" id="div_add-one-row-to-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_add-one-row-to-tree" src="https://labuladong.online/algo-visualize/leetcode/add-one-row-to-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_flip-binary-tree-to-match-preorder-traversal)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œæ ‘ä¸­æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸åŒäºå…¶ä»–èŠ‚ç‚¹ä¸”å¤„äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¹‹é—´çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦ç»™ä½ ä¸€ä¸ªç”±<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªå€¼ç»„æˆçš„è¡Œç¨‹åºåˆ—<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span>ï¼Œè¡¨ç¤º<span>&nbsp;</span><strong style="font-weight: 600;">é¢„æœŸ</strong><span>&nbsp;</span>çš„äºŒå‰æ ‘<span>&nbsp;</span><a href="https://baike.baidu.com/item/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86/6442839?fr=aladdin" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;"><strong style="font-weight: 600;">å…ˆåºéå†</strong></a><span>&nbsp;</span>ç»“æœã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">é€šè¿‡äº¤æ¢èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼Œå¯ä»¥<span>&nbsp;</span><strong style="font-weight: 600;">ç¿»è½¬</strong><span>&nbsp;</span>è¯¥äºŒå‰æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹ã€‚ä¾‹ï¼Œç¿»è½¬èŠ‚ç‚¹ 1 çš„æ•ˆæœå¦‚ä¸‹ï¼š</p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/15/fliptree.jpg" style="max-width: 100%; width: 400px; height: 187px;"><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ç¿»è½¬<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å°‘<span>&nbsp;</span></strong>çš„æ ‘ä¸­èŠ‚ç‚¹ï¼Œä½¿äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å…ˆåºéå†</strong><span>&nbsp;</span>ä¸é¢„æœŸçš„éå†è¡Œç¨‹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span><strong style="font-weight: 600;">ç›¸åŒ¹é…</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœå¯ä»¥ï¼Œåˆ™è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">ç¿»è½¬çš„</strong><span>&nbsp;</span>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼çš„åˆ—è¡¨ã€‚ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚å¦‚æœä¸èƒ½ï¼Œåˆ™è¿”å›åˆ—è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-1]</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-01.png" style="max-width: 100%; width: 150px; height: 205px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2], voyage = [2,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[-1]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¿»è½¬èŠ‚ç‚¹æ— æ³•ä»¤å…ˆåºéå†åŒ¹é…é¢„æœŸè¡Œç¨‹ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-02.png" style="max-width: 100%; width: 150px; height: 142px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], voyage = [1,3,2]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>äº¤æ¢èŠ‚ç‚¹ 2 å’Œ 3 æ¥ç¿»è½¬èŠ‚ç‚¹ 1 ï¼Œå…ˆåºéå†å¯ä»¥åŒ¹é…é¢„æœŸè¡Œç¨‹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-02.png" style="max-width: 100%; width: 150px; height: 142px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], voyage = [1,2,3]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å…ˆåºéå†å·²ç»åŒ¹é…é¢„æœŸè¡Œç¨‹ï¼Œæ‰€ä»¥ä¸éœ€è¦ç¿»è½¬èŠ‚ç‚¹ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == voyage.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val, voyage[i] &lt;= n</code></li><li>æ ‘ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span>ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-2)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

ç”¨ `traverse` å‡½æ•°éå†æ•´æ£µäºŒå‰æ ‘ï¼Œå¯¹æ¯”å‰åºéå†ç»“æœï¼Œå¦‚æœèŠ‚ç‚¹çš„å€¼å¯¹ä¸ä¸Šï¼Œå°±æ— è§£ï¼›å¦‚æœå­æ ‘å¯¹ä¸ä¸Š `voyage`ï¼Œå°±å°è¯•ç¿»è½¬å­æ ‘ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -2)

```python
class Solution:
    def flipMatchVoyage(self, root: TreeNode, voyage: List[int]) -> List[int]:
        self.res = []
        self.i = 0
        self.can_flip = True
        
        def dfs(node):
            # éå†çš„è¿‡ç¨‹ä¸­å°è¯•è¿›è¡Œåè½¬
            if not node or not self.can_flip:
                return True
            if node.val != voyage[self.i]:
                # èŠ‚ç‚¹çš„ val å¯¹ä¸ä¸Šï¼Œå¿…ç„¶æ— è§£
                self.can_flip = False
                return False
            self.i += 1
            # Only flip if there's a left child and the next value in voyage doesn't match the left child's value
            if node.left and node.left.val != voyage[self.i]:
                # å‰åºéå†ç»“æœä¸å¯¹ï¼Œå°è¯•ç¿»è½¬å·¦å³å­æ ‘
                self.res.append(node.val)
                node.left, node.right = node.right, node.left
            # è®°å½•ç¿»è½¬èŠ‚ç‚¹
            # Note: This comment was not in the original Java code, but added to match the pattern of comments. 
            # If this was not intended, it can be removed.
            return dfs(node.left) and dfs(node.right)
        
        if dfs(root):
            return self.res
        else:
            return [-1]
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–-2)

<details data-v-ee1a9bd0="" id="div_flip-binary-tree-to-match-preorder-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_flip-binary-tree-to-match-preorder-traversal" src="https://labuladong.online/algo-visualize/leetcode/flip-binary-tree-to-match-preorder-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [987. äºŒå‰æ ‘çš„å‚åºéå†](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_vertical-order-traversal-of-a-binary-tree)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">987. äºŒå‰æ ‘çš„å‚åºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·ä½ è®¾è®¡ç®—æ³•è®¡ç®—äºŒå‰æ ‘çš„<em><span>&nbsp;</span></em><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹ä½äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row, col)</code>&nbsp;çš„æ¯ä¸ªç»“ç‚¹è€Œè¨€ï¼Œå…¶å·¦å³å­ç»“ç‚¹åˆ†åˆ«ä½äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row + 1, col - 1)</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row + 1, col + 1)</code><span>&nbsp;</span>ã€‚æ ‘çš„æ ¹ç»“ç‚¹ä½äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(0, 0)</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>ä»æœ€å·¦è¾¹çš„åˆ—å¼€å§‹ç›´åˆ°æœ€å³è¾¹çš„åˆ—ç»“æŸï¼ŒæŒ‰åˆ—ç´¢å¼•æ¯ä¸€åˆ—ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæŒ‰å‡ºç°ä½ç½®ä»ä¸Šåˆ°ä¸‹æ’åºçš„æœ‰åºåˆ—è¡¨ã€‚å¦‚æœåŒè¡ŒåŒåˆ—ä¸Šæœ‰å¤šä¸ªç»“ç‚¹ï¼Œåˆ™æŒ‰ç»“ç‚¹çš„å€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree1.jpg" style="max-width: 100%; width: 431px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[9],[3,15],[20],[7]]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 9 åœ¨æ­¤åˆ—ä¸­ã€‚
åˆ—  0 ï¼šåªæœ‰ç»“ç‚¹ 3 å’Œ 15 åœ¨æ­¤åˆ—ä¸­ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºã€‚
åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 20 åœ¨æ­¤åˆ—ä¸­ã€‚
åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree2.jpg" style="max-width: 100%; width: 512px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6,7]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[4],[2],[1,5,6],[3],[7]]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
åˆ— -2 ï¼šåªæœ‰ç»“ç‚¹ 4 åœ¨æ­¤åˆ—ä¸­ã€‚
åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 2 åœ¨æ­¤åˆ—ä¸­ã€‚
åˆ—  0 ï¼šç»“ç‚¹ 1 ã€5 å’Œ 6 éƒ½åœ¨æ­¤åˆ—ä¸­ã€‚
          1 åœ¨ä¸Šé¢ï¼Œæ‰€ä»¥å®ƒå‡ºç°åœ¨å‰é¢ã€‚
          5 å’Œ 6 ä½ç½®éƒ½æ˜¯ (2, 0) ï¼Œæ‰€ä»¥æŒ‰å€¼ä»å°åˆ°å¤§æ’åºï¼Œ5 åœ¨ 6 çš„å‰é¢ã€‚
åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 3 åœ¨æ­¤åˆ—ä¸­ã€‚
åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree3.jpg" style="max-width: 100%; width: 512px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,6,5,7]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[4],[2],[1,5,6],[3],[7]]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
è¿™ä¸ªç¤ºä¾‹å®é™…ä¸Šä¸ç¤ºä¾‹ 2 å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç»“ç‚¹ 5 å’Œ 6 åœ¨æ ‘ä¸­çš„ä½ç½®å‘ç”Ÿäº†äº¤æ¢ã€‚
å› ä¸º 5 å’Œ 6 çš„ä½ç½®ä»ç„¶ç›¸åŒï¼Œæ‰€ä»¥ç­”æ¡ˆä¿æŒä¸å˜ï¼Œä»ç„¶æŒ‰å€¼ä»å°åˆ°å¤§æ’åºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­ç»“ç‚¹æ•°ç›®æ€»æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 987. äºŒå‰æ ‘çš„å‚åºéå†</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-3)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

çœ‹è¿™é¢˜çš„éš¾åº¦æ˜¯å›°éš¾ï¼Œä½†ä½ åˆ«è¢«å“ä½äº†ï¼Œæˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹ï¼Œå¦‚æœä»¥æ•´æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºåæ ‡ `(0, 0)`ï¼Œä½ å¦‚ä½•æ‰“å°å‡ºå…¶ä»–èŠ‚ç‚¹çš„åæ ‡ï¼Ÿ

å¾ˆç®€å•ï¼Œå†™å‡ºå¦‚ä¸‹ä»£ç éå†ä¸€éäºŒå‰æ ‘å³å¯ï¼š

```cpp
void traverse(TreeNode root, int row, int col) {
    if (root == null) {
        return;
    }
    print(row, col);
    traverse(root.left, row + 1, col - 1);
    traverse(root.right, row + 1, col + 1);
}
```

ç„¶åå°±ç®€å•äº†ï¼ŒæŠŠè¿™äº›åæ ‡æ”¶é›†èµ·æ¥ï¼Œä¾æ®é¢˜ç›®è¦æ±‚è¿›è¡Œæ’åºï¼Œç»„è£…æˆé¢˜ç›®è¦æ±‚çš„è¿”å›æ•°æ®æ ¼å¼å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -3)

```python
class Solution:
    # è®°å½•æ¯ä¸ªèŠ‚ç‚¹å’Œå¯¹åº”çš„åæ ‡ (row, col)
    class Triple:
        def __init__(self, node, row, col):
            self.node = node
            self.row = row
            self.col = col

    def verticalTraversal(self, root: TreeNode) -> List[List[int]]:
        # éå†äºŒå‰æ ‘ï¼Œå¹¶ä¸”ä¸ºæ‰€æœ‰èŠ‚ç‚¹ç”Ÿæˆå¯¹åº”çš„åæ ‡
        self.traverse(root, 0, 0)
        # æ ¹æ®é¢˜æ„ï¼Œæ ¹æ®åæ ‡å€¼å¯¹æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæ’åºï¼š
        # æŒ‰ç…§ col ä»å°åˆ°å¤§æ’åºï¼Œcol ç›¸åŒçš„è¯æŒ‰ row ä»å°åˆ°å¤§æ’åºï¼Œ
        # å¦‚æœ col å’Œ row éƒ½ç›¸åŒï¼ŒæŒ‰ç…§ node.val ä»å°åˆ°å¤§æ’åºã€‚
        self.nodes.sort(key=lambda x: (x.col, x.row, x.node.val))
        # å°†æ’å¥½åºçš„èŠ‚ç‚¹ç»„è£…æˆé¢˜ç›®è¦æ±‚çš„è¿”å›æ ¼å¼
        res = collections.deque()
        # è®°å½•ä¸Šä¸€åˆ—ç¼–å·ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç‰¹æ®Šå€¼
        preCol = float('-inf')
        for cur in self.nodes:
            if cur.col != preCol:
                # å¼€å§‹è®°å½•æ–°çš„ä¸€åˆ—
                res.append(collections.deque())
                preCol = cur.col
            res[-1].append(cur.node.val)

        return [list(col) for col in res]

    def __init__(self):
        self.nodes = []
        
    # äºŒå‰æ ‘éå†å‡½æ•°ï¼Œè®°å½•æ‰€æœ‰èŠ‚ç‚¹å¯¹åº”çš„åæ ‡
    def traverse(self, root: TreeNode, row: int, col: int):
        if root is None:
            return
        # è®°å½•åæ ‡
        self.nodes.append(self.Triple(root, row, col))
        # äºŒå‰æ ‘éå†æ¡†æ¶
        self.traverse(root.left, row + 1, col - 1)
        self.traverse(root.right, row + 1, col + 1)
```

**ç±»ä¼¼é¢˜ç›®**ï¼š

- [666. è·¯å¾„æ€»å’Œ IV ğŸŸ ](https://leetcode.cn/problems/path-sum-iv)

## [993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_cousins-in-binary-tree)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/cousins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/cousins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ ¹èŠ‚ç‚¹ä½äºæ·±åº¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>å¤„ï¼Œæ¯ä¸ªæ·±åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä½äºæ·±åº¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k+1</code><span>&nbsp;</span>å¤„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœäºŒå‰æ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹æ·±åº¦ç›¸åŒï¼Œä½†<strong style="font-weight: 600;"><span>&nbsp;</span>çˆ¶èŠ‚ç‚¹ä¸åŒ</strong><span>&nbsp;</span>ï¼Œåˆ™å®ƒä»¬æ˜¯ä¸€å¯¹<em>å ‚å…„å¼ŸèŠ‚ç‚¹</em>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æˆ‘ä»¬ç»™å‡ºäº†å…·æœ‰å”¯ä¸€å€¼çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œä»¥åŠæ ‘ä¸­ä¸¤ä¸ªä¸åŒèŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åªæœ‰ä¸å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code><span>&nbsp;</span>å¯¹åº”çš„èŠ‚ç‚¹æ˜¯å ‚å…„å¼ŸèŠ‚ç‚¹æ—¶ï¼Œæ‰è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ã€‚å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-01.png" style="max-width: 100%; height: 160px; width: 180px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4], x = 4, y = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-02.png" style="max-width: 100%; height: 160px; width: 201px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,4,null,5], x = 5, y = 4
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-03.png" style="max-width: 100%; height: 160px; width: 156px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,4], x = 2, y = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ä»‹äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€èŒƒå›´ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>çš„æ•´æ•°ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/cousins-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-4)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

éå†æ‰¾åˆ° xï¼Œy çš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹ï¼Œå¯¹æ¯”å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -4)

```python
class Solution:
    def __init__(self):
        self.parentX = None
        self.parentY = None
        self.depthX = 0
        self.depthY = 0
        self.x = 0
        self.y = 0

    def isCousins(self, root: TreeNode, x: int, y: int) -> bool:
        self.x = x
        self.y = y
        self.traverse(root, 0, None)
        if self.depthX == self.depthY and self.parentX != self.parentY:
            # åˆ¤æ–­ xï¼Œy æ˜¯å¦æ˜¯è¡¨å…„å¼ŸèŠ‚ç‚¹
            return True
        return False

    def traverse(self, root: TreeNode, depth: int, parent: TreeNode) -> None:
        if root is None:
            return
        if root.val == self.x:
            # æ‰¾åˆ° xï¼Œè®°å½•å®ƒçš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹
            self.parentX = parent
            self.depthX = depth
        if root.val == self.y:
            # æ‰¾åˆ° yï¼Œè®°å½•å®ƒçš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹
            self.parentY = parent
            self.depthY = depth
        self.traverse(root.left, depth + 1, root)
        self.traverse(root.right, depth + 1, root)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–-3)

<details data-v-ee1a9bd0="" id="div_cousins-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_cousins-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/cousins-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_sum-of-nodes-with-even-valued-grandparent)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>è¯¥èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ã€‚ï¼ˆä¸€ä¸ªèŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹æ˜¯æŒ‡è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ï¼‰</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸å­˜åœ¨ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/01/10/1473_ex1.png" style="max-width: 100%; height: 214px; width: 350px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [6,7,8,2,7,1,3,9,null,1,4,null,null,null,5]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>18
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å›¾ä¸­çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ï¼Œè“è‰²èŠ‚ç‚¹ä¸ºè¿™äº›çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10^4</code>&nbsp;ä¹‹é—´ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-5)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚

å¾ˆç®€å•ï¼Œéå†ä¸€éäºŒå‰æ ‘ï¼Œå¯¹äºèŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹ï¼Œç´¯åŠ å®ƒçš„å­™å­èŠ‚ç‚¹çš„å€¼å³å¯ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -5)

```python
class Solution:
    def __init__(self):
        self.sum = 0

    def sumEvenGrandparent(self, root: TreeNode) -> int:
        self.traverse(root)
        return self.sum

    # äºŒå‰æ ‘çš„éå†å‡½æ•°
    def traverse(self, root: TreeNode):
        if root is None:
            return
        if root.val % 2 == 0:
            # ç´¯åŠ å·¦å­æ ‘å­™å­èŠ‚ç‚¹çš„å€¼
            if root.left is not None:
                if root.left.left is not None:
                    self.sum += root.left.left.val
                if root.left.right is not None:
                    self.sum += root.left.right.val

            # ç´¯åŠ å³å­æ ‘å­™å­èŠ‚ç‚¹çš„å€¼
            if root.right is not None:
                if root.right.left is not None:
                    self.sum += root.right.left.val
                if root.right.right is not None:
                    self.sum += root.right.right.val

        # äºŒå‰æ ‘çš„éå†æ¡†æ¶
        self.traverse(root.left)
        self.traverse(root.right)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–-4)

<details data-v-ee1a9bd0="" id="div_sum-of-nodes-with-even-valued-grandparent" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-nodes-with-even-valued-grandparent" src="https://labuladong.online/algo-visualize/leetcode/sum-of-nodes-with-even-valued-grandparent/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>

## [1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_count-good-nodes-in-binary-tree)

<details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µæ ¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„äºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ã€Œå¥½èŠ‚ç‚¹ã€X å®šä¹‰ä¸ºï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹ X æ‰€ç»è¿‡çš„èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äº X çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/16/test_sample_1.png" style="max-width: 100%; height: 156px; width: 263px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,1,4,3,null,1,5]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å›¾ä¸­è“è‰²èŠ‚ç‚¹ä¸ºå¥½èŠ‚ç‚¹ã€‚
æ ¹èŠ‚ç‚¹ (3) æ°¸è¿œæ˜¯ä¸ªå¥½èŠ‚ç‚¹ã€‚
èŠ‚ç‚¹ 4 -&gt; (3,4) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚
èŠ‚ç‚¹ 5 -&gt; (3,4,5) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚
èŠ‚ç‚¹ 3 -&gt; (3,1,3) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/16/test_sample_2.png" style="max-width: 100%; height: 161px; width: 157px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,3,null,4,2]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>èŠ‚ç‚¹ 2 -&gt; (3, 3, 2) ä¸æ˜¯å¥½èŠ‚ç‚¹ï¼Œå› ä¸º "3" æ¯”å®ƒå¤§ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ¹èŠ‚ç‚¹æ˜¯å¥½èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10^5]</code>&nbsp;ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹æƒå€¼çš„èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-10^4, 10^4]</code>&nbsp;ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</a>ã€‚</strong></details>

### [åŸºæœ¬æ€è·¯](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#åŸºæœ¬æ€è·¯-6)

å‰æ–‡ [æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡](https://labuladong.online/algo/essential-technique/binary-tree-summary/) è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ï¼Œåˆ©ç”¨å‡½æ•°å‚æ•°ç»™å­æ ‘ä¼ é€’ä¿¡æ¯ã€‚

å‡½æ•°å‚æ•° `pathMax` è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œé€šè¿‡æ¯”è¾ƒ `root.val` å’Œ `pathMax` æ¯”è¾ƒå°±å¯åˆ¤æ–­ `root` èŠ‚ç‚¹æ˜¯ä¸æ˜¯ã€Œå¥½èŠ‚ç‚¹ã€ã€‚ç„¶åå†æŠŠ `pathMax` ä¼ é€’åˆ°å­æ ‘ä¸­ç»§ç»­åˆ¤æ–­å…¶ä»–èŠ‚ç‚¹ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š

- [ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/)

### [è§£æ³•ä»£ç ](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#è§£æ³•ä»£ç -6)

```python
class Solution:
    def __init__(self):
        self.count = 0

    def goodNodes(self, root: TreeNode) -> int:
        self.traverse(root, root.val)
        return self.count

    # äºŒå‰æ ‘éå†å‡½æ•°ï¼ŒpathMax å‚æ•°è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹è·¯å¾„ä¸­çš„æœ€å¤§å€¼
    def traverse(self, root: TreeNode, pathMax: int):
        if root is None:
            return
        if pathMax <= root.val:
            # æ‰¾åˆ°ä¸€ä¸ªã€Œå¥½èŠ‚ç‚¹ã€
            self.count += 1
        # æ›´æ–°è·¯å¾„ä¸Šçš„æœ€å¤§å€¼
        pathMax = max(pathMax, root.val)

        self.traverse(root.left, pathMax)
        self.traverse(root.right, pathMax)
```

### [å¯è§†åŒ–](https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#å¯è§†åŒ–-5)

<details data-v-ee1a9bd0="" id="div_count-good-nodes-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_count-good-nodes-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/count-good-nodes-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details>


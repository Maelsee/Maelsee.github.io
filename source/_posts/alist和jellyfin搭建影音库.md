---
title: alistå’Œjellyfinæ­å»ºå½±éŸ³åº“
typora-root-url: alistå’Œjellyfinæ­å»ºå½±éŸ³åº“
mathjax: true
date: 2025-11-01 10:33:52
tags: alist,jellyfin
categories: é…ç½®
---

# å®‰è£…alistå’Œjellyfin

åœ¨Dockerç¯å¢ƒä¸­è®©JellyfinæŒ‚è½½AListä¸­çš„å¤¸å…‹ç½‘ç›˜ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯è®©Jellyfinèƒ½å¤Ÿé€šè¿‡AListæä¾›çš„WebDAVæœåŠ¡è®¿é—®åˆ°å¤¸å…‹ç½‘ç›˜é‡Œçš„æ–‡ä»¶ã€‚ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†æ•´ä¸ªé…ç½®è¿‡ç¨‹å’Œç»„ä»¶é—´çš„åä½œå…³ç³»ï¼Œä½ å¯ä»¥å…ˆæœ‰ä¸ªæ•´ä½“å°è±¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æ­¥è¯¦è§£è¿™ä¸ªè¿‡ç¨‹ã€‚

![346607b0c9a948](/346607b0c9a948-1761964760057-2.png)

### ğŸ”§ å‰ææ¡ä»¶ä¸å‡†å¤‡

1. **ç¡®ä¿æœåŠ¡å·²è¿è¡Œ**ï¼šç¡®è®¤ä½ çš„AListå’ŒJellyfinéƒ½å·²ç»é€šè¿‡Dockeræ­£å¸¸å¯åŠ¨å¹¶è¿è¡Œã€‚ AListçš„Webç•Œé¢é€šå¸¸ä¸º `http://ä½ çš„æœåŠ¡å™¨IP:5244`ã€‚ Jellyfinçš„Webç•Œé¢é€šå¸¸ä¸º `http://ä½ çš„æœåŠ¡å™¨IP:8096`ã€‚
2. **è§„åˆ’ç½‘ç»œæ¨¡å¼**ï¼šä¸ºäº†ç¡®ä¿Jellyfinå®¹å™¨èƒ½å¤Ÿè®¿é—®åˆ°AListå®¹å™¨ï¼Œæœ€ç®€ä¾¿çš„æ–¹æ³•æ˜¯è®©å®ƒä»¬å¤„äº**åŒä¸€ä¸ªè‡ªå®šä¹‰Dockerç½‘ç»œ**ä¸­ã€‚å¦‚æœä½¿ç”¨é»˜è®¤çš„bridgeç½‘ç»œï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨`--link`å‚æ•°æˆ–ç›´æ¥é€šè¿‡å®¿ä¸»æœºIPè¿›è¡Œé€šä¿¡ã€‚

### ğŸ“¥ åœ¨AListä¸­æŒ‚è½½å¤¸å…‹ç½‘ç›˜

è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œéœ€è¦å…ˆåœ¨AListä¸­æ­£ç¡®æ·»åŠ å¤¸å…‹ç½‘ç›˜å­˜å‚¨ã€‚

1. **ç™»å½•AListç®¡ç†åå°**ï¼šè®¿é—® `http://ä½ çš„æœåŠ¡å™¨IP:5244/@manage`ï¼Œä½¿ç”¨ç®¡ç†å‘˜è´¦å·å¯†ç ç™»å½•ã€‚
2. **æ·»åŠ å­˜å‚¨**ï¼š ç‚¹å‡»å·¦ä¾§èœå•çš„ **â€œå­˜å‚¨â€**ã€‚ ç‚¹å‡» **â€œæ·»åŠ å­˜å‚¨â€**ã€‚ åœ¨é©±åŠ¨åˆ—è¡¨ä¸­é€‰æ‹© **â€œå¤¸å…‹ç½‘ç›˜â€**ã€‚
3. **é…ç½®å¤¸å…‹ç½‘ç›˜**ï¼šä½ éœ€è¦å¡«å†™ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š **æŒ‚è½½è·¯å¾„**ï¼šè¿™æ˜¯è¯¥å­˜å‚¨å°†åœ¨AListä¸­æ˜¾ç¤ºçš„è·¯å¾„ï¼Œä¾‹å¦‚ `/quark`ã€‚ **Cookieï¼ˆå…³é”®ï¼‰**ï¼šå¤¸å…‹ç½‘ç›˜éœ€è¦é€šè¿‡Cookieè¿›è¡Œè®¤è¯ã€‚ è·å–æ–¹æ³•ï¼šå…ˆç™»å½•ç½‘é¡µç‰ˆå¤¸å…‹ç½‘ç›˜ï¼Œç„¶åæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨ **â€œç½‘ç»œâ€**(Network) æ ‡ç­¾é¡µä¸­æ‰¾åˆ°ä¸€ä¸ªè¯·æ±‚ï¼ˆå¦‚åŒ…å«`sort?pr`ï¼‰ï¼Œå¤åˆ¶å…¶è¯·æ±‚å¤´ä¸­çš„ **`Cookie`**å­—æ®µçš„å…¨éƒ¨å†…å®¹ã€‚ å…¶ä»–é€‰é¡¹å¦‚æ ¹æ–‡ä»¶å¤¹IDç­‰ï¼Œé€šå¸¸ä¿æŒé»˜è®¤ï¼ˆå¦‚`root`ï¼‰å³å¯ã€‚
4. **ä¿å­˜å¹¶æµ‹è¯•**ï¼šç‚¹å‡»â€œæ·»åŠ â€ï¼Œå¦‚æœçŠ¶æ€æ˜¾ç¤ºä¸ºâ€œ**work**â€æˆ–â€œ**å­˜å‚¨æ·»åŠ æˆåŠŸ**â€ï¼Œåˆ™è¯´æ˜å¤¸å…‹ç½‘ç›˜å·²ç»æŒ‚è½½æˆåŠŸã€‚
5. **æ·»åŠ ç”¨æˆ·** ï¼šä¸ºäº†å®‰å…¨æ·»åŠ æœ‰webdavè®¿é—®æƒé™çš„ä¸€ä¸ªç”¨æˆ·ã€‚

### ğŸ”— åœ¨Jellyfinä¸­é…ç½®åª’ä½“åº“

ç°åœ¨ï¼Œä½ éœ€è¦å‘Šè¯‰Jellyfinå»å“ªé‡Œæ‰¾AListé‡Œçš„å¤¸å…‹ç½‘ç›˜æ–‡ä»¶ã€‚

1. **ç™»å½•Jellyfin**ï¼šè®¿é—® `http://ä½ çš„æœåŠ¡å™¨IP:8096`ã€‚
2. **æ·»åŠ åª’ä½“åº“**ï¼š ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•åï¼Œè¿›å…¥ **â€œæ§åˆ¶å°â€**ã€‚ ç‚¹å‡» **â€œåª’ä½“åº“â€**ï¼Œç„¶åç‚¹å‡» **â€œæ·»åŠ åª’ä½“åº“â€**ã€‚
3. **è®¾ç½®åª’ä½“åº“å†…å®¹**ï¼š **å†…å®¹ç±»å‹**ï¼šæ ¹æ®ä½ å¤¸å…‹ç½‘ç›˜ä¸­çš„å†…å®¹é€‰æ‹©ï¼Œå¦‚â€œç”µå½±â€ã€â€œç”µè§†å‰§â€ç­‰ã€‚ **æ˜¾ç¤ºåç§°**ï¼šä¸ºä½ è¿™ä¸ªåº“å–ä¸ªåå­—ï¼Œä¾‹å¦‚â€œå¤¸å…‹ç”µå½±â€ã€‚
4. **æ·»åŠ æ–‡ä»¶å¤¹ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰**ï¼šåœ¨â€œæ–‡ä»¶å¤¹â€éƒ¨åˆ†ï¼Œç‚¹å‡»â€œ+â€å·ï¼Œè¿™é‡Œjellyfinåªæ”¯æŒæœ¬åœ°æ–‡ä»¶ã€‚**ä½¿ç”¨ Rclone æŒ‚è½½ WebDAV** åœ¨åé¢å®ç°ã€‚
5. **å®Œæˆå‘å¯¼**ï¼šç»§ç»­å®Œæˆåç»­è®¾ç½®ï¼Œå¦‚å…ƒæ•°æ®è¯­è¨€ç­‰ï¼Œç„¶åä¿å­˜åª’ä½“åº“ã€‚Jellyfinå°±ä¼šå¼€å§‹æ‰«æAListæä¾›çš„è·¯å¾„ï¼Œå¹¶åˆ®å‰Šå½±ç‰‡ä¿¡æ¯ç”Ÿæˆæµ·æŠ¥å¢™ã€‚

### âš ï¸ é‡è¦æç¤ºä¸æ•…éšœæ’æŸ¥

- **æ–‡ä»¶å‘½åè§„èŒƒ**ï¼šç¡®ä¿ä½ å¤¸å…‹ç½‘ç›˜ä¸­çš„å½±è§†æ–‡ä»¶å‘½åè§„èŒƒï¼ˆå¦‚`ç”µå½±å (å¹´ä»½).mkv`ï¼‰ï¼Œè¿™å¯¹äºJellyfinå‡†ç¡®åˆ®å‰Šå…ƒæ•°æ®è‡³å…³é‡è¦ã€‚
- **æ€§èƒ½è€ƒè™‘**ï¼šç”±äºè§†é¢‘æµéœ€è¦ç»è¿‡AListä¸­è½¬ï¼Œæ’­æ”¾æ€§èƒ½ä¼šå—åˆ°ä½ çš„ç½‘ç»œå¸¦å®½å’ŒæœåŠ¡å™¨æ€§èƒ½çš„å½±å“ã€‚å¯¹äºé«˜æ¸…è§†é¢‘ï¼Œç¡®ä¿ç½‘ç»œç•…é€šã€‚
- **æƒé™é—®é¢˜**ï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œæ£€æŸ¥AListçš„WebDAVè®¾ç½®ï¼Œç¡®ä¿æ²¡æœ‰å¼€å¯éœ€è¦é¢å¤–è®¤è¯çš„åªè¯»æ¨¡å¼ç­‰æƒé™é™åˆ¶ã€‚
- **è·¯å¾„éªŒè¯**ï¼šåœ¨Jellyfinä¸­æ·»åŠ åº“å‰ï¼Œå¯ä»¥å…ˆç”¨æ”¯æŒWebDAVçš„å®¢æˆ·ç«¯ï¼ˆå¦‚Windowsçš„â€œæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨â€åŠŸèƒ½æˆ–RaiDriveï¼‰æµ‹è¯•ä¸€ä¸‹AListçš„WebDAVåœ°å€ï¼ˆ`http://ä½ çš„æœåŠ¡å™¨IP:5244/dav`ï¼‰æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®å’Œæµè§ˆæ–‡ä»¶ã€‚

## docker Compose é…ç½®

```yml
version: '3.8'

services:
  # AList æœåŠ¡ - ç»Ÿä¸€ç½‘ç›˜ç®¡ç†
  alist:
    image: xhofe/alist:latest
    container_name: alist
    restart: unless-stopped
    ports:
      - "5244:5244"  # AList Webç•Œé¢è®¿é—®ç«¯å£
    environment:
      - PUID=0
      - PGID=0
      - TZ=Asia/Shanghai
    volumes:
      - ./alist/data:/opt/alist/data
      - ./alist/config:/opt/alist/config
    networks:
      - media-network  # ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ

  # Jellyfin æœåŠ¡ - åª’ä½“æœåŠ¡å™¨
  jellyfin:
    image: jellyfin/jellyfin:latest
    container_name: jellyfin
    restart: unless-stopped
    ports:
      - "8096:8096"  # Jellyfin Webç•Œé¢è®¿é—®ç«¯å£
    environment:
      - PUID=0
      - PGID=0
      - TZ=Asia/Shanghai
      - JELLYFIN_PublishedServerUrl=http://ä½ çš„æœåŠ¡å™¨IP:8096
    volumes:
      - ./jellyfin/config:/config
      - ./jellyfin/cache:/cache
      - ./jellyfin/media:/media
    devices:
      - /dev/dri:/dev/dri
    networks:
      - media-network  # ä½¿ç”¨ç›¸åŒçš„è‡ªå®šä¹‰ç½‘ç»œ
    depends_on:
      - alist

# å®šä¹‰è‡ªå®šä¹‰ç½‘ç»œ
networks:
  media-network:
    driver: bridge
 
```

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨

```bash
# è¿›å…¥docker-compose.ymlæ‰€åœ¨ç›®å½•
cd /path/to/your/docker-compose

# åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨
docker-compose down
```

### 2. é‡æ–°å¯åŠ¨æœåŠ¡

```bash
# ä½¿ç”¨æ–°é…ç½®å¯åŠ¨
docker-compose up -d
```



> Jellyfin è¯•å›¾å°† URL è·¯å¾„å½“ä½œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å¤„ç†ï¼Œå¯¼è‡´è·¯å¾„è§£æé”™è¯¯ã€‚æ ¹æœ¬åŸå› æ˜¯ **Jellyfin ä¸æ”¯æŒç›´æ¥ä½¿ç”¨ WebDAV URL ä½œä¸ºåª’ä½“åº“è·¯å¾„**ã€‚

## ğŸ”§ ç»ˆæè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Rclone æŒ‚è½½ WebDAV

è¿™æ˜¯æœ€å¯é çš„æ–¹æ³•ï¼Œå°† WebDAV æŒ‚è½½ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼š

### æ­¥éª¤1ï¼šåœ¨å®¿ä¸»æœºå®‰è£…å¹¶é…ç½® Rclone

```bash
# å®‰è£… Rclone
curl https://rclone.org/install.sh | sudo bash

# åˆ›å»ºé…ç½®æ–‡ä»¶
mkdir -p ~/.config/rclone
cat > ~/.config/rclone/rclone.conf <<EOF
[alist]
type = webdav
url = http://localhost:5244/dav/
vendor = other
user = jellyfin
pass = ******  #è‡ªå·±ä¿®æ”¹
EOF

# æµ‹è¯•è¿æ¥
rclone ls alist:quark
```

äº‹å®ä¸Šæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºrcloneå¯†ç éœ€è¦åŠ å¯†ï¼Œæ‰€ä»¥é€šè¿‡ ` rclone config`é…ç½®ï¼š

#### 1.ç”ŸæˆåŠ å¯†å¯†ç 

```bash
# è¿è¡Œ rclone é…ç½®å‘½ä»¤
rclone config

# é€‰æ‹© "n" åˆ›å»ºæ–°é…ç½®
n

# è¾“å…¥åç§° "alist"
name> alist

# é€‰æ‹©å­˜å‚¨ç±»å‹ "webdav"
Storage> webdav

# è¾“å…¥ URL
url> http://localhost:5244/dav/

# é€‰æ‹©ä¾›åº”å•† "other"
vendor> other

# è¾“å…¥ç”¨æˆ·å
user> jellyfin

# å¯¹äºå¯†ç ï¼Œé€‰æ‹© "y" è¿›è¡ŒåŠ å¯†
Password:
y) Yes type in my own password

# è¾“å…¥æ‚¨çš„å¯†ç  ï¼ˆä¸ä¼šæ˜¾ç¤ºï¼‰
Enter password: 
Confirm password: 

# å…¶ä»–é€‰é¡¹ä¿æŒé»˜è®¤
```

#### 2ï¼šæŸ¥çœ‹ç”Ÿæˆçš„åŠ å¯†å¯†ç 

```bash
# æŸ¥çœ‹é…ç½®æ–‡ä»¶
cat ~/.config/rclone/rclone.conf
```

æ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„é…ç½®ï¼š

```bash
[alist]
type = webdav
url = http://localhost:5244/dav/
vendor = other
user = jellyfin  #alistä¸­æ·»åŠ çš„ç”¨æˆ·
pass = XG9iZGVkX2NX3dlX3RyeQ==  #è¿™ä¸ªåŠ å¯†åçš„å¯†ç å¯ä»¥ç”¨åœ¨å…¶ä»–é…ç½®ä¸­
```

### æ­¥éª¤2ï¼šåˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½

```bash
# åˆ›å»ºæŒ‚è½½ç›®å½•
sudo mkdir -p /mnt/alist

# æŒ‚è½½ WebDAV
rclone mount alist: /mnt/alist --daemon --vfs-cache-mode full

# éªŒè¯æŒ‚è½½
ls -l /mnt/alist/quark
```

### æ­¥éª¤3ï¼šä¿®æ”¹ Docker Compose é…ç½®

```bash
services:
  jellyfin:
    # ... å…¶ä»–é…ç½®ä¸å˜
    volumes:
      - ./jellyfin/config:/config
      - ./jellyfin/cache:/cache
      - /mnt/alist:/media/alist:ro  # æ·»åŠ è¿™è¡Œ
```

### æ­¥éª¤4ï¼šåœ¨ Jellyfin ä¸­æ·»åŠ åª’ä½“åº“

ä½¿ç”¨æœ¬åœ°è·¯å¾„è€Œä¸æ˜¯ URLï¼š

```
/media/alist/quark/
```

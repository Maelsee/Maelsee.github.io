<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>alistå’Œjellyfinæ­å»ºå½±éŸ³åº“</title>
      <link href="/2025/11/01/alist-he-jellyfin-da-jian-ying-yin-ku/"/>
      <url>/2025/11/01/alist-he-jellyfin-da-jian-ying-yin-ku/</url>
      
        <content type="html"><![CDATA[<h1 id="å®‰è£…alistå’Œjellyfin"><a href="#å®‰è£…alistå’Œjellyfin" class="headerlink" title="å®‰è£…alistå’Œjellyfin"></a>å®‰è£…alistå’Œjellyfin</h1><p>åœ¨Dockerç¯å¢ƒä¸­è®©JellyfinæŒ‚è½½AListä¸­çš„å¤¸å…‹ç½‘ç›˜ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯è®©Jellyfinèƒ½å¤Ÿé€šè¿‡AListæä¾›çš„WebDAVæœåŠ¡è®¿é—®åˆ°å¤¸å…‹ç½‘ç›˜é‡Œçš„æ–‡ä»¶ã€‚ä¸‹é¢è¿™å¼ æµç¨‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†æ•´ä¸ªé…ç½®è¿‡ç¨‹å’Œç»„ä»¶é—´çš„åä½œå…³ç³»ï¼Œä½ å¯ä»¥å…ˆæœ‰ä¸ªæ•´ä½“å°è±¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æ­¥è¯¦è§£è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p><img src="/346607b0c9a948-1761964760057-2.png" alt="346607b0c9a948"></p><h3 id="ğŸ”§-å‰ææ¡ä»¶ä¸å‡†å¤‡"><a href="#ğŸ”§-å‰ææ¡ä»¶ä¸å‡†å¤‡" class="headerlink" title="ğŸ”§ å‰ææ¡ä»¶ä¸å‡†å¤‡"></a>ğŸ”§ å‰ææ¡ä»¶ä¸å‡†å¤‡</h3><ol><li><strong>ç¡®ä¿æœåŠ¡å·²è¿è¡Œ</strong>ï¼šç¡®è®¤ä½ çš„AListå’ŒJellyfinéƒ½å·²ç»é€šè¿‡Dockeræ­£å¸¸å¯åŠ¨å¹¶è¿è¡Œã€‚ AListçš„Webç•Œé¢é€šå¸¸ä¸º <code>http://ä½ çš„æœåŠ¡å™¨IP:5244</code>ã€‚ Jellyfinçš„Webç•Œé¢é€šå¸¸ä¸º <code>http://ä½ çš„æœåŠ¡å™¨IP:8096</code>ã€‚</li><li><strong>è§„åˆ’ç½‘ç»œæ¨¡å¼</strong>ï¼šä¸ºäº†ç¡®ä¿Jellyfinå®¹å™¨èƒ½å¤Ÿè®¿é—®åˆ°AListå®¹å™¨ï¼Œæœ€ç®€ä¾¿çš„æ–¹æ³•æ˜¯è®©å®ƒä»¬å¤„äº<strong>åŒä¸€ä¸ªè‡ªå®šä¹‰Dockerç½‘ç»œ</strong>ä¸­ã€‚å¦‚æœä½¿ç”¨é»˜è®¤çš„bridgeç½‘ç»œï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨<code>--link</code>å‚æ•°æˆ–ç›´æ¥é€šè¿‡å®¿ä¸»æœºIPè¿›è¡Œé€šä¿¡ã€‚</li></ol><h3 id="ğŸ“¥-åœ¨AListä¸­æŒ‚è½½å¤¸å…‹ç½‘ç›˜"><a href="#ğŸ“¥-åœ¨AListä¸­æŒ‚è½½å¤¸å…‹ç½‘ç›˜" class="headerlink" title="ğŸ“¥ åœ¨AListä¸­æŒ‚è½½å¤¸å…‹ç½‘ç›˜"></a>ğŸ“¥ åœ¨AListä¸­æŒ‚è½½å¤¸å…‹ç½‘ç›˜</h3><p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œéœ€è¦å…ˆåœ¨AListä¸­æ­£ç¡®æ·»åŠ å¤¸å…‹ç½‘ç›˜å­˜å‚¨ã€‚</p><ol><li><strong>ç™»å½•AListç®¡ç†åå°</strong>ï¼šè®¿é—® <code>http://ä½ çš„æœåŠ¡å™¨IP:5244/@manage</code>ï¼Œä½¿ç”¨ç®¡ç†å‘˜è´¦å·å¯†ç ç™»å½•ã€‚</li><li><strong>æ·»åŠ å­˜å‚¨</strong>ï¼š ç‚¹å‡»å·¦ä¾§èœå•çš„ <strong>â€œå­˜å‚¨â€</strong>ã€‚ ç‚¹å‡» <strong>â€œæ·»åŠ å­˜å‚¨â€</strong>ã€‚ åœ¨é©±åŠ¨åˆ—è¡¨ä¸­é€‰æ‹© <strong>â€œå¤¸å…‹ç½‘ç›˜â€</strong>ã€‚</li><li><strong>é…ç½®å¤¸å…‹ç½‘ç›˜</strong>ï¼šä½ éœ€è¦å¡«å†™ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š <strong>æŒ‚è½½è·¯å¾„</strong>ï¼šè¿™æ˜¯è¯¥å­˜å‚¨å°†åœ¨AListä¸­æ˜¾ç¤ºçš„è·¯å¾„ï¼Œä¾‹å¦‚ <code>/quark</code>ã€‚ <strong>Cookieï¼ˆå…³é”®ï¼‰</strong>ï¼šå¤¸å…‹ç½‘ç›˜éœ€è¦é€šè¿‡Cookieè¿›è¡Œè®¤è¯ã€‚ è·å–æ–¹æ³•ï¼šå…ˆç™»å½•ç½‘é¡µç‰ˆå¤¸å…‹ç½‘ç›˜ï¼Œç„¶åæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨ <strong>â€œç½‘ç»œâ€</strong>(Network) æ ‡ç­¾é¡µä¸­æ‰¾åˆ°ä¸€ä¸ªè¯·æ±‚ï¼ˆå¦‚åŒ…å«<code>sort?pr</code>ï¼‰ï¼Œå¤åˆ¶å…¶è¯·æ±‚å¤´ä¸­çš„ **<code>Cookie</code>**å­—æ®µçš„å…¨éƒ¨å†…å®¹ã€‚ å…¶ä»–é€‰é¡¹å¦‚æ ¹æ–‡ä»¶å¤¹IDç­‰ï¼Œé€šå¸¸ä¿æŒé»˜è®¤ï¼ˆå¦‚<code>root</code>ï¼‰å³å¯ã€‚</li><li><strong>ä¿å­˜å¹¶æµ‹è¯•</strong>ï¼šç‚¹å‡»â€œæ·»åŠ â€ï¼Œå¦‚æœçŠ¶æ€æ˜¾ç¤ºä¸ºâ€œ<strong>work</strong>â€æˆ–â€œ<strong>å­˜å‚¨æ·»åŠ æˆåŠŸ</strong>â€ï¼Œåˆ™è¯´æ˜å¤¸å…‹ç½‘ç›˜å·²ç»æŒ‚è½½æˆåŠŸã€‚</li><li><strong>æ·»åŠ ç”¨æˆ·</strong> ï¼šä¸ºäº†å®‰å…¨æ·»åŠ æœ‰webdavè®¿é—®æƒé™çš„ä¸€ä¸ªç”¨æˆ·ã€‚</li></ol><h3 id="ğŸ”—-åœ¨Jellyfinä¸­é…ç½®åª’ä½“åº“"><a href="#ğŸ”—-åœ¨Jellyfinä¸­é…ç½®åª’ä½“åº“" class="headerlink" title="ğŸ”— åœ¨Jellyfinä¸­é…ç½®åª’ä½“åº“"></a>ğŸ”— åœ¨Jellyfinä¸­é…ç½®åª’ä½“åº“</h3><p>ç°åœ¨ï¼Œä½ éœ€è¦å‘Šè¯‰Jellyfinå»å“ªé‡Œæ‰¾AListé‡Œçš„å¤¸å…‹ç½‘ç›˜æ–‡ä»¶ã€‚</p><ol><li><strong>ç™»å½•Jellyfin</strong>ï¼šè®¿é—® <code>http://ä½ çš„æœåŠ¡å™¨IP:8096</code>ã€‚</li><li><strong>æ·»åŠ åª’ä½“åº“</strong>ï¼š ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•åï¼Œè¿›å…¥ <strong>â€œæ§åˆ¶å°â€</strong>ã€‚ ç‚¹å‡» <strong>â€œåª’ä½“åº“â€</strong>ï¼Œç„¶åç‚¹å‡» <strong>â€œæ·»åŠ åª’ä½“åº“â€</strong>ã€‚</li><li><strong>è®¾ç½®åª’ä½“åº“å†…å®¹</strong>ï¼š <strong>å†…å®¹ç±»å‹</strong>ï¼šæ ¹æ®ä½ å¤¸å…‹ç½‘ç›˜ä¸­çš„å†…å®¹é€‰æ‹©ï¼Œå¦‚â€œç”µå½±â€ã€â€œç”µè§†å‰§â€ç­‰ã€‚ <strong>æ˜¾ç¤ºåç§°</strong>ï¼šä¸ºä½ è¿™ä¸ªåº“å–ä¸ªåå­—ï¼Œä¾‹å¦‚â€œå¤¸å…‹ç”µå½±â€ã€‚</li><li><strong>æ·»åŠ æ–‡ä»¶å¤¹ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</strong>ï¼šåœ¨â€œæ–‡ä»¶å¤¹â€éƒ¨åˆ†ï¼Œç‚¹å‡»â€œ+â€å·ï¼Œè¿™é‡Œjellyfinåªæ”¯æŒæœ¬åœ°æ–‡ä»¶ã€‚<strong>ä½¿ç”¨ Rclone æŒ‚è½½ WebDAV</strong> åœ¨åé¢å®ç°ã€‚</li><li><strong>å®Œæˆå‘å¯¼</strong>ï¼šç»§ç»­å®Œæˆåç»­è®¾ç½®ï¼Œå¦‚å…ƒæ•°æ®è¯­è¨€ç­‰ï¼Œç„¶åä¿å­˜åª’ä½“åº“ã€‚Jellyfinå°±ä¼šå¼€å§‹æ‰«æAListæä¾›çš„è·¯å¾„ï¼Œå¹¶åˆ®å‰Šå½±ç‰‡ä¿¡æ¯ç”Ÿæˆæµ·æŠ¥å¢™ã€‚</li></ol><h3 id="âš ï¸-é‡è¦æç¤ºä¸æ•…éšœæ’æŸ¥"><a href="#âš ï¸-é‡è¦æç¤ºä¸æ•…éšœæ’æŸ¥" class="headerlink" title="âš ï¸ é‡è¦æç¤ºä¸æ•…éšœæ’æŸ¥"></a>âš ï¸ é‡è¦æç¤ºä¸æ•…éšœæ’æŸ¥</h3><ul><li><strong>æ–‡ä»¶å‘½åè§„èŒƒ</strong>ï¼šç¡®ä¿ä½ å¤¸å…‹ç½‘ç›˜ä¸­çš„å½±è§†æ–‡ä»¶å‘½åè§„èŒƒï¼ˆå¦‚<code>ç”µå½±å (å¹´ä»½).mkv</code>ï¼‰ï¼Œè¿™å¯¹äºJellyfinå‡†ç¡®åˆ®å‰Šå…ƒæ•°æ®è‡³å…³é‡è¦ã€‚</li><li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šç”±äºè§†é¢‘æµéœ€è¦ç»è¿‡AListä¸­è½¬ï¼Œæ’­æ”¾æ€§èƒ½ä¼šå—åˆ°ä½ çš„ç½‘ç»œå¸¦å®½å’ŒæœåŠ¡å™¨æ€§èƒ½çš„å½±å“ã€‚å¯¹äºé«˜æ¸…è§†é¢‘ï¼Œç¡®ä¿ç½‘ç»œç•…é€šã€‚</li><li><strong>æƒé™é—®é¢˜</strong>ï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œæ£€æŸ¥AListçš„WebDAVè®¾ç½®ï¼Œç¡®ä¿æ²¡æœ‰å¼€å¯éœ€è¦é¢å¤–è®¤è¯çš„åªè¯»æ¨¡å¼ç­‰æƒé™é™åˆ¶ã€‚</li><li><strong>è·¯å¾„éªŒè¯</strong>ï¼šåœ¨Jellyfinä¸­æ·»åŠ åº“å‰ï¼Œå¯ä»¥å…ˆç”¨æ”¯æŒWebDAVçš„å®¢æˆ·ç«¯ï¼ˆå¦‚Windowsçš„â€œæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨â€åŠŸèƒ½æˆ–RaiDriveï¼‰æµ‹è¯•ä¸€ä¸‹AListçš„WebDAVåœ°å€ï¼ˆ<code>http://ä½ çš„æœåŠ¡å™¨IP:5244/dav</code>ï¼‰æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®å’Œæµè§ˆæ–‡ä»¶ã€‚</li></ul><h2 id="docker-Compose-é…ç½®"><a href="#docker-Compose-é…ç½®" class="headerlink" title="docker Compose é…ç½®"></a>docker Compose é…ç½®</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token comment"># AList æœåŠ¡ - ç»Ÿä¸€ç½‘ç›˜ç®¡ç†</span>  <span class="token key atrule">alist</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> xhofe/alist<span class="token punctuation">:</span>latest    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> alist    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"5244:5244"</span>  <span class="token comment"># AList Webç•Œé¢è®¿é—®ç«¯å£</span>    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> PUID=0      <span class="token punctuation">-</span> PGID=0      <span class="token punctuation">-</span> TZ=Asia/Shanghai    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./alist/data<span class="token punctuation">:</span>/opt/alist/data      <span class="token punctuation">-</span> ./alist/config<span class="token punctuation">:</span>/opt/alist/config    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> media<span class="token punctuation">-</span>network  <span class="token comment"># ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ</span>  <span class="token comment"># Jellyfin æœåŠ¡ - åª’ä½“æœåŠ¡å™¨</span>  <span class="token key atrule">jellyfin</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> jellyfin/jellyfin<span class="token punctuation">:</span>latest    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> jellyfin    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"8096:8096"</span>  <span class="token comment"># Jellyfin Webç•Œé¢è®¿é—®ç«¯å£</span>    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> PUID=0      <span class="token punctuation">-</span> PGID=0      <span class="token punctuation">-</span> TZ=Asia/Shanghai      <span class="token punctuation">-</span> JELLYFIN_PublishedServerUrl=http<span class="token punctuation">:</span>//ä½ çš„æœåŠ¡å™¨IP<span class="token punctuation">:</span><span class="token number">8096</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./jellyfin/config<span class="token punctuation">:</span>/config      <span class="token punctuation">-</span> ./jellyfin/cache<span class="token punctuation">:</span>/cache      <span class="token punctuation">-</span> ./jellyfin/media<span class="token punctuation">:</span>/media    <span class="token key atrule">devices</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> /dev/dri<span class="token punctuation">:</span>/dev/dri    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> media<span class="token punctuation">-</span>network  <span class="token comment"># ä½¿ç”¨ç›¸åŒçš„è‡ªå®šä¹‰ç½‘ç»œ</span>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> alist<span class="token comment"># å®šä¹‰è‡ªå®šä¹‰ç½‘ç»œ</span><span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token key atrule">media-network</span><span class="token punctuation">:</span>    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ğŸš€-éƒ¨ç½²æ­¥éª¤"><a href="#ğŸš€-éƒ¨ç½²æ­¥éª¤" class="headerlink" title="ğŸš€ éƒ¨ç½²æ­¥éª¤"></a>ğŸš€ éƒ¨ç½²æ­¥éª¤</h2><h3 id="1-åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨"><a href="#1-åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨" class="headerlink" title="1. åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨"></a>1. åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿›å…¥docker-compose.ymlæ‰€åœ¨ç›®å½•</span><span class="token builtin class-name">cd</span> /path/to/your/docker-compose<span class="token comment"># åœæ­¢å¹¶åˆ é™¤ç°æœ‰å®¹å™¨</span><span class="token function">docker-compose</span> down<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-é‡æ–°å¯åŠ¨æœåŠ¡"><a href="#2-é‡æ–°å¯åŠ¨æœåŠ¡" class="headerlink" title="2. é‡æ–°å¯åŠ¨æœåŠ¡"></a>2. é‡æ–°å¯åŠ¨æœåŠ¡</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä½¿ç”¨æ–°é…ç½®å¯åŠ¨</span><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>Jellyfin è¯•å›¾å°† URL è·¯å¾„å½“ä½œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å¤„ç†ï¼Œå¯¼è‡´è·¯å¾„è§£æé”™è¯¯ã€‚æ ¹æœ¬åŸå› æ˜¯ <strong>Jellyfin ä¸æ”¯æŒç›´æ¥ä½¿ç”¨ WebDAV URL ä½œä¸ºåª’ä½“åº“è·¯å¾„</strong>ã€‚</p></blockquote><h2 id="ğŸ”§-ç»ˆæè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-Rclone-æŒ‚è½½-WebDAV"><a href="#ğŸ”§-ç»ˆæè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨-Rclone-æŒ‚è½½-WebDAV" class="headerlink" title="ğŸ”§ ç»ˆæè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Rclone æŒ‚è½½ WebDAV"></a>ğŸ”§ ç»ˆæè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Rclone æŒ‚è½½ WebDAV</h2><p>è¿™æ˜¯æœ€å¯é çš„æ–¹æ³•ï¼Œå°† WebDAV æŒ‚è½½ä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼š</p><h3 id="æ­¥éª¤1ï¼šåœ¨å®¿ä¸»æœºå®‰è£…å¹¶é…ç½®-Rclone"><a href="#æ­¥éª¤1ï¼šåœ¨å®¿ä¸»æœºå®‰è£…å¹¶é…ç½®-Rclone" class="headerlink" title="æ­¥éª¤1ï¼šåœ¨å®¿ä¸»æœºå®‰è£…å¹¶é…ç½® Rclone"></a>æ­¥éª¤1ï¼šåœ¨å®¿ä¸»æœºå®‰è£…å¹¶é…ç½® Rclone</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£… Rclone</span><span class="token function">curl</span> https://rclone.org/install.sh <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span><span class="token comment"># åˆ›å»ºé…ç½®æ–‡ä»¶</span><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/.config/rclone<span class="token function">cat</span> <span class="token operator">></span> ~/.config/rclone/rclone.conf <span class="token operator">&lt;&lt;</span><span class="token string">EOF[alist]type = webdavurl = http://localhost:5244/dav/vendor = otheruser = jellyfinpass = ******  #è‡ªå·±ä¿®æ”¹EOF</span><span class="token comment"># æµ‹è¯•è¿æ¥</span>rclone <span class="token function">ls</span> alist:quark<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>äº‹å®ä¸Šæ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºrcloneå¯†ç éœ€è¦åŠ å¯†ï¼Œæ‰€ä»¥é€šè¿‡ <code> rclone config</code>é…ç½®ï¼š</p><h4 id="1-ç”ŸæˆåŠ å¯†å¯†ç "><a href="#1-ç”ŸæˆåŠ å¯†å¯†ç " class="headerlink" title="1.ç”ŸæˆåŠ å¯†å¯†ç "></a>1.ç”ŸæˆåŠ å¯†å¯†ç </h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># è¿è¡Œ rclone é…ç½®å‘½ä»¤</span>rclone config<span class="token comment"># é€‰æ‹© "n" åˆ›å»ºæ–°é…ç½®</span>n<span class="token comment"># è¾“å…¥åç§° "alist"</span>name<span class="token operator">></span> alist<span class="token comment"># é€‰æ‹©å­˜å‚¨ç±»å‹ "webdav"</span>Storage<span class="token operator">></span> webdav<span class="token comment"># è¾“å…¥ URL</span>url<span class="token operator">></span> http://localhost:5244/dav/<span class="token comment"># é€‰æ‹©ä¾›åº”å•† "other"</span>vendor<span class="token operator">></span> other<span class="token comment"># è¾“å…¥ç”¨æˆ·å</span>user<span class="token operator">></span> jellyfin<span class="token comment"># å¯¹äºå¯†ç ï¼Œé€‰æ‹© "y" è¿›è¡ŒåŠ å¯†</span>Password:y<span class="token punctuation">)</span> Yes <span class="token builtin class-name">type</span> <span class="token keyword">in</span> my own password<span class="token comment"># è¾“å…¥æ‚¨çš„å¯†ç  ï¼ˆä¸ä¼šæ˜¾ç¤ºï¼‰</span>Enter password: Confirm password: <span class="token comment"># å…¶ä»–é€‰é¡¹ä¿æŒé»˜è®¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2ï¼šæŸ¥çœ‹ç”Ÿæˆçš„åŠ å¯†å¯†ç "><a href="#2ï¼šæŸ¥çœ‹ç”Ÿæˆçš„åŠ å¯†å¯†ç " class="headerlink" title="2ï¼šæŸ¥çœ‹ç”Ÿæˆçš„åŠ å¯†å¯†ç "></a>2ï¼šæŸ¥çœ‹ç”Ÿæˆçš„åŠ å¯†å¯†ç </h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æŸ¥çœ‹é…ç½®æ–‡ä»¶</span><span class="token function">cat</span> ~/.config/rclone/rclone.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„é…ç½®ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>alist<span class="token punctuation">]</span><span class="token builtin class-name">type</span> <span class="token operator">=</span> webdavurl <span class="token operator">=</span> http://localhost:5244/dav/vendor <span class="token operator">=</span> otheruser <span class="token operator">=</span> jellyfin  <span class="token comment">#alistä¸­æ·»åŠ çš„ç”¨æˆ·</span>pass <span class="token operator">=</span> <span class="token assign-left variable">XG9iZGVkX2NX3dlX3RyeQ</span><span class="token operator">==</span>  <span class="token comment">#è¿™ä¸ªåŠ å¯†åçš„å¯†ç å¯ä»¥ç”¨åœ¨å…¶ä»–é…ç½®ä¸­</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ­¥éª¤2ï¼šåˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½"><a href="#æ­¥éª¤2ï¼šåˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½" class="headerlink" title="æ­¥éª¤2ï¼šåˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½"></a>æ­¥éª¤2ï¼šåˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ›å»ºæŒ‚è½½ç›®å½•</span><span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/alist<span class="token comment"># æŒ‚è½½ WebDAV</span>rclone <span class="token function">mount</span> alist: /mnt/alist <span class="token parameter variable">--daemon</span> --vfs-cache-mode full<span class="token comment"># éªŒè¯æŒ‚è½½</span><span class="token function">ls</span> <span class="token parameter variable">-l</span> /mnt/alist/quark<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ­¥éª¤3ï¼šä¿®æ”¹-Docker-Compose-é…ç½®"><a href="#æ­¥éª¤3ï¼šä¿®æ”¹-Docker-Compose-é…ç½®" class="headerlink" title="æ­¥éª¤3ï¼šä¿®æ”¹ Docker Compose é…ç½®"></a>æ­¥éª¤3ï¼šä¿®æ”¹ Docker Compose é…ç½®</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">services:  jellyfin:    <span class="token comment"># ... å…¶ä»–é…ç½®ä¸å˜</span>    volumes:      - ./jellyfin/config:/config      - ./jellyfin/cache:/cache      - /mnt/alist:/media/alist:ro  <span class="token comment"># æ·»åŠ è¿™è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ­¥éª¤4ï¼šåœ¨-Jellyfin-ä¸­æ·»åŠ åª’ä½“åº“"><a href="#æ­¥éª¤4ï¼šåœ¨-Jellyfin-ä¸­æ·»åŠ åª’ä½“åº“" class="headerlink" title="æ­¥éª¤4ï¼šåœ¨ Jellyfin ä¸­æ·»åŠ åª’ä½“åº“"></a>æ­¥éª¤4ï¼šåœ¨ Jellyfin ä¸­æ·»åŠ åª’ä½“åº“</h3><p>ä½¿ç”¨æœ¬åœ°è·¯å¾„è€Œä¸æ˜¯ URLï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;media&#x2F;alist&#x2F;quark&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> alist,jellyfin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginxé…ç½®å‹ç¼©å’Œæ™ºèƒ½åˆ†å‘</title>
      <link href="/2025/10/27/nginx-pei-zhi-ya-suo-he-zhi-neng-fen-fa/"/>
      <url>/2025/10/27/nginx-pei-zhi-ya-suo-he-zhi-neng-fen-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="Nginxé…ç½®ä¼˜åŒ–ï¼šå‹ç¼©ä¸æ™ºèƒ½åˆ†å‘"><a href="#Nginxé…ç½®ä¼˜åŒ–ï¼šå‹ç¼©ä¸æ™ºèƒ½åˆ†å‘" class="headerlink" title="Nginxé…ç½®ä¼˜åŒ–ï¼šå‹ç¼©ä¸æ™ºèƒ½åˆ†å‘"></a>Nginxé…ç½®ä¼˜åŒ–ï¼šå‹ç¼©ä¸æ™ºèƒ½åˆ†å‘</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æœ¬æ–‡æ¡£è¯¦ç»†åˆ†æå‰åç«¯åˆ†ç¦»Djangoé¡¹ç›®çš„Nginxé…ç½®ï¼Œé‡ç‚¹ä»‹ç»å‹ç¼©ä¼˜åŒ–å’Œæ™ºèƒ½åˆ†å‘ç­–ç•¥ã€‚</p><h2 id="é…ç½®ç»“æ„åˆ†æ"><a href="#é…ç½®ç»“æ„åˆ†æ" class="headerlink" title="é…ç½®ç»“æ„åˆ†æ"></a>é…ç½®ç»“æ„åˆ†æ</h2><h3 id="åŒServerå—è®¾è®¡"><a href="#åŒServerå—è®¾è®¡" class="headerlink" title="åŒServerå—è®¾è®¡"></a>åŒServerå—è®¾è®¡</h3><pre class="line-numbers language-none"><code class="language-none"># ä¸»ç«™ç‚¹æœåŠ¡å™¨ - example.comserver &#123;    listen 80;    server_name example.com;    # é…ç½®å†…å®¹...&#125;# ç®¡ç†åå°æœåŠ¡å™¨ - admin.example.com  server &#123;    listen 80;    server_name admin.example.com;    # é…ç½®å†…å®¹...&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è®¾è®¡ä¼˜åŠ¿</strong>ï¼š</p><ul><li>åŸºäºåŸŸåè¿›è¡Œæµé‡åˆ†å‘</li><li>ä¸»ç«™å’Œç®¡ç†åå°åˆ†ç¦»ï¼Œæé«˜å®‰å…¨æ€§</li><li>ç›¸åŒç«¯å£ä¸åŒæœåŠ¡ï¼Œç®€åŒ–éƒ¨ç½²</li></ul><h2 id="æ™ºèƒ½å‹ç¼©é…ç½®"><a href="#æ™ºèƒ½å‹ç¼©é…ç½®" class="headerlink" title="æ™ºèƒ½å‹ç¼©é…ç½®"></a>æ™ºèƒ½å‹ç¼©é…ç½®</h2><h3 id="1-å“åº”å‹ç¼©ï¼ˆå»ºè®®æ·»åŠ ï¼‰"><a href="#1-å“åº”å‹ç¼©ï¼ˆå»ºè®®æ·»åŠ ï¼‰" class="headerlink" title="1. å“åº”å‹ç¼©ï¼ˆå»ºè®®æ·»åŠ ï¼‰"></a>1. å“åº”å‹ç¼©ï¼ˆå»ºè®®æ·»åŠ ï¼‰</h3><pre class="line-numbers language-none"><code class="language-none"># åœ¨httpä¸Šä¸‹æ–‡ä¸­æ·»åŠ ï¼ˆnginx.confä¸»é…ç½®æ–‡ä»¶ï¼‰gzip on;gzip_vary on;gzip_min_length 1024;gzip_types    text&#x2F;plain    text&#x2F;css    text&#x2F;xml    text&#x2F;javascript    application&#x2F;javascript    application&#x2F;xml+rss    application&#x2F;json    image&#x2F;svg+xml;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-å®¢æˆ·ç«¯å‹ç¼©æ”¯æŒæ£€æµ‹"><a href="#2-å®¢æˆ·ç«¯å‹ç¼©æ”¯æŒæ£€æµ‹" class="headerlink" title="2. å®¢æˆ·ç«¯å‹ç¼©æ”¯æŒæ£€æµ‹"></a>2. å®¢æˆ·ç«¯å‹ç¼©æ”¯æŒæ£€æµ‹</h3><pre class="line-numbers language-none"><code class="language-none"># å¯æ·»åŠ çš„æ™ºèƒ½å‹ç¼©æ£€æµ‹map $http_accept_encoding $gzip_extension &#123;    default     &quot;&quot;;    &quot;~*gzip&quot;    &quot;.gz&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ™ºèƒ½åˆ†å‘ç­–ç•¥"><a href="#æ™ºèƒ½åˆ†å‘ç­–ç•¥" class="headerlink" title="æ™ºèƒ½åˆ†å‘ç­–ç•¥"></a>æ™ºèƒ½åˆ†å‘ç­–ç•¥</h2><h3 id="1-WebPæ™ºèƒ½å›¾ç‰‡åˆ†å‘"><a href="#1-WebPæ™ºèƒ½å›¾ç‰‡åˆ†å‘" class="headerlink" title="1. WebPæ™ºèƒ½å›¾ç‰‡åˆ†å‘"></a>1. WebPæ™ºèƒ½å›¾ç‰‡åˆ†å‘</h3><pre class="line-numbers language-none"><code class="language-none"># WebPæ”¯æŒæ£€æµ‹æ˜ å°„map $http_accept $webp_suffix &#123;    default   &quot;&quot;;    &quot;~*webp&quot;  &quot;.webp&quot;;&#125;# åº”ç”¨WebPæ™ºèƒ½åˆ†å‘location ~* \.(png|jpg|jpeg)$ &#123;    try_files $uri$webp_suffix $uri &#x3D;404;    add_header Vary Accept;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å·¥ä½œæœºåˆ¶</strong>ï¼š</p><ul><li>æ£€æµ‹å®¢æˆ·ç«¯Acceptå¤´æ˜¯å¦åŒ…å«â€webpâ€</li><li>ä¼˜å…ˆè¿”å›WebPæ ¼å¼å›¾ç‰‡ï¼ˆä½“ç§¯æ›´å°ï¼‰</li><li>å›é€€åˆ°åŸå§‹æ ¼å¼ä¿è¯å…¼å®¹æ€§</li></ul><h3 id="2-è·¯å¾„æ™ºèƒ½è·¯ç”±"><a href="#2-è·¯å¾„æ™ºèƒ½è·¯ç”±" class="headerlink" title="2. è·¯å¾„æ™ºèƒ½è·¯ç”±"></a>2. è·¯å¾„æ™ºèƒ½è·¯ç”±</h3><pre class="line-numbers language-none"><code class="language-none"># APIè¯·æ±‚è·¯ç”±åˆ°Djangoåç«¯location ~ ^&#x2F;(api|ckeditor)&#x2F; &#123;    proxy_pass http:&#x2F;&#x2F;web:8000;    # ä»£ç†é…ç½®...&#125;# é™æ€èµ„æºæœåŠ¡location &#x2F; &#123;    root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;    try_files $uri $uri&#x2F; $uri.html &#x2F;index.html;&#125;# åª’ä½“æ–‡ä»¶å¤„ç†location &#x2F;media&#x2F; &#123;    alias &#x2F;app&#x2F;media&#x2F;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¼“å­˜æ§åˆ¶ç­–ç•¥"><a href="#ç¼“å­˜æ§åˆ¶ç­–ç•¥" class="headerlink" title="ç¼“å­˜æ§åˆ¶ç­–ç•¥"></a>ç¼“å­˜æ§åˆ¶ç­–ç•¥</h2><h3 id="1-å¼€å‘ç¯å¢ƒç¦ç”¨ç¼“å­˜"><a href="#1-å¼€å‘ç¯å¢ƒç¦ç”¨ç¼“å­˜" class="headerlink" title="1. å¼€å‘ç¯å¢ƒç¦ç”¨ç¼“å­˜"></a>1. å¼€å‘ç¯å¢ƒç¦ç”¨ç¼“å­˜</h3><pre class="line-numbers language-none"><code class="language-none"># å®Œå…¨ç¦ç”¨ç¼“å­˜é…ç½®sendfile off;tcp_nopush off;tcp_nodelay on;add_header Cache-Control &quot;no-cache, no-store, must-revalidate&quot;;add_header Pragma &quot;no-cache&quot;;add_header Expires &quot;0&quot;;etag off;proxy_cache off;proxy_buffering off;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-ç”Ÿäº§ç¯å¢ƒç¼“å­˜å»ºè®®"><a href="#2-ç”Ÿäº§ç¯å¢ƒç¼“å­˜å»ºè®®" class="headerlink" title="2. ç”Ÿäº§ç¯å¢ƒç¼“å­˜å»ºè®®"></a>2. ç”Ÿäº§ç¯å¢ƒç¼“å­˜å»ºè®®</h3><pre class="line-numbers language-none"><code class="language-none"># ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ &#123;    expires 1y;    add_header Cache-Control &quot;public, immutable&quot;;&#125;location &#x2F; &#123;    try_files $uri $uri&#x2F; &#x2F;index.html;    add_header Cache-Control &quot;no-cache&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®‰å…¨ä¼˜åŒ–é…ç½®"><a href="#å®‰å…¨ä¼˜åŒ–é…ç½®" class="headerlink" title="å®‰å…¨ä¼˜åŒ–é…ç½®"></a>å®‰å…¨ä¼˜åŒ–é…ç½®</h2><h3 id="1-æ–‡ä»¶ä¸Šä¼ é™åˆ¶"><a href="#1-æ–‡ä»¶ä¸Šä¼ é™åˆ¶" class="headerlink" title="1. æ–‡ä»¶ä¸Šä¼ é™åˆ¶"></a>1. æ–‡ä»¶ä¸Šä¼ é™åˆ¶</h3><pre class="line-numbers language-none"><code class="language-none">client_max_body_size 50M;  # é˜²æ­¢å¤§æ–‡ä»¶æ”»å‡»<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-ç®¡ç†è·¯å¾„éšè—"><a href="#2-ç®¡ç†è·¯å¾„éšè—" class="headerlink" title="2. ç®¡ç†è·¯å¾„éšè—"></a>2. ç®¡ç†è·¯å¾„éšè—</h3><pre class="line-numbers language-none"><code class="language-none"># éšè—åŸå§‹adminè·¯å¾„location ~ ^&#x2F;admin(&#x2F;|$) &#123;    return 500;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-ç‹¬ç«‹ç®¡ç†åå°åŸŸå"><a href="#3-ç‹¬ç«‹ç®¡ç†åå°åŸŸå" class="headerlink" title="3. ç‹¬ç«‹ç®¡ç†åå°åŸŸå"></a>3. ç‹¬ç«‹ç®¡ç†åå°åŸŸå</h3><pre class="line-numbers language-none"><code class="language-none">server_name admin.example.com;  # ç®¡ç†åå°ç‹¬ç«‹åŸŸå<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€§èƒ½ä¼˜åŒ–é…ç½®"><a href="#æ€§èƒ½ä¼˜åŒ–é…ç½®" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–é…ç½®"></a>æ€§èƒ½ä¼˜åŒ–é…ç½®</h2><h3 id="1-è¿æ¥è¶…æ—¶è®¾ç½®"><a href="#1-è¿æ¥è¶…æ—¶è®¾ç½®" class="headerlink" title="1. è¿æ¥è¶…æ—¶è®¾ç½®"></a>1. è¿æ¥è¶…æ—¶è®¾ç½®</h3><pre class="line-numbers language-none"><code class="language-none">proxy_connect_timeout 30s;proxy_send_timeout 30s;proxy_read_timeout 30s;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-WebSocketæ”¯æŒ"><a href="#2-WebSocketæ”¯æŒ" class="headerlink" title="2. WebSocketæ”¯æŒ"></a>2. WebSocketæ”¯æŒ</h3><pre class="line-numbers language-none"><code class="language-none">proxy_http_version 1.1;proxy_set_header Upgrade $http_upgrade;proxy_set_header Connection &quot;upgrade&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="URLé‡å†™ä¼˜åŒ–"><a href="#URLé‡å†™ä¼˜åŒ–" class="headerlink" title="URLé‡å†™ä¼˜åŒ–"></a>URLé‡å†™ä¼˜åŒ–</h2><h3 id="1-æ— æ‰©å±•åè®¿é—®"><a href="#1-æ— æ‰©å±•åè®¿é—®" class="headerlink" title="1. æ— æ‰©å±•åè®¿é—®"></a>1. æ— æ‰©å±•åè®¿é—®</h3><pre class="line-numbers language-none"><code class="language-none"># é‡å®šå‘.htmlåˆ°æ— æ‰©å±•åURLlocation ~ \.html$ &#123;    rewrite ^(.*)\.html$ $scheme:&#x2F;&#x2F;$http_host$1 permanent;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¿®å¤é—®é¢˜</strong>ï¼šä¿ç•™åŸå§‹è¯·æ±‚çš„ç«¯å£ä¿¡æ¯ï¼Œé¿å…é‡å®šå‘åç«¯å£ä¸¢å¤±ã€‚</p><h2 id="å¥åº·æ£€æŸ¥ä¸ç›‘æ§"><a href="#å¥åº·æ£€æŸ¥ä¸ç›‘æ§" class="headerlink" title="å¥åº·æ£€æŸ¥ä¸ç›‘æ§"></a>å¥åº·æ£€æŸ¥ä¸ç›‘æ§</h2><pre class="line-numbers language-none"><code class="language-none">location &#x2F;health &#123;    access_log off;    return 200 &quot;healthy\n&quot;;    add_header Content-Type text&#x2F;plain;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Dockeréƒ¨ç½²æ³¨æ„äº‹é¡¹"><a href="#Dockeréƒ¨ç½²æ³¨æ„äº‹é¡¹" class="headerlink" title="Dockeréƒ¨ç½²æ³¨æ„äº‹é¡¹"></a>Dockeréƒ¨ç½²æ³¨æ„äº‹é¡¹</h2><h3 id="1-é™æ€æ–‡ä»¶è·¯å¾„æ˜ å°„"><a href="#1-é™æ€æ–‡ä»¶è·¯å¾„æ˜ å°„" class="headerlink" title="1. é™æ€æ–‡ä»¶è·¯å¾„æ˜ å°„"></a>1. é™æ€æ–‡ä»¶è·¯å¾„æ˜ å°„</h3><pre class="line-numbers language-none"><code class="language-none"># å‰ç«¯é™æ€æ–‡ä»¶root &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html;# Djangoé™æ€æ–‡ä»¶  alias &#x2F;app&#x2F;staticfiles&#x2F;;# åª’ä½“æ–‡ä»¶alias &#x2F;app&#x2F;media&#x2F;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-æœåŠ¡å‘ç°é…ç½®"><a href="#2-æœåŠ¡å‘ç°é…ç½®" class="headerlink" title="2. æœåŠ¡å‘ç°é…ç½®"></a>2. æœåŠ¡å‘ç°é…ç½®</h3><pre class="line-numbers language-none"><code class="language-none"># Dockerå®¹å™¨é—´é€šä¿¡proxy_pass http:&#x2F;&#x2F;web:8000;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å®Œæ•´ä¼˜åŒ–é…ç½®ç¤ºä¾‹"><a href="#å®Œæ•´ä¼˜åŒ–é…ç½®ç¤ºä¾‹" class="headerlink" title="å®Œæ•´ä¼˜åŒ–é…ç½®ç¤ºä¾‹"></a>å®Œæ•´ä¼˜åŒ–é…ç½®ç¤ºä¾‹</h2><pre class="line-numbers language-none"><code class="language-none"># å‹ç¼©é…ç½®gzip on;gzip_vary on;gzip_min_length 1024;gzip_comp_level 6;gzip_types text&#x2F;plain text&#x2F;css application&#x2F;json application&#x2F;javascript text&#x2F;xml application&#x2F;xml image&#x2F;svg+xml;# WebPæ™ºèƒ½æ£€æµ‹map $http_accept $webp_suffix &#123;    default   &quot;&quot;;    &quot;~*webp&quot;  &quot;.webp&quot;;&#125;server &#123;    # åŸºç¡€é…ç½®...        # æ™ºèƒ½å‹ç¼©ä¸åˆ†å‘    location ~* \.(js|css|html)$ &#123;        gzip_static on;        brotli_static on;        expires 1h;        add_header Cache-Control &quot;public&quot;;    &#125;        # å›¾ç‰‡æ™ºèƒ½åˆ†å‘    location ~* \.(png|jpg|jpeg)$ &#123;        try_files $uri$webp_suffix $uri &#x3D;404;        expires 1M;        add_header Cache-Control &quot;public, immutable&quot;;        add_header Vary Accept;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬é…ç½®å®ç°äº†ï¼š</p><ul><li>âœ… <strong>æ™ºèƒ½å‹ç¼©</strong>ï¼šæ ¹æ®å®¢æˆ·ç«¯æ”¯æŒè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ ¼å¼</li><li>âœ… <strong>è·¯å¾„åˆ†å‘</strong>ï¼šåŸºäºè¯·æ±‚è·¯å¾„æ™ºèƒ½è·¯ç”±åˆ°ä¸åŒæœåŠ¡</li><li>âœ… <strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šå¼€å‘ç¯å¢ƒå®æ—¶æ›´æ–°ï¼Œç”Ÿäº§ç¯å¢ƒé•¿æœŸç¼“å­˜</li><li>âœ… <strong>å®‰å…¨é˜²æŠ¤</strong>ï¼šæ–‡ä»¶ä¸Šä¼ é™åˆ¶ã€ç®¡ç†è·¯å¾„éšè—</li><li>âœ… <strong>æ€§èƒ½è°ƒä¼˜</strong>ï¼šè¿æ¥è¶…æ—¶ã€WebSocketæ”¯æŒç­‰</li><li>âœ… <strong>Dockerå‹å¥½</strong>ï¼šå®¹å™¨åŒ–éƒ¨ç½²æœ€ä½³å®è·µ</li></ul><p>è¿™ç§é…ç½®æ–¹æ¡ˆç‰¹åˆ«é€‚åˆå‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œåœ¨ä¿è¯å¼€å‘æ•ˆç‡çš„åŒæ—¶æä¾›ç”Ÿäº§çº§æ€§èƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>frpå®ç°å†…ç½‘ç©¿é€</title>
      <link href="/2025/10/27/frp-shi-xian-nei-wang-chuan-tou/"/>
      <url>/2025/10/27/frp-shi-xian-nei-wang-chuan-tou/</url>
      
        <content type="html"><![CDATA[<h3 id="åœ¨-Linux-ä¸­ä½¿ç”¨-Docker-å®‰è£…-FRP-å®ç°å†…ç½‘ç©¿é€"><a href="#åœ¨-Linux-ä¸­ä½¿ç”¨-Docker-å®‰è£…-FRP-å®ç°å†…ç½‘ç©¿é€" class="headerlink" title="åœ¨ Linux ä¸­ä½¿ç”¨ Docker å®‰è£… FRP å®ç°å†…ç½‘ç©¿é€"></a>åœ¨ Linux ä¸­ä½¿ç”¨ Docker å®‰è£… FRP å®ç°å†…ç½‘ç©¿é€</h3><p>ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼Œåˆ†ä¸º**å…¬ç½‘æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯ï¼‰<strong>å’Œ</strong>å†…ç½‘æœºå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰**ä¸¤éƒ¨åˆ†æ“ä½œã€‚å…¬ç½‘æœåŠ¡å™¨ IPï¼š<code>111.228.15.xxx</code>ã€‚</p><hr><h3 id="ğŸ”§-ç¬¬ä¸€æ­¥ï¼šå…¬ç½‘æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯ï¼‰é…ç½®"><a href="#ğŸ”§-ç¬¬ä¸€æ­¥ï¼šå…¬ç½‘æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯ï¼‰é…ç½®" class="headerlink" title="ğŸ”§ ç¬¬ä¸€æ­¥ï¼šå…¬ç½‘æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯ï¼‰é…ç½®"></a>ğŸ”§ <strong>ç¬¬ä¸€æ­¥ï¼šå…¬ç½‘æœåŠ¡å™¨ï¼ˆæœåŠ¡ç«¯ï¼‰é…ç½®</strong></h3><h4 id="1-ç™»å½•å…¬ç½‘æœåŠ¡å™¨"><a href="#1-ç™»å½•å…¬ç½‘æœåŠ¡å™¨" class="headerlink" title="1. ç™»å½•å…¬ç½‘æœåŠ¡å™¨"></a>1. ç™»å½•å…¬ç½‘æœåŠ¡å™¨</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> root@111.228.15.xxx <span class="token parameter variable">-p</span> <span class="token number">22</span>  <span class="token comment"># ä½¿ç”¨ä½ çš„å®é™…ç”¨æˆ·åå’Œå¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-åˆ›å»º-FRP-æœåŠ¡ç«¯é…ç½®æ–‡ä»¶"><a href="#2-åˆ›å»º-FRP-æœåŠ¡ç«¯é…ç½®æ–‡ä»¶" class="headerlink" title="2. åˆ›å»º FRP æœåŠ¡ç«¯é…ç½®æ–‡ä»¶"></a>2. åˆ›å»º FRP æœåŠ¡ç«¯é…ç½®æ–‡ä»¶</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/frp/config <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> ~/frp/config<span class="token function">vim</span> frps.toml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-toml" data-language="toml"><code class="language-toml"><span class="token comment"># frps.toml</span><span class="token key property">bindPort</span> <span class="token punctuation">=</span> <span class="token number">7000</span> <span class="token comment"># æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯é€šä¿¡ç«¯å£</span><span class="token key property">transport.tls.force</span> <span class="token punctuation">=</span> <span class="token boolean">true</span> <span class="token comment"># æœåŠ¡ç«¯å°†åªæ¥å— TLSé“¾æ¥</span><span class="token key property">auth.token</span> <span class="token punctuation">=</span> <span class="token string">"your_secure_token"</span> <span class="token comment"># èº«ä»½éªŒè¯ä»¤ç‰Œï¼Œfrpcè¦ä¸frpsä¸€è‡´</span><span class="token comment"># Server Dashboardï¼Œå¯ä»¥æŸ¥çœ‹frpæœåŠ¡çŠ¶æ€ä»¥åŠç»Ÿè®¡ä¿¡æ¯</span><span class="token key property">webServer.addr</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0"</span> <span class="token comment"># åå°ç®¡ç†åœ°å€</span><span class="token key property">webServer.port</span> <span class="token punctuation">=</span> <span class="token number">7500</span> <span class="token comment"># åå°ç®¡ç†ç«¯å£</span><span class="token key property">webServer.user</span> <span class="token punctuation">=</span> <span class="token string">"admin"</span> <span class="token comment"># åå°ç™»å½•ç”¨æˆ·å</span><span class="token key property">webServer.password</span> <span class="token punctuation">=</span> <span class="token string">"admin123"</span> <span class="token comment"># åå°ç™»å½•å¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-å¯åŠ¨-FRP-æœåŠ¡ç«¯å®¹å™¨"><a href="#3-å¯åŠ¨-FRP-æœåŠ¡ç«¯å®¹å™¨" class="headerlink" title="3. å¯åŠ¨ FRP æœåŠ¡ç«¯å®¹å™¨"></a>3. å¯åŠ¨ FRP æœåŠ¡ç«¯å®¹å™¨</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>  <span class="token parameter variable">--name</span> frps <span class="token punctuation">\</span>  <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>  <span class="token parameter variable">-p</span> <span class="token number">7000</span>:7000 <span class="token punctuation">\</span>  <span class="token parameter variable">-p</span> <span class="token number">7500</span>:7500 <span class="token punctuation">\</span>  <span class="token parameter variable">-p</span> <span class="token number">6000</span>:6000 <span class="token punctuation">\</span>  <span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/frps.toml:/etc/frp/frps.toml <span class="token punctuation">\</span>  docker.1ms.run/snowdreamtech/frps<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><strong>è¯´æ˜</strong>ï¼š</p><ul><li><code>7000</code>ï¼šFRP å®¢æˆ·ç«¯è¿æ¥ç«¯å£</li><li><code>7500</code>ï¼šä»ªè¡¨ç›˜ç«¯å£ï¼ˆè®¿é—® <code>http://111.228.15.xxx:7500</code>å¯æŸ¥çœ‹çŠ¶æ€ï¼‰</li></ul></blockquote><p><strong>æ›´æ¨èä½¿ç”¨docker-compose.ymlæ¥ç®¡ç†å®¹å™¨</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/frp<span class="token function">vim</span> docker-compose.yml <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># /frp/docker-compose.yml </span><span class="token comment"># version: '3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">frps</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.1ms.run/snowdreamtech/frps    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> frps    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> TZ=Asia/Shanghai  <span class="token comment"># è®¾ç½®æ—¶åŒº</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"7000:7000"</span>   <span class="token comment"># FRP ä¸»æœåŠ¡ç«¯å£</span>      <span class="token punctuation">-</span> <span class="token string">"7500:7500"</span>   <span class="token comment"># ä»ªè¡¨ç›˜ç«¯å£</span>      <span class="token punctuation">-</span> <span class="token string">"6000:6000"</span>   <span class="token comment"># é¢å¤–ç«¯å£ 1</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./config/frps.toml<span class="token punctuation">:</span>/etc/frp/frps.toml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨å®¹å™¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span> <span class="token comment">#åå°å¯åŠ¨</span><span class="token function">docker</span> compose down  <span class="token comment">#å…³é—­å®¹å™¨</span><span class="token function">docker</span> compose restart frps <span class="token comment">#é‡å¯frpså®¹å™¨</span><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> frps  <span class="token comment">#æŸ¥çœ‹frpså®¹å™¨æ—¥å¿—</span><span class="token comment"># åº”è¯¥ä¼šè¾“å‡º </span><span class="token comment"># client login info: ip [118.181.xxx.xxx:xxxx] version [0.xx.0]</span><span class="token comment"># tcp proxy listen port [6000]...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-å¼€æ”¾é˜²ç«å¢™ç«¯å£"><a href="#4-å¼€æ”¾é˜²ç«å¢™ç«¯å£" class="headerlink" title="4. å¼€æ”¾é˜²ç«å¢™ç«¯å£"></a>4. å¼€æ”¾é˜²ç«å¢™ç«¯å£</h4><pre class="line-numbers language-none"><code class="language-none">ufw allow 7000&#x2F;tcpufw allow 7500&#x2F;tcpufw allow 6000&#x2F;tcpufw reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æœ€é‡è¦çš„æ˜¯å°†æœåŠ¡å™¨å•†çš„æ§åˆ¶é¢æ¿é‡Œçš„ç›¸åº”ç«¯å£éƒ½å¼€æ”¾ã€‚</strong></p><hr><h3 id="ğŸ’»-ç¬¬äºŒæ­¥ï¼šå†…ç½‘æœºå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰é…ç½®"><a href="#ğŸ’»-ç¬¬äºŒæ­¥ï¼šå†…ç½‘æœºå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰é…ç½®" class="headerlink" title="ğŸ’» ç¬¬äºŒæ­¥ï¼šå†…ç½‘æœºå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰é…ç½®"></a>ğŸ’» <strong>ç¬¬äºŒæ­¥ï¼šå†…ç½‘æœºå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰é…ç½®</strong></h3><h4 id="1-åœ¨å†…ç½‘æœºå™¨åˆ›å»ºé…ç½®æ–‡ä»¶"><a href="#1-åœ¨å†…ç½‘æœºå™¨åˆ›å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="1. åœ¨å†…ç½‘æœºå™¨åˆ›å»ºé…ç½®æ–‡ä»¶"></a>1. åœ¨å†…ç½‘æœºå™¨åˆ›å»ºé…ç½®æ–‡ä»¶</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/frp/config <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> ~/frp/config<span class="token function">vim</span> frpc.toml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæ›¿æ¢ <code>your_secure_token</code>ä¸ºæœåŠ¡ç«¯è®¾ç½®çš„ä»¤ç‰Œï¼‰ï¼š</p><pre class="line-numbers language-toml" data-language="toml"><code class="language-toml"><span class="token comment"># å¯ç”¨ TLS åŠ å¯†è¿æ¥</span><span class="token key property">transport.tls.enable</span> <span class="token punctuation">=</span> <span class="token boolean">true</span><span class="token comment"># æœåŠ¡ç«¯åœ°å€å’Œç«¯å£</span><span class="token key property">serverAddr</span> <span class="token punctuation">=</span> <span class="token string">"111.228.15.XXX"</span>   <span class="token comment"># å…¬ç½‘æœåŠ¡å™¨IP</span><span class="token key property">serverPort</span> <span class="token punctuation">=</span> <span class="token number">7000</span>              <span class="token comment"># æœåŠ¡ç«¯é€šä¿¡ç«¯å£</span><span class="token comment"># èº«ä»½éªŒè¯</span><span class="token key property">auth.token</span> <span class="token punctuation">=</span> <span class="token string">"your_secure_token"</span>  <span class="token comment"># æ›¿æ¢ä¸ºæœåŠ¡ç«¯è®¾ç½®çš„token</span><span class="token comment"># å®šä¹‰ä»£ç†</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">proxies</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"ssh"</span><span class="token key property">type</span> <span class="token punctuation">=</span> <span class="token string">"tcp"</span><span class="token comment">#"127.0.0.1"æ˜¯frpcå®¹å™¨å†…çš„åœ°å€ï¼Œä½†æ˜¯sshæ˜¯å®¿ä¸»æœºçš„æœåŠ¡ã€‚æœ‰ä»¥ä¸‹å‡ ç§ä¿®æ”¹æ–¹å¼ï¼š192.168.x.xï¼Œhost.docker.internalï¼Œ172.17.0.1</span><span class="token key property">localIP</span> <span class="token punctuation">=</span> <span class="token string">"host.docker.internal"</span> <span class="token key property">localPort</span> <span class="token punctuation">=</span> <span class="token number">22</span><span class="token key property">remotePort</span> <span class="token punctuation">=</span> <span class="token number">6000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¦ä»£ç†çš„æœåŠ¡åœ¨å®¿ä¸»æœºä¸Šæˆ–åœ¨ä¸åŒdockerç½‘ç»œä¸­ï¼šå°†localIPä»127.0.0.1æ”¹ä¸ºå®¿ä¸»æœºçš„å±€åŸŸç½‘IPï¼ˆä¾‹å¦‚192.168.x.xï¼‰æˆ–è€…ä½¿ç”¨Dockerçš„å®¿ä¸»æœºåˆ«åhost.docker.internalï¼Œæˆ–è€…ä½¿ç”¨172.17.0.1ï¼ˆDockeré»˜è®¤ç½‘æ¡¥çš„ç½‘å…³åœ°å€ï¼‰</p><p>å¦‚æœä»£ç†çš„æœåŠ¡ï¼ˆwebï¼‰å’Œfrpcåœ¨åŒä¸€dockerç½‘ç»œï¼ˆä¾‹å¦‚ï¼šâ€“network frp-netï¼‰ä¸­,ç›´æ¥ä½¿ç”¨å®¹å™¨åï¼šlocalIP &#x3D; â€œwebâ€</p></blockquote><h4 id="2-å¯åŠ¨-FRP-å®¢æˆ·ç«¯å®¹å™¨"><a href="#2-å¯åŠ¨-FRP-å®¢æˆ·ç«¯å®¹å™¨" class="headerlink" title="2. å¯åŠ¨ FRP å®¢æˆ·ç«¯å®¹å™¨"></a>2. å¯åŠ¨ FRP å®¢æˆ·ç«¯å®¹å™¨</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>  <span class="token parameter variable">--name</span> frpc <span class="token punctuation">\</span>  <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>  <span class="token parameter variable">--network</span> frp-net <span class="token punctuation">\</span>  <span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/frpc.toml:/etc/frp/frpc.toml <span class="token punctuation">\</span>  docker.1ms.run/snowdreamtech/frpc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ›´æ¨èä½¿ç”¨docker-compose.ymlæ¥ç®¡ç†å®¹å™¨</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> ~/frp<span class="token function">vim</span> docker-compose.yml <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># /frp/docker-compose.yml </span><span class="token comment"># version: '3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">frpc</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.1ms.run/snowdreamtech/frpc    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> frpc    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> TZ=Asia/Shanghai  <span class="token comment"># è®¾ç½®æ—¶åŒº</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./config/frpc.toml<span class="token punctuation">:</span>/etc/frp/frpc.toml    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> frp<span class="token punctuation">-</span>net    <span class="token key atrule">extra_hosts</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"host.docker.internal:host-gateway"</span><span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token key atrule">frp-net</span><span class="token punctuation">:</span>    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨å®¹å™¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span> <span class="token comment">#åå°å¯åŠ¨</span><span class="token function">docker</span> compose down  <span class="token comment">#å…³é—­å®¹å™¨</span><span class="token function">docker</span> compose restart frpc <span class="token comment">#é‡å¯frpcå®¹å™¨</span><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> frpc  <span class="token comment">#æŸ¥çœ‹frpcå®¹å™¨æ—¥å¿—</span><span class="token comment"># åº”è¯¥ä¼šè¾“å‡º </span><span class="token comment"># login to server success, get run id ...</span><span class="token comment"># [ssh] start proxy success</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="âœ…-ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç©¿é€æ˜¯å¦æˆåŠŸ"><a href="#âœ…-ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç©¿é€æ˜¯å¦æˆåŠŸ" class="headerlink" title="âœ… ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç©¿é€æ˜¯å¦æˆåŠŸ"></a>âœ… <strong>ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç©¿é€æ˜¯å¦æˆåŠŸ</strong></h3><ol><li><p><strong>æ£€æŸ¥æœåŠ¡ç«¯ä»ªè¡¨ç›˜</strong> è®¿é—® <code>http://111.228.15.xxx:7500</code>ï¼Œè¾“å…¥è´¦å· <code>admin</code>&#x2F;å¯†ç  <code>admin123</code>ï¼ŒæŸ¥çœ‹å®¢æˆ·ç«¯æ˜¯å¦åœ¨çº¿ã€‚</p></li><li><p><strong>é€šè¿‡å…¬ç½‘è®¿é—®å†…ç½‘æœåŠ¡</strong></p><p>ä½¿ç”¨ SSH è¿æ¥å†…ç½‘æœºå™¨ï¼ˆé€šè¿‡å…¬ç½‘æœåŠ¡å™¨çš„ <code>6000</code>ç«¯å£ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ssh å†…ç½‘ç”¨æˆ·å@111.228.15.xxx -p 6000<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><hr><h3 id="ğŸ”„-ç®¡ç†å‘½ä»¤"><a href="#ğŸ”„-ç®¡ç†å‘½ä»¤" class="headerlink" title="ğŸ”„ ç®¡ç†å‘½ä»¤"></a>ğŸ”„ <strong>ç®¡ç†å‘½ä»¤</strong></h3><table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>æŸ¥çœ‹æœåŠ¡ç«¯æ—¥å¿—</td><td><code>docker logs frps</code></td></tr><tr><td>é‡å¯å®¢æˆ·ç«¯</td><td><code>docker restart frpc</code></td></tr><tr><td>æ›´æ–°é…ç½®</td><td>ä¿®æ”¹ <code>.toml</code>æ–‡ä»¶åé‡å¯å®¹å™¨</td></tr></tbody></table><hr><h3 id="âš ï¸-å®‰å…¨å»ºè®®"><a href="#âš ï¸-å®‰å…¨å»ºè®®" class="headerlink" title="âš ï¸ å®‰å…¨å»ºè®®"></a>âš ï¸ <strong>å®‰å…¨å»ºè®®</strong></h3><ol><li><strong>ä¿®æ”¹é»˜è®¤ä»¤ç‰Œ</strong>ï¼šæ›¿æ¢ <code>your_secure_token</code>ä¸ºé«˜å¼ºåº¦å­—ç¬¦ä¸²ã€‚</li><li><strong>é™åˆ¶è®¿é—® IP</strong>ï¼šåœ¨æœåŠ¡ç«¯ <code>frps.toml</code>æ·»åŠ  <code>allow_ports</code>é™åˆ¶å¯è®¿é—®ç«¯å£ã€‚</li><li><strong>ä½¿ç”¨ HTTPS</strong>ï¼šè‹¥æš´éœ² Web æœåŠ¡ï¼Œå»ºè®®åœ¨ FRP é…ç½®ä¸­å¯ç”¨ TLSã€‚</li></ol><blockquote><p>ä»¥ä¸Šæ­¥éª¤å·²å®Œæ•´è¦†ç›– FRP å†…ç½‘ç©¿é€çš„ Docker éƒ¨ç½²æµç¨‹ã€‚å¦‚æœ‰é—®é¢˜ï¼Œå¯æ£€æŸ¥é˜²ç«å¢™æˆ–æŸ¥çœ‹å®¹å™¨æ—¥å¿—å®šä½é”™è¯¯ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> frp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»å…¸å›¾ç®—æ³•</title>
      <link href="/2025/08/08/jing-dian-tu-suan-fa/"/>
      <url>/2025/08/08/jing-dian-tu-suan-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="äºŒåˆ†å›¾åˆ¤å®šç®—æ³•"><a href="#äºŒåˆ†å›¾åˆ¤å®šç®—æ³•" class="headerlink" title="äºŒåˆ†å›¾åˆ¤å®šç®—æ³•"></a>äºŒåˆ†å›¾åˆ¤å®šç®—æ³•</h1><p>ä»Šå¤©æ¥è®²ä¸€ä¸ªç»å…¸å›¾è®ºç®—æ³•ï¼šäºŒåˆ†å›¾åˆ¤å®šã€‚</p><h2 id="äºŒåˆ†å›¾ç®€ä»‹"><a href="#äºŒåˆ†å›¾ç®€ä»‹" class="headerlink" title="äºŒåˆ†å›¾ç®€ä»‹"></a><a href="https://labuladong.online/algo/data-structure/bipartite-graph/#%E4%BA%8C%E5%88%86%E5%9B%BE%E7%AE%80%E4%BB%8B">äºŒåˆ†å›¾ç®€ä»‹</a></h2><p>å…ˆæ¥çœ‹äºŒåˆ†å›¾çš„å®šä¹‰ï¼š</p><p>äºŒåˆ†å›¾çš„é¡¶ç‚¹é›†å¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œå›¾ä¸­æ¯æ¡è¾¹ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½åˆ†å±äºè¿™ä¸¤ä¸ªå­é›†ï¼Œä¸”ä¸¤ä¸ªå­é›†å†…çš„é¡¶ç‚¹ä¸ç›¸é‚»ã€‚</p><p><img src="/2025/08/08/jing-dian-tu-suan-fa/0.png" alt="img"></p><p>å…¶å®å›¾è®ºé‡Œé¢å¾ˆå¤šæœ¯è¯­çš„å®šä¹‰éƒ½æ¯”è¾ƒæ‹—å£ï¼Œä¸å®¹æ˜“ç†è§£ã€‚æˆ‘ä»¬ç”­çœ‹è¿™ä¸ªæ­»æ¿çš„å®šä¹‰äº†ï¼Œæ¥ç©ä¸ªæ¸¸æˆå§ï¼š</p><p><strong>ç»™ä½ ä¸€å¹…ã€Œå›¾ã€ï¼Œè¯·ä½ ç”¨ä¸¤ç§é¢œè‰²å°†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹ç€è‰²ï¼Œä¸”ä½¿å¾—ä»»æ„ä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹çš„é¢œè‰²éƒ½ä¸ç›¸åŒï¼Œä½ èƒ½åšåˆ°å—</strong>ï¼Ÿ</p><p>è¿™å°±æ˜¯å›¾çš„ã€ŒåŒè‰²é—®é¢˜ã€ï¼Œå…¶å®è¿™ä¸ªé—®é¢˜å°±ç­‰åŒäºäºŒåˆ†å›¾çš„åˆ¤å®šé—®é¢˜ï¼Œå¦‚æœä½ èƒ½å¤ŸæˆåŠŸåœ°å°†å›¾æŸ“è‰²ï¼Œé‚£ä¹ˆè¿™å¹…å›¾å°±æ˜¯ä¸€å¹…äºŒåˆ†å›¾ï¼Œåä¹‹åˆ™ä¸æ˜¯ï¼š</p><p><img src="/2025/08/08/jing-dian-tu-suan-fa/1.jpg" alt="img"></p><p>åœ¨å…·ä½“è®²è§£äºŒåˆ†å›¾åˆ¤å®šç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è¯´è¯´è®¡ç®—æœºå¤§ä½¬ä»¬é—²ç€æ— èŠè§£å†³åŒè‰²é—®é¢˜çš„ç›®çš„æ˜¯ä»€ä¹ˆã€‚</p><p>é¦–å…ˆï¼ŒäºŒåˆ†å›¾ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„å›¾æ¨¡å‹ï¼Œä¼šè¢«å¾ˆå¤šé«˜çº§å›¾ç®—æ³•ï¼ˆæ¯”å¦‚æœ€å¤§æµç®—æ³•ï¼‰ç”¨åˆ°ï¼Œä¸è¿‡è¿™äº›é«˜çº§ç®—æ³•æˆ‘ä»¬ä¸æ˜¯ç‰¹åˆ«æœ‰å¿…è¦å»æŒæ¡ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œæœç´¢ã€‚</p><p>ä»ç®€å•å®ç”¨çš„è§’åº¦æ¥çœ‹ï¼ŒäºŒåˆ†å›¾ç»“æ„åœ¨æŸäº›åœºæ™¯å¯ä»¥æ›´é«˜æ•ˆåœ°å­˜å‚¨æ•°æ®ã€‚</p><p>æ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦ä¸€ç§æ•°æ®ç»“æ„æ¥å‚¨å­˜ç”µå½±å’Œæ¼”å‘˜ä¹‹é—´çš„å…³ç³»ï¼šæŸä¸€éƒ¨ç”µå½±è‚¯å®šæ˜¯ç”±å¤šä½æ¼”å‘˜å‡ºæ¼”çš„ï¼Œä¸”æŸä¸€ä½æ¼”å‘˜å¯èƒ½ä¼šå‡ºæ¼”å¤šéƒ¨ç”µå½±ã€‚ä½ ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¥å­˜å‚¨è¿™ç§å…³ç³»å‘¢ï¼Ÿ</p><p>æ—¢ç„¶æ˜¯å­˜å‚¨æ˜ å°„å…³ç³»ï¼Œæœ€ç®€å•çš„ä¸å°±æ˜¯ä½¿ç”¨ <a href="https://labuladong.online/algo/data-structure-basic/hashmap-basic/">å“ˆå¸Œè¡¨</a> å˜›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª <code>HashMap&lt;String, List&lt;String&gt;&gt;</code> æ¥å­˜å‚¨ç”µå½±åˆ°æ¼”å‘˜åˆ—è¡¨çš„æ˜ å°„ï¼Œå¦‚æœç»™ä¸€éƒ¨ç”µå½±çš„åå­—ï¼Œå°±èƒ½å¿«é€Ÿå¾—åˆ°å‡ºæ¼”è¯¥ç”µå½±çš„æ¼”å‘˜ã€‚</p><p>ä½†æ˜¯å¦‚æœç»™å‡ºä¸€ä¸ªæ¼”å‘˜çš„åå­—ï¼Œæˆ‘ä»¬æƒ³å¿«é€Ÿå¾—åˆ°è¯¥æ¼”å‘˜æ¼”å‡ºçš„æ‰€æœ‰ç”µå½±ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±éœ€è¦ã€Œåå‘ç´¢å¼•ã€ï¼Œå¯¹ä¹‹å‰çš„å“ˆå¸Œè¡¨è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ–°å»ºå¦ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼ŒæŠŠæ¼”å‘˜ä½œä¸ºé”®ï¼ŒæŠŠç”µå½±åˆ—è¡¨ä½œä¸ºå€¼ã€‚</p><p>æ˜¾ç„¶ï¼Œå¦‚æœç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œéœ€è¦ä¸¤ä¸ªå“ˆå¸Œè¡¨åˆ†åˆ«å­˜å‚¨ã€Œæ¯ä¸ªæ¼”å‘˜åˆ°ç”µå½±åˆ—è¡¨ã€çš„æ˜ å°„å’Œã€Œæ¯éƒ¨ç”µå½±åˆ°æ¼”å‘˜åˆ—è¡¨ã€çš„æ˜ å°„ã€‚ä½†å¦‚æœç”¨ã€Œå›¾ã€ç»“æ„å­˜å‚¨ï¼Œå°†ç”µå½±å’Œå‚æ¼”çš„æ¼”å‘˜è¿æ¥ï¼Œå¾ˆè‡ªç„¶åœ°å°±æˆä¸ºäº†ä¸€å¹…äºŒåˆ†å›¾ï¼š</p><p><img src="/2025/08/08/jing-dian-tu-suan-fa/2.jpg" alt="img"></p><p>æ¯ä¸ªç”µå½±èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹å°±æ˜¯å‚æ¼”è¯¥ç”µå½±çš„æ‰€æœ‰æ¼”å‘˜ï¼Œæ¯ä¸ªæ¼”å‘˜çš„ç›¸é‚»èŠ‚ç‚¹å°±æ˜¯è¯¥æ¼”å‘˜å‚æ¼”è¿‡çš„æ‰€æœ‰ç”µå½±ï¼Œå¯¹æ¯”å“ˆå¸Œè¡¨çš„å­˜å‚¨æ–¹å¼æ›´æ–¹ä¾¿ç›´è§‚ï¼Œæ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ›´å°ã€‚</p><p>å…¶å®ç”Ÿæ´»ä¸­ä¸å°‘å®ä½“çš„å…³ç³»éƒ½èƒ½è‡ªç„¶åœ°å½¢æˆäºŒåˆ†å›¾ç»“æ„ï¼Œæ‰€ä»¥åœ¨æŸäº›åœºæ™¯ä¸‹å›¾ç»“æ„ä¹Ÿå¯ä»¥ä½œä¸ºå­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼ˆç¬¦å·è¡¨ï¼‰ã€‚</p><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ï¼Œè¯´è¯´å¦‚ä½•åˆ¤å®šä¸€å¹…å›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ã€‚</p><h2 id="äºŒåˆ†å›¾åˆ¤å®šæ€è·¯"><a href="#äºŒåˆ†å›¾åˆ¤å®šæ€è·¯" class="headerlink" title="äºŒåˆ†å›¾åˆ¤å®šæ€è·¯"></a><a href="https://labuladong.online/algo/data-structure/bipartite-graph/#%E4%BA%8C%E5%88%86%E5%9B%BE%E5%88%A4%E5%AE%9A%E6%80%9D%E8%B7%AF">äºŒåˆ†å›¾åˆ¤å®šæ€è·¯</a></h2><p>åˆ¤å®šäºŒåˆ†å›¾çš„ç®—æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨ä»£ç è§£å†³ã€ŒåŒè‰²é—®é¢˜ã€ã€‚</p><p><strong>è¯´ç™½äº†å°±æ˜¯éå†ä¸€éå›¾ï¼Œä¸€è¾¹éå†ä¸€è¾¹æŸ“è‰²ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ç”¨ä¸¤ç§é¢œè‰²ç»™æ‰€æœ‰èŠ‚ç‚¹æŸ“è‰²ï¼Œä¸”ç›¸é‚»èŠ‚ç‚¹çš„é¢œè‰²éƒ½ä¸ç›¸åŒ</strong>ã€‚</p><p>æ—¢ç„¶è¯´åˆ°éå†å›¾ï¼Œä¹Ÿä¸æ¶‰åŠæœ€çŸ­è·¯å¾„ä¹‹ç±»çš„ï¼Œå½“ç„¶æ˜¯ DFS ç®—æ³•å’Œ BFS çš†å¯äº†ï¼ŒDFS ç®—æ³•ç›¸å¯¹æ›´å¸¸ç”¨äº›ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•ç”¨ DFS ç®—æ³•åˆ¤å®šåŒè‰²å›¾ã€‚</p><p>é¦–å…ˆï¼ŒåŸºäº <a href="https://labuladong.online/algo/data-structure-basic/graph-traverse-basic/">å›¾ç»“æ„çš„éå†</a> å†™å‡ºå›¾çš„ DFS éå†æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># éå†å›¾çš„æ‰€æœ‰èŠ‚ç‚¹</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> s<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>    <span class="token keyword">if</span> s <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> s <span class="token operator">>=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token keyword">if</span> visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># é˜²æ­¢æ­»å¾ªç¯</span>        <span class="token keyword">return</span>    <span class="token comment"># å‰åºä½ç½®</span>    visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"visit"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>    <span class="token keyword">for</span> e <span class="token keyword">in</span> graph<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>        traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> e<span class="token punctuation">.</span>to<span class="token punctuation">,</span> visited<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºå›¾ä¸­å¯èƒ½å­˜åœ¨ç¯ï¼Œæ‰€ä»¥ç”¨ <code>visited</code> æ•°ç»„é˜²æ­¢èµ°å›å¤´è·¯ã€‚</p><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä¹ æƒ¯æŠŠ return è¯­å¥éƒ½æ”¾åœ¨å‡½æ•°å¼€å¤´ï¼Œå› ä¸ºä¸€èˆ¬ return è¯­å¥éƒ½æ˜¯ base caseï¼Œé›†ä¸­æ”¾åœ¨ä¸€èµ·å¯ä»¥è®©ç®—æ³•ç»“æ„æ›´æ¸…æ™°ã€‚</p><p>å…¶å®ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä¹Ÿå¯ä»¥æŠŠ if åˆ¤æ–­æ”¾åˆ°å…¶å®ƒåœ°æ–¹ï¼Œæ¯”å¦‚å›¾éå†æ¡†æ¶å¯ä»¥ç¨å¾®æ”¹æ”¹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å›¾éå†æ¡†æ¶</span>visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">:</span> Graph<span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å‰åºéå†ä½ç½®ï¼Œæ ‡è®°èŠ‚ç‚¹ v å·²è®¿é—®</span>    visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>    <span class="token keyword">for</span> neighbor <span class="token keyword">in</span> graph<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># åªéå†æ²¡æ ‡è®°è¿‡çš„ç›¸é‚»èŠ‚ç‚¹</span>            traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> neighbor<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§å†™æ³•æŠŠå¯¹ <code>visited</code> çš„åˆ¤æ–­æ”¾åˆ°é€’å½’è°ƒç”¨ä¹‹å‰ï¼Œå’Œä¹‹å‰çš„å†™æ³•å”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œä½ éœ€è¦ä¿è¯è°ƒç”¨ <code>traverse(v)</code> çš„æ—¶å€™ï¼Œ<code>visited[v] == false</code>ã€‚</p><p>ä¸ºä»€ä¹ˆè¦ç‰¹åˆ«è¯´è¿™ç§å†™æ³•å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬åˆ¤æ–­äºŒåˆ†å›¾çš„ç®—æ³•ä¼šç”¨åˆ°è¿™ç§å†™æ³•ã€‚</p><p><strong>å›é¡¾ä¸€ä¸‹äºŒåˆ†å›¾æ€ä¹ˆåˆ¤æ–­ï¼Œå…¶å®å°±æ˜¯è®© <code>traverse</code> å‡½æ•°ä¸€è¾¹éå†èŠ‚ç‚¹ï¼Œä¸€è¾¹ç»™èŠ‚ç‚¹æŸ“è‰²ï¼Œå°è¯•è®©æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹çš„é¢œè‰²éƒ½ä¸ä¸€æ ·</strong>ã€‚</p><p>æ‰€ä»¥ï¼Œåˆ¤å®šäºŒåˆ†å›¾çš„ä»£ç é€»è¾‘å¯ä»¥è¿™æ ·å†™ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å›¾éå†æ¡†æ¶</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> visited<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">:</span>    visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>    <span class="token comment"># éå†èŠ‚ç‚¹ v çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹ neighbor</span>    <span class="token keyword">for</span> neighbor <span class="token keyword">in</span> graph<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ neighbor æ²¡æœ‰è¢«è®¿é—®è¿‡</span>            <span class="token comment"># é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ neighbor æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²</span>            traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> visited<span class="token punctuation">,</span> neighbor<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ neighbor å·²ç»è¢«è®¿é—®è¿‡</span>            <span class="token comment"># é‚£ä¹ˆåº”è¯¥æ¯”è¾ƒèŠ‚ç‚¹ neighbor å’ŒèŠ‚ç‚¹ v çš„é¢œè‰²</span>            <span class="token comment"># è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾</span>            <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ èƒ½çœ‹æ‡‚ä¸Šé¢è¿™æ®µä»£ç ï¼Œå°±èƒ½å†™å‡ºäºŒåˆ†å›¾åˆ¤å®šçš„å…·ä½“ä»£ç äº†ï¼Œæ¥ä¸‹æ¥çœ‹ä¸¤é“å…·ä½“çš„ç®—æ³•é¢˜æ¥å®æ“ä¸€ä¸‹ã€‚</p><h2 id="é¢˜ç›®å®è·µ"><a href="#é¢˜ç›®å®è·µ" class="headerlink" title="é¢˜ç›®å®è·µ"></a><a href="https://labuladong.online/algo/data-structure/bipartite-graph/#%E9%A2%98%E7%9B%AE%E5%AE%9E%E8%B7%B5">é¢˜ç›®å®è·µ</a></h2><p>åŠ›æ‰£ç¬¬ 785 é¢˜ã€Œ<a href="https://leetcode.cn/problems/is-graph-bipartite/">åˆ¤æ–­äºŒåˆ†å›¾</a>ã€å°±æ˜¯åŸé¢˜ï¼Œé¢˜ç›®ç»™ä½ è¾“å…¥ä¸€ä¸ª <a href="https://labuladong.online/algo/data-structure-basic/graph-basic/">é‚»æ¥è¡¨</a> è¡¨ç¤ºä¸€å¹…æ— å‘å›¾ï¼Œè¯·ä½ åˆ¤æ–­è¿™å¹…å›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ã€‚</p><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">isBipartite</span><span class="token punctuation">(</span>graph<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚é¢˜ç›®ç»™çš„ä¾‹å­ï¼Œè¾“å…¥çš„é‚»æ¥è¡¨ <code>graph = [[1,2,3],[0,2],[0,1,3],[0,2]]</code>ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·ä¸€å¹…å›¾ï¼š</p><p><img src="/2025/08/08/jing-dian-tu-suan-fa/1.png" alt="img"></p><p>æ˜¾ç„¶æ— æ³•å¯¹èŠ‚ç‚¹ç€è‰²ä½¿å¾—æ¯ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹çš„é¢œè‰²éƒ½ä¸ç›¸åŒï¼Œæ‰€ä»¥ç®—æ³•è¿”å› falseã€‚</p><p>ä½†å¦‚æœè¾“å…¥ <code>graph = [[1,3],[0,2],[1,3],[0,2]]</code>ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·ä¸€å¹…å›¾ï¼š</p><p><img src="/2025/08/08/jing-dian-tu-suan-fa/2.png" alt="img"></p><p>å¦‚æœæŠŠèŠ‚ç‚¹ <code>&#123;0, 2&#125;</code> æ¶‚ä¸€ä¸ªé¢œè‰²ï¼ŒèŠ‚ç‚¹ <code>&#123;1, 3&#125;</code> æ¶‚å¦ä¸€ä¸ªé¢œè‰²ï¼Œå°±å¯ä»¥è§£å†³ã€ŒåŒè‰²é—®é¢˜ã€ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€å¹…äºŒåˆ†å›¾ï¼Œç®—æ³•è¿”å› trueã€‚</p><p>ç»“åˆä¹‹å‰çš„ä»£ç æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥é¢å¤–ä½¿ç”¨ä¸€ä¸ª <code>color</code> æ•°ç»„æ¥è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„é¢œè‰²ï¼Œä»è€Œå†™å‡ºè§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è®°å½•å›¾æ˜¯å¦ç¬¦åˆäºŒåˆ†å›¾æ€§è´¨</span>    <span class="token comment"># è®°å½•å›¾ä¸­èŠ‚ç‚¹çš„é¢œè‰²ï¼Œfalse å’Œ true ä»£è¡¨ä¸¤ç§ä¸åŒé¢œè‰²</span>    <span class="token comment"># è®°å½•å›¾ä¸­èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">True</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token comment"># ä¸»å‡½æ•°ï¼Œè¾“å…¥é‚»æ¥è¡¨ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾</span>    <span class="token keyword">def</span> <span class="token function">isBipartite</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># å› ä¸ºå›¾ä¸ä¸€å®šæ˜¯è”é€šçš„ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå­å›¾</span>        <span class="token comment"># æ‰€ä»¥è¦æŠŠæ¯ä¸ªèŠ‚ç‚¹éƒ½ä½œä¸ºèµ·ç‚¹è¿›è¡Œä¸€æ¬¡éå†</span>        <span class="token comment"># å¦‚æœå‘ç°ä»»ä½•ä¸€ä¸ªå­å›¾ä¸æ˜¯äºŒåˆ†å›¾ï¼Œæ•´å¹…å›¾éƒ½ä¸ç®—äºŒåˆ†å›¾</span>        <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> v<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>ok    <span class="token comment"># DFS éå†æ¡†æ¶</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># å¦‚æœå·²ç»ç¡®å®šä¸æ˜¯äºŒåˆ†å›¾äº†ï¼Œå°±ä¸ç”¨æµªè´¹æ—¶é—´å†é€’å½’éå†äº†</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>ok<span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token keyword">for</span> w <span class="token keyword">in</span> graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ w æ²¡æœ‰è¢«è®¿é—®è¿‡</span>                <span class="token comment"># é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ w æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²</span>                self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span>                <span class="token comment"># ç»§ç»­éå† w</span>                self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> w<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ w å·²ç»è¢«è®¿é—®è¿‡</span>                <span class="token comment"># æ ¹æ® v å’Œ w çš„é¢œè‰²åˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾</span>                <span class="token keyword">if</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                    <span class="token comment"># è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾</span>                    self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™è¡Œä»£ç ï¼ŒæŸ¥çœ‹èŠ‚ç‚¹çš„æŸ“è‰²è¿‡ç¨‹ã€‚</p><details data-v-ee1a9bd0="" id="div_is-graph-bipartite" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_is-graph-bipartite" src="https://labuladong.online/algo-visualize/leetcode/is-graph-bipartite/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ BFS ç®—æ³•çš„é€»è¾‘ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•å›¾æ˜¯å¦ç¬¦åˆäºŒåˆ†å›¾æ€§è´¨</span>        self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token comment"># è®°å½•å›¾ä¸­èŠ‚ç‚¹çš„é¢œè‰²ï¼ŒFalse å’Œ True ä»£è¡¨ä¸¤ç§ä¸åŒé¢œè‰²</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># è®°å½•å›¾ä¸­èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡</span>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">isBipartite</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">)</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>n        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token operator">*</span>n        <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># æ”¹ä¸ºä½¿ç”¨ BFS å‡½æ•°</span>                self<span class="token punctuation">.</span>bfs<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> v<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>ok    <span class="token comment"># ä» start èŠ‚ç‚¹å¼€å§‹è¿›è¡Œ BFS éå†</span>    <span class="token keyword">def</span> <span class="token function">bfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">:</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token keyword">while</span> q <span class="token keyword">and</span> self<span class="token punctuation">.</span>ok<span class="token punctuation">:</span>            v <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># ä»èŠ‚ç‚¹ v å‘æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹æ‰©æ•£</span>            <span class="token keyword">for</span> w <span class="token keyword">in</span> graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">:</span>                    <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ w æ²¡æœ‰è¢«è®¿é—®è¿‡</span>                    <span class="token comment"># é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ w æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²</span>                    self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span>                    <span class="token comment"># æ ‡è®° w èŠ‚ç‚¹ï¼Œå¹¶æ”¾å…¥é˜Ÿåˆ—</span>                    self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>w<span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token comment"># ç›¸é‚»èŠ‚ç‚¹ w å·²ç»è¢«è®¿é—®è¿‡</span>                    <span class="token comment"># æ ¹æ® v å’Œ w çš„é¢œè‰²åˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾</span>                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                        <span class="token comment"># è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾</span>                        self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">False</span>                        <span class="token keyword">return</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ ¸å¿ƒé€»è¾‘å’Œåˆšæ‰å®ç°çš„ <code>traverse</code> å‡½æ•°ï¼ˆDFS ç®—æ³•ï¼‰å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯æ ¹æ®ç›¸é‚»èŠ‚ç‚¹ <code>v</code> å’Œ <code>w</code> çš„é¢œè‰²æ¥è¿›è¡Œåˆ¤æ–­çš„ã€‚å…³äº BFS ç®—æ³•æ¡†æ¶çš„æ¢è®¨ï¼Œè¯¦è§å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/bfs-framework/">BFS ç®—æ³•æ¡†æ¶</a> å’Œ <a href="https://labuladong.online/algo/data-structure/dijkstra/">Dijkstra ç®—æ³•æ¨¡æ¿</a>ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p><p>æœ€åå†æ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 886 é¢˜ã€Œ<a href="https://leetcode.cn/problems/possible-bipartition/">å¯èƒ½çš„äºŒåˆ†æ³•</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">886. å¯èƒ½çš„äºŒåˆ†æ³•</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/possible-bipartition/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/possible-bipartition/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;äººï¼ˆç¼–å·ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1, 2, ..., n</code>ï¼‰ï¼Œ&nbsp;æˆ‘ä»¬æƒ³æŠŠæ¯ä¸ªäººåˆ†è¿›<strong style="font-weight: 600;">ä»»æ„</strong>å¤§å°çš„ä¸¤ç»„ã€‚æ¯ä¸ªäººéƒ½å¯èƒ½ä¸å–œæ¬¢å…¶ä»–äººï¼Œé‚£ä¹ˆä»–ä»¬ä¸åº”è¯¥å±äºåŒä¸€ç»„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;å’Œæ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dislikes</code>&nbsp;ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dislikes[i] = [a<sub>i</sub>, b<sub>i</sub>]</code>&nbsp;ï¼Œè¡¨ç¤ºä¸å…è®¸å°†ç¼–å·ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a<sub>i</sub></code>&nbsp;å’Œ&nbsp;&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">b<sub>i</sub></code>çš„äººå½’å…¥åŒä¸€ç»„ã€‚å½“å¯ä»¥ç”¨è¿™ç§æ–¹æ³•å°†æ‰€æœ‰äººåˆ†è¿›ä¸¤ç»„æ—¶ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>ï¼›å¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code>ã€‚</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 4, dislikes = [[1,2],[1,3],[2,4]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>group1 [1,4], group2 [2,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 3, dislikes = [[1,2],[1,3],[2,3]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 5, dislikes = [[1,2],[2,3],[3,4],[4,5],[1,5]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 2000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= dislikes.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dislikes[i].length == 2</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= dislikes[i][j] &lt;= n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a<sub>i</sub>&nbsp;&lt; b<sub>i</sub></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dislikes</code>&nbsp;ä¸­æ¯ä¸€ç»„éƒ½<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/possible-bipartition/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 886. å¯èƒ½çš„äºŒåˆ†æ³•</a>ã€‚</strong></details><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å‡½æ•°ç­¾åå¦‚ä¸‹</span><span class="token keyword">def</span> <span class="token function">possibleBipartition</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> dislikes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>å…¶å®è¿™é¢˜è€ƒå¯Ÿçš„å°±æ˜¯äºŒåˆ†å›¾çš„åˆ¤å®š</strong>ï¼š</p><p>å¦‚æœä½ æŠŠæ¯ä¸ªäººçœ‹åšå›¾ä¸­çš„èŠ‚ç‚¹ï¼Œç›¸äº’è®¨åŒçš„å…³ç³»çœ‹åšå›¾ä¸­çš„è¾¹ï¼Œé‚£ä¹ˆ <code>dislikes</code> æ•°ç»„å°±å¯ä»¥æ„æˆä¸€å¹…å›¾ï¼›</p><p>åˆå› ä¸ºé¢˜ç›®è¯´äº’ç›¸è®¨åŒçš„äººä¸èƒ½æ”¾åœ¨åŒä¸€ç»„é‡Œï¼Œç›¸å½“äºå›¾ä¸­çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½è¦æ”¾è¿›ä¸¤ä¸ªä¸åŒçš„ç»„ï¼›</p><p>é‚£å°±å›åˆ°äº†ã€ŒåŒè‰²é—®é¢˜ã€ï¼Œå¦‚æœèƒ½å¤Ÿç”¨ä¸¤ç§é¢œè‰²ç€è‰²æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸”ç›¸é‚»èŠ‚ç‚¹é¢œè‰²éƒ½ä¸åŒï¼Œé‚£ä¹ˆä½ æŒ‰ç…§é¢œè‰²æŠŠè¿™äº›èŠ‚ç‚¹åˆ†æˆä¸¤ç»„ä¸å°±è¡Œäº†å˜›ã€‚</p><p>æ‰€ä»¥è§£æ³•å°±å‡ºæ¥äº†ï¼Œæˆ‘ä»¬æŠŠ <code>dislikes</code> æ„é€ æˆä¸€å¹…å›¾ï¼Œç„¶åæ‰§è¡ŒäºŒåˆ†å›¾çš„åˆ¤å®šç®—æ³•å³å¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">True</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">possibleBipartition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> dislikes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># å›¾èŠ‚ç‚¹ç¼–å·ä» 1 å¼€å§‹</span>        self<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># è½¬åŒ–æˆé‚»æ¥è¡¨è¡¨ç¤ºå›¾ç»“æ„</span>        graph <span class="token operator">=</span> self<span class="token punctuation">.</span>buildGraph<span class="token punctuation">(</span>n<span class="token punctuation">,</span> dislikes<span class="token punctuation">)</span>        <span class="token keyword">for</span> v <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> v<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>ok    <span class="token comment"># å»ºå›¾å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">buildGraph</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> dislikes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># å›¾èŠ‚ç‚¹ç¼–å·ä¸º 1...n</span>        graph <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> edge <span class="token keyword">in</span> dislikes<span class="token punctuation">:</span>            v <span class="token operator">=</span> edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            w <span class="token operator">=</span> edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            <span class="token comment"># ã€Œæ— å‘å›¾ã€ç›¸å½“äºã€ŒåŒå‘å›¾ã€</span>            <span class="token comment"># v -> w</span>            graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>w<span class="token punctuation">)</span>            <span class="token comment"># w -> v</span>            graph<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>v<span class="token punctuation">)</span>        <span class="token keyword">return</span> graph    <span class="token comment"># å’Œä¹‹å‰åˆ¤å®šäºŒåˆ†å›¾çš„ traverse å‡½æ•°å®Œå…¨ç›¸åŒ</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>ok<span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token keyword">for</span> w <span class="token keyword">in</span> graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span>                self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> w<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>color<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span>ok <span class="token operator">=</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_possible-bipartition" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_possible-bipartition" src="https://labuladong.online/algo-visualize/leetcode/possible-bipartition/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è‡³æ­¤ï¼Œè¿™é“é¢˜ä¹Ÿä½¿ç”¨ DFS ç®—æ³•è§£å†³äº†ï¼Œå¦‚æœä½ æƒ³ç”¨ BFS ç®—æ³•ï¼Œå’Œä¹‹å‰å†™çš„è§£æ³•æ˜¯ç±»ä¼¼çš„ï¼Œåœ¨æ‰©æ•£çš„æ—¶å€™ï¼Œå°è¯•å¯¹ç›¸é‚»å…ƒç´ é¢œè‰²å°±è¡Œäº†ï¼Œä½ å¯ä»¥è‡ªå·±å°è¯•å®ç°ã€‚</p><h1 id="Hierholzer-ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„"><a href="#Hierholzer-ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„" class="headerlink" title="Hierholzer ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„"></a>Hierholzer ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„</h1><p>åœ¨ <a href="https://labuladong.online/algo/data-structure-basic/eulerian-graph/">æ¬§æ‹‰å›¾åŠä¸€ç¬”ç”»æ¸¸æˆ</a> ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç»å…¸çš„ä¸€ç¬”ç”»æ¸¸æˆå­¦ä¹ äº†æ¬§æ‹‰å›¾çš„åŸºæœ¬æ¦‚å¿µï¼Œæ¢è®¨äº†æ¬§æ‹‰è·¯å¾„&#x2F;æ¬§æ‹‰å›è·¯çš„åˆ¤å®šæ¡ä»¶ã€‚</p><p>å…³é”®å°±æ˜¯çœ‹èŠ‚ç‚¹çš„åº¦æ•°ï¼Œè¿™é‡Œç®€å•æ€»ç»“ä¸€ä¸‹ã€‚å¦‚æœä½ å¿˜è®°äº†å…¶ä¸­çš„åŸç†ï¼Œè¯·å…ˆå›å»å¤ä¹ ã€‚</p><p>å¯¹äºæ— å‘å›¾ï¼š</p><ul><li>å¦‚æœæ‰€æœ‰èŠ‚ç‚¹çš„åº¦æ•°éƒ½æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆèµ·ç‚¹å’Œç»ˆç‚¹æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå­˜åœ¨æ¬§æ‹‰å›è·¯ã€‚æˆ‘ä»¬å¯ä»¥ä»¥ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œéå†æ‰€æœ‰è¾¹åï¼Œä¸€å®šå¯ä»¥å›åˆ°èµ·ç‚¹ã€‚</li><li>å¦‚æœå­˜åœ¨ä¸¤ä¸ªå¥‡æ•°åº¦èŠ‚ç‚¹ï¼Œé‚£ä¹ˆèµ·ç‚¹å’Œç»ˆç‚¹åˆ†åˆ«æ˜¯è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå­˜åœ¨æ¬§æ‹‰è·¯å¾„ã€‚æˆ‘ä»¬å¯ä»¥ä»»é€‰ä¸€ä¸ªå¥‡æ•°åº¦èŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œéå†æ‰€æœ‰è¾¹åï¼Œä¸€å®šå¯ä»¥åˆ°è¾¾å¦ä¸€ä¸ªå¥‡æ•°åº¦èŠ‚ç‚¹ã€‚</li></ul><p>å¯¹äºæœ‰å‘å›¾ï¼š</p><ul><li>å¦‚æœæ‰€æœ‰èŠ‚ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦éƒ½ç›¸ç­‰ï¼Œé‚£ä¹ˆèµ·ç‚¹å’Œç»ˆç‚¹æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå­˜åœ¨æ¬§æ‹‰å›è·¯ã€‚æˆ‘ä»¬å¯ä»¥ä»¥ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œéå†æ‰€æœ‰è¾¹åï¼Œä¸€å®šå¯ä»¥å›åˆ°èµ·ç‚¹ã€‚</li><li>å¦‚æœå­˜åœ¨ä¸¤ä¸ªèŠ‚ç‚¹å…¥åº¦å’Œå‡ºåº¦ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆèµ·ç‚¹å’Œç»ˆç‚¹åˆ†åˆ«æ˜¯è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå­˜åœ¨æ¬§æ‹‰è·¯å¾„ã€‚æˆ‘ä»¬å¯ä»¥ä»»é€‰ä¸€ä¸ªå…¥åº¦å’Œå‡ºåº¦ä¸ç›¸ç­‰çš„èŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œéå†æ‰€æœ‰è¾¹åï¼Œä¸€å®šå¯ä»¥åˆ°è¾¾å¦ä¸€ä¸ªå…¥åº¦å’Œå‡ºåº¦ä¸ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚</li></ul><p>æ¥ä¸‹æ¥çœ‹çœ‹ Hierholzer ç®—æ³•çš„ä»£ç å®ç°ï¼Œåœ¨ O(E)<em>O</em>(<em>E</em>) æ—¶é—´å¤æ‚åº¦å†…æ‰¾åˆ°æ¬§æ‹‰è·¯å¾„&#x2F;æ¬§æ‹‰å›è·¯ã€‚</p><hr><h2 id="Hierholzer-ç®—æ³•"><a href="#Hierholzer-ç®—æ³•" class="headerlink" title="Hierholzer ç®—æ³•"></a><a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/#hierholzer-%E7%AE%97%E6%B3%95">Hierholzer ç®—æ³•</a></h2><p>Hierholzer ç®—æ³•éå¸¸ç®€å•ï¼Œæœ¬è´¨å°±æ˜¯ DFS ç®—æ³•çš„é€†ååºéå†ç»“æœï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p><p>1ã€æ ¹æ®æ¯ä¸ªèŠ‚ç‚¹çš„åº¦æ•°ï¼Œç¡®å®šæ¬§æ‹‰è·¯å¾„&#x2F;æ¬§æ‹‰å›è·¯çš„èµ·ç‚¹ã€‚</p><p>2ã€ä»èµ·ç‚¹å¼€å§‹æ‰§è¡Œ<strong>éå†æ‰€æœ‰è¾¹çš„ DFS ç®—æ³•ï¼Œè®°å½•ååºéå†ç»“æœ</strong>ã€‚</p><p>3ã€æœ€åï¼Œ<strong>å°†ååºéå†ç»“æœåè½¬</strong>ï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰è·¯å¾„&#x2F;æ¬§æ‹‰å›è·¯ã€‚å¯¹äºæ— å‘å›¾ï¼Œç”±äºè¾¹æ²¡æœ‰æ–¹å‘çš„åŒºåˆ«ï¼Œæ‰€ä»¥å³ä¾¿ä¸åè½¬ï¼Œç»“æœä¹Ÿæ˜¯å¯¹çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥å¤ç”¨ <a href="https://labuladong.online/algo/data-structure-basic/graph-traverse-basic/">å›¾ç»“æ„çš„ DFS&#x2F;BFS éå†</a> ä¸­è®²è§£çš„ã€Œéå†æ‰€æœ‰è¾¹çš„ DFS ç®—æ³•ã€ï¼Œåœ¨ååºä½ç½®æ·»åŠ ä¸€è¡Œä»£ç å³å¯å®ç° Hierholzer ç®—æ³•ï¼ˆä¼ªç ï¼‰ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®°å½•ååºéå†ç»“æœ</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> postOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»èµ·ç‚¹ s å¼€å§‹éå†å›¾çš„æ‰€æœ‰è¾¹</span><span class="token keyword">void</span> <span class="token function">traverseEdges</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">,</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> visited<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// base case</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> s <span class="token operator">>=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Edge</span> e <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span>e<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">continue</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span>e<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token function">traverseEdges</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ååºä½ç½®ï¼Œå°†å½“å‰èŠ‚ç‚¹æ·»åŠ åˆ°è·¯å¾„ä¸­</span>    postOrder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ ¹æ®åº¦æ•°ç¡®å®šèµ·ç‚¹</span><span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»èµ·ç‚¹å¼€å§‹æ‰§è¡Œ DFS ç®—æ³•</span><span class="token function">traverseEdges</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å°†ååºéå†ç»“æœåè½¬ï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰è·¯å¾„/å›è·¯</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸è¿‡ <a href="https://labuladong.online/algo/data-structure-basic/graph-traverse-basic/">å›¾ç»“æ„çš„ DFS&#x2F;BFS éå†</a> ä¸­ä¹Ÿè®¨è®ºè¿‡ï¼Œç”¨äºŒç»´ <code>visited</code> æ•°ç»„æ¥è®°å½•èµ°è¿‡çš„è¾¹ä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºéœ€è¦åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(V2)<em>O</em>(<em>V</em>2)ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(E+V2)<em>O</em>(<em>E</em>+<em>V</em>2)ï¼Œæ•ˆç‡æ¯”è¾ƒå·®ã€‚</p><p>å…¶å®è¿˜æœ‰å…¶ä»–çš„é—®é¢˜ï¼Œæ¯”å¦‚å¯¹äºæ±‚è§£æ¬§æ‹‰è·¯å¾„çš„åœºæ™¯ï¼Œæ˜¯å¯ä»¥å­˜åœ¨ <a href="https://labuladong.online/algo/data-structure-basic/graph-terminology/">å¤šé‡è¾¹</a> çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´å¯ä»¥å­˜åœ¨å¤šæ¡é‡å¤çš„è¾¹ï¼Œè€ŒäºŒç»´çš„ <code>visited</code> æ•°ç»„ä¸èƒ½å¤„ç†è¿™ç§æƒ…å†µã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ›´å¥½çš„åŠæ³•æ¥å¤„ç†å·²ç»éå†è¿‡çš„è¾¹é¿å…é‡å¤éå†ã€‚</p><p>æ¯”æ–¹è¯´å¯ä»¥ç»™ <code>Edge</code> ç±»ä¸­æ·»åŠ ä¸€ä¸ª <code>bool visited</code> å­—æ®µæ¥è®°å½•è¿™æ¡è¾¹æ˜¯å¦è¢«éå†è¿‡ã€‚è¿™æ ·ä¸ä¼šå¼•å…¥æ–°çš„ç©ºé—´å¤æ‚åº¦ï¼Œä¹Ÿèƒ½å¤„ç†å¤šé‡è¾¹çš„æƒ…å†µã€‚</p><p>ä¸è¿‡æœ€å¸¸è§çš„è§£æ³•æ˜¯ï¼š<strong>ç›´æ¥åˆ æ‰å·²ç»éå†è¿‡çš„è¾¹</strong>ï¼Œè¿™æ ·ä¹Ÿèƒ½è§£å†³é—®é¢˜ã€‚</p><p>è™½ç„¶åˆ é™¤è¾¹çš„æ“ä½œä¼šä¿®æ”¹å›¾ç»“æ„ï¼Œä½†æ˜¯ä¸€èˆ¬çš„ç®—æ³•é¢˜ä¸­ï¼Œå›¾ç»“æ„æœ¬èº«å°±æ˜¯æˆ‘ä»¬è‡ªå·±æ„å»ºçš„ï¼Œæ‰€ä»¥ä¿®æ”¹å›¾ç»“æ„ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p><p>åŸºäºè¿™ä¸ªæ€è·¯ï¼Œå¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ Hierholzer ç®—æ³•ä»£ç ï¼ˆä¼ªç ï¼‰ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®°å½•ååºéå†ç»“æœ</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> postOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»èµ·ç‚¹ s å¼€å§‹éå†å›¾çš„æ‰€æœ‰è¾¹</span><span class="token keyword">void</span> <span class="token function">traverseEdges</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// base case</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> s <span class="token operator">>=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Edge</span> e <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç›´æ¥åˆ é™¤è¿™æ¡è¾¹</span>        graph<span class="token punctuation">.</span><span class="token function">removeEdge</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">traverseEdges</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ååºä½ç½®ï¼Œå°†å½“å‰èŠ‚ç‚¹æ·»åŠ åˆ°è·¯å¾„ä¸­</span>    postOrder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ ¹æ®åº¦æ•°ç¡®å®šèµ·ç‚¹</span><span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»èµ·ç‚¹å¼€å§‹æ‰§è¡Œ DFS ç®—æ³•</span><span class="token function">traverseEdges</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å°†ååºéå†ç»“æœåè½¬ï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰è·¯å¾„/å›è·¯</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ç»™å‡ºä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„ç®—æ³•å®ç°ï¼Œå…¶ä¸­çš„ <code>Graph</code> æ¥å£æ¥è‡ª <a href="https://labuladong.online/algo/data-structure-basic/graph-basic/">å›¾ç»“æ„çš„é€šç”¨å®ç°</a>ï¼Œç»™æœ‰å‘å›¾ã€æ— å‘å›¾æä¾›äº†ç»Ÿä¸€çš„ APIï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£ç®—æ³•é€»è¾‘ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Graph ç±»çš„é€šç”¨å®ç°å‚è€ƒ</span><span class="token comment">// https://labuladong.online/algo/data-structure-basic/graph-basic/</span><span class="token keyword">class</span> <span class="token class-name">HierholzerAlgorithm</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è®¡ç®—æ¬§æ‹‰è·¯å¾„/å›è·¯ï¼Œä¸å­˜åœ¨åˆ™è¿”å› null</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> <span class="token function">findEulerianPath</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 1. æ ¹æ®åº¦æ•°ç¡®å®šèµ·ç‚¹</span>        <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// ä¸å­˜åœ¨æ¬§æ‹‰è·¯å¾„/å›è·¯</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>                <span class="token comment">// 2. ä»èµ·ç‚¹å¼€å§‹æ‰§è¡Œ DFS ç®—æ³•ï¼Œè®°å½•ååºéå†ç»“æœ</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> postOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 3. åè½¬ååºéå†ç»“æœï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰è·¯å¾„/å›è·¯</span>        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> postOrder<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å›¾ç»“æ„çš„ DFS éå†å‡½æ•°</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> postOrder<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// base case</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> u <span class="token operator">>=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Edge</span> edge <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> v <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">;</span>            <span class="token comment">// ç›´æ¥åˆ æ‰è¾¹ï¼Œé¿å…é‡å¤éå†</span>            graph<span class="token punctuation">.</span><span class="token function">removeEdge</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> v<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ååºä½ç½®ï¼Œè®°å½•ååºéå†ç»“æœ</span>        postOrder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ ¹æ®åº¦æ•°ç¡®å®šèµ·ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨æ¬§æ‹‰è·¯å¾„ï¼Œè¿”å› -1</span>    <span class="token comment">// æœ‰å‘å›¾å’Œæ— å‘å›¾çš„ä»£ç å®ç°ä¸åŒ</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ...</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºæœ‰å‘å›¾å’Œæ— å‘å›¾ä¸­çš„ Hierholzer ç®—æ³•ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹ä¸åŒï¼š</p><p>1ã€åˆ é™¤è¾¹çš„é€»è¾‘ä¸åŒã€‚æ— å‘å›¾æœ¬è´¨ä¸Šæ˜¯åŒå‘å›¾ï¼Œæ‰€ä»¥åˆ é™¤è¾¹çš„æ—¶å€™éœ€è¦åˆ é™¤ä¸¤æ¡è¾¹ï¼Œè€Œæœ‰å‘å›¾åªéœ€è¦åˆ é™¤ä¸€æ¡è¾¹ã€‚ä¸è¿‡æˆ‘ä»¬ä½¿ç”¨äº†ç»Ÿä¸€çš„ <code>Graph</code> æ¥å£ï¼Œæ‰€ä»¥è¿™ä¸ªå·®å¼‚å·²ç»åœ¨ <code>removeEdge</code> æ–¹æ³•ä¸­å¤„ç†äº†ã€‚</p><p>2ã€åˆ¤æ–­èµ·ç‚¹å’Œç»ˆç‚¹çš„é€»è¾‘ä¸åŒã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æœ‰å‘å›¾å’Œæ— å‘å›¾åˆ†åˆ«å®ç° <code>findStartNode</code> å‡½æ•°ã€‚</p><p>æ— å‘å›¾çš„ <code>findStartNode</code> å‡½æ•°å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ— å‘å›¾çš„ findStartNode å‡½æ•°å®ç°</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// è®°å½•å¥‡æ•°åº¦èŠ‚ç‚¹çš„æ•°é‡</span>    <span class="token keyword">int</span> oddDegreeCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            oddDegreeCount<span class="token operator">++</span><span class="token punctuation">;</span>            start <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å¦‚æœå¥‡æ•°åº¦èŠ‚ç‚¹çš„æ•°é‡ä¸æ˜¯ 0 æˆ– 2ï¼Œåˆ™ä¸å­˜åœ¨æ¬§æ‹‰è·¯å¾„</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>oddDegreeCount <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> oddDegreeCount <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å¦‚æœå¥‡æ•°åº¦èŠ‚ç‚¹çš„æ•°é‡æ˜¯ 0ï¼Œåˆ™ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹ï¼Œæ­¤æ—¶ start=0</span>    <span class="token comment">// å¦‚æœå¥‡æ•°åº¦èŠ‚ç‚¹çš„æ•°é‡æ˜¯ 2ï¼Œä»»æ„ä¸€ä¸ªå¥‡æ•°åº¦èŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œæ­¤æ—¶ start å°±æ˜¯å¥‡æ•°åº¦èŠ‚ç‚¹</span>    <span class="token keyword">return</span> start<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰å‘å›¾çš„ <code>findStartNode</code> å‡½æ•°å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æœ‰å‘å›¾çš„ findStartNode å‡½æ•°å®ç°</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">findStartNode</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> inDegree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> outDegree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Edge</span> edge <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">neighbors</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            inDegree<span class="token punctuation">[</span>edge<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            outDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å¦‚æœæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦å‡ºåº¦éƒ½ç›¸åŒï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰å›è·¯ï¼Œä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹</span>    <span class="token keyword">boolean</span> allSame <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>inDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> outDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            allSame <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>allSame<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹ï¼Œå°±è®©æˆ‘ä»¬ä»¥ 0 ä½œä¸ºèµ·ç‚¹å§</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ç°åœ¨å¯»æ‰¾æ˜¯å¦å­˜åœ¨èŠ‚ç‚¹ x å’Œ y æ»¡è¶³ï¼š</span>    <span class="token comment">// inDegree[x] - outDegree[x] = 1 &amp;&amp; inDegree[y] - outDegree[y] = -1</span>    <span class="token comment">// ä¸”å…¶ä»–èŠ‚ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦éƒ½ç›¸ç­‰</span>    <span class="token comment">// å¦‚æœå­˜åœ¨ï¼Œåˆ™ x æ˜¯èµ·ç‚¹ï¼Œy æ˜¯ç»ˆç‚¹</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> delta <span class="token operator">=</span> inDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> outDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">!=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> delta <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// ä¸å­˜åœ¨æ¬§æ‹‰è·¯å¾„</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            x <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>delta <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            y <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// ä¸å­˜åœ¨æ¬§æ‹‰è·¯å¾„</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å­˜åœ¨æ¬§æ‹‰è·¯å¾„ï¼Œx æ˜¯èµ·ç‚¹</span>        <span class="token keyword">return</span> x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤æ‚åº¦åˆ†æ</p><p>Hierholzer ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸»è¦æ¥è‡ª DFS ç®—æ³•ï¼Œä¸º O(E+V)<em>O</em>(<em>E</em>+<em>V</em>)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ä¸»è¦æ¥è‡ªå›¾ç»“æ„çš„å­˜å‚¨ï¼Œå¦‚æœç”¨é‚»æ¥è¡¨å­˜å‚¨å›¾åˆ™ä¸º O(E+V)<em>O</em>(<em>E</em>+<em>V</em>)ï¼Œå¦‚æœç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾åˆ™ä¸º O(V2)<em>O</em>(<em>V</em>2)ã€‚</p><h2 id="æ­£ç¡®æ€§åˆ†æï¼ˆå¯é€‰ï¼‰"><a href="#æ­£ç¡®æ€§åˆ†æï¼ˆå¯é€‰ï¼‰" class="headerlink" title="æ­£ç¡®æ€§åˆ†æï¼ˆå¯é€‰ï¼‰"></a><a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/#%E6%AD%A3%E7%A1%AE%E6%80%A7%E5%88%86%E6%9E%90-%E5%8F%AF%E9%80%89">æ­£ç¡®æ€§åˆ†æï¼ˆå¯é€‰ï¼‰</a></h2><p>Hierholzer ç®—æ³•æœ¬è´¨å°±æ˜¯ DFS ç®—æ³•ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å†™å¯¹ã€‚</p><p>ä½†ä¸ºä»€ä¹ˆå¯¹ DFS çš„ååºéå†ç»“æœè¿›è¡Œåè½¬ï¼ˆé€†ååºéå†ï¼‰ï¼Œå°±å¯ä»¥å¾—åˆ°æ¬§æ‹‰è·¯å¾„&#x2F;å›è·¯å‘¢ï¼Ÿé€†ååºéå†ç»“æœå’Œå‰åºéå†ç»“æœæ˜¯ä»€ä¹ˆå…³ç³»ï¼Œç›´æ¥ç”¨å‰åºéå†ç»“æœè¡Œä¸è¡Œï¼Ÿ</p><p>è¿™ä¸ªé€†ååºéå†çš„åŸç†æ¯”è¾ƒç²¾å¦™ï¼Œéœ€è¦å¯¹é€’å½’éå†çš„é¡ºåºæœ‰è¾ƒæ·±çš„è®¤è¯†ï¼Œ<strong>æ‰€ä»¥è¿™éƒ¨åˆ†å†…å®¹æ˜¯å¯é€‰çš„ï¼Œå¯¹äºå¤§éƒ¨åˆ†è¯»è€…æ¥è¯´ï¼Œè®°ä½ç»“è®ºä¼šå†™ç®—æ³•è®¡ç®—æ¬§æ‹‰è·¯å¾„å°±å¯ä»¥äº†</strong>ã€‚</p><p>ä¸‹é¢æ¥åˆ†äº«ä¸€ä¸‹æˆ‘çš„ç†è§£ï¼Œå¸®åŠ©å¤§å®¶å°½å¯èƒ½ç›´è§‚åœ°ç†è§£ã€‚<strong>æˆ‘ä¼šç»“åˆå¯è§†åŒ–é¢æ¿ï¼Œä»é€’å½’æ ‘çš„è§’åº¦æ¥ç›´è§‚åœ°å±•ç¤º</strong>ã€‚</p><p>é¦–å…ˆï¼Œ<a href="https://labuladong.online/algo/data-structure-basic/eulerian-graph/">æ¬§æ‹‰å›¾åŠä¸€ç¬”ç”»æ¸¸æˆ</a> ä¸­å·²ç»è¯æ˜äº†è§£æ³•çš„å­˜åœ¨æ€§ï¼š</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡èŠ‚ç‚¹çš„åº¦æ•°ç¡®å®šèµ·ç‚¹å’Œç»ˆç‚¹ï¼Œä»èµ·ç‚¹å‡ºå‘å¿…ç„¶å­˜åœ¨ä¸€æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾ç»ˆç‚¹ï¼Œä¸”æ°å¥½ç»è¿‡æ‰€æœ‰è¾¹ä¸€æ¬¡ã€‚</p><p>ç°åœ¨æˆ‘å°†è¯æ˜ï¼Œä»èµ·ç‚¹å¼€å§‹è¿›è¡Œ DFS ç®—æ³•éå†å›¾ä¸­çš„æ‰€æœ‰è¾¹ï¼Œç„¶åå¯¹ååºéå†ç»“æœè¿›è¡Œåè½¬ï¼Œå¾—åˆ°çš„å°±æ˜¯æ¬§æ‹‰è·¯å¾„ã€‚</p><p>è¯·æƒ³è±¡ä»èµ·ç‚¹å¼€å§‹ DFS éå†å›¾ç»“æ„æ‰€äº§ç”Ÿçš„é€’å½’æ ‘ï¼Œæ¬§æ‹‰è·¯å¾„æ—¢ç„¶æ˜¯ã€Œä¸€ç¬”ç”»ã€ï¼Œç†è®ºä¸Šå®ƒçš„é€’å½’æ ‘åº”è¯¥å°±æ˜¯ä¸€æ¡ç±»ä¼¼å•é“¾è¡¨çš„å½¢æ€ï¼Œä½†å®é™…ä¸Šå®ƒå¯èƒ½æœ‰ä¸¤ç§å½¢æ€ï¼š</p><p>1ã€åªæœ‰ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œç±»ä¼¼ä¸€æ¡å•é“¾è¡¨ã€‚æ­¤æ—¶ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„é€’å½’è·¯å¾„å°±æ˜¯æ¬§æ‹‰è·¯å¾„ã€‚</p><p>2ã€æœ‰ä¸¤æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚æ­¤æ—¶ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„å°±æ˜¯æ¬§æ‹‰è·¯å¾„ã€‚</p><p>æ¯”æ–¹ä¸‹é¢è¿™å¹…æ— å‘å›¾ï¼š</p><p>å…¶ä¸­åº¦æ•°ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹ä¸º <code>0</code> å’Œ <code>3</code>ï¼Œæ‰€ä»¥èµ·ç‚¹è¦ä¹ˆé€‰æ‹© <code>0</code>ï¼Œè¦ä¹ˆé€‰æ‹© <code>3</code>ã€‚è¯·ä½ æƒ³è±¡ä¸€ä¸‹ DFS ç®—æ³•éå†çš„è¿‡ç¨‹ï¼š</p><p>å¦‚æœä»¥èŠ‚ç‚¹ <code>3</code> ä¸ºèµ·ç‚¹ï¼Œé‚£ä¹ˆç®—æ³•ä¼šç›´æ¥éå†å®Œå³ä¾§çš„æ‰€æœ‰èŠ‚ç‚¹ <code>0,1,2</code>ï¼Œæœ€åå›é€€åˆ°èµ·ç‚¹ <code>3</code>ï¼Œå®Œæˆéå†ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹çš„é€’å½’æ ‘å°±æ˜¯ç”±ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æ ‘ææ„æˆï¼Œç±»ä¼¼ä¸€æ¡å•é“¾è¡¨ï¼Œä¸‹é¢çš„å¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™ä¸€ç‚¹ï¼š</p><details data-v-ee1a9bd0="" id="div_hierholzer-algorithm-example1" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_hierholzer-algorithm-example1" src="https://labuladong.online/algo-visualize/tutorial/hierholzer-algorithm-example1/?stepId=-1" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¯·æ³¨æ„é€’å½’æ ‘ï¼Œä»é€’å½’æ ‘çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„é€’å½’è·¯å¾„å°±æ˜¯æ¬§æ‹‰è·¯å¾„ <code>3-&gt;0-&gt;1-&gt;2-&gt;0</code>ï¼Œé€†ååºéå†ç»“æœç¡®å®å’Œå‰åºéå†ç»“æœç›¸åŒã€‚</p><p>å¦‚æœä½ ä»¥èŠ‚ç‚¹ <code>0</code> ä¸ºèµ·ç‚¹ï¼Œé‚£ä¹ˆç®—æ³•ä¼šå…ˆé€’å½’éå†å·¦ä¾§çš„èŠ‚ç‚¹ï¼ˆåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ <code>3</code>ï¼‰ï¼Œç„¶åå›é€€åˆ° <code>0</code>ï¼Œå»éå†å³ä¾§çš„èŠ‚ç‚¹ï¼ˆ<code>1</code> å’Œ <code>2</code>ï¼‰ï¼Œæœ€åå›åˆ°èµ·ç‚¹ <code>0</code>ï¼Œå®Œæˆéå†ã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹çš„é€’å½’æ ‘å°±æ˜¯ç”±ä¸¤æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æ ‘ææ„æˆï¼Œä¸‹é¢çš„å¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™ä¸€ç‚¹ï¼š</p><details data-v-ee1a9bd0="" id="div_hierholzer-algorithm-example2" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_hierholzer-algorithm-example2" src="https://labuladong.online/algo-visualize/tutorial/hierholzer-algorithm-example2/?stepId=-1" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™ç§æƒ…å†µä¸‹çš„æ¬§æ‹‰è·¯å¾„æ˜¯ <code>0-&gt;2-&gt;1-&gt;0-&gt;3</code>ï¼Œè¯·æ³¨æ„é€’å½’æ ‘ï¼Œå¯ä»¥å‘ç°ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š</p><p>1ã€æ¬§æ‹‰è·¯å¾„å…¶å®æ˜¯ä»é€’å½’æ ‘çš„ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆ<code>0</code>ï¼‰ä¸ºèµ·ç‚¹ï¼Œå¦ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆ<code>3</code>ï¼‰ä¸ºç»ˆç‚¹ã€‚</p><p>2ã€ä¸Šé¢å•é“¾è¡¨å½¢æ€çš„äºŒå‰æ ‘å·¦æ—‹ä¸€ä½ï¼Œå³å¯å¾—åˆ°å½“å‰çš„é€’å½’æ ‘ã€‚</p><p>æ˜¾ç„¶ï¼Œè¿™ç§æƒ…å†µä¸‹å‰åºéå†ç»“æœä¸å†èƒ½å¾—åˆ°æ­£ç¡®ç­”æ¡ˆï¼Œè€Œé€†ååºéå†ç»“æœä¾ç„¶æ˜¯æ¬§æ‹‰è·¯å¾„ã€‚</p><p>ä»¥ä¸Šåˆ†æåº”è¯¥å¯ä»¥è®©ä½ ç›´è§‚åœ°ç†è§£é€†ååºéå†ç»“æœå°±æ˜¯æ¬§æ‹‰è·¯å¾„çš„åŸå› äº†ã€‚</p><p>å…¶å®ï¼Œä»é€’å½’æ ‘çš„è§’åº¦å¯ä»¥æ›´æ·±åˆ»åœ°ç†è§£æ¬§æ‹‰è·¯å¾„ï¼Œè€Œä¸”ç”±äºé€’å½’æ ‘å½¢æ€æ¯”è¾ƒç®€å•ï¼Œä½ ä¼šçœ‹åˆ°æœ‰äº› Hierholzer ç®—æ³•çš„å®ç°æ˜¯ç›´æ¥æŠŠé€’å½’ç®—æ³•æ”¹ä¸ºåŸºäºæ ˆçš„è¿­ä»£ç®—æ³•ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯å»ºè®®ç”¨é€’å½’ DFS ç®—æ³•ï¼Œå› ä¸ºç†è§£è®°å¿†çš„æˆæœ¬æœ€ä½ã€‚</p><h2 id="å®Œæˆä¸€ç¬”ç”»æ¸¸æˆ"><a href="#å®Œæˆä¸€ç¬”ç”»æ¸¸æˆ" class="headerlink" title="å®Œæˆä¸€ç¬”ç”»æ¸¸æˆ"></a><a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/#%E5%AE%8C%E6%88%90%E4%B8%80%E7%AC%94%E7%94%BB%E6%B8%B8%E6%88%8F">å®Œæˆä¸€ç¬”ç”»æ¸¸æˆ</a></h2><p>åœ¨ <a href="https://labuladong.online/algo/data-structure-basic/eulerian-graph/">æ¬§æ‹‰å›¾åŠä¸€ç¬”ç”»æ¸¸æˆ</a> ä¸­å±•ç¤ºäº†æœ¬ç«™é…å¥—çš„ä¸€ç¬”ç”»æ¸¸æˆï¼Œç°åœ¨ä½ å¯ä»¥å°è¯•ç”¨ Hierholzer ç®—æ³•æ¥è¾…åŠ©æ±‚è§£è¿™ä¸ªæ¸¸æˆäº†ã€‚</p><details data-v-bb2e381b="" id="div_one-stroke-puzzle" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-bb2e381b="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-bb2e381b="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-bb2e381b="" fill="currentColor" d="M4 18q-.825 0-1.412-.587T2 16V8q0-.825.588-1.412T4 6h16q.825 0 1.413.588T22 8v8q0 .825-.587 1.413T20 18zm3-3h2v-2h2v-2H9V9H7v2H5v2h2zm7.5 0q.625 0 1.063-.437T16 13.5t-.437-1.062T14.5 12t-1.062.438T13 13.5t.438 1.063T14.5 15m3-3q.625 0 1.063-.437T19 10.5t-.437-1.062T17.5 9t-1.062.438T16 10.5t.438 1.063T17.5 12"></path></svg>&nbsp;<strong data-v-bb2e381b="" style="font-weight: 600;">ä¸€ç¬”ç”»æ¸¸æˆ</strong><svg data-v-bb2e381b="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-bb2e381b="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-bb2e381b="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-bb2e381b="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-bb2e381b="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-bb2e381b="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-bb2e381b="" class="resizable" style="width: 780px; max-width: 100%; height: 80vh; min-height: 500px; overflow: hidden; resize: both; max-height: 100vh;"><iframe data-v-bb2e381b="" title="game-iframe" allow="clipboard-write; fullscreen;" id="iframe_game_https___labuladong_online_algo_game_zh_one_stroke_puzzle_" src="https://labuladong.online/algo-game/zh/one-stroke-puzzle/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>å‚è€ƒè§£æ³•ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">solveOneStroke</span><span class="token punctuation">(</span><span class="token parameter">graph</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æ ¹æ®åº¦æ•°ç¡®å®šèµ·ç‚¹ï¼ˆé¢˜ç›®ä¿è¯å¿…ç„¶å­˜åœ¨æ¬§æ‹‰è·¯å¾„ï¼‰</span>    <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> node <span class="token keyword">in</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            start <span class="token operator">=</span> node<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä»èµ·ç‚¹å¼€å§‹æ‰§è¡Œ DFS ç®—æ³•ï¼Œè®°å½•ååºéå†ç»“æœ</span>    <span class="token keyword">let</span> postOrder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åè½¬ååºéå†ç»“æœï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰è·¯å¾„</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>postOrder<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">graph<span class="token punctuation">,</span> s<span class="token punctuation">,</span> postOrder</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>graph<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ— å‘å›¾ï¼Œåˆ é™¤ä¸¤æ¡è¾¹</span>        <span class="token keyword">let</span> neighbor <span class="token operator">=</span> graph<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> neighbor<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ååºä½ç½®è®°å½•èŠ‚ç‚¹</span>    postOrder<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç å¯ä»¥æ‰“å°å‡ºæ¬§æ‹‰è·¯å¾„ï¼Œè¾…åŠ©ä½ å®Œæˆä¸€ç¬”ç”»æ¸¸æˆã€‚</p><p>åˆ°è¿™é‡Œï¼ŒHierholzer ç®—æ³•å°±è®²å®Œäº†ï¼Œä¸‹ä¸€ç« æˆ‘ä»¬æ¥çœ‹ä¸€äº›å®é™…çš„ç®—æ³•é¢˜ç›®ã€‚</p><h1 id="ã€ç»ƒä¹ ã€‘æ¬§æ‹‰è·¯å¾„ç»å…¸ä¹ é¢˜"><a href="#ã€ç»ƒä¹ ã€‘æ¬§æ‹‰è·¯å¾„ç»å…¸ä¹ é¢˜" class="headerlink" title="ã€ç»ƒä¹ ã€‘æ¬§æ‹‰è·¯å¾„ç»å…¸ä¹ é¢˜"></a>ã€ç»ƒä¹ ã€‘æ¬§æ‹‰è·¯å¾„ç»å…¸ä¹ é¢˜</h1><p>æ¬§æ‹‰è·¯å¾„ç›¸å…³çš„ç®—æ³•åœ¨åŠ›æ‰£ä¸Šéƒ½æ˜¯ Hard çº§åˆ«çš„é¢˜ç›®ï¼Œå…¶éš¾ç‚¹ä¸»è¦åœ¨äºå¦‚ä½•æŠŠé¢˜ç›®è½¬åŒ–ä¸ºæ±‚è§£æ¬§æ‹‰è·¯å¾„çš„åœºæ™¯ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€äº›ç»å…¸ä¸”æœ‰è¶£çš„é¢˜ç›®ã€‚</p><hr><h2 id="332-é‡æ–°å®‰æ’è¡Œç¨‹"><a href="#332-é‡æ–°å®‰æ’è¡Œç¨‹" class="headerlink" title="332. é‡æ–°å®‰æ’è¡Œç¨‹"></a><a href="https://labuladong.online/algo/problem-set/eulerian-path/#_332-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E8%A1%8C%E7%A8%8B">332. é‡æ–°å®‰æ’è¡Œç¨‹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">332. é‡æ–°å®‰æ’è¡Œç¨‹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/reconstruct-itinerary/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/reconstruct-itinerary/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä»½èˆªçº¿åˆ—è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tickets</code><span>&nbsp;</span>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tickets[i] = [from<sub>i</sub>, to<sub>i</sub>]</code><span>&nbsp;</span>è¡¨ç¤ºé£æœºå‡ºå‘å’Œé™è½çš„æœºåœºåœ°ç‚¹ã€‚è¯·ä½ å¯¹è¯¥è¡Œç¨‹è¿›è¡Œé‡æ–°è§„åˆ’æ’åºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ‰€æœ‰è¿™äº›æœºç¥¨éƒ½å±äºä¸€ä¸ªä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">JFK</code>ï¼ˆè‚¯å°¼è¿ªå›½é™…æœºåœºï¼‰å‡ºå‘çš„å…ˆç”Ÿï¼Œæ‰€ä»¥è¯¥è¡Œç¨‹å¿…é¡»ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">JFK</code><span>&nbsp;</span>å¼€å§‹ã€‚å¦‚æœå­˜åœ¨å¤šç§æœ‰æ•ˆçš„è¡Œç¨‹ï¼Œè¯·ä½ æŒ‰å­—å…¸æ’åºè¿”å›æœ€å°çš„è¡Œç¨‹ç»„åˆã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œè¡Œç¨‹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">["JFK", "LGA"]</code><span>&nbsp;</span>ä¸<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">["JFK", "LGB"]</code><span>&nbsp;</span>ç›¸æ¯”å°±æ›´å°ï¼Œæ’åºæ›´é å‰ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å‡å®šæ‰€æœ‰æœºç¥¨è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è¡Œç¨‹ã€‚ä¸”æ‰€æœ‰çš„æœºç¥¨ å¿…é¡»éƒ½ç”¨ä¸€æ¬¡ ä¸” åªèƒ½ç”¨ä¸€æ¬¡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/14/itinerary1-graph.jpg" style="max-width: 100%; width: 382px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tickets = [["MUC","LHR"],["JFK","MUC"],["SFO","SJC"],["LHR","SFO"]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["JFK","MUC","LHR","SFO","SJC"]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/14/itinerary2-graph.jpg" style="max-width: 100%; width: 222px; height: 230px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tickets = [["JFK","SFO"],["JFK","ATL"],["SFO","ATL"],["ATL","JFK"],["ATL","SFO"]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["JFK","ATL","JFK","SFO","ATL","SFO"]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å¦ä¸€ç§æœ‰æ•ˆçš„è¡Œç¨‹æ˜¯ ["JFK","SFO","ATL","JFK","ATL","SFO"] ï¼Œä½†æ˜¯å®ƒå­—å…¸æ’åºæ›´å¤§æ›´é åã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= tickets.length &lt;= 300</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tickets[i].length == 2</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">from<sub>i</sub>.length == 3</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to<sub>i</sub>.length == 3</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">from<sub>i</sub></code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to<sub>i</sub></code><span>&nbsp;</span>ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆ</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">from<sub>i</sub><span>&nbsp;</span>!= to<sub>i</sub></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/reconstruct-itinerary/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 332. é‡æ–°å®‰æ’è¡Œç¨‹</a>ã€‚</strong></details><p>è¿™é“é¢˜å¯ä»¥æŒ‰ç…§ <a href="https://labuladong.online/algo/essential-technique/backtrack-framework/">å›æº¯ç®—æ³•æ¡†æ¶</a> å†™ä¸€ä¸ªå›æº¯ç®—æ³•æš´åŠ›ç©·ä¸¾æ‰€æœ‰è·¯å¾„ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è¡Œç¨‹ã€‚å‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># é‚»æ¥è¡¨å½¢å¼çš„å›¾ï¼Œkey æ˜¯æœºåœºåå­—ï¼Œvalue æ˜¯ä»è¯¥æœºåœºå‡ºå‘èƒ½å¤Ÿåˆ°è¾¾çš„æœºåœºåˆ—è¡¨</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token comment"># å’Œ graph å¯¹åº”ï¼Œè®°å½•æ¯å¼ æœºç¥¨æ˜¯å¦è¢«ä½¿ç”¨è¿‡</span>        <span class="token comment"># æ¯”å¦‚ graph["JFK"][2] = true è¯´æ˜ä»æœºåœº JFK å‡ºå‘çš„ç¬¬ 3 å¼ æœºç¥¨å·²ç»ç”¨è¿‡äº†</span>        self<span class="token punctuation">.</span>used <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        self<span class="token punctuation">.</span>tickets <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token comment"># å›æº¯ç®—æ³•ä½¿ç”¨çš„æ•°æ®ç»“æ„</span>        self<span class="token punctuation">.</span>track <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># å›æº¯ç®—æ³•è®°å½•ç»“æœ</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">findItinerary</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tickets<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>tickets <span class="token operator">=</span> tickets        <span class="token comment"># 1. ç”¨æœºåœºçš„åå­—æ„å»ºé‚»æ¥è¡¨</span>        <span class="token keyword">for</span> ticket <span class="token keyword">in</span> tickets<span class="token punctuation">:</span>            from_airport <span class="token operator">=</span> ticket<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            to_airport <span class="token operator">=</span> ticket<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            <span class="token keyword">if</span> from_airport <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>from_airport<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>from_airport<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>to_airport<span class="token punctuation">)</span>        <span class="token comment"># 2. å¯¹é‚»æ¥è¡¨çš„æ¯ä¸€è¡Œè¿›è¡Œæ’åºï¼Œä¿è¯å­—å…¸åºæœ€å°</span>        <span class="token keyword">for</span> lst <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            lst<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># 3. åˆå§‹åŒ– used ç»“æ„ï¼Œåˆå§‹å€¼éƒ½ä¸º false</span>        <span class="token keyword">for</span> key <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">:</span>            size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>used<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span><span class="token punctuation">]</span> <span class="token operator">*</span> size        <span class="token comment"># 4. ä»èµ·ç‚¹ "JFK" å¼€å§‹å¯åŠ¨ DFS ç®—æ³•é€’å½’éå†</span>        self<span class="token punctuation">.</span>track<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"JFK"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>backtrack<span class="token punctuation">(</span><span class="token string">"JFK"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> airport<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>res <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å·²ç»æ‰¾åˆ°ç­”æ¡ˆäº†ï¼Œä¸ç”¨å†è®¡ç®—äº†</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>track<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>tickets<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># track é‡Œé¢åŒ…å«äº†æ‰€æœ‰çš„æœºç¥¨ï¼Œå³å¾—åˆ°äº†ä¸€ä¸ªåˆæ³•çš„ç»“æœ</span>            <span class="token comment"># æ³¨æ„ tickets.size() è¦åŠ ä¸€ï¼Œå› ä¸º track é‡Œé¢é¢å¤–åŒ…å«äº†èµ·ç‚¹ "JFK"</span>            self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>track<span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> airport <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">:</span>            <span class="token comment"># æ²¡æœ‰ä» s å‡ºå‘çš„è¾¹</span>            <span class="token keyword">return</span>        <span class="token comment"># éå†å½“å‰æœºåœºæ‰€æœ‰èƒ½å¤Ÿåˆ°è¾¾çš„æœºåœº</span>        nextAirports <span class="token operator">=</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>airport<span class="token punctuation">]</span>        <span class="token keyword">for</span> nextIndex <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nextAirports<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            nextAirport <span class="token operator">=</span> nextAirports<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>used<span class="token punctuation">[</span>airport<span class="token punctuation">]</span><span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># å¦‚æœè¿™å¼ æœºç¥¨è¢«ä½¿ç”¨è¿‡ï¼Œè·³è¿‡</span>                <span class="token keyword">continue</span>            <span class="token comment"># åšé€‰æ‹©</span>            self<span class="token punctuation">.</span>used<span class="token punctuation">[</span>airport<span class="token punctuation">]</span><span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>            self<span class="token punctuation">.</span>track<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nextAirport<span class="token punctuation">)</span>            <span class="token comment"># é€’å½’</span>            self<span class="token punctuation">.</span>backtrack<span class="token punctuation">(</span>nextAirport<span class="token punctuation">)</span>            <span class="token comment"># æ’¤é”€é€‰æ‹©</span>            self<span class="token punctuation">.</span>used<span class="token punctuation">[</span>airport<span class="token punctuation">]</span><span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>            self<span class="token punctuation">.</span>track<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸è¿‡åæ¥åŠ›æ‰£ä¼¼ä¹å¢åŠ äº†ä¸€äº›æµ‹è¯•ç”¨ä¾‹ï¼Œå¯¼è‡´å›æº¯ç®—æ³•è¶…æ—¶äº†ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™é“é¢˜åº”è¯¥æ˜¯æƒ³è€ƒå¯Ÿå¯»æ‰¾ <a href="https://labuladong.online/algo/data-structure-basic/eulerian-graph/">æ¬§æ‹‰è·¯å¾„</a>ã€‚<a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/">Hierholzer ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„</a> è¯¦ç»†è®²è§£äº† Hierholzer ç®—æ³•çš„åŸç†å’Œä»£ç ï¼Œè¿™é‡Œç›´æ¥å¥—ç”¨å³å¯ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¢˜ç›®å·²ç»ä¿è¯å¿…ç„¶å­˜åœ¨ä»¥ â€œJFKâ€ ä¸ºèµ·ç‚¹çš„æ¬§æ‹‰è·¯å¾„ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†æèŠ‚ç‚¹çš„åº¦æ•°å¯»æ‰¾æ¬§æ‹‰è·¯å¾„çš„èµ·ç‚¹ï¼›å¦å¤–ï¼Œé¢˜ç›®è¦æ±‚è¿”å›å­—å…¸åºæœ€å°çš„è¡Œç¨‹ï¼Œæ‰€ä»¥éœ€è¦å¯¹é‚»æ¥è¡¨ä¸­çš„æ¯ä¸€ä¸ªåˆ—è¡¨è¿›è¡Œæ’åºï¼Œç¡®ä¿ DFS ç®—æ³•å…ˆéå†å­—å…¸åºæœ€å°çš„èŠ‚ç‚¹ï¼Œæœ€ç»ˆå¾—åˆ°çš„æ¬§æ‹‰è·¯å¾„å°±æ˜¯å­—å…¸åºæœ€å°çš„ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">findItinerary</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tickets<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># æ„å»ºé‚»æ¥è¡¨</span>        <span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict        graph <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> ticket <span class="token keyword">in</span> tickets<span class="token punctuation">:</span>            graph<span class="token punctuation">[</span>ticket<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>ticket<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># å¯¹æ¯ä¸ªå‡ºå‘ç‚¹çš„ç›®çš„åœ°è¿›è¡Œæ’åºï¼Œç¡®ä¿å­—å…¸åº</span>        <span class="token keyword">for</span> from_city <span class="token keyword">in</span> graph<span class="token punctuation">:</span>            graph<span class="token punctuation">[</span>from_city<span class="token punctuation">]</span><span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># Hierholzer ç®—æ³•å¯»æ‰¾ä»¥ JFK ä¸ºèµ·ç‚¹çš„æ¬§æ‹‰è·¯å¾„</span>        <span class="token comment"># è®¡ç®—ä»¥ JFK ä¸ºèµ·ç‚¹çš„ååºéå†ç»“æœ</span>        postOrder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token string">"JFK"</span><span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span>        <span class="token comment"># åè½¬ååºéå†ç»“æœï¼Œå¾—åˆ°æ¬§æ‹‰è·¯å¾„</span>        postOrder<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> postOrder    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> graph<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">,</span> node<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> postOrder<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> node <span class="token keyword">not</span> <span class="token keyword">in</span> graph<span class="token punctuation">:</span>            postOrder<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token comment"># å¤åˆ¶èŠ‚ç‚¹åˆ—è¡¨ï¼Œé¿å…åœ¨éå†è¿‡ç¨‹ä¸­ä¿®æ”¹åŸåˆ—è¡¨</span>        <span class="token keyword">while</span> graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">:</span>            v <span class="token operator">=</span> graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> v<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span>        <span class="token comment"># è·å–ååºéå†ç»“æœ</span>        postOrder<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2097-åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹"><a href="#2097-åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹" class="headerlink" title="2097. åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹"></a><a href="https://labuladong.online/algo/problem-set/eulerian-path/#_2097-%E5%90%88%E6%B3%95%E9%87%8D%E6%96%B0%E6%8E%92%E5%88%97%E6%95%B0%E5%AF%B9">2097. åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">2097. åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/valid-arrangement-of-pairs/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/valid-arrangement-of-pairs/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">0</strong>&nbsp;å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code>&nbsp;ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs[i] = [start<sub>i</sub>, end<sub>i</sub>]</code>&nbsp;ã€‚å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code>&nbsp;çš„ä¸€ä¸ªé‡æ–°æ’åˆ—ï¼Œæ»¡è¶³å¯¹æ¯ä¸€ä¸ªä¸‹æ ‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>ï¼ˆ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= i &lt; pairs.length</code>&nbsp;ï¼‰éƒ½æœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">end<sub>i-1</sub><span>&nbsp;</span>== start<sub>i</sub></code><sub><span>&nbsp;</span></sub>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªé‡æ–°æ’åˆ—æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code><span>&nbsp;</span>çš„ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">åˆæ³•é‡æ–°æ’åˆ—</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„ä¸€ä¸ª</strong>&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code><span>&nbsp;</span>çš„åˆæ³•é‡æ–°æ’åˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><b>æ³¨æ„ï¼š</b>æ•°æ®ä¿è¯è‡³å°‘å­˜åœ¨ä¸€ä¸ª<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code>&nbsp;çš„åˆæ³•é‡æ–°æ’åˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>pairs = [[5,1],[4,5],[11,9],[9,4]]<b>è¾“å‡ºï¼š</b>[[11,9],[9,4],[4,5],[5,1]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¾“å‡ºçš„æ˜¯ä¸€ä¸ªåˆæ³•é‡æ–°æ’åˆ—ï¼Œå› ä¸ºæ¯ä¸€ä¸ª end<sub>i-1</sub> éƒ½ç­‰äº start<sub>i</sub>&nbsp;ã€‚end<sub>0</sub> = 9 == 9 = start<sub>1</sub> end<sub>1</sub> = 4 == 4 = start<sub>2</sub>end<sub>2</sub> = 5 == 5 = start<sub>3</sub></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>pairs = [[1,3],[3,2],[2,1]]<b>è¾“å‡ºï¼š</b>[[1,3],[3,2],[2,1]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¾“å‡ºçš„æ˜¯ä¸€ä¸ªåˆæ³•é‡æ–°æ’åˆ—ï¼Œå› ä¸ºæ¯ä¸€ä¸ª end<sub>i-1</sub> éƒ½ç­‰äº start<sub>i</sub>&nbsp;ã€‚end<sub>0</sub> = 3 == 3 = start<sub>1</sub>end<sub>1</sub> = 2 == 2 = start<sub>2</sub>é‡æ–°æ’åˆ—åçš„æ•°ç»„ [[2,1],[1,3],[3,2]] å’Œ [[3,2],[2,1],[1,3]] éƒ½æ˜¯åˆæ³•çš„ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>pairs = [[1,2],[1,3],[2,1]]<b>è¾“å‡ºï¼š</b>[[1,2],[2,1],[1,3]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¾“å‡ºçš„æ˜¯ä¸€ä¸ªåˆæ³•é‡æ–°æ’åˆ—ï¼Œå› ä¸ºæ¯ä¸€ä¸ª end<sub>i-1</sub> éƒ½ç­‰äº start<sub>i</sub>&nbsp;ã€‚end<sub>0</sub> = 2 == 2 = start<sub>1</sub>end<sub>1</sub> = 1 == 1 = start<sub>2</sub></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= pairs.length &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs[i].length == 2</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= start<sub>i</sub>, end<sub>i</sub><span>&nbsp;</span>&lt;= 10<sup>9</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">start<sub>i</sub><span>&nbsp;</span>!= end<sub>i</sub></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code>&nbsp;ä¸­ä¸å­˜åœ¨ä¸€æ¨¡ä¸€æ ·çš„æ•°å¯¹ã€‚</li><li>è‡³å°‘<span>&nbsp;</span><strong style="font-weight: 600;">å­˜åœ¨</strong><span>&nbsp;</span>ä¸€ä¸ªåˆæ³•çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pairs</code>&nbsp;é‡æ–°æ’åˆ—ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/valid-arrangement-of-pairs/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 2097. åˆæ³•é‡æ–°æ’åˆ—æ•°å¯¹</a>ã€‚</strong></details><p>è¿™é“é¢˜å±äº <a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/">Hierholzer ç®—æ³•å¯»æ‰¾æ¬§æ‹‰è·¯å¾„</a> çš„æ¨¡æ¿é¢˜ï¼Œç›´æ¥å¥—ç”¨æ¨¡æ¿å³å¯ã€‚</p><p><code>pairs</code> æ•°ç»„ä¸­æ¯ä¸ªæ•°å¯¹ <code>[a, b]</code> è¡¨ç¤ºä¸€æ¡ <code>a-&gt;b</code> çš„æœ‰å‘è¾¹ï¼Œé¢˜ç›®å…¶å®æ˜¯è¦æˆ‘ä»¬åœ¨å›¾ä¸­æ‰¾åˆ°ä¸€æ¡æ¬§æ‹‰è·¯å¾„ã€‚</p><p>æœ€åæ‰¾åˆ°çš„è¿™æ¡æ¬§æ‹‰è·¯å¾„ä¸­ï¼Œæ¯ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹ç»„æˆä¸€ä¸ªæ•°å¯¹ï¼Œå°±å¾—åˆ°äº†é¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆã€‚</p><p>æ¯”å¦‚è¯´æ¬§æ‹‰è·¯å¾„ä¸º <code>0-&gt;1-&gt;2-&gt;3-&gt;1</code>ï¼Œé‚£ä¹ˆé¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆå°±æ˜¯ <code>[[0, 1], [1, 2], [2, 3], [3, 1]]</code>ã€‚</p><p>å…·ä½“è¯·çœ‹è§£æ³•ä»£ç çš„æ³¨é‡Šã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">validArrangement</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pairs<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># å»ºå›¾</span>        <span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict<span class="token punctuation">,</span> deque        graph <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>        inDegree <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>        outDegree <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> pair <span class="token keyword">in</span> pairs<span class="token punctuation">:</span>            from_<span class="token punctuation">,</span> to <span class="token operator">=</span> pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pair<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>            graph<span class="token punctuation">[</span>from_<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>to<span class="token punctuation">)</span>            inDegree<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>            outDegree<span class="token punctuation">[</span>from_<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># æ‰¾èµ·ç‚¹ï¼Œé¢˜ç›®è¯´äº†å¿…ç„¶å­˜åœ¨ä¸€ä¸ªèµ·ç‚¹</span>        <span class="token comment"># æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯»æ‰¾å‡ºåº¦æ¯”å…¥åº¦å¤§ 1 çš„èŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹</span>        <span class="token comment"># å¦‚æœæ²¡æœ‰å‡ºåº¦æ¯”å…¥åº¦å¤§ 1 çš„èŠ‚ç‚¹ï¼Œè¯´æ˜å­˜åœ¨æ¬§æ‹‰å›è·¯</span>        <span class="token comment"># ä»»é€‰ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹å°±å¯ä»¥</span>        start <span class="token operator">=</span> pairs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> node <span class="token keyword">in</span> graph<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> outDegree<span class="token punctuation">.</span>get<span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">-</span> inDegree<span class="token punctuation">.</span>get<span class="token punctuation">(</span>node<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                start <span class="token operator">=</span> node                <span class="token keyword">break</span>        <span class="token comment"># ä»èµ·ç‚¹å¼€å§‹ DFS éå†ï¼Œè®¡ç®—ååºéå†ç»“æœ</span>        postOrder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> node<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">while</span> graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># å¼¹å‡ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºæ•°ç»„åˆ é™¤æœ€åå…ƒç´ çš„å¤æ‚åº¦æ˜¯ O(1)</span>                to <span class="token operator">=</span> graph<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> to<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span>            postOrder<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        traverse<span class="token punctuation">(</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> postOrder<span class="token punctuation">)</span>        <span class="token comment"># åè½¬ååºéå†ç»“æœï¼Œå¾—åˆ°æ¬§æ‹‰è·¯å¾„</span>        postOrder<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å°†ååºéå†ç»“æœè½¬æ¢ä¸ºç»“æœæ•°ç»„</span>        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>pairs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>postOrder<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> postOrder<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="753-ç ´è§£ä¿é™©ç®±"><a href="#753-ç ´è§£ä¿é™©ç®±" class="headerlink" title="753. ç ´è§£ä¿é™©ç®±"></a><a href="https://labuladong.online/algo/problem-set/eulerian-path/#_753-%E7%A0%B4%E8%A7%A3%E4%BF%9D%E9%99%A9%E7%AE%B1">753. ç ´è§£ä¿é™©ç®±</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">753. ç ´è§£ä¿é™©ç®±</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/cracking-the-safe/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/cracking-the-safe/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰ä¸€ä¸ªéœ€è¦å¯†ç æ‰èƒ½æ‰“å¼€çš„ä¿é™©ç®±ã€‚å¯†ç æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä½æ•°, å¯†ç çš„æ¯ä¸€ä½éƒ½æ˜¯èŒƒå›´&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, k - 1]</code>&nbsp;ä¸­çš„ä¸€ä¸ªæ•°å­—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¿é™©ç®±æœ‰ä¸€ç§ç‰¹æ®Šçš„å¯†ç æ ¡éªŒæ–¹æ³•ï¼Œä½ å¯ä»¥éšæ„è¾“å…¥å¯†ç åºåˆ—ï¼Œä¿é™©ç®±ä¼šè‡ªåŠ¨è®°ä½<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä½è¾“å…¥</strong><span>&nbsp;</span>ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™èƒ½å¤Ÿæ‰“å¼€ä¿é™©ç®±ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œæ­£ç¡®çš„å¯†ç æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"345"</code><span>&nbsp;</span>ï¼Œå¹¶ä¸”ä½ è¾“å…¥çš„æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"012345"</code><span>&nbsp;</span>ï¼š<ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"0"</code><span>&nbsp;</span>ï¼Œä¸æ­£ç¡®ã€‚</li><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"01"</code><span>&nbsp;</span>ï¼Œä¸æ­£ç¡®ã€‚</li><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"012"</code><span>&nbsp;</span>ï¼Œä¸æ­£ç¡®ã€‚</li><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"123"</code><span>&nbsp;</span>ï¼Œä¸æ­£ç¡®ã€‚</li><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">4</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"234"</code><span>&nbsp;</span>ï¼Œä¸æ­£ç¡®ã€‚</li><li>è¾“å…¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">5</code><span>&nbsp;</span>ä¹‹åï¼Œæœ€å<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ä½è¾“å…¥æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"345"</code><span>&nbsp;</span>ï¼Œæ­£ç¡®ï¼Œæ‰“å¼€ä¿é™©ç®±ã€‚</li></ul></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨åªçŸ¥é“å¯†ç ä½æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>å’ŒèŒƒå›´è¾¹ç•Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>çš„å‰æä¸‹ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¡®ä¿åœ¨è¾“å…¥çš„<span>&nbsp;</span><strong style="font-weight: 600;">æŸä¸ªæ—¶åˆ»</strong><span>&nbsp;</span>èƒ½å¤Ÿæ‰“å¼€ä¿é™©ç®±çš„ä»»ä¸€<span>&nbsp;</span><strong style="font-weight: 600;">æœ€çŸ­</strong><span>&nbsp;</span>å¯†ç åºåˆ— ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 1, k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"10"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å¯†ç åªæœ‰ 1 ä½ï¼Œæ‰€ä»¥è¾“å…¥æ¯ä¸€ä½å°±å¯ä»¥ã€‚"01" ä¹Ÿèƒ½å¤Ÿç¡®ä¿æ‰“å¼€ä¿é™©ç®±ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 2, k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"01100"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å¯¹äºæ¯ç§å¯èƒ½çš„å¯†ç ï¼š- "00" ä»ç¬¬ 4 ä½å¼€å§‹è¾“å…¥ã€‚- "01" ä»ç¬¬ 1 ä½å¼€å§‹è¾“å…¥ã€‚- "10" ä»ç¬¬ 3 ä½å¼€å§‹è¾“å…¥ã€‚- "11" ä»ç¬¬ 2 ä½å¼€å§‹è¾“å…¥ã€‚å› æ­¤ "01100" å¯ä»¥ç¡®ä¿æ‰“å¼€ä¿é™©ç®±ã€‚"01100"ã€"10011" å’Œ "11001" ä¹Ÿå¯ä»¥ç¡®ä¿æ‰“å¼€ä¿é™©ç®±ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 4</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= 10</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k<sup>n</sup><span>&nbsp;</span>&lt;= 4096</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/cracking-the-safe/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 753. ç ´è§£ä¿é™©ç®±</a>ã€‚</strong></details><p>é¦–å…ˆè¦ç¡®ä¿ä½ ç†è§£äº†é¢˜ç›®ï¼Œæ¯”å¦‚è¯´ <code>n = 2, k = 3</code> çš„ä¾‹å­ï¼Œæ‰€æœ‰å¯èƒ½çš„å¯†ç æœ‰ 32&#x3D;932&#x3D;9 ç§ï¼ˆå…¨æ’åˆ—ï¼‰ï¼Œåˆ†åˆ«æ˜¯ <code>00, 01, 02, 10, 11, 12, 20, 21, 22</code>ã€‚</p><p>é‚£ä¹ˆå¦‚æœæˆ‘æŠŠè¿™ 9 ä¸ªæ’åˆ—ç›´æ¥é“¾æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°±å¾—åˆ°äº† <code>000102101112202122</code>ï¼Œé•¿åº¦ä¸º 2Ã—9&#x3D;182Ã—9&#x3D;18ã€‚</p><p>å¦‚æœæŠŠè¿™ä¸ªå­—ç¬¦ä¸²è¾“å…¥ç»™å¯†ç ç®±ï¼Œå¿…ç„¶èƒ½å¤Ÿæ‰“å¼€å¯†ç ç®±ï¼Œå› ä¸ºå…¶ä¸­å·²ç»åŒ…å«äº†æ‰€æœ‰å¯èƒ½çš„å¯†ç ã€‚</p><p>ä¸è¿‡é¢˜ç›®è¦æ±‚æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªæœ€çŸ­çš„å¯†ç ç ´è§£åºåˆ—ï¼Œè€Œè¿™ä¸ªå­—ç¬¦ä¸²å¹¶ä¸æ˜¯æœ€çŸ­çš„ã€‚æ¯”æ–¹è¯´ <code>0221120100</code> åº”è¯¥æ˜¯æœ€ä¼˜è§£ï¼Œä½ çœ‹è¿™ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«äº† 9 ç§å¯†ç ï¼Œä¸”é•¿åº¦ä»…ä¸º 10ï¼Œå°äº 18ã€‚</p><p>æ‰€ä»¥è¿™ä¸ªé¢˜ç›®ä¸æ˜¯ä¸€ä¸ªç®€å•çš„æ’åˆ—ç»„åˆé—®é¢˜ï¼Œéœ€è¦æ›´å·§å¦™çš„è§£æ³•ã€‚</p><p>è¿™ç±»ã€ŒåŒ…å«æ‰€æœ‰å…¨æ’åˆ—çš„æœ€çŸ­åºåˆ—ã€æ˜¯ç»å…¸çš„æ¬§æ‹‰è·¯å¾„é—®é¢˜ï¼Œæ²¡æœ‰äº†è§£è¿‡è¿™ç±»é—®é¢˜çš„è¯ï¼Œå‡ ä¹æ²¡åŠæ³•æƒ³åˆ°å¦‚ä½•æŠŠè¿™ä¸ªé¢˜æŠ½è±¡æˆå¯»æ‰¾æ¬§æ‹‰å›è·¯çš„åœºæ™¯ã€‚æ‰€ä»¥æˆ‘ç›´æ¥è¯´è§£æ³•ï¼Œå¤§å®¶æŠŠè¿™ä¸ªç ´è§£å¯†ç çš„åœºæ™¯è®°ä¸‹æ¥å³å¯ã€‚</p><p>è®©æˆ‘ä»¬è€ƒè™‘ <code>n=3, k=2</code> çš„ä¾‹å­ï¼Œæ‰€æœ‰å¯èƒ½çš„å¯†ç æœ‰ 23&#x3D;823&#x3D;8 ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">000</span> <span class="token number">001</span><span class="token number">010</span> <span class="token number">011</span><span class="token number">100</span> <span class="token number">101</span><span class="token number">110</span> <span class="token number">111</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ç°åœ¨æƒ³è®¡ç®—ä¸€ä¸ªæœ€çŸ­çš„å­—ç¬¦ä¸² <code>t</code>ï¼Œä½¿å¾— <code>t</code> ä¸­åŒ…å«ä¸Šé¢æ‰€æœ‰ 8 ä¸ªå¯†ç ï¼Œä¸” <code>t</code> çš„é•¿åº¦å°½å¯èƒ½å°ã€‚</p><p>é¦–å…ˆï¼Œåˆ—å‡º <code>n=2, k=2</code> çš„ 22&#x3D;422&#x3D;4 ç§å…¨æ’åˆ—ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">00</span> <span class="token number">01</span><span class="token number">10</span> <span class="token number">11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æŠŠè¿™ 4 ä¸ªæ’åˆ—è§†ä¸ºä¸€å¹…æœ‰å‘å›¾ä¸­çš„ 4 ä¸ªèŠ‚ç‚¹ï¼š</p><p>ç»™è¿™å¹…å›¾æ·»åŠ è‹¥å¹²æœ‰å‘è¾¹ï¼Œå°±å¯ä»¥æ¨å¯¼å‡º <code>n=3, k=2</code> çš„æœ€çŸ­å¯†ç åºåˆ—äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ <code>k</code> æ¡å‡ºè¾¹æŒ‡å‘å…¶ä»–èŠ‚ç‚¹ï¼ˆä¹Ÿå¯ä»¥æŒ‡å‘è‡ªå·±ï¼‰ï¼Œæ¯ä¸€æ¡è¾¹éƒ½ä»£è¡¨ç€ä¸€ä½æ–°çš„å¯†ç ã€‚</p><p>æ¯”æ–¹è¯´èŠ‚ç‚¹ <code>00</code> æœ‰ 2 æ¡å‡ºè¾¹ï¼Œåˆ†åˆ«ä»£è¡¨ç€ <code>0, 1</code> ä¸¤ä½æ•°å­—ï¼Œä¹Ÿå°±æ˜¯è¯´ä» <code>00</code> å‡ºå‘ï¼Œå¯ä»¥ç”Ÿæˆ <code>000, 001</code> ä¸¤ä¸ªæ–°å¯†ç ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬çš„å›¾ç»“æ„ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½åªæœ‰ä¸¤ä½ï¼Œå¹¶ä¸å­˜åœ¨ <code>000, 001</code> è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œåº”è¯¥å¦‚ä½•æ·»åŠ  <code>00-&gt;000, 00-&gt;001</code> è¿™ä¸¤æ¡è¾¹å‘¢ï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œæˆ‘ä»¬ä»…çœ‹åç¼€ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠ <code>00</code> èŠ‚ç‚¹è¿æ¥åˆ° <code>00, 01</code> è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå³æ·»åŠ  <code>00-&gt;00, 00-&gt;01</code> è¿™ä¸¤æ¡è¾¹ã€‚</p><p>å…¶ä»–èŠ‚ç‚¹åŒç†ï¼Œ<code>01</code> èŠ‚ç‚¹è¿æ¥åˆ° <code>10, 11</code> è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œ<code>10</code> èŠ‚ç‚¹è¿æ¥åˆ° <code>00, 01</code> è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œ<code>11</code> èŠ‚ç‚¹è¿æ¥åˆ° <code>10, 11</code> è¿™ä¸¤ä¸ªèŠ‚ç‚¹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæœ‰å‘å›¾å›¾ç»“æ„å°±å»ºå¥½äº†ï¼š</p><p>å¯¹äºè¿™å¹…æœ‰å‘å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ <code>k=2</code> æ¡å‡ºè¾¹ï¼ŒåŒæ—¶ä¹Ÿæœ‰ <code>k=2</code> æ¡å…¥è¾¹ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€å¹…æ¬§æ‹‰å›¾ï¼Œå­˜åœ¨ <a href="https://labuladong.online/algo/data-structure-basic/eulerian-graph/">æ¬§æ‹‰å›è·¯</a>ï¼Œèƒ½å¤Ÿä»ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘ï¼Œéå†æ‰€æœ‰è¾¹æ°å¥½ä¸€æ¬¡ï¼Œæœ€ç»ˆå›åˆ°èµ·ç‚¹ã€‚</p><p><strong>è€Œè¿™æ¡æ¬§æ‹‰å›è·¯ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºæˆ‘ä»¬æƒ³è¦çš„å¯†ç ç ´è§£åºåˆ—</strong>ã€‚</p><p>æ¯”æ–¹è¯´ä¸€ä¸ªæ­£ç¡®çš„æœ€çŸ­åºåˆ—æ˜¯ <code>t = &quot;0011101000&quot;</code>ï¼Œä½“ç°åœ¨å›¾ä¸­å°±æ˜¯ä»¥ <code>00</code> ä½œä¸ºèµ·ç‚¹çš„æ¬§æ‹‰å›è·¯ï¼Œæ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥ <code>00</code> èŠ‚ç‚¹ä½œä¸ºæ¬§æ‹‰è·¯å¾„çš„èµ·ç‚¹ï¼Œåˆå§‹åŒ– <code>t = &quot;00&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>00</code> ç»è¿‡è¾¹ <code>1</code> åˆ°è¾¾èŠ‚ç‚¹ <code>01</code>ï¼Œæ­¤æ—¶ <code>t = &quot;001&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>01</code> ç»è¿‡è¾¹ <code>1</code> åˆ°è¾¾èŠ‚ç‚¹ <code>11</code>ï¼Œæ­¤æ—¶ <code>t = &quot;0011&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>11</code> ç»è¿‡è¾¹ <code>1</code> åˆ°è¾¾èŠ‚ç‚¹ <code>11</code>ï¼Œæ­¤æ—¶ <code>t = &quot;00111&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>11</code> ç»è¿‡è¾¹ <code>0</code> åˆ°è¾¾èŠ‚ç‚¹ <code>10</code>ï¼Œæ­¤æ—¶ <code>t = &quot;001110&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>10</code> ç»è¿‡è¾¹ <code>1</code> åˆ°è¾¾èŠ‚ç‚¹ <code>01</code>ï¼Œæ­¤æ—¶ <code>t = &quot;0011101&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>01</code> ç»è¿‡è¾¹ <code>0</code> åˆ°è¾¾èŠ‚ç‚¹ <code>10</code>ï¼Œæ­¤æ—¶ <code>t = &quot;00111010&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>10</code> ç»è¿‡è¾¹ <code>0</code> åˆ°è¾¾èŠ‚ç‚¹ <code>00</code>ï¼Œæ­¤æ—¶ <code>t = &quot;001110100&quot;</code>ã€‚</p><p>èŠ‚ç‚¹ <code>00</code> ç»è¿‡è¾¹ <code>0</code> åˆ°è¾¾èŠ‚ç‚¹ <code>00</code>ï¼Œæ­¤æ—¶ <code>t = &quot;0011101000&quot;</code>ã€‚</p><p>è¿™å°±æ˜¯ä¸€æ¡æ¬§æ‹‰å›è·¯ï¼Œæˆ‘ä»¬ä» <code>00</code> èŠ‚ç‚¹å‡ºå‘ï¼Œéå†äº†å›¾ä¸­çš„æ‰€æœ‰è¾¹ï¼Œæœ€ç»ˆå›åˆ°äº† <code>00</code> èŠ‚ç‚¹ï¼ŒåŒæ—¶å¾—åˆ°äº†å¯†ç ç ´è§£åºåˆ— <code>t = &quot;0011101000&quot;</code>ã€‚</p><p>ä¸Šè¿°è¿‡ç¨‹å°±æ˜¯è¿™é“é¢˜çš„æ ¸å¿ƒæ€è·¯ï¼Œç›´æ¥ç¿»è¯‘æˆä»£ç ï¼Œåº”è¯¥å°±å¯ä»¥å®Œæˆè¿™é“é¢˜ã€‚</p><p>é¦–å…ˆç”¨å›æº¯ç®—æ³•è®¡ç®—å‡º knâˆ’1<em>k**n</em>âˆ’1 ä¸ªå…¨æ’åˆ—ä½œä¸ºèŠ‚ç‚¹æ„å»ºå›¾ç»“æ„ï¼Œç„¶åä»»é€‰ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œæ‰§è¡Œ <a href="https://labuladong.online/algo/data-structure/eulerian-graph-hierholzer/">Hierholzer ç®—æ³•</a> è®¡ç®—æ¬§æ‹‰å›è·¯ï¼Œæœ€åæ‹¼æ¥å‡ºæœ€ç»ˆç­”æ¡ˆã€‚</p><p>é¢˜ç›®ç»™çš„å–å€¼èŒƒå›´ kn&lt;&#x3D;4096<em>k**n</em>&lt;&#x3D;4096ï¼Œå¹¶ä¸ç®—å¤§ï¼Œæ‰€ä»¥å›æº¯ç®—æ³•è®¡ç®—å…¨æ’åˆ—ä¹Ÿä¸ä¼šå¾ˆè€—æ—¶ã€‚</p><p>ä½†å…¶å®æœ‰æ›´ç®€å•çš„åŠæ³•ï¼Œä¸éœ€è¦è®¡ç®—å…¨æ’åˆ—ï¼Œç”šè‡³éƒ½ä¸éœ€è¦ç”¨é‚»æ¥è¡¨&#x2F;é‚»æ¥çŸ©é˜µæ„å»ºå›¾ç»“æ„ï¼Œå°±èƒ½å®Œæˆè¿™é“é¢˜ã€‚</p><p>æ³¨æ„è§‚å¯Ÿå¯ä»¥å‘ç°ä»¥ä¸‹è§„å¾‹ï¼š</p><p>1ã€é™¤äº†èµ·ç‚¹ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç”¨åˆ°å…¶ä»–èŠ‚ç‚¹çš„å€¼ï¼Œä¸»è¦æ˜¯é€šè¿‡è¾¹ä¸Šçš„å€¼æ‹¼æ¥å‡ºæœ€ç»ˆç­”æ¡ˆçš„ã€‚</p><p>2ã€æ¯ä¸ªèŠ‚ç‚¹å¿…ç„¶æœ‰ <code>k</code> æ¡å‡ºè¾¹ï¼Œè¾¹ä¸Šçš„å€¼æ˜¯ <code>0, 1, 2, ..., k-1</code>ã€‚</p><p>3ã€é¢˜ç›®è¯´ 1&lt;&#x3D;k&lt;&#x3D;101&lt;&#x3D;<em>k</em>&lt;&#x3D;10ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡å½“å‰èŠ‚ç‚¹çš„å€¼å’Œè¾¹çš„å€¼æ¨å¯¼å‡ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³ <code>(å½“å‰èŠ‚ç‚¹å€¼ * 10 + è¾¹å€¼) % 10^&#123;n-1&#125;</code>ã€‚</p><p>æ¯”æ–¹è¯´ <code>10</code> èŠ‚ç‚¹ç»è¿‡è¾¹ <code>1</code> åˆ°è¾¾ <code>01</code> èŠ‚ç‚¹ï¼Œå³ <code>(10 * 10 + 1) % 10^2 = 1</code>ã€‚</p><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨é‚»æ¥è¡¨&#x2F;é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ç»“æ„ï¼Œå…·ä½“çœ‹ä»£ç å§ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è®°å½•å“ªäº›è¾¹è¢«è®¿é—®è¿‡ï¼Œå…¶ä¸­çš„å…ƒç´ ç±»ä¼¼ "0->10", "11->1" è¿™ç§å½¢å¼</span>    <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è®°å½•ååºéå†ç»“æœ</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> postOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è®¡ç®—è·å–ä¸ªä½æ•°çš„æ±‚ä½™åŸºæ•°</span>    <span class="token keyword">int</span> base<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">crackSafe</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// å¦‚æœ n=1ï¼Œåˆ™ç›´æ¥è¿”å› 0,1,2,...,k-1 çš„æ‹¼æ¥</span>            <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        base <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å›¾ä¸­å¿…ç„¶å­˜åœ¨æ¬§æ‹‰å›è·¯</span>        <span class="token comment">// æ‰€ä»¥å¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å¼€å§‹ Hierholzer ç®—æ³•</span>        <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æŠŠååºéå†ç»“æœåè½¬ï¼Œå³å¯å¾—åˆ°æ¬§æ‹‰å›è·¯</span>        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>postOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ¬§æ‹‰å›è·¯ç»è¿‡çš„è¾¹å¯ä»¥æ‹¼æ¥å‡ºç­”æ¡ˆ</span>        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¼€å¤´æ˜¯èµ·ç‚¹çš„å€¼ï¼Œå³é•¿åº¦ä¸º n-1 çš„ 0</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä»èµ·ç‚¹å¼€å§‹æ‹¼æ¥æ¯æ¡è¾¹çš„å€¼</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> postOrder<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> nextNode <span class="token operator">=</span> postOrder<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// nextNode çš„ä¸ªä½æ•°çš„å€¼å°±æ˜¯è¾¹çš„å€¼</span>            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>nextNode <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token keyword">int</span> node<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> nextNode <span class="token operator">=</span> <span class="token punctuation">(</span>node <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> base<span class="token punctuation">;</span>            <span class="token comment">// ç”±äºæœªä½¿ç”¨é‚»æ¥è¡¨ï¼Œä¸èƒ½ç›´æ¥åˆ è¾¹</span>            <span class="token comment">// æ‰€ä»¥å€ŸåŠ© visited è®°å½•å·²è®¿é—®è¾¹</span>            <span class="token class-name">String</span> edge <span class="token operator">=</span> node <span class="token operator">+</span> <span class="token string">"->"</span> <span class="token operator">+</span> nextNode<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>edge<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                visited<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>edge<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">traverse</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// è®°å½•ååºéå†ç»“æœ</span>        postOrder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å›¾ç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘çš„æ‹“å±•</title>
      <link href="/2025/08/08/er-cha-shu-de-tuo-zhan/"/>
      <url>/2025/08/08/er-cha-shu-de-tuo-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="æ‹“å±•ï¼šæœ€è¿‘å…¬å…±ç¥–å…ˆç³»åˆ—è§£é¢˜æ¡†æ¶"><a href="#æ‹“å±•ï¼šæœ€è¿‘å…¬å…±ç¥–å…ˆç³»åˆ—è§£é¢˜æ¡†æ¶" class="headerlink" title="æ‹“å±•ï¼šæœ€è¿‘å…¬å…±ç¥–å…ˆç³»åˆ—è§£é¢˜æ¡†æ¶"></a>æ‹“å±•ï¼šæœ€è¿‘å…¬å…±ç¥–å…ˆç³»åˆ—è§£é¢˜æ¡†æ¶</h1><p>å¦‚æœè¯´ç¬”è¯•çš„æ—¶å€™ç»å¸¸é‡åˆ°å„ç§åŠ¨å½’å›æº¯è¿™ç±»ç¨æœ‰éš¾åº¦çš„é¢˜ç›®ï¼Œé‚£ä¹ˆé¢è¯•ä¼šå€¾å‘äºä¸€äº›æ¯”è¾ƒç»å…¸çš„é—®é¢˜ï¼Œéš¾åº¦ä¸ç®—å¤§ï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒå®ç”¨ã€‚</p><p>æœ¬æ–‡å°±ç”¨ Git å¼•å‡ºä¸€ä¸ªç»å…¸çš„ç®—æ³•é—®é¢˜ï¼šæœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLowest Common Ancestorï¼Œç®€ç§° LCAï¼‰ã€‚</p><p><code>git pull</code> è¿™ä¸ªå‘½ä»¤æˆ‘ä»¬ç»å¸¸ä¼šç”¨ï¼Œå®ƒé»˜è®¤æ˜¯ä½¿ç”¨ <code>merge</code> æ–¹å¼å°†è¿œç«¯åˆ«äººçš„ä¿®æ”¹æ‹‰åˆ°æœ¬åœ°ï¼›å¦‚æœå¸¦ä¸Šå‚æ•° <code>git pull -r</code>ï¼Œå°±ä¼šä½¿ç”¨ <code>rebase</code> çš„æ–¹å¼å°†è¿œç«¯ä¿®æ”¹æ‹‰åˆ°æœ¬åœ°ã€‚</p><p>è¿™äºŒè€…æœ€ç›´è§‚çš„åŒºåˆ«å°±æ˜¯ï¼š<code>merge</code> æ–¹å¼åˆå¹¶çš„åˆ†æ”¯ä¼šçœ‹åˆ°å¾ˆå¤šã€Œåˆ†å‰ã€ï¼Œè€Œ <code>rebase</code> æ–¹å¼åˆå¹¶çš„åˆ†æ”¯å°±æ˜¯ä¸€æ¡ç›´çº¿ã€‚ä½†æ— è®ºå“ªç§æ–¹å¼ï¼Œå¦‚æœå­˜åœ¨å†²çªï¼ŒGit éƒ½ä¼šæ£€æµ‹å‡ºæ¥å¹¶è®©ä½ æ‰‹åŠ¨è§£å†³å†²çªã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒGit æ˜¯å¦‚ä½•æ£€æµ‹ä¸¤æ¡åˆ†æ”¯æ˜¯å¦å­˜åœ¨å†²çªçš„å‘¢ï¼Ÿ</p><p>ä»¥ <code>rebase</code> å‘½ä»¤ä¸ºä¾‹ï¼Œæ¯”å¦‚ä¸‹å›¾çš„æƒ…å†µï¼Œæˆ‘ç«™åœ¨ <code>dev</code> åˆ†æ”¯æ‰§è¡Œ <code>git rebase master</code>ï¼Œç„¶å <code>dev</code> å°±ä¼šæ¥åˆ° <code>master</code> åˆ†æ”¯ä¹‹ä¸Šï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1.jpeg" alt="img"></p><p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒGit æ˜¯è¿™ä¹ˆåšçš„ï¼š</p><p>é¦–å…ˆï¼Œæ‰¾åˆ°è¿™ä¸¤æ¡åˆ†æ”¯çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ <code>LCA</code>ï¼Œç„¶åä» <code>master</code> èŠ‚ç‚¹å¼€å§‹ï¼Œé‡æ¼” <code>LCA</code> åˆ° <code>dev</code> å‡ ä¸ª <code>commit</code> çš„ä¿®æ”¹ï¼Œå¦‚æœè¿™äº›ä¿®æ”¹å’Œ <code>LCA</code> åˆ° <code>master</code> çš„ <code>commit</code> æœ‰å†²çªï¼Œå°±ä¼šæç¤ºä½ æ‰‹åŠ¨è§£å†³å†²çªï¼Œæœ€åçš„ç»“æœå°±æ˜¯æŠŠ <code>dev</code> çš„åˆ†æ”¯å®Œå…¨æ¥åˆ° <code>master</code> ä¸Šé¢ã€‚</p><p>é‚£ä¹ˆï¼ŒGit æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸¤æ¡ä¸åŒåˆ†æ”¯çš„æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å‘¢ï¼Ÿè¿™å°±æ˜¯ä¸€ä¸ªç»å…¸çš„ç®—æ³•é—®é¢˜äº†ï¼Œä¸‹é¢æˆ‘æ¥ç”±æµ…å…¥æ·±è®²ä¸€è®²ã€‚</p><hr><h2 id="å¯»æ‰¾ä¸€ä¸ªå…ƒç´ "><a href="#å¯»æ‰¾ä¸€ä¸ªå…ƒç´ " class="headerlink" title="å¯»æ‰¾ä¸€ä¸ªå…ƒç´ "></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#%E5%AF%BB%E6%89%BE%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0">å¯»æ‰¾ä¸€ä¸ªå…ƒç´ </a></h2><p>å…ˆä¸ç®¡æœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜ï¼Œæˆ‘è¯·ä½ å®ç°ä¸€ä¸ªç®€å•çš„ç®—æ³•ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸€æ£µ<strong>æ²¡æœ‰é‡å¤å…ƒç´ </strong>çš„äºŒå‰æ ‘æ ¹èŠ‚ç‚¹ <code>root</code> å’Œä¸€ä¸ªç›®æ ‡å€¼ <code>val</code>ï¼Œè¯·ä½ å†™ä¸€ä¸ªå‡½æ•°å¯»æ‰¾æ ‘ä¸­å€¼ä¸º <code>val</code> çš„èŠ‚ç‚¹ã€‚</p><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªå‡½æ•°åº”è¯¥å¾ˆå®¹æ˜“å®ç°å¯¹å§ï¼Œæ¯”å¦‚æˆ‘è¿™æ ·å†™ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­å¯»æ‰¾å€¼ä¸º val çš„èŠ‚ç‚¹</span><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token comment"># base case</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># çœ‹çœ‹ root.val æ˜¯ä¸æ˜¯è¦æ‰¾çš„</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># root ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œé‚£å°±å»å·¦å­æ ‘æ‰¾</span>    left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    <span class="token keyword">if</span> left<span class="token punctuation">:</span>        <span class="token keyword">return</span> left    <span class="token comment"># å·¦å­æ ‘æ‰¾ä¸ç€ï¼Œé‚£å°±å»å³å­æ ‘æ‰¾</span>    right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    <span class="token keyword">if</span> right<span class="token punctuation">:</span>        <span class="token keyword">return</span> right    <span class="token comment"># å®åœ¨æ‰¾ä¸åˆ°äº†</span>    <span class="token keyword">return</span> <span class="token boolean">None</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç åº”è¯¥ä¸ç”¨æˆ‘å¤šè§£é‡Šäº†ï¼Œä¸‹é¢çš„å¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œï¼Œå³å¯å±•ç¤ºå‡ºå‡½æ•°åœ¨äºŒå‰æ ‘ä¸Šçš„æœç´¢è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_lca-example1" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lca-example1" src="https://labuladong.online/algo-visualize/tutorial/lca-example1/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>ä¸‹é¢æˆ‘å°†åŸºäºè¿™æ®µä»£ç åšä¸€äº›ç®€å•çš„æ”¹å†™ï¼Œè¯·ä½ åˆ†æä¸€ä¸‹æˆ‘çš„æ”¹åŠ¨ä¼šé€ æˆä»€ä¹ˆå½±å“ã€‚</p><p>é¦–å…ˆï¼Œå¦‚æœä¿®æ”¹ä¸€ä¸‹ return çš„ä½ç½®ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># å‰åºä½ç½®</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># root ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œå»å·¦å³å­æ ‘å¯»æ‰¾</span>    left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    <span class="token comment"># çœ‹çœ‹å“ªè¾¹æ‰¾åˆ°äº†</span>    <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç ä¹Ÿå¯ä»¥è¾¾åˆ°ç›®çš„ï¼Œä½†æ˜¯å®é™…è¿è¡Œçš„æ•ˆç‡ä¼šä½ä¸€äº›ã€‚</p><p>åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœä½ èƒ½å¤Ÿåœ¨å·¦å­æ ‘æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿˜æœ‰æ²¡æœ‰å¿…è¦å»å³å­æ ‘æ‰¾äº†ï¼Ÿæ²¡æœ‰å¿…è¦ã€‚ä½†è¿™æ®µä»£ç è¿˜æ˜¯ä¼šå»å³å­æ ‘æ‰¾ä¸€åœˆï¼Œæ‰€ä»¥æ•ˆç‡ç›¸å¯¹å·®ä¸€äº›ã€‚</p><p>ä¸‹é¢çš„å¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œï¼Œå³å¯å±•ç¤ºå‡ºå‡½æ•°åœ¨äºŒå‰æ ‘ä¸Šçš„æœç´¢è¿‡ç¨‹ï¼Œå¯¹æ¯”ä¸Šé¢çš„å¯è§†åŒ–é¢æ¿ï¼Œè¿™ä¸ªå‡½æ•°ä¼šéå†äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼š</p><details data-v-ee1a9bd0="" id="div_lca-example2" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lca-example2" src="https://labuladong.online/algo-visualize/tutorial/lca-example2/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>é‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯è¯´è¿™ç§å†™æ³•ä¸€å®šä¼šéå†äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å‘¢ï¼Ÿ<strong>ä¸ä¸€å®šï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µ</strong>ï¼Œå³è¦æ‰¾çš„ç›®æ ‡èŠ‚ç‚¹æ°å¥½å°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚</p><p>å› ä¸ºä½ æ˜¯åœ¨å‰åºä½ç½®åˆ¤æ–­ <code>if (root.val == val)</code> çš„ï¼Œæ‰€ä»¥è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹å‡½æ•°å¯ä»¥ç›´æ¥ç»“æŸã€‚</p><p>æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘æŠŠå¯¹ <code>root.val</code> çš„åˆ¤æ–­ä»å‰åºä½ç½®ç§»åŠ¨åˆ°ååºä½ç½®ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># å…ˆå»å·¦å³å­æ ‘å¯»æ‰¾</span>    left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®ï¼Œçœ‹çœ‹ root æ˜¯ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># root ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œå†å»çœ‹çœ‹å“ªè¾¹çš„å­æ ‘æ‰¾åˆ°äº†</span>    <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç ç›¸å½“äºä½ å…ˆå»å·¦å³å­æ ‘æ‰¾ï¼Œæœ€åæ‰æ£€æŸ¥ <code>root</code>ï¼Œä¾ç„¶å¯ä»¥åˆ°è¾¾ç›®çš„ï¼Œä½†æ˜¯æ•ˆç‡ä¼šè¿›ä¸€æ­¥ä¸‹é™ï¼Œ<strong>å› ä¸ºè¿™ç§å†™æ³•å¿…ç„¶ä¼šéå†äºŒå‰æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹</strong>ã€‚</p><p>æ²¡åŠæ³•ï¼Œä½ æ˜¯åœ¨ååºä½ç½®åˆ¤æ–­ï¼Œé‚£ä¹ˆå°±ç®—æ ¹èŠ‚ç‚¹å°±æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œä½ ä¹Ÿè¦å»å·¦å³å­æ ‘éå†å®Œæ‰€æœ‰èŠ‚ç‚¹æ‰èƒ½åˆ¤æ–­å‡ºæ¥ã€‚</p><p>ä¸‹é¢çš„å¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œï¼Œå³å¯å±•ç¤ºå‡ºå‡½æ•°åœ¨äºŒå‰æ ‘ä¸Šçš„æœç´¢è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_lca-example3" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lca-example3" src="https://labuladong.online/algo-visualize/tutorial/lca-example3/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æœ€åï¼Œæˆ‘å†æ”¹ä¸€ä¸‹é¢˜ç›®ï¼Œç°åœ¨ä¸è®©ä½ æ‰¾å€¼ä¸º <code>val</code> çš„èŠ‚ç‚¹ï¼Œè€Œæ˜¯å¯»æ‰¾å€¼ä¸º <code>val1</code> <strong>æˆ–</strong> <code>val2</code> çš„èŠ‚ç‚¹ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val1<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> val2<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ä¸ºä»€ä¹ˆè¦å†™è¿™æ ·ä¸€ä¸ªå¥‡æ€ªçš„ <code>find</code> å‡½æ•°å‘¢ï¼Ÿå› ä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆç³»åˆ—é—®é¢˜çš„è§£æ³•éƒ½æ˜¯æŠŠè¿™ä¸ªå‡½æ•°ä½œä¸ºæ¡†æ¶çš„</strong>ã€‚</p><p>è¿™å’Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡å®ç°çš„ <code>find</code> å‡½æ•°åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”ä½ åº”è¯¥çŸ¥é“å¯ä»¥æœ‰å¤šç§å†™æ³•ï¼Œæ¯”æ–¹è¯´æˆ‘å¯ä»¥è¿™æ ·å†™ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­å¯»æ‰¾å€¼ä¸º val1 æˆ– val2 çš„èŠ‚ç‚¹</span><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># base case</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># å‰åºä½ç½®ï¼Œçœ‹çœ‹ root æ˜¯ä¸æ˜¯ç›®æ ‡å€¼</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1 <span class="token keyword">or</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># å»å·¦å³å­æ ‘å¯»æ‰¾</span>    left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>    right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®ï¼Œå·²ç»çŸ¥é“å·¦å³å­æ ‘æ˜¯å¦å­˜åœ¨ç›®æ ‡å€¼</span>    <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“ç„¶ï¼Œè¿™ç§å†™æ³•ä¼šæœ‰é‡å¤éå†çš„é—®é¢˜ï¼Œä¸è¿‡å…ˆä¸æ€¥ç€ä¼˜åŒ–ï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆçš„ä¸€ç³»åˆ—ç®—æ³•é—®é¢˜è¿˜å°±å¾—åŸºäºè¿™ç§å†™æ³•å±•å¼€ã€‚</p><p>ä¸‹é¢ä¸€é“ä¸€é“é¢˜ç›®æ¥çœ‹ï¼Œåæ–‡æˆ‘ç”¨ <code>LCA</code>ï¼ˆLowest Common Ancestorï¼‰ä½œä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹çš„ç¼©å†™ã€‚</p><h2 id="236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#_236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></h2><p>å…ˆæ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 236 é¢˜ã€Œ<a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a>ã€ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸€æ£µ<strong>ä¸å«é‡å¤å€¼</strong>çš„äºŒå‰æ ‘ï¼Œä»¥åŠ<strong>å­˜åœ¨äºæ ‘ä¸­çš„</strong>ä¸¤ä¸ªèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code>ï¼Œè¯·ä½ è®¡ç®— <code>p</code> å’Œ <code>q</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚</p><p>æ¯”å¦‚è¾“å…¥è¿™æ ·ä¸€æ£µäºŒå‰æ ‘ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/2.jpg" alt="img"></p><p>å¦‚æœ <code>p</code> æ˜¯èŠ‚ç‚¹ <code>6</code>ï¼Œ<code>q</code> æ˜¯èŠ‚ç‚¹ <code>7</code>ï¼Œé‚£ä¹ˆå®ƒä¿©çš„ <code>LCA</code> å°±æ˜¯èŠ‚ç‚¹ <code>5</code>ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/3.jpg" alt="img"></p><p>å½“ç„¶ï¼Œ<code>p</code> å’Œ <code>q</code> æœ¬èº«ä¹Ÿå¯èƒ½æ˜¯ <code>LCA</code>ï¼Œæ¯”å¦‚è¿™ç§æƒ…å†µ <code>q</code> æœ¬èº«å°±æ˜¯ <code>LCA</code> èŠ‚ç‚¹ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/4.jpg" alt="img"></p><p>ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆå…¶å®å°±æ˜¯è¿™ä¸¤ä¸ªèŠ‚ç‚¹å‘æ ¹èŠ‚ç‚¹çš„ã€Œå»¶é•¿çº¿ã€çš„äº¤æ±‡ç‚¹ï¼Œé‚£ä¹ˆå¯¹äºä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒæ€ä¹ˆæ‰èƒ½çŸ¥é“è‡ªå·±æ˜¯ä¸æ˜¯ <code>p</code> å’Œ <code>q</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Ÿ</p><p><strong>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹èƒ½å¤Ÿåœ¨å®ƒçš„å·¦å³å­æ ‘ä¸­åˆ†åˆ«æ‰¾åˆ° <code>p</code> å’Œ <code>q</code>ï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸º <code>LCA</code> èŠ‚ç‚¹</strong>ã€‚</p><p>è¿™å°±è¦ç”¨åˆ°ä¹‹å‰å®ç°çš„ <code>find</code> å‡½æ•°äº†ï¼Œåªéœ€åœ¨ååºä½ç½®æ·»åŠ ä¸€ä¸ªåˆ¤æ–­é€»è¾‘ï¼Œå³å¯æ”¹é€ æˆå¯»æ‰¾æœ€è¿‘å…¬å…±ç¥–å…ˆçš„è§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> p<span class="token punctuation">.</span>val<span class="token punctuation">,</span> q<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    <span class="token comment"># åœ¨äºŒå‰æ ‘ä¸­å¯»æ‰¾ val1 å’Œ val2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> val1<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> val2<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å‰åºä½ç½®</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1 <span class="token keyword">or</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœé‡åˆ°ç›®æ ‡å€¼ï¼Œç›´æ¥è¿”å›</span>            <span class="token keyword">return</span> root        left <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œå·²ç»çŸ¥é“å·¦å³å­æ ‘æ˜¯å¦å­˜åœ¨ç›®æ ‡å€¼</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹æ˜¯ LCA èŠ‚ç‚¹</span>            <span class="token keyword">return</span> root                <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ <code>find</code> å‡½æ•°çš„ååºä½ç½®ï¼Œå¦‚æœå‘ç° <code>left</code> å’Œ <code>right</code> éƒ½éç©ºï¼Œå°±è¯´æ˜å½“å‰èŠ‚ç‚¹æ˜¯ <code>LCA</code> èŠ‚ç‚¹ï¼Œå³è§£å†³äº†ç¬¬ä¸€ç§æƒ…å†µï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/3.jpg" alt="img"></p><p>åœ¨ <code>find</code> å‡½æ•°çš„å‰åºä½ç½®ï¼Œå¦‚æœæ‰¾åˆ°ä¸€ä¸ªå€¼ä¸º <code>val1</code> æˆ– <code>val2</code> çš„èŠ‚ç‚¹åˆ™ç›´æ¥è¿”å›ï¼Œæ°å¥½è§£å†³äº†ç¬¬äºŒç§æƒ…å†µï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/4.jpg" alt="img"></p><p>å› ä¸ºé¢˜ç›®è¯´äº† <code>p</code> å’Œ <code>q</code> ä¸€å®šå­˜åœ¨äºäºŒå‰æ ‘ä¸­ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼‰ï¼Œæ‰€ä»¥å³ä¾¿æˆ‘ä»¬é‡åˆ° <code>q</code> å°±ç›´æ¥è¿”å›ï¼Œæ ¹æœ¬æ²¡éå†åˆ° <code>p</code>ï¼Œä¹Ÿä¾ç„¶å¯ä»¥æ–­å®š <code>p</code> åœ¨ <code>q</code> åº•ä¸‹ï¼Œ<code>q</code> å°±æ˜¯ <code>LCA</code> èŠ‚ç‚¹ã€‚</p><p>ä¸‹é¢è¿™ä¸ªå¯è§†åŒ–é¢æ¿å±•ç¤ºäº†è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œï¼Œå³å¯å±•ç¤ºå‡ºå‡½æ•°åœ¨äºŒå‰æ ‘ä¸Šçš„æœç´¢è¿‡ç¨‹ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ç©ä¸€ç©ï¼š</p><details data-v-ee1a9bd0="" id="div_lowest-common-ancestor-of-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lowest-common-ancestor-of-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/lowest-common-ancestor-of-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>ç»“åˆå¯è§†åŒ–é¢æ¿ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å‘ç°ä¸€ä¸ªä¼˜åŒ–çš„ç‚¹ï¼Œå°±æ˜¯å½“æˆ‘ä»¬åœ¨å·¦å­æ ‘æ‰¾åˆ°ç›®æ ‡ <code>LCA</code> èŠ‚ç‚¹åï¼Œç®—æ³•å¹¶æ²¡æœ‰ç»“æŸï¼Œè€Œæ˜¯æŠŠå³å­æ ‘åˆéå†äº†ä¸€éï¼Œè¿™å…¶å®æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚</p><p>æœ‰å‰é¢çš„é“ºå«ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³åšç±»ä¼¼è¿™æ ·çš„ä¼˜åŒ–ï¼Ÿ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> root ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œé‚£å°±å»å·¦å­æ ‘æ‰¾TreeNode left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> left<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token operator">//</span> å·¦å­æ ‘æ‰¾ä¸ç€ï¼Œé‚£å°±å»å³å­æ ‘æ‰¾TreeNode right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸è¡Œçš„ï¼Œå› ä¸ºæˆ‘ä»¬æœ¬æ¥å°±è¦åŒæ—¶å»å·¦å­æ ‘å’Œå³å­æ ‘å¯»æ‰¾ï¼Œæ¥åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ <code>LCA</code>ã€‚</p><p>å¦‚æœä½ éè¦ä¼˜åŒ–ï¼Œåªèƒ½ç”¨ä¸€ä¸ªå¤–éƒ¨å˜é‡æ¥è¾…åŠ©åˆ¤æ–­æ˜¯å¦å·²ç»æ‰¾åˆ°ç­”æ¡ˆï¼Œå¦‚æœå·²ç»æ‰¾åˆ° <code>LCA</code>ï¼Œåˆ™ä¸å†ç»§ç»­éå†äºŒå‰æ ‘ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç”¨ä¸€ä¸ªå¤–éƒ¨å˜é‡æ¥è®°å½•æ˜¯å¦å·²ç»æ‰¾åˆ° LCA èŠ‚ç‚¹</span>        self<span class="token punctuation">.</span>lca <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> p<span class="token punctuation">.</span>val<span class="token punctuation">,</span> q<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> val1<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> val2<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å¦‚æœå·²ç»æ‰¾åˆ° LCA èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>lca <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1 <span class="token keyword">or</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">:</span>            <span class="token keyword">return</span> root        left <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹æ˜¯ LCA èŠ‚ç‚¹ï¼Œè®°å½•ä¸‹æ¥</span>            self<span class="token punctuation">.</span>lca <span class="token operator">=</span> root             <span class="token keyword">return</span> root                <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µç®—æ³•çš„å¯è§†åŒ–é¢æ¿å¦‚ä¸‹ï¼Œä½ å¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œï¼Œå³å¯å±•ç¤ºå‡ºå‡½æ•°åœ¨äºŒå‰æ ‘ä¸Šçš„æœç´¢è¿‡ç¨‹ï¼Œæ‰¾åˆ° <code>LCA</code> èŠ‚ç‚¹åï¼Œç®—æ³•å°±ä¸å†ç»§ç»­éå†å³ä¾§çš„å­æ ‘äº†ï¼š</p><details data-v-ee1a9bd0="" id="div_lowest-common-ancestor-of-a-binary-tree-optimized" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lowest-common-ancestor-of-a-binary-tree-optimized" src="https://labuladong.online/algo-visualize/tutorial/lowest-common-ancestor-of-a-binary-tree-optimized/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™æ ·ï¼Œæ ‡å‡†çš„æœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜å°±è§£å†³äº†ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹è¿™ä¸ªé¢˜ç›®æœ‰ä»€ä¹ˆå˜ä½“ã€‚</p><h2 id="1676-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-IV"><a href="#1676-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-IV" class="headerlink" title="1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV"></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#_1676-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-iv">1676. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV</a></h2><p>æ¯”å¦‚åŠ›æ‰£ç¬¬ 1676 é¢˜ã€Œ<a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iv/">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ IV</a>ã€ï¼š</p><p>ä¾ç„¶ç»™ä½ è¾“å…¥ä¸€æ£µä¸å«é‡å¤å€¼çš„äºŒå‰æ ‘ï¼Œä½†è¿™æ¬¡ä¸æ˜¯ç»™ä½ è¾“å…¥ <code>p</code> å’Œ <code>q</code> ä¸¤ä¸ªèŠ‚ç‚¹äº†ï¼Œè€Œæ˜¯ç»™ä½ è¾“å…¥ä¸€ä¸ªåŒ…å«è‹¥å¹²èŠ‚ç‚¹çš„åˆ—è¡¨ <code>nodes</code>ï¼ˆè¿™äº›èŠ‚ç‚¹éƒ½å­˜åœ¨äºäºŒå‰æ ‘ä¸­ï¼‰ï¼Œè®©ä½ ç®—è¿™äº›èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> nodes<span class="token punctuation">:</span> List<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚è¿˜æ˜¯è¿™æ£µäºŒå‰æ ‘ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/2.jpg" alt="img"></p><p>è¾“å…¥ <code>nodes = [7,4,6]</code>ï¼Œé‚£ä¹ˆå‡½æ•°åº”è¯¥è¿”å›èŠ‚ç‚¹ <code>5</code>ã€‚</p><p>çœ‹èµ·æ¥æ€ªå“äººçš„ï¼Œå®åˆ™è§£æ³•é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼ŒæŠŠåˆšæ‰çš„ä»£ç é€»è¾‘ç¨åŠ æ”¹é€ å³å¯è§£å†³è¿™é“é¢˜ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> nodes<span class="token punctuation">:</span> <span class="token string">'List[TreeNode]'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token comment"># å°†åˆ—è¡¨è½¬åŒ–æˆå“ˆå¸Œé›†åˆï¼Œä¾¿äºåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</span>        values <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> node <span class="token keyword">in</span> nodes<span class="token punctuation">:</span>            values<span class="token punctuation">.</span>add<span class="token punctuation">(</span>node<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> values<span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> values<span class="token punctuation">:</span> <span class="token string">'set'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å‰åºä½ç½®</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token keyword">in</span> values<span class="token punctuation">:</span>            <span class="token keyword">return</span> root        left <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> values<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> values<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œå·²ç»çŸ¥é“å·¦å³å­æ ‘æ˜¯å¦å­˜åœ¨ç›®æ ‡å€¼</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹æ˜¯ LCA èŠ‚ç‚¹</span>            <span class="token keyword">return</span> root                <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç±»æ¯”ä¸€ä¸‹ä¸Šä¸€é“é¢˜åº”è¯¥ä¸éš¾ç†è§£è¿™ä¸ªè§£æ³•ã€‚å½“æ‰¾åˆ° <code>LCA</code> èŠ‚ç‚¹åï¼Œä¹Ÿå¯ä»¥æå‰åœæ­¢ç®—æ³•ï¼Œè¿™ä¸ªä¼˜åŒ–å°±ç•™ç»™ä½ å§ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤é“é¢˜çš„é¢˜ç›®éƒ½æ˜ç¡®å‘Šè¯‰æˆ‘ä»¬è¿™äº›èŠ‚ç‚¹å¿…å®šå­˜åœ¨äºäºŒå‰æ ‘ä¸­ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‰ææ¡ä»¶ï¼Œå°±éœ€è¦ä¿®æ”¹ä»£ç äº†</strong>ã€‚</p><h2 id="1644-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-II"><a href="#1644-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-II" class="headerlink" title="1644. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ II"></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#_1644-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-ii">1644. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ II</a></h2><p>æ¯”å¦‚åŠ›æ‰£ç¬¬ 1644 é¢˜ã€Œ<a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-ii/">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ II</a>ã€ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸€æ£µ<strong>ä¸å«é‡å¤å€¼</strong>çš„äºŒå‰æ ‘çš„ï¼Œä»¥åŠä¸¤ä¸ªèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code>ï¼Œå¦‚æœ <code>p</code> æˆ– <code>q</code> ä¸å­˜åœ¨äºæ ‘ä¸­ï¼Œåˆ™è¿”å›ç©ºæŒ‡é’ˆï¼Œå¦åˆ™çš„è¯è¿”å› <code>p</code> å’Œ <code>q</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚</p><p>åœ¨è§£å†³æ ‡å‡†çš„æœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜æ—¶ï¼Œæˆ‘ä»¬åœ¨ <code>find</code> å‡½æ•°çš„å‰åºä½ç½®æœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> å‰åºä½ç½®<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1 <span class="token operator">|</span><span class="token operator">|</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token operator">//</span> å¦‚æœé‡åˆ°ç›®æ ‡å€¼ï¼Œç›´æ¥è¿”å›    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä¹Ÿè¿›è¡Œäº†è§£é‡Šï¼Œå› ä¸º <code>p</code> å’Œ <code>q</code> éƒ½å­˜åœ¨äºæ ‘ä¸­ï¼Œæ‰€ä»¥è¿™æ®µä»£ç æ°å¥½å¯ä»¥è§£å†³æœ€è¿‘å…¬å…±ç¥–å…ˆçš„ç¬¬äºŒç§æƒ…å†µï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/4.jpg" alt="img"></p><p>ä½†å¯¹äºè¿™é“é¢˜æ¥è¯´ï¼Œ<code>p</code> å’Œ <code>q</code> ä¸ä¸€å®šå­˜åœ¨äºæ ‘ä¸­ï¼Œæ‰€ä»¥ä½ ä¸èƒ½é‡åˆ°ä¸€ä¸ªç›®æ ‡å€¼å°±ç›´æ¥è¿”å›ï¼Œè€Œåº”è¯¥å¯¹äºŒå‰æ ‘è¿›è¡Œ<strong>å®Œå…¨æœç´¢</strong>ï¼ˆéå†æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œå¦‚æœå‘ç° <code>p</code> æˆ– <code>q</code> ä¸å­˜åœ¨äºæ ‘ä¸­ï¼Œé‚£ä¹ˆæ˜¯ä¸å­˜åœ¨ <code>LCA</code> çš„ã€‚</p><p>å›æƒ³æˆ‘åœ¨æ–‡ç« å¼€å¤´åˆ†æçš„å‡ ç§ <code>find</code> å‡½æ•°çš„å†™æ³•ï¼Œå“ªç§å†™æ³•èƒ½å¤Ÿå¯¹äºŒå‰æ ‘è¿›è¡Œå®Œå…¨æœç´¢æ¥ç€ï¼Ÿ</p><p>è¿™ç§ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># å…ˆå»å·¦å³å­æ ‘å¯»æ‰¾</span>    left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®ï¼Œçœ‹çœ‹ root æ˜¯ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># root ä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œå†å»çœ‹çœ‹å“ªè¾¹çš„å­æ ‘æ‰¾åˆ°äº†</span>    <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆè§£å†³è¿™é“é¢˜ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå‰åºä½ç½®çš„åˆ¤æ–­é€»è¾‘æ”¾åˆ°ååºä½ç½®å³å¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç”¨äºè®°å½• p å’Œ q æ˜¯å¦å­˜åœ¨äºäºŒå‰æ ‘ä¸­</span>        self<span class="token punctuation">.</span>foundP <span class="token operator">=</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span>foundQ <span class="token operator">=</span> <span class="token boolean">False</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> p<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> q<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        res <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> p<span class="token punctuation">.</span>val<span class="token punctuation">,</span> q<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>foundP <span class="token keyword">or</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>foundQ<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># p å’Œ q éƒ½å­˜åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ‰æœ‰å…¬å…±ç¥–å…ˆ</span>        <span class="token keyword">return</span> res            <span class="token comment"># åœ¨äºŒå‰æ ‘ä¸­å¯»æ‰¾ val1 å’Œ val2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>                <span class="token comment"># ååºä½ç½®ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ LCA èŠ‚ç‚¹</span>        <span class="token keyword">if</span> left <span class="token keyword">and</span> right<span class="token punctuation">:</span>            <span class="token keyword">return</span> root                <span class="token comment"># ååºä½ç½®ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ç›®æ ‡å€¼</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1 <span class="token keyword">or</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°äº†ï¼Œè®°å½•ä¸€ä¸‹</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val1<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>foundP <span class="token operator">=</span> <span class="token boolean">True</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> val2<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>foundQ <span class="token operator">=</span> <span class="token boolean">True</span>            <span class="token keyword">return</span> root        <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·æ”¹é€ ï¼Œå¯¹äºŒå‰æ ‘è¿›è¡Œå®Œå…¨æœç´¢ï¼ŒåŒæ—¶è®°å½• <code>p</code> å’Œ <code>q</code> æ˜¯å¦åŒæ—¶å­˜åœ¨æ ‘ä¸­ï¼Œä»è€Œæ»¡è¶³é¢˜ç›®çš„è¦æ±‚ã€‚</p><p>è¿™æ®µç®—æ³•çš„å¯è§†åŒ–é¢æ¿å¦‚ä¸‹ï¼Œæˆ‘æ„é€ äº†ä¸€ä¸ª <code>q</code> ä¸åœ¨æ ‘ä¸­çš„åœºæ™¯ï¼Œå¤šæ¬¡ç‚¹å‡» å³å¯æŸ¥çœ‹å‡½æ•°æœç´¢äºŒå‰æ ‘çš„è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_lowest-common-ancestor-of-a-binary-tree-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lowest-common-ancestor-of-a-binary-tree-ii" src="https://labuladong.online/algo-visualize/leetcode/lowest-common-ancestor-of-a-binary-tree-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å˜ä¸€å˜ï¼Œå¦‚æœè®©ä½ åœ¨äºŒå‰æœç´¢æ ‘ä¸­å¯»æ‰¾ <code>p</code> å’Œ <code>q</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œåº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p><h2 id="235-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#235-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#_235-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88">235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></h2><p>çœ‹åŠ›æ‰£ç¬¬ 235 é¢˜ã€Œ<a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree/">äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a>ã€ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸€æ£µä¸å«é‡å¤å€¼çš„<strong>äºŒå‰æœç´¢æ ‘</strong>ï¼Œä»¥åŠ<strong>å­˜åœ¨äºæ ‘ä¸­</strong>çš„ä¸¤ä¸ªèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code>ï¼Œè¯·ä½ è®¡ç®— <code>p</code> å’Œ <code>q</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ã€‚</p><p>æŠŠä¹‹å‰çš„è§£æ³•ä»£ç å¤åˆ¶è¿‡æ¥è‚¯å®šä¹Ÿå¯ä»¥è§£å†³è¿™é“é¢˜ï¼Œä½†æ²¡æœ‰ç”¨åˆ° BSTã€Œå·¦å°å³å¤§ã€çš„æ€§è´¨ï¼Œæ˜¾ç„¶æ•ˆç‡ä¸æ˜¯æœ€é«˜çš„ã€‚</p><p>åœ¨æ ‡å‡†çš„æœ€è¿‘å…¬å…±ç¥–å…ˆé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬è¦åœ¨ååºä½ç½®é€šè¿‡å·¦å³å­æ ‘çš„æœç´¢ç»“æœæ¥åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ <code>LCA</code>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">TreeNode left <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">;</span>TreeNode right <span class="token operator">=</span> find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">//</span> ååºä½ç½®ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ LCA èŠ‚ç‚¹<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">!=</span> null <span class="token operator">&amp;</span><span class="token operator">&amp;</span> right <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä½†å¯¹äº BST æ¥è¯´ï¼Œæ ¹æœ¬ä¸éœ€è¦è€è€å®å®å»éå†å­æ ‘ï¼Œç”±äº BST å·¦å°å³å¤§çš„æ€§è´¨ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ <code>val1</code> å’Œ <code>val2</code> ä½œå¯¹æ¯”å³å¯åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯ <code>LCA</code></strong>ï¼š</p><p>å‡è®¾ <code>val1 &lt; val2</code>ï¼Œé‚£ä¹ˆ <code>val1 &lt;= root.val &lt;= val2</code> åˆ™è¯´æ˜å½“å‰èŠ‚ç‚¹å°±æ˜¯ <code>LCA</code>ï¼›è‹¥ <code>root.val</code> æ¯” <code>val1</code> è¿˜å°ï¼Œåˆ™éœ€è¦å»å€¼æ›´å¤§çš„å³å­æ ‘å¯»æ‰¾ <code>LCA</code>ï¼›è‹¥ <code>root.val</code> æ¯” <code>val2</code> è¿˜å¤§ï¼Œåˆ™éœ€è¦å»å€¼æ›´å°çš„å·¦å­æ ‘å¯»æ‰¾ <code>LCA</code>ã€‚</p><p>ä¾æ®è¿™ä¸ªæ€è·¯å°±å¯ä»¥å†™å‡ºè§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token comment"># ä¿è¯ val1 è¾ƒå°ï¼Œval2 è¾ƒå¤§</span>        val1 <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>val<span class="token punctuation">,</span> q<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        val2 <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>val<span class="token punctuation">,</span> q<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>    <span class="token comment"># åœ¨ BST ä¸­å¯»æ‰¾ val1 å’Œ val2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> val1<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> val2<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'TreeNode'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> val2<span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹å¤ªå¤§ï¼Œå»å·¦å­æ ‘æ‰¾</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> val1<span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹å¤ªå°ï¼Œå»å³å­æ ‘æ‰¾</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span>        <span class="token comment"># val1 &lt;= root.val &lt;= val2</span>        <span class="token comment"># åˆ™å½“å‰èŠ‚ç‚¹å°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆ</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šè¿°ä»£ç çš„å¯è§†åŒ–é¢æ¿å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°åœ¨ BST ä¸­å¯»æ‰¾æœ€è¿‘å…¬å…±ç¥–å…ˆçš„è¿‡ç¨‹éå¸¸å¿«ï¼Œä¸éœ€è¦éå†æ•´æ£µæ ‘ï¼š</p><details data-v-ee1a9bd0="" id="div_lowest-common-ancestor-of-a-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lowest-common-ancestor-of-a-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/lowest-common-ancestor-of-a-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1650-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-III"><a href="#1650-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-III" class="headerlink" title="1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III"></a><a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/#_1650-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-iii">1650. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III</a></h2><p>å†çœ‹æœ€åä¸€é“æœ€è¿‘å…¬å…±ç¥–å…ˆçš„é¢˜ç›®å§ï¼ŒåŠ›æ‰£ç¬¬ 1650 é¢˜ã€Œ<a href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree-iii/">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ III</a>ã€ï¼Œè¿™æ¬¡è¾“å…¥çš„äºŒå‰æ ‘èŠ‚ç‚¹æ¯”è¾ƒç‰¹æ®Šï¼ŒåŒ…å«æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚é¢˜ç›®ä¼šç»™ä½ è¾“å…¥ä¸€æ£µå­˜åœ¨äºäºŒå‰æ ‘ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹ <code>p</code> å’Œ <code>q</code>ï¼Œè¯·ä½ è¿”å›å®ƒä»¬çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token boolean">None</span><span class="token comment"># å‡½æ•°ç­¾å</span><span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> Node<span class="token punctuation">,</span> q<span class="token punctuation">:</span> Node<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Node<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±äºèŠ‚ç‚¹ä¸­åŒ…å«çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å°±æ²¡å¿…è¦è¾“å…¥äº†ã€‚</p><p><strong>è¿™é“é¢˜å…¶å®ä¸æ˜¯å…¬å…±ç¥–å…ˆçš„é—®é¢˜ï¼Œè€Œæ˜¯å•é“¾è¡¨ç›¸äº¤çš„é—®é¢˜</strong>ï¼Œä½ æŠŠ <code>parent</code> æŒ‡é’ˆæƒ³è±¡æˆå•é“¾è¡¨çš„ <code>next</code> æŒ‡é’ˆï¼Œé¢˜ç›®å°±å˜æˆäº†ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹ <code>p</code> å’Œ <code>q</code>ï¼Œè¿™ä¸¤ä¸ªå•é“¾è¡¨å¿…ç„¶ä¼šç›¸äº¤ï¼Œè¯·ä½ è¿”å›ç›¸äº¤ç‚¹ã€‚</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/5.png" alt="img"></p><p>æˆ‘åœ¨å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/linked-list-skills-summary/">å•é“¾è¡¨çš„å…­å¤§è§£é¢˜å¥—è·¯</a> ä¸­è¯¦ç»†è®²è§£è¿‡æ±‚é“¾è¡¨äº¤ç‚¹çš„é—®é¢˜ï¼Œå…·ä½“æ€è·¯åœ¨æœ¬æ–‡å°±ä¸å±•å¼€äº†ï¼Œç›´æ¥ç»™å‡ºæœ¬é¢˜çš„è§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># æ–½å±•é“¾è¡¨åŒæŒ‡é’ˆæŠ€å·§</span>    <span class="token keyword">def</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Node'</span><span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> p<span class="token punctuation">,</span> q        <span class="token keyword">while</span> a <span class="token operator">!=</span> b<span class="token punctuation">:</span>            <span class="token comment"># a èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ°æ ¹èŠ‚ç‚¹ï¼Œè½¬åˆ° q èŠ‚ç‚¹</span>            <span class="token keyword">if</span> a <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                a <span class="token operator">=</span> q            <span class="token keyword">else</span><span class="token punctuation">:</span>                a <span class="token operator">=</span> a<span class="token punctuation">.</span>parent            <span class="token comment"># b èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ°æ ¹èŠ‚ç‚¹ï¼Œè½¬åˆ° p èŠ‚ç‚¹</span>            <span class="token keyword">if</span> b <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                b <span class="token operator">=</span> p            <span class="token keyword">else</span><span class="token punctuation">:</span>                b <span class="token operator">=</span> b<span class="token punctuation">.</span>parent        <span class="token keyword">return</span> a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šè¿°ä»£ç çš„å¯è§†åŒ–é¢æ¿å¦‚ä¸‹ï¼Œå¯ä»¥å¤šæ¬¡ç‚¹å‡» è¿™ä¸€è¡Œä»£ç æŸ¥çœ‹ä¸¤ä¸ªæŒ‡é’ˆäº¤æ›¿ç§»åŠ¨çš„è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_lowest-common-ancestor-of-a-binary-tree-iii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lowest-common-ancestor-of-a-binary-tree-iii" src="https://labuladong.online/algo-visualize/leetcode/lowest-common-ancestor-of-a-binary-tree-iii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è‡³æ­¤ï¼Œ5 é“æœ€è¿‘å…¬å…±ç¥–å…ˆçš„é¢˜ç›®å°±å…¨éƒ¨è®²å®Œäº†ï¼Œå‰ 3 é“é¢˜ç›®ä»ä¸€ä¸ªåŸºæœ¬çš„ <code>find</code> å‡½æ•°è¡ç”Ÿå‡ºè§£æ³•ï¼Œå 2 é“æ¯”è¾ƒç‰¹æ®Šï¼Œåˆ†åˆ«åˆ©ç”¨äº† BST å’Œå•é“¾è¡¨ç›¸å…³çš„æŠ€å·§ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰å¯å‘ã€‚</p><h1 id="æ‹“å±•ï¼šå¦‚ä½•è®¡ç®—å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°"><a href="#æ‹“å±•ï¼šå¦‚ä½•è®¡ç®—å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°" class="headerlink" title="æ‹“å±•ï¼šå¦‚ä½•è®¡ç®—å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°"></a>æ‹“å±•ï¼šå¦‚ä½•è®¡ç®—å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°</h1><p>å¦‚æœè®©ä½ æ•°ä¸€ä¸‹ä¸€æ£µæ™®é€šäºŒå‰æ ‘æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œè¿™å¾ˆç®€å•ï¼Œåªè¦åœ¨äºŒå‰æ ‘çš„éå†æ¡†æ¶ä¸ŠåŠ ä¸€ç‚¹ä»£ç å°±è¡Œäº†ã€‚</p><p>ä½†æ˜¯ï¼ŒåŠ›æ‰£ç¬¬ç¬¬ 222 é¢˜ã€Œå®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€ç»™ä½ ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œè®©ä½ è®¡ç®—å®ƒçš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œä½ ä¼šä¸ä¼šï¼Ÿç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</p><p>è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯$ O(logNâˆ—logN)ï¼Œå¦‚æœä½ å¿ƒä¸­çš„ç®—æ³•æ²¡æœ‰è¾¾åˆ°è¿™ä¹ˆé«˜æ•ˆï¼Œé‚£ä¹ˆæœ¬æ–‡å°±æ˜¯ç»™ä½ å†™çš„ã€‚</p><p>å…³äºã€Œå®Œå…¨äºŒå‰æ ‘ã€å’Œã€Œæ»¡äºŒå‰æ ‘ã€ç­‰åè¯çš„å®šä¹‰ï¼Œå¯ä»¥å‚è€ƒåŸºç¡€çŸ¥è¯†ç« èŠ‚çš„ <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘åŸºç¡€</a>ã€‚</p><h3 id="ä¸€ã€æ€è·¯åˆ†æ"><a href="#ä¸€ã€æ€è·¯åˆ†æ" class="headerlink" title="ä¸€ã€æ€è·¯åˆ†æ"></a><a href="https://labuladong.online/algo/data-structure/count-complete-tree-nodes/#%E4%B8%80%E3%80%81%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90">ä¸€ã€æ€è·¯åˆ†æ</a></h3><p>ç°åœ¨å›å½’æ­£é¢˜ï¼Œå¦‚ä½•æ±‚ä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°å‘¢ï¼Ÿ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¾“å…¥ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œè¿”å›èŠ‚ç‚¹æ€»æ•°</span><span class="token keyword">def</span> <span class="token function">countNodes</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœæ˜¯ä¸€ä¸ª<strong>æ™®é€š</strong>äºŒå‰æ ‘ï¼Œæ˜¾ç„¶åªè¦å‘ä¸‹é¢è¿™æ ·éå†ä¸€è¾¹å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ $O(N)$ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">countNodes</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token number">0</span>    <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£å¦‚æœæ˜¯ä¸€æ£µ<strong>æ»¡</strong>äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹æ€»æ•°å°±å’Œæ ‘çš„é«˜åº¦å‘ˆæŒ‡æ•°å…³ç³»ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">countNodes</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>    h <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># è®¡ç®—æ ‘çš„é«˜åº¦</span>    <span class="token keyword">while</span> root<span class="token punctuation">:</span>        root <span class="token operator">=</span> root<span class="token punctuation">.</span>left        h <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># èŠ‚ç‚¹æ€»æ•°å°±æ˜¯ 2^h - 1</span>    <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">**</span> h <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å®Œå…¨</strong>äºŒå‰æ ‘æ¯”æ™®é€šäºŒå‰æ ‘ç‰¹æ®Šï¼Œä½†åˆæ²¡æœ‰æ»¡äºŒå‰æ ‘é‚£ä¹ˆç‰¹æ®Šï¼Œè®¡ç®—å®ƒçš„èŠ‚ç‚¹æ€»æ•°ï¼Œå¯ä»¥è¯´æ˜¯æ™®é€šäºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘çš„ç»“åˆç‰ˆï¼Œå…ˆçœ‹ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">countNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        l <span class="token operator">=</span> root        r <span class="token operator">=</span> root        hl <span class="token operator">=</span> <span class="token number">0</span>        hr <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># æ²¿æœ€å·¦ä¾§å’Œæœ€å³ä¾§åˆ†åˆ«è®¡ç®—é«˜åº¦</span>        <span class="token keyword">while</span> l <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            l <span class="token operator">=</span> l<span class="token punctuation">.</span>left            hl <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">while</span> r <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            r <span class="token operator">=</span> r<span class="token punctuation">.</span>right            hr <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># å¦‚æœå·¦å³ä¾§è®¡ç®—çš„é«˜åº¦ç›¸åŒï¼Œåˆ™æ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘</span>        <span class="token keyword">if</span> hl <span class="token operator">==</span> hr<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> hl<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token comment"># å¦‚æœå·¦å³ä¾§çš„é«˜åº¦ä¸åŒï¼Œåˆ™æŒ‰ç…§æ™®é€šäºŒå‰æ ‘çš„é€»è¾‘è®¡ç®—</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_count-complete-tree-nodes" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_count-complete-tree-nodes" src="https://labuladong.online/algo-visualize/leetcode/count-complete-tree-nodes/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>ç»“åˆåˆšæ‰é’ˆå¯¹æ»¡äºŒå‰æ ‘å’Œæ™®é€šäºŒå‰æ ‘çš„ç®—æ³•ï¼Œä¸Šé¢è¿™æ®µä»£ç åº”è¯¥ä¸éš¾ç†è§£ï¼Œå°±æ˜¯ä¸€ä¸ªç»“åˆç‰ˆï¼Œä½†æ˜¯<strong>å…¶ä¸­é™ä½æ—¶é—´å¤æ‚åº¦çš„æŠ€å·§æ˜¯éå¸¸å¾®å¦™çš„</strong>ã€‚</p><h3 id="äºŒã€å¤æ‚åº¦åˆ†æ"><a href="#äºŒã€å¤æ‚åº¦åˆ†æ" class="headerlink" title="äºŒã€å¤æ‚åº¦åˆ†æ"></a><a href="https://labuladong.online/algo/data-structure/count-complete-tree-nodes/#%E4%BA%8C%E3%80%81%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90">äºŒã€å¤æ‚åº¦åˆ†æ</a></h3><p>å¼€å¤´è¯´äº†ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(logâ¡NÃ—logâ¡N)$ï¼Œè¿™æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„å‘¢ï¼Ÿ</p><p>ç›´è§‰æ„Ÿè§‰å¥½åƒæœ€åæƒ…å†µä¸‹æ˜¯ $O(NÃ—logâ¡N)$ å§ï¼Œå› ä¸ºä¹‹å‰çš„ while éœ€è¦$ logâ¡N$çš„æ—¶é—´ï¼Œæœ€åè¦ $O(N)$ çš„æ—¶é—´å‘å·¦å³å­æ ‘é€’å½’ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> countNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å…³é”®ç‚¹åœ¨äºï¼Œè¿™ä¸¤ä¸ªé€’å½’åªæœ‰ä¸€ä¸ªä¼šçœŸçš„é€’å½’ä¸‹å»ï¼Œå¦ä¸€ä¸ªä¸€å®šä¼šè§¦å‘ <code>hl == hr</code> è€Œç«‹å³è¿”å›ï¼Œä¸ä¼šé€’å½’ä¸‹å»</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸå› å¦‚ä¸‹ï¼š</p><p><strong>ä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„ä¸¤æ£µå­æ ‘ï¼Œè‡³å°‘æœ‰ä¸€æ£µæ˜¯æ»¡äºŒå‰æ ‘</strong>ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1.jpg" alt="img"></p><p>çœ‹å›¾å°±æ˜æ˜¾äº†å§ï¼Œç”±äºå®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨ï¼Œå…¶å­æ ‘ä¸€å®šæœ‰ä¸€æ£µæ˜¯æ»¡çš„ï¼Œæ‰€ä»¥ä¸€å®šä¼šè§¦å‘ <code>hl == hr</code>ï¼Œåªæ¶ˆè€— $O*(log*N)$ çš„å¤æ‚åº¦è€Œä¸ä¼šç»§ç»­é€’å½’ã€‚</p><p>ç»¼ä¸Šï¼Œç®—æ³•çš„é€’å½’æ·±åº¦å°±æ˜¯æ ‘çš„é«˜åº¦ $ O(logN) $ï¼Œæ¯æ¬¡é€’å½’æ‰€èŠ±è´¹çš„æ—¶é—´å°±æ˜¯ while å¾ªç¯ï¼Œéœ€è¦ $O(logN)$ï¼Œæ‰€ä»¥æ€»ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(logNÃ—logN)$ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œã€Œå®Œå…¨äºŒå‰æ ‘ã€è¿™ä¸ªæ¦‚å¿µè¿˜æ˜¯æœ‰å®ƒå­˜åœ¨çš„åŸå› çš„ï¼Œä¸ä»…é€‚ç”¨äºæ•°ç»„å®ç°äºŒå‰å †ï¼Œè€Œä¸”è¿è®¡ç®—èŠ‚ç‚¹æ€»æ•°è¿™ç§çœ‹èµ·æ¥ç®€å•çš„æ“ä½œéƒ½æœ‰é«˜æ•ˆçš„ç®—æ³•å®ç°ã€‚</p><h1 id="æ‹“å±•ï¼šæƒ°æ€§å±•å¼€å¤šå‰æ ‘"><a href="#æ‹“å±•ï¼šæƒ°æ€§å±•å¼€å¤šå‰æ ‘" class="headerlink" title="æ‹“å±•ï¼šæƒ°æ€§å±•å¼€å¤šå‰æ ‘"></a>æ‹“å±•ï¼šæƒ°æ€§å±•å¼€å¤šå‰æ ‘</h1><h2 id="ä¸€ã€é¢˜ç›®æè¿°"><a href="#ä¸€ã€é¢˜ç›®æè¿°" class="headerlink" title="ä¸€ã€é¢˜ç›®æè¿°"></a><a href="https://labuladong.online/algo/data-structure/flatten-nested-list-iterator/#%E4%B8%80%E3%80%81%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">ä¸€ã€é¢˜ç›®æè¿°</a></h2><p>è¿™æ˜¯åŠ›æ‰£ç¬¬ 341 é¢˜ã€Œ<a href="https://leetcode.cn/problems/flatten-nested-list-iterator/">æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/flatten-nested-list-iterator/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/flatten-nested-list-iterator/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªåµŒå¥—çš„æ•´æ•°åˆ—è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nestedList</code><span>&nbsp;</span>ã€‚æ¯ä¸ªå…ƒç´ è¦ä¹ˆæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼›è¯¥åˆ—è¡¨çš„å…ƒç´ ä¹Ÿå¯èƒ½æ˜¯æ•´æ•°æˆ–è€…æ˜¯å…¶ä»–åˆ—è¡¨ã€‚è¯·ä½ å®ç°ä¸€ä¸ªè¿­ä»£å™¨å°†å…¶æ‰å¹³åŒ–ï¼Œä½¿ä¹‹èƒ½å¤Ÿéå†è¿™ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰æ•´æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°æ‰å¹³è¿­ä»£å™¨ç±»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">NestedIterator</code><span>&nbsp;</span>ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">NestedIterator(List&lt;NestedInteger&gt; nestedList)</code><span>&nbsp;</span>ç”¨åµŒå¥—åˆ—è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nestedList</code><span>&nbsp;</span>åˆå§‹åŒ–è¿­ä»£å™¨ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int next()</code><span>&nbsp;</span>è¿”å›åµŒå¥—åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªæ•´æ•°ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean hasNext()</code><span>&nbsp;</span>å¦‚æœä»ç„¶å­˜åœ¨å¾…è¿­ä»£çš„æ•´æ•°ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ çš„ä»£ç å°†ä¼šç”¨ä¸‹è¿°ä¼ªä»£ç æ£€æµ‹ï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">initialize iterator with nestedListres = []while iterator.hasNext()    append iterator.next() to the end of resreturn res</pre><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">res</code><span>&nbsp;</span>ä¸é¢„æœŸçš„æ‰å¹³åŒ–åˆ—è¡¨åŒ¹é…ï¼Œé‚£ä¹ˆä½ çš„ä»£ç å°†ä¼šè¢«åˆ¤ä¸ºæ­£ç¡®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nestedList = [[1,1],2,[1,1]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,1,2,1,1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>é€šè¿‡é‡å¤è°ƒç”¨&nbsp;<em>next </em>ç›´åˆ°&nbsp;<em>hasNex</em>t è¿”å› falseï¼Œ<em>next&nbsp;</em>è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">[1,1,2,1,1]</code>ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nestedList = [1,[4,[6]]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,4,6]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>é€šè¿‡é‡å¤è°ƒç”¨&nbsp;<em>next&nbsp;</em>ç›´åˆ°&nbsp;<em>hasNex</em>t è¿”å› falseï¼Œ<em>next&nbsp;</em>è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">[1,4,6]</code>ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nestedList.length &lt;= 500</code></li><li>åµŒå¥—åˆ—è¡¨ä¸­çš„æ•´æ•°å€¼åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-10<sup>6</sup>, 10<sup>6</sup>]</code><span>&nbsp;</span>å†…</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/flatten-nested-list-iterator/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨</a>ã€‚</strong></details><p>æˆ‘ä»¬çš„ç®—æ³•ä¼šè¢«è¾“å…¥ä¸€ä¸ª <code>NestedInteger</code> åˆ—è¡¨ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å†™ä¸€ä¸ªè¿­ä»£å™¨ç±» <code>NestedIterator</code>ï¼Œå°†è¿™ä¸ªå¸¦æœ‰åµŒå¥—ç»“æ„ <code>NestedInteger</code> çš„åˆ—è¡¨ã€Œæ‹å¹³ã€ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NestedIterator</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nestedList<span class="token punctuation">:</span> List<span class="token punctuation">[</span>NestedInteger<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># æ„é€ å™¨è¾“å…¥ä¸€ä¸ª NestedInteger åˆ—è¡¨</span>        <span class="token keyword">pass</span>    <span class="token comment"># è¿”å›ä¸‹ä¸€ä¸ªæ•´æ•°</span>    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Ÿ</span>    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å†™çš„è¿™ä¸ª <code>NestedIterator</code> ç±»ä¼šè¢«è¿™æ ·è°ƒç”¨ï¼Œ<strong>å…ˆè°ƒç”¨ <code>hasNext</code> æ–¹æ³•ï¼Œåè°ƒç”¨ <code>next</code> æ–¹æ³•</strong>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">NestedIterator i <span class="token operator">=</span> new NestedIterator<span class="token punctuation">(</span>nestedList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å­¦è¿‡è®¾è®¡æ¨¡å¼çš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œè¿­ä»£å™¨ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼çš„ä¸€ç§ï¼Œç›®çš„å°±æ˜¯ä¸ºè°ƒç”¨è€…å±è”½åº•å±‚æ•°æ®ç»“æ„çš„ç»†èŠ‚ï¼Œç®€å•åœ°é€šè¿‡ <code>hasNext</code> å’Œ <code>next</code> æ–¹æ³•æœ‰åºåœ°è¿›è¡Œéå†ã€‚</p><p>ä¸ºä»€ä¹ˆè¯´è¿™ä¸ªé¢˜ç›®å¾ˆæœ‰å¯å‘æ€§å‘¢ï¼Ÿå› ä¸ºæˆ‘æœ€è¿‘åœ¨ç”¨ä¸€æ¬¾ç±»ä¼¼å°è±¡ç¬”è®°çš„è½¯ä»¶ï¼Œå«åš Notionï¼ˆæŒºæœ‰åçš„ï¼‰ã€‚è¿™ä¸ªè½¯ä»¶çš„ä¸€ä¸ªäº®ç‚¹å°±æ˜¯ã€Œä¸‡ç‰©çš† blockã€ï¼Œæ¯”å¦‚è¯´æ ‡é¢˜ã€é¡µé¢ã€è¡¨æ ¼éƒ½æ˜¯ blockã€‚æœ‰çš„ block ç”šè‡³å¯ä»¥æ— é™åµŒå¥—ï¼Œè¿™å°±æ‰“ç ´äº†ä¼ ç»Ÿç¬”è®°æœ¬ã€Œæ–‡ä»¶å¤¹ã€-&gt;ã€Œç¬”è®°æœ¬ã€-&gt;ã€Œç¬”è®°ã€çš„ä¸‰å±‚ç»“æ„ã€‚</p><p>å›æƒ³è¿™ä¸ªç®—æ³•é—®é¢˜ï¼Œ<code>NestedInteger</code> ç»“æ„å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ç§æ”¯æŒæ— é™åµŒå¥—çš„ç»“æ„ï¼Œè€Œä¸”å¯ä»¥åŒæ—¶è¡¨ç¤ºæ•´æ•°å’Œåˆ—è¡¨ä¸¤ç§ä¸åŒç±»å‹ï¼Œæˆ‘æƒ³ Notion çš„æ ¸å¿ƒæ•°æ®ç»“æ„ block ä¼°è®¡ä¹Ÿæ˜¯è¿™æ ·çš„ä¸€ç§è®¾è®¡æ€è·¯ã€‚</p><p>é‚£ä¹ˆè¯è¯´å›æ¥ï¼Œå¯¹äºè¿™ä¸ªç®—æ³•é—®é¢˜ï¼Œæˆ‘ä»¬æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<code>NestedInteger</code> ç»“æ„å¯ä»¥æ— é™åµŒå¥—ï¼Œæ€ä¹ˆæŠŠè¿™ä¸ªç»“æ„ã€Œæ‰“å¹³ã€ï¼Œä¸ºè¿­ä»£å™¨çš„è°ƒç”¨è€…å±è”½åº•å±‚ç»†èŠ‚ï¼Œå¾—åˆ°æ‰å¹³åŒ–çš„è¾“å‡ºå‘¢ï¼Ÿ</p><h2 id="äºŒã€è§£é¢˜æ€è·¯"><a href="#äºŒã€è§£é¢˜æ€è·¯" class="headerlink" title="äºŒã€è§£é¢˜æ€è·¯"></a><a href="https://labuladong.online/algo/data-structure/flatten-nested-list-iterator/#%E4%BA%8C%E3%80%81%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF">äºŒã€è§£é¢˜æ€è·¯</a></h2><p>æ˜¾ç„¶ï¼Œ<code>NestedInteger</code> è¿™ä¸ªç¥å¥‡çš„æ•°æ®ç»“æ„æ˜¯é—®é¢˜çš„å…³é”®ï¼Œä¸è¿‡é¢˜ç›®ä¸“é—¨æé†’æˆ‘ä»¬ä¸è¦å°è¯•å»å®ç°å®ƒï¼Œä¹Ÿä¸è¦å»çŒœæµ‹å®ƒçš„å®ç°ã€‚</p><p><strong>ä¸ºä»€ä¹ˆï¼Ÿå‡­ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯é¢˜ç›®åœ¨è¯¯å¯¼æˆ‘ï¼Ÿæ˜¯ä¸æ˜¯æˆ‘è¿›è¡Œæ¨æµ‹ä¹‹åï¼Œè¿™é“é¢˜å°±ä¸æ”»è‡ªç ´äº†</strong>ï¼Ÿ</p><p>ä½ ä¸è®©æ¨æµ‹ï¼Œæˆ‘å°±ååè¦å»æ¨æµ‹ï¼æˆ‘åæ‰‹å°±æŠŠ <code>NestedInteger</code> è¿™ä¸ªç»“æ„ç»™å®ç°å‡ºæ¥ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰åµŒå¥—æ•´å‹ç±»</span><span class="token keyword">class</span> <span class="token class-name">NestedInteger</span><span class="token punctuation">:</span>    <span class="token comment"># åµŒå¥—æ•´å‹ç±»å‹ï¼Œé€šè¿‡ä¸€ä¸ªæ•´æ•°åˆå§‹åŒ–</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span> lst<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token string">'NestedInteger'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å½“å‰åµŒå¥—æ•´å‹ç±»çš„æ•´å‹å€¼</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> val        <span class="token comment"># å½“å‰åµŒå¥—æ•´å‹ç±»åµŒå¥—çš„æ•´å‹ç±»åˆ—è¡¨</span>        self<span class="token punctuation">.</span>lst <span class="token operator">=</span> lst    <span class="token comment"># å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› false</span>    <span class="token keyword">def</span> <span class="token function">isInteger</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>val <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>    <span class="token comment"># å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™è¿”å›è¿™ä¸ªæ•´æ•°ï¼Œå¦åˆ™è¿”å› null</span>    <span class="token keyword">def</span> <span class="token function">getInteger</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>val    <span class="token comment"># å¦‚æœå…¶ä¸­å­˜çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ™è¿”å›è¿™ä¸ªåˆ—è¡¨ï¼Œå¦åˆ™è¿”å› null</span>    <span class="token keyword">def</span> <span class="token function">getList</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token string">'NestedInteger'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>lst<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å—¯ï¼Œå…¶å®è¿™ä¸ªå®ç°ä¹Ÿä¸éš¾å˜›ï¼Œå†™å‡ºæ¥ä¹‹åï¼Œæˆ‘ä¸ç¦ç¿»å‡ºå‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/n-ary-tree-traverse-basic/">å¤šå‰æ ‘åŸºç¡€åŠéå†</a>ï¼Œå‘ç°è¿™ç©æ„å„¿ç«Ÿç„¶â€¦â€¦</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NestedInteger</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment"># åŸºæœ¬çš„ N å‰æ ‘èŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">TreeNode</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> val        self<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿™ç©æ„å„¿ä¸å°±æ˜¯æ£µ N å‰æ ‘å—ï¼Ÿå¶å­èŠ‚ç‚¹æ˜¯ <code>Integer</code> ç±»å‹ï¼Œå…¶ <code>val</code> å­—æ®µéç©ºï¼›å…¶ä»–èŠ‚ç‚¹éƒ½æ˜¯ <code>List&lt;NestedInteger&gt;</code> ç±»å‹ï¼Œå…¶ <code>val</code> å­—æ®µä¸ºç©ºï¼Œä½†æ˜¯ <code>list</code> å­—æ®µéç©ºï¼Œè£…ç€å­©å­èŠ‚ç‚¹</strong>ã€‚</p><p>æ¯”å¦‚è¯´è¾“å…¥æ˜¯ <code>[[1,1],2,[1,1]]</code>ï¼Œå…¶å®å°±æ˜¯å¦‚ä¸‹æ ‘çŠ¶ç»“æ„ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1-1754615108529-13.jpeg" alt="img"></p><p>å¥½çš„ï¼Œåˆšæ‰é¢˜ç›®è¯´ä»€ä¹ˆæ¥ç€ï¼ŸæŠŠä¸€ä¸ª <code>NestedInteger</code> æ‰å¹³åŒ–å¯¹å§ï¼Ÿ<strong>è¿™ä¸å°±ç­‰ä»·äºéå†ä¸€æ£µ N å‰æ ‘çš„æ‰€æœ‰ã€Œå¶å­èŠ‚ç‚¹ã€å—</strong>ï¼Ÿæˆ‘æŠŠæ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½æ‹¿å‡ºæ¥ï¼Œä¸å°±å¯ä»¥ä½œä¸ºè¿­ä»£å™¨è¿›è¡Œéå†äº†å—ï¼Ÿ</p><p>N å‰æ ‘çš„éå†æ€ä¹ˆæ•´ï¼Ÿæˆ‘åˆä¸ç¦ç¿»å‡ºå‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/n-ary-tree-traverse-basic/">å¤šå‰æ ‘éå†æ¡†æ¶</a>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token keyword">for</span> child <span class="token keyword">in</span> root<span class="token punctuation">.</span>children<span class="token punctuation">:</span>        traverse<span class="token punctuation">(</span>child<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªæ¡†æ¶å¯ä»¥éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œè€Œæˆ‘ä»¬åªå¯¹æ•´æ•°å‹çš„ <code>NestedInteger</code> æ„Ÿå…´è¶£ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åªæƒ³è¦ã€Œå¶å­èŠ‚ç‚¹ã€ï¼Œæ‰€ä»¥ <code>traverse</code> å‡½æ•°åªè¦åœ¨åˆ°è¾¾å¶å­èŠ‚ç‚¹çš„æ—¶å€™æŠŠ <code>val</code> åŠ å…¥ç»“æœåˆ—è¡¨å³å¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NestedIterator</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nestedList<span class="token punctuation">:</span> List<span class="token punctuation">[</span>NestedInteger<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å­˜æ”¾å°† nestedList æ‰“å¹³çš„ç»“æœ</span>        result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> node <span class="token keyword">in</span> nestedList<span class="token punctuation">:</span>            <span class="token comment"># ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹éå†</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>node<span class="token punctuation">,</span> result<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>result <span class="token operator">=</span> result    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>isInteger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># åˆ°è¾¾å¶å­èŠ‚ç‚¹</span>            result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>getInteger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token comment"># éå†æ¡†æ¶</span>        <span class="token keyword">for</span> child <span class="token keyword">in</span> root<span class="token punctuation">.</span>getList<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>child<span class="token punctuation">,</span> result<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> self<span class="token punctuation">.</span>result<span class="token punctuation">[</span>self<span class="token punctuation">.</span>index<span class="token punctuation">]</span>        self<span class="token punctuation">.</span>index <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±æŠŠåŸé—®é¢˜å·§å¦™è½¬åŒ–æˆäº†ä¸€ä¸ª N å‰æ ‘çš„éå†é—®é¢˜ï¼Œå¹¶ä¸”å¾—åˆ°äº†è§£æ³•ã€‚</p><h2 id="ä¸‰ã€è¿›é˜¶æ€è·¯"><a href="#ä¸‰ã€è¿›é˜¶æ€è·¯" class="headerlink" title="ä¸‰ã€è¿›é˜¶æ€è·¯"></a><a href="https://labuladong.online/algo/data-structure/flatten-nested-list-iterator/#%E4%B8%89%E3%80%81%E8%BF%9B%E9%98%B6%E6%80%9D%E8%B7%AF">ä¸‰ã€è¿›é˜¶æ€è·¯</a></h2><p>ä»¥ä¸Šè§£æ³•è™½ç„¶å¯ä»¥é€šè¿‡ï¼Œä½†æ˜¯åœ¨é¢è¯•ä¸­ï¼Œä¹Ÿè®¸æ˜¯æœ‰ç‘•ç–µçš„ã€‚</p><p>æˆ‘ä»¬çš„è§£æ³•ä¸­ï¼Œä¸€æ¬¡æ€§ç®—å‡ºäº†æ‰€æœ‰å¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå…¨éƒ¨è£…åˆ° <code>result</code> åˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯å†…å­˜ä¸­ï¼Œ<code>next</code> å’Œ <code>hasNext</code> æ–¹æ³•åªæ˜¯åœ¨å¯¹ <code>result</code> åˆ—è¡¨åšè¿­ä»£ã€‚å¦‚æœè¾“å…¥çš„è§„æ¨¡éå¸¸å¤§ï¼Œæ„é€ å‡½æ•°ä¸­çš„è®¡ç®—å°±ä¼šå¾ˆæ…¢ï¼Œè€Œä¸”å¾ˆå ç”¨å†…å­˜ã€‚</p><p>ä¸€èˆ¬çš„è¿­ä»£å™¨æ±‚å€¼åº”è¯¥æ˜¯ã€Œæƒ°æ€§çš„ã€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ è¦ä¸€ä¸ªç»“æœï¼Œæˆ‘å°±ç®—ä¸€ä¸ªï¼ˆæˆ–æ˜¯ä¸€å°éƒ¨åˆ†ï¼‰ç»“æœå‡ºæ¥ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æŠŠæ‰€æœ‰ç»“æœéƒ½ç®—å‡ºæ¥ã€‚</p><p>å¦‚æœæƒ³åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½¿ç”¨é€’å½’å‡½æ•°è¿›è¡Œ DFS éå†è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œè€Œä¸”æˆ‘ä»¬å…¶å®åªå…³å¿ƒã€Œå¶å­èŠ‚ç‚¹ã€ï¼Œæ‰€ä»¥ä¼ ç»Ÿçš„ BFS ç®—æ³•ä¹Ÿä¸è¡Œã€‚å®é™…çš„æ€è·¯å¾ˆç®€å•ï¼š</p><p><strong>è°ƒç”¨ <code>hasNext</code> æ—¶ï¼Œå¦‚æœ <code>nestedList</code> çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ç±»å‹ï¼Œåˆ™ä¸æ–­å±•å¼€è¿™ä¸ªå…ƒç´ ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´æ•°ç±»å‹</strong>ã€‚</p><p>ä»”ç»†æƒ³ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹åº”è¯¥å°±èƒ½ç†è§£äº†ï¼Œä¸€æ¬¡åªå±•å¼€ä¸€ä¸ªæœ€å†…å±‚çš„ <code>nestedList</code>ï¼Œä¸ä¼šä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ <code>nestedList</code> å±•å¼€ï¼Œç›¸å½“äºæƒ°æ€§çš„ DFS éå†ã€‚</p><p>ç”±äºè°ƒç”¨ <code>next</code> æ–¹æ³•ä¹‹å‰ä¸€å®šä¼šè°ƒç”¨ <code>hasNext</code> æ–¹æ³•ï¼Œè¿™å°±å¯ä»¥ä¿è¯æ¯æ¬¡è°ƒç”¨ <code>next</code> æ–¹æ³•çš„æ—¶å€™ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´æ•°å‹ï¼Œç›´æ¥è¿”å›å¹¶åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å³å¯ã€‚</p><p>çœ‹ä¸€ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">NestedIterator</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nestedList<span class="token punctuation">:</span> <span class="token punctuation">[</span>NestedInteger<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸ç›´æ¥ç”¨ nestedList çš„å¼•ç”¨ï¼Œæ˜¯å› ä¸ºä¸èƒ½ç¡®å®šå®ƒçš„åº•å±‚å®ç°</span>        <span class="token comment"># å¿…é¡»ä¿è¯æ˜¯ LinkedListï¼Œå¦åˆ™ä¸‹é¢çš„ addFirst ä¼šå¾ˆä½æ•ˆ</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span> <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span>nestedList<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># hasNext æ–¹æ³•ä¿è¯äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯æ•´æ•°ç±»å‹</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getInteger<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># å¾ªç¯æ‹†åˆ†åˆ—è¡¨å…ƒç´ ï¼Œç›´åˆ°åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´æ•°ç±»å‹</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span><span class="token builtin">list</span> <span class="token keyword">and</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isInteger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># å½“åˆ—è¡¨å¼€å¤´ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ç±»å‹æ—¶ï¼Œè¿›å…¥å¾ªç¯</span>            first <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getList<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># å°†ç¬¬ä¸€ä¸ªåˆ—è¡¨æ‰“å¹³å¹¶æŒ‰é¡ºåºæ·»åŠ åˆ°å¼€å¤´</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>first<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥è¿™ç§æ–¹æ³•ï¼Œç¬¦åˆè¿­ä»£å™¨æƒ°æ€§æ±‚å€¼çš„ç‰¹æ€§ï¼Œæ˜¯æ¯”è¾ƒå¥½çš„è§£æ³•ã€‚</p><h1 id="æ‹“å±•ï¼šå½’å¹¶æ’åºè¯¦è§£åŠåº”ç”¨"><a href="#æ‹“å±•ï¼šå½’å¹¶æ’åºè¯¦è§£åŠåº”ç”¨" class="headerlink" title="æ‹“å±•ï¼šå½’å¹¶æ’åºè¯¦è§£åŠåº”ç”¨"></a>æ‹“å±•ï¼šå½’å¹¶æ’åºè¯¦è§£åŠåº”ç”¨</h1><p>ä¸€ç›´éƒ½æœ‰å¾ˆå¤šè¯»è€…è¯´ï¼Œæƒ³è®©æˆ‘ç”¨æ¡†æ¶æ€ç»´è®²ä¸€è®²åŸºæœ¬çš„æ’åºç®—æ³•ï¼Œæˆ‘è§‰å¾—ç¡®å®å¾—è®²è®²ï¼Œæ¯•ç«Ÿå­¦ä¹ ä»»ä½•ä¸œè¥¿éƒ½è®²æ±‚ä¸€ä¸ªèä¼šè´¯é€šï¼Œåªæœ‰å¯¹å…¶æœ¬è´¨è¿›è¡Œæ¯”è¾ƒæ·±åˆ»çš„ç†è§£ï¼Œæ‰èƒ½è¿ç”¨è‡ªå¦‚ã€‚</p><p>æœ¬æ–‡å°±å…ˆè®²å½’å¹¶æ’åºï¼Œç»™ä¸€å¥—ä»£ç æ¨¡æ¿ï¼Œç„¶åè®²è®²å®ƒåœ¨ç®—æ³•é—®é¢˜ä¸­çš„åº”ç”¨ã€‚é˜…è¯»æœ¬æ–‡å‰æˆ‘å¸Œæœ›ä½ è¯»è¿‡å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ï¼ˆçº²é¢†ç¯‡ï¼‰</a>ã€‚</p><p>æˆ‘åœ¨è®²äºŒå‰æ ‘çš„æ—¶å€™ï¼Œæäº†ä¸€å˜´å½’å¹¶æ’åºï¼Œè¯´å½’å¹¶æ’åºå°±æ˜¯äºŒå‰æ ‘çš„ååºéå†ï¼Œå½“æ—¶å°±æœ‰å¾ˆå¤šè¯»è€…ç•™è¨€è¯´é†é†çŒé¡¶ã€‚</p><p>çŸ¥é“ä¸ºä»€ä¹ˆå¾ˆå¤šè¯»è€…é‡åˆ°é€’å½’ç›¸å…³çš„ç®—æ³•å°±è§‰å¾—çƒ§è„‘å—ï¼Ÿå› ä¸ºè¿˜å¤„åœ¨ã€Œçœ‹å±±æ˜¯å±±ï¼Œçœ‹æ°´æ˜¯æ°´ã€çš„é˜¶æ®µã€‚</p><p>å°±è¯´å½’å¹¶æ’åºå§ï¼Œå¦‚æœç»™ä½ çœ‹ä»£ç ï¼Œè®©ä½ è„‘è¡¥ä¸€ä¸‹å½’å¹¶æ’åºçš„è¿‡ç¨‹ï¼Œä½ è„‘å­é‡Œä¼šå‡ºç°ä»€ä¹ˆåœºæ™¯ï¼Ÿ</p><p>è¿™æ˜¯ä¸€ä¸ªæ•°ç»„æ’åºç®—æ³•ï¼Œæ‰€ä»¥ä½ è„‘è¡¥ä¸€ä¸ªæ•°ç»„çš„ GIFï¼Œåœ¨é‚£ä¸€ä¸ªä¸ªäº¤æ¢å…ƒç´ ï¼Ÿå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£æ ¼å±€å°±ä½äº†ã€‚</p><p>ä½†å¦‚æœä½ è„‘æµ·ä¸­æµ®ç°å‡ºçš„æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œç”šè‡³æµ®ç°å‡ºäºŒå‰æ ‘ååºéå†çš„åœºæ™¯ï¼Œé‚£æ ¼å±€å°±é«˜äº†ï¼Œå¤§æ¦‚ç‡æŒæ¡äº†æˆ‘ç»å¸¸å¼ºè°ƒçš„ <a href="https://labuladong.online/algo/essential-technique/algorithm-summary/">æ¡†æ¶æ€ç»´</a>ï¼Œç”¨è¿™ç§æŠ½è±¡èƒ½åŠ›å­¦ä¹ ç®—æ³•å°±çœåŠ²å¤šäº†ã€‚</p><p>é‚£ä¹ˆï¼Œå½’å¹¶æ’åºæ˜æ˜å°±æ˜¯ä¸€ä¸ªæ•°ç»„ç®—æ³•ï¼Œå’ŒäºŒå‰æ ‘æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæ¥ä¸‹æ¥æˆ‘å°±å…·ä½“è®²è®²ã€‚</p><hr><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#%E7%AE%97%E6%B3%95%E6%80%9D%E8%B7%AF">ç®—æ³•æ€è·¯</a></h2><p><strong>å°±è¿™ä¹ˆè¯´å§ï¼Œæ‰€æœ‰é€’å½’çš„ç®—æ³•ï¼Œä½ ç”­ç®¡å®ƒæ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨éå†ä¸€æ£µï¼ˆé€’å½’ï¼‰æ ‘ï¼Œç„¶ååœ¨èŠ‚ç‚¹ï¼ˆå‰ä¸­ååºä½ç½®ï¼‰ä¸Šæ‰§è¡Œä»£ç ï¼Œä½ è¦å†™é€’å½’ç®—æ³•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦å‘Šè¯‰æ¯ä¸ªèŠ‚ç‚¹éœ€è¦åšä»€ä¹ˆ</strong>ã€‚</p><p>ä½ çœ‹å½’å¹¶æ’åºçš„ä»£ç æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šæ’åº nums[lo..hi]</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> lo <span class="token operator">==</span> hi<span class="token punctuation">:</span>        <span class="token keyword">return</span>    mid <span class="token operator">=</span> <span class="token punctuation">(</span>lo <span class="token operator">+</span> hi<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>    <span class="token comment"># åˆ©ç”¨å®šä¹‰ï¼Œæ’åº nums[lo..mid]</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>    <span class="token comment"># åˆ©ç”¨å®šä¹‰ï¼Œæ’åº nums[mid+1..hi]</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># ***** ååºä½ç½® *****</span>    <span class="token comment"># æ­¤æ—¶ä¸¤éƒ¨åˆ†å­æ•°ç»„å·²ç»è¢«æ’å¥½åº</span>    <span class="token comment"># åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œä½¿ nums[lo..hi] æœ‰åº</span>    merge<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token comment"># å°†æœ‰åºæ•°ç»„ nums[lo..mid] å’Œæœ‰åºæ•°ç»„ nums[mid+1..hi]</span><span class="token comment"># åˆå¹¶ä¸ºæœ‰åºæ•°ç»„ nums[lo..hi]</span><span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> mid<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹è¿™ä¸ªæ¡†æ¶ï¼Œä¹Ÿå°±æ˜ç™½é‚£å¥ç»å…¸çš„æ€»ç»“ï¼šå½’å¹¶æ’åºå°±æ˜¯å…ˆæŠŠå·¦åŠè¾¹æ•°ç»„æ’å¥½åºï¼Œå†æŠŠå³åŠè¾¹æ•°ç»„æ’å¥½åºï¼Œç„¶åæŠŠä¸¤åŠæ•°ç»„åˆå¹¶ã€‚</p><p>ä¸Šè¿°ä»£ç å’ŒäºŒå‰æ ‘çš„ååºéå†å¾ˆåƒï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶ </span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>     <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†è¿›ä¸€æ­¥ï¼Œä½ è”æƒ³ä¸€ä¸‹æ±‚äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦çš„ç®—æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šè¾“å…¥æ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¿™æ£µäºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span><span class="token keyword">def</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token comment"># åˆ©ç”¨å®šä¹‰ï¼Œè®¡ç®—å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦</span>leftMax <span class="token operator">=</span> maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>rightMax <span class="token operator">=</span> maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token comment"># æ•´æ£µæ ‘çš„æœ€å¤§æ·±åº¦ç­‰äºå·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦å–æœ€å¤§å€¼ï¼Œ</span><span class="token comment"># ç„¶åå†åŠ ä¸Šæ ¹èŠ‚ç‚¹è‡ªå·±</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>leftMax<span class="token punctuation">,</span> rightMax<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¯ä¸æ˜¯æ›´åƒäº†ï¼Ÿ</p><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ï¼ˆçº²é¢†ç¯‡ï¼‰</a> è¯´äºŒå‰æ ‘é—®é¢˜å¯ä»¥åˆ†ä¸ºä¸¤ç±»æ€è·¯ï¼Œä¸€ç±»æ˜¯éå†ä¸€éäºŒå‰æ ‘çš„æ€è·¯ï¼Œå¦ä¸€ç±»æ˜¯åˆ†è§£é—®é¢˜çš„æ€è·¯ï¼Œæ ¹æ®ä¸Šè¿°ç±»æ¯”ï¼Œæ˜¾ç„¶å½’å¹¶æ’åºåˆ©ç”¨çš„æ˜¯åˆ†è§£é—®é¢˜çš„æ€è·¯ï¼ˆ<a href="https://labuladong.online/algo/essential-technique/divide-and-conquer/">åˆ†æ²»ç®—æ³•</a>ï¼‰ã€‚</p><p><strong>å½’å¹¶æ’åºçš„è¿‡ç¨‹å¯ä»¥åœ¨é€»è¾‘ä¸ŠæŠ½è±¡æˆä¸€æ£µäºŒå‰æ ‘ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å¯ä»¥è®¤ä¸ºæ˜¯ <code>nums[lo..hi]</code>ï¼Œå¶å­èŠ‚ç‚¹çš„å€¼å°±æ˜¯æ•°ç»„ä¸­çš„å•ä¸ªå…ƒç´ </strong>ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1-1754615251849-16.jpeg" alt="img"></p><p>ç„¶åï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹çš„ååºä½ç½®ï¼ˆå·¦å³å­èŠ‚ç‚¹å·²ç»è¢«æ’å¥½åºï¼‰çš„æ—¶å€™æ‰§è¡Œ <code>merge</code> å‡½æ•°ï¼Œåˆå¹¶ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸Šçš„å­æ•°ç»„ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/2.jpeg" alt="img"></p><p>è¿™ä¸ª <code>merge</code> æ“ä½œä¼šåœ¨äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æ‰§è¡Œä¸€éï¼Œæ‰§è¡Œé¡ºåºæ˜¯äºŒå‰æ ‘ååºéå†çš„é¡ºåºã€‚</p><p>ååºéå†äºŒå‰æ ‘å¤§å®¶åº”è¯¥å·²ç»çƒ‚ç†Ÿäºå¿ƒäº†ï¼Œå°±æ˜¯ä¸‹å›¾è¿™ä¸ªéå†é¡ºåºï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/3.jpeg" alt="img"></p><p>ç»“åˆä¸Šè¿°åŸºæœ¬åˆ†æï¼Œæˆ‘ä»¬æŠŠ <code>nums[lo..hi]</code> ç†è§£æˆäºŒå‰æ ‘çš„èŠ‚ç‚¹ï¼Œ<code>sort</code> å‡½æ•°ç†è§£æˆäºŒå‰æ ‘çš„éå†å‡½æ•°ï¼Œæ•´ä¸ªå½’å¹¶æ’åºçš„æ‰§è¡Œè¿‡ç¨‹å°±æ˜¯ä»¥ä¸‹ GIF æè¿°çš„è¿™æ ·ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/4.gif" alt="img"></p><p>è¿™æ ·ï¼Œå½’å¹¶æ’åºçš„æ ¸å¿ƒæ€è·¯å°±åˆ†æå®Œäº†ï¼Œæ¥ä¸‹æ¥åªè¦æŠŠæ€è·¯ç¿»è¯‘æˆä»£ç å°±è¡Œã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0">ä»£ç å®ç°</a></h2><p><strong>åªè¦æ‹¥æœ‰äº†æ­£ç¡®çš„æ€ç»´æ–¹å¼ï¼Œç†è§£ç®—æ³•æ€è·¯æ˜¯ä¸å›°éš¾çš„ï¼Œä½†æŠŠæ€è·¯å®ç°æˆä»£ç ï¼Œä¹Ÿå¾ˆè€ƒéªŒä¸€ä¸ªäººçš„ç¼–ç¨‹èƒ½åŠ›</strong>ã€‚</p><p>æ¯•ç«Ÿç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åªæ˜¯ä¸€ä¸ªç†è®ºä¸Šçš„è¡¡é‡æ ‡å‡†ï¼Œè€Œç®—æ³•çš„å®é™…è¿è¡Œæ•ˆç‡è¦è€ƒè™‘çš„å› ç´ æ›´å¤šï¼Œæ¯”å¦‚åº”è¯¥é¿å…å†…å­˜çš„é¢‘ç¹åˆ†é…é‡Šæ”¾ï¼Œä»£ç é€»è¾‘åº”å°½å¯èƒ½ç®€æ´ç­‰ç­‰ã€‚</p><p>è¿™é‡Œæˆ‘å‚è€ƒã€Šç®—æ³• 4ã€‹è¿™æœ¬ä¹¦ä¸­å½’å¹¶æ’åºä»£ç ç»™å‡ºå½’å¹¶æ’åºçš„ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Merge</span><span class="token punctuation">:</span>    <span class="token comment"># ç”¨äºè¾…åŠ©åˆå¹¶æœ‰åºæ•°ç»„</span>    temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å…ˆç»™è¾…åŠ©æ•°ç»„å¼€è¾Ÿå†…å­˜ç©ºé—´</span>        Merge<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># æ’åºæ•´ä¸ªæ•°ç»„ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰</span>        Merge<span class="token punctuation">.</span>_sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šå°†å­æ•°ç»„ nums[lo..hi] è¿›è¡Œæ’åº</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">_sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">==</span> hi<span class="token punctuation">:</span>            <span class="token comment"># å•ä¸ªå…ƒç´ ä¸ç”¨æ’åº</span>            <span class="token keyword">return</span>        <span class="token comment"># è¿™æ ·å†™æ˜¯ä¸ºäº†é˜²æ­¢æº¢å‡ºï¼Œæ•ˆæœç­‰åŒäº (hi + lo) / 2</span>        mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        <span class="token comment"># å…ˆå¯¹å·¦åŠéƒ¨åˆ†æ•°ç»„ nums[lo..mid] æ’åº</span>        Merge<span class="token punctuation">.</span>_sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>        <span class="token comment"># å†å¯¹å³åŠéƒ¨åˆ†æ•°ç»„ nums[mid+1..hi] æ’åº</span>        Merge<span class="token punctuation">.</span>_sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        <span class="token comment"># å°†ä¸¤éƒ¨åˆ†æœ‰åºæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„</span>        Merge<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># å°† nums[lo..mid] å’Œ nums[mid+1..hi] è¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å…ˆæŠŠ nums[lo..hi] å¤åˆ¶åˆ°è¾…åŠ©æ•°ç»„ä¸­</span>        <span class="token comment"># ä»¥ä¾¿åˆå¹¶åçš„ç»“æœèƒ½å¤Ÿç›´æ¥å­˜å…¥ nums</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token comment"># æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">==</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token comment"># å·¦åŠè¾¹æ•°ç»„å·²å…¨éƒ¨è¢«åˆå¹¶</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> j <span class="token operator">==</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token comment"># å³åŠè¾¹æ•°ç»„å·²å…¨éƒ¨è¢«åˆå¹¶</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> Merge<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰äº†ä¹‹å‰çš„é“ºå«ï¼Œè¿™é‡Œåªéœ€è¦ç€é‡è®²ä¸€ä¸‹è¿™ä¸ª <code>merge</code> å‡½æ•°ã€‚</p><p><code>sort</code> å‡½æ•°å¯¹ <code>nums[lo..mid]</code> å’Œ <code>nums[mid+1..hi]</code> é€’å½’æ’åºå®Œæˆä¹‹åï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•åŸåœ°æŠŠå®ƒä¿©åˆå¹¶ï¼Œæ‰€ä»¥éœ€è¦ copy åˆ° <code>temp</code> æ•°ç»„é‡Œé¢ï¼Œç„¶åé€šè¿‡ç±»ä¼¼äºå‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/linked-list-skills-summary/">å•é“¾è¡¨çš„å…­å¤§æŠ€å·§</a> ä¸­åˆå¹¶æœ‰åºé“¾è¡¨çš„åŒæŒ‡é’ˆæŠ€å·§å°† <code>nums[lo..hi]</code> åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/5.jpeg" alt="img"></p><p>æ³¨æ„æˆ‘ä»¬ä¸æ˜¯åœ¨ <code>merge</code> å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ new è¾…åŠ©æ•°ç»„ï¼Œè€Œæ˜¯æå‰æŠŠ <code>temp</code> è¾…åŠ©æ•°ç»„ new å‡ºæ¥äº†ï¼Œè¿™æ ·å°±é¿å…äº†åœ¨é€’å½’ä¸­é¢‘ç¹åˆ†é…å’Œé‡Šæ”¾å†…å­˜å¯èƒ½äº§ç”Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</p><p>è´´ä¸€ä¸ªå½’å¹¶æ’åºè¿‡ç¨‹çš„å¯è§†åŒ–åŠ¨ç”»ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£ç®—æ³•è¿è¡Œçš„è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_merge-sort" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_merge-sort" src="https://labuladong.online/algo-visualize/tutorial/merge-sort/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90">å¤æ‚åº¦åˆ†æ</a></h2><p>å†è¯´ä¸€ä¸‹å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œè™½ç„¶å¤§ä¼™å„¿åº”è¯¥éƒ½çŸ¥é“æ˜¯ O(NlogN)ï¼Œä½†ä¸è§å¾—æ‰€æœ‰äººéƒ½çŸ¥é“è¿™ä¸ªå¤æ‚åº¦æ€ä¹ˆç®—å‡ºæ¥çš„ã€‚</p><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/dynamic-programming-framework/">åŠ¨æ€è§„åˆ’è¯¦è§£</a> è¯´è¿‡é€’å½’ç®—æ³•çš„å¤æ‚åº¦è®¡ç®—ï¼Œå°±æ˜¯å­é—®é¢˜ä¸ªæ•° x è§£å†³ä¸€ä¸ªå­é—®é¢˜çš„å¤æ‚åº¦ã€‚å¯¹äºå½’å¹¶æ’åºæ¥è¯´ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¾ç„¶é›†ä¸­åœ¨ <code>merge</code> å‡½æ•°éå† <code>nums[lo..hi]</code> çš„è¿‡ç¨‹ï¼Œä½†æ¯æ¬¡ <code>merge</code> è¾“å…¥çš„ <code>lo</code> å’Œ <code>hi</code> éƒ½ä¸åŒï¼Œæ‰€ä»¥ä¸å®¹æ˜“ç›´è§‚åœ°çœ‹å‡ºæ—¶é—´å¤æ‚åº¦ã€‚</p><p><code>merge</code> å‡½æ•°åˆ°åº•æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Ÿæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿè¿™å°±è¦ç»“åˆä¹‹å‰ç”»çš„è¿™å¹…å›¾æ¥çœ‹ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1-1754615251849-16.jpeg" alt="img"></p><p><strong>æ‰§è¡Œçš„æ¬¡æ•°æ˜¯äºŒå‰æ ‘èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæ¯æ¬¡æ‰§è¡Œçš„å¤æ‚åº¦å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨çš„å­æ•°ç»„çš„é•¿åº¦ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯æ•´æ£µæ ‘ä¸­ã€Œæ•°ç»„å…ƒç´ ã€çš„ä¸ªæ•°</strong>ã€‚</p><p>æ‰€ä»¥ä»æ•´ä½“ä¸Šçœ‹ï¼Œè¿™ä¸ªäºŒå‰æ ‘çš„é«˜åº¦æ˜¯ <code>logN</code>ï¼Œå…¶ä¸­æ¯ä¸€å±‚çš„å…ƒç´ ä¸ªæ•°å°±æ˜¯åŸæ•°ç»„çš„é•¿åº¦ <code>N</code>ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(NlogN)ã€‚</p><h2 id="912-æ’åºæ•°ç»„"><a href="#912-æ’åºæ•°ç»„" class="headerlink" title="912. æ’åºæ•°ç»„"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#_912-%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84">912. æ’åºæ•°ç»„</a></h2><p>åŠ›æ‰£ç¬¬ 912 é¢˜ã€Œ<a href="https://leetcode.cn/problems/sort-an-array/">æ’åºæ•°ç»„</a>ã€å°±æ˜¯è®©ä½ å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¥—ç”¨å½’å¹¶æ’åºä»£ç æ¨¡æ¿ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sortArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        Merge<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token keyword">return</span> nums<span class="token keyword">class</span> <span class="token class-name">Merge</span><span class="token punctuation">:</span>    <span class="token comment"># è§ä¸Šæ–‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="315-è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"><a href="#315-è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°" class="headerlink" title="315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#_315-%E8%AE%A1%E7%AE%97%E5%8F%B3%E4%BE%A7%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0">315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</a></h2><p>é™¤äº†æœ€åŸºæœ¬çš„æ’åºé—®é¢˜ï¼Œå½’å¹¶æ’åºè¿˜å¯ä»¥ç”¨æ¥è§£å†³åŠ›æ‰£ç¬¬ 315 é¢˜ã€Œ<a href="https://leetcode.cn/problems/count-of-smaller-numbers-after-self/">è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/count-of-smaller-numbers-after-self/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/count-of-smaller-numbers-after-self/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><em><span>&nbsp;</span></em>ï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">counts</code><em><span>&nbsp;</span></em>ã€‚æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">counts</code><span>&nbsp;</span>æœ‰è¯¥æ€§è´¨ï¼š<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">counts[i]</code><span>&nbsp;</span>çš„å€¼æ˜¯&nbsp;<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i]</code><span>&nbsp;</span>å³ä¾§å°äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i]</code><span>&nbsp;</span>çš„å…ƒç´ çš„æ•°é‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [5,2,6,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">[2,1,1,0] <strong style="font-weight: 600;">è§£é‡Šï¼š</strong></code>5 çš„å³ä¾§æœ‰ <strong style="font-weight: 600;">2 </strong>ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1)2 çš„å³ä¾§ä»…æœ‰ <strong style="font-weight: 600;">1 </strong>ä¸ªæ›´å°çš„å…ƒç´  (1)6 çš„å³ä¾§æœ‰ <strong style="font-weight: 600;">1 </strong>ä¸ªæ›´å°çš„å…ƒç´  (1)1 çš„å³ä¾§æœ‰ <strong style="font-weight: 600;">0 </strong>ä¸ªæ›´å°çš„å…ƒç´ </pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [-1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [-1,-1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0,0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/count-of-smaller-numbers-after-self/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</a>ã€‚</strong></details><p>æˆ‘ç”¨æ¯”è¾ƒæ•°å­¦çš„è¯­è¨€æ¥æè¿°ä¸€ä¸‹ï¼ˆæ–¹ä¾¿å’Œåç»­ç±»ä¼¼é¢˜ç›®è¿›è¡Œå¯¹æ¯”ï¼‰ï¼Œé¢˜ç›®è®©ä½ æ±‚å‡ºä¸€ä¸ª <code>count</code> æ•°ç»„ï¼Œä½¿å¾—ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> COUNT<span class="token punctuation">(</span>j<span class="token punctuation">)</span> where j <span class="token operator">></span> i <span class="token keyword">and</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‹è„‘è¢‹çš„æš´åŠ›è§£æ³•å°±ä¸è¯´äº†ï¼ŒåµŒå¥— for å¾ªç¯ï¼Œå¹³æ–¹çº§åˆ«çš„å¤æ‚åº¦ã€‚</p><p>è¿™é¢˜å’Œå½’å¹¶æ’åºä»€ä¹ˆå…³ç³»å‘¢ï¼Œä¸»è¦åœ¨ <code>merge</code> å‡½æ•°ï¼Œ<strong>æˆ‘ä»¬åœ¨ä½¿ç”¨ <code>merge</code> å‡½æ•°åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„æ—¶å€™ï¼Œå…¶å®æ˜¯å¯ä»¥çŸ¥é“ä¸€ä¸ªå…ƒç´  <code>nums[i]</code> åè¾¹æœ‰å¤šå°‘ä¸ªå…ƒç´ æ¯” <code>nums[i]</code> å°çš„</strong>ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæ¯”å¦‚è¿™ä¸ªåœºæ™¯ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/6.jpeg" alt="img"></p><p>è¿™æ—¶å€™æˆ‘ä»¬åº”è¯¥æŠŠ <code>temp[i]</code> æ”¾åˆ° <code>nums[p]</code> ä¸Šï¼Œå› ä¸º <code>temp[i] &lt; temp[j]</code>ã€‚</p><p>ä½†å°±åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çŸ¥é“ä¸€ä¸ªä¿¡æ¯ï¼š5 åé¢æ¯” 5 å°çš„å…ƒç´ ä¸ªæ•°å°±æ˜¯ å·¦é—­å³å¼€åŒºé—´ <code>[mid + 1, j)</code> ä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œå³ 2 å’Œ 4 è¿™ä¸¤ä¸ªå…ƒç´ ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/7.jpeg" alt="img"></p><p><strong>æ¢å¥è¯è¯´ï¼Œåœ¨å¯¹ <code>nums[lo..hi]</code> åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œæ¯å½“æ‰§è¡Œ <code>nums[p] = temp[i]</code> æ—¶ï¼Œå°±å¯ä»¥ç¡®å®š <code>temp[i]</code> è¿™ä¸ªå…ƒç´ åé¢æ¯”å®ƒå°çš„å…ƒç´ ä¸ªæ•°ä¸º <code>j - mid - 1</code></strong>ã€‚</p><p>å½“ç„¶ï¼Œ<code>nums[lo..hi]</code> æœ¬èº«ä¹Ÿåªæ˜¯ä¸€ä¸ªå­æ•°ç»„ï¼Œè¿™ä¸ªå­æ•°ç»„ä¹‹åè¿˜ä¼šè¢«æ‰§è¡Œ <code>merge</code>ï¼Œå…¶ä¸­å…ƒç´ çš„ä½ç½®è¿˜æ˜¯ä¼šæ”¹å˜ã€‚ä½†è¿™æ˜¯å…¶ä»–é€’å½’èŠ‚ç‚¹éœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼Œæˆ‘ä»¬åªè¦åœ¨ <code>merge</code> å‡½æ•°ä¸­åšä¸€äº›æ‰‹è„šï¼Œå åŠ æ¯æ¬¡ <code>merge</code> æ—¶è®°å½•çš„ç»“æœå³å¯ã€‚</p><p>å‘ç°äº†è¿™ä¸ªè§„å¾‹åï¼Œæˆ‘ä»¬åªè¦åœ¨ <code>merge</code> ä¸­æ·»åŠ ä¸¤è¡Œä»£ç å³å¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œçœ‹è§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># è®°å½•æ•°ç»„çš„å…ƒç´ å€¼</span>            self<span class="token punctuation">.</span>val <span class="token operator">=</span> val            <span class="token comment"># è®°å½•å…ƒç´ åœ¨æ•°ç»„ä¸­çš„åŸå§‹ç´¢å¼•</span>            self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> <span class="token builtin">id</span>    <span class="token comment"># å½’å¹¶æ’åºæ‰€ç”¨çš„è¾…åŠ©æ•°ç»„</span>    temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># è®°å½•æ¯ä¸ªå…ƒç´ åé¢æ¯”è‡ªå·±å°çš„å…ƒç´ ä¸ªæ•°</span>    count <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># ä¸»å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">countSmaller</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        self<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>Pair<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># è®°å½•å…ƒç´ åŸå§‹çš„ç´¢å¼•ä½ç½®ï¼Œä»¥ä¾¿åœ¨ count æ•°ç»„ä¸­æ›´æ–°ç»“æœ</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            arr<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Pair<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># æ‰§è¡Œå½’å¹¶æ’åºï¼Œæœ¬é¢˜ç»“æœè¢«è®°å½•åœ¨ count æ•°ç»„ä¸­</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> c <span class="token keyword">in</span> self<span class="token punctuation">.</span>count<span class="token punctuation">:</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>c<span class="token punctuation">)</span>        <span class="token keyword">return</span> res    <span class="token comment"># å½’å¹¶æ’åº</span>    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">==</span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span>        mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">==</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> j <span class="token operator">==</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token comment"># æ›´æ–° count æ•°ç»„</span>                self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">]</span> <span class="token operator">+=</span> j <span class="token operator">-</span> mid <span class="token operator">-</span> <span class="token number">1</span>            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val <span class="token operator">></span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">:</span>                arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token comment"># æ›´æ–° count æ•°ç»„</span>                self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">]</span> <span class="token operator">+=</span> j <span class="token operator">-</span> mid <span class="token operator">-</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªå…ƒç´ çš„ç´¢å¼•ä½ç½®ä¼šä¸æ–­æ”¹å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ª <code>Pair</code> ç±»å°è£…æ¯ä¸ªå…ƒç´ åŠå…¶åœ¨åŸå§‹æ•°ç»„ <code>nums</code> ä¸­çš„ç´¢å¼•ï¼Œä»¥ä¾¿ <code>count</code> æ•°ç»„è®°å½•æ¯ä¸ªå…ƒç´ ä¹‹åå°äºå®ƒçš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹å‡ é“åŸç†ç±»ä¼¼çš„é¢˜ç›®ï¼Œéƒ½æ˜¯é€šè¿‡ç»™å½’å¹¶æ’åºçš„ <code>merge</code> å‡½æ•°åŠ ä¸€äº›ç§è´§å®Œæˆç›®æ ‡ã€‚</p><h2 id="493-ç¿»è½¬å¯¹"><a href="#493-ç¿»è½¬å¯¹" class="headerlink" title="493. ç¿»è½¬å¯¹"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#_493-%E7%BF%BB%E8%BD%AC%E5%AF%B9">493. ç¿»è½¬å¯¹</a></h2><p>çœ‹ä¸€ä¸‹åŠ›æ‰£ç¬¬ 493 é¢˜ã€Œ<a href="https://leetcode.cn/problems/reverse-pairs/">ç¿»è½¬å¯¹</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">493. ç¿»è½¬å¯¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/reverse-pairs/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/reverse-pairs/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªæ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code>&nbsp;ï¼Œå¦‚æœ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i &lt; j</code>&nbsp;ä¸”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i] &gt; 2*nums[j]</code>&nbsp;æˆ‘ä»¬å°±å°†&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(i, j)</code>&nbsp;ç§°ä½œä¸€ä¸ª<strong style="font-weight: 600;"><em>é‡è¦ç¿»è½¬å¯¹</em></strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ éœ€è¦è¿”å›ç»™å®šæ•°ç»„ä¸­çš„é‡è¦ç¿»è½¬å¯¹çš„æ•°é‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>: [1,3,2,3,1]<strong style="font-weight: 600;">è¾“å‡º</strong>: 2</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>: [2,4,3,5,1]<strong style="font-weight: 600;">è¾“å‡º</strong>: 3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„:</strong></p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">50000</code>ã€‚</li><li>è¾“å…¥æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½åœ¨32ä½æ•´æ•°çš„è¡¨ç¤ºèŒƒå›´å†…ã€‚</li></ol></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/reverse-pairs/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 493. ç¿»è½¬å¯¹</a>ã€‚</strong></details><p>æˆ‘æŠŠè¿™é“é¢˜æ¢ä¸ªè¡¨è¿°æ–¹å¼ï¼Œä½ æ³¨æ„å’Œä¸Šä¸€é“é¢˜ç›®å¯¹æ¯”ï¼š</p><p>è¯·ä½ å…ˆæ±‚å‡ºä¸€ä¸ª <code>count</code> æ•°ç»„ï¼Œå…¶ä¸­ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> COUNT<span class="token punctuation">(</span>j<span class="token punctuation">)</span> where j <span class="token operator">></span> i <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">2</span><span class="token operator">*</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè¯·ä½ æ±‚å‡ºè¿™ä¸ª <code>count</code> æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œã€‚</p><p>ä½ çœ‹ï¼Œè¿™æ ·è¯´å…¶å®å’Œé¢˜ç›®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œè€Œä¸”å’Œä¸Šä¸€é“é¢˜éå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡ä¸Šä¸€é¢˜æ±‚çš„æ˜¯ <code>nums[i] &gt; nums[j]</code>ï¼Œè¿™é‡Œæ±‚çš„æ˜¯ <code>nums[i] &gt; 2*nums[j]</code> ç½¢äº†ã€‚</p><p>æ‰€ä»¥è§£é¢˜çš„æ€è·¯å½“ç„¶è¿˜æ˜¯è¦åœ¨ <code>merge</code> å‡½æ•°ä¸­åšç‚¹æ‰‹è„šï¼Œå½“ <code>nums[lo..mid]</code> å’Œ <code>nums[mid+1..hi]</code> ä¸¤ä¸ªå­æ•°ç»„å®Œæˆæ’åºåï¼Œå¯¹äº <code>nums[lo..mid]</code> ä¸­çš„æ¯ä¸ªå…ƒç´  <code>nums[i]</code>ï¼Œå» <code>nums[mid+1..hi]</code> ä¸­å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„ <code>nums[j]</code> å°±è¡Œäº†ã€‚</p><p>çœ‹ä¸€ä¸‹æˆ‘ä»¬å¯¹ä¸Šä¸€é¢˜ <code>merge</code> å‡½æ•°çš„æ”¹é€ ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è®°å½•ã€Œç¿»è½¬å¯¹ã€çš„ä¸ªæ•°</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># å°† nums[lo..mid] å’Œ nums[mid+1..hi] è¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„</span><span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> count    temp <span class="token operator">=</span> nums<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åœ¨åˆå¹¶æœ‰åºæ•°ç»„ä¹‹å‰ï¼ŒåŠ ç‚¹ç§è´§</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å¯¹äºå·¦åŠè¾¹çš„æ¯ä¸ª nums[i]ï¼Œéƒ½å»å³åŠè¾¹å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„å…ƒç´ </span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># nums ä¸­çš„å…ƒç´ å¯èƒ½è¾ƒå¤§ï¼Œä¹˜ 2 å¯èƒ½æº¢å‡ºï¼Œæ‰€ä»¥è½¬åŒ–æˆ long</span>            <span class="token keyword">if</span> <span class="token builtin">int</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token builtin">int</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                count <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>    i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>            j <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">elif</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            i <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">elif</span> temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>            j <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            i <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸è¿‡å‘¢ï¼Œè¿™æ ·ä¿®æ”¹ä»£ç ä¼šè¶…æ—¶ï¼Œæ¯•ç«Ÿé¢å¤–æ·»åŠ äº†ä¸€ä¸ªåµŒå¥— for å¾ªç¯ã€‚æ€ä¹ˆè¿›è¡Œä¼˜åŒ–å‘¢ï¼Œæ³¨æ„å­æ•°ç»„ <code>nums[lo..mid]</code> æ˜¯æ’å¥½åºçš„ï¼Œä¹Ÿå°±æ˜¯ <code>nums[i] &lt;= nums[i+1]</code>ã€‚</p><p>æ‰€ä»¥ï¼Œå¯¹äº <code>nums[i], lo &lt;= i &lt;= mid</code>ï¼Œæˆ‘ä»¬åœ¨æ‰¾åˆ°çš„ç¬¦åˆ <code>nums[i] &gt; 2*nums[j]</code> çš„ <code>nums[j], mid+1 &lt;= j &lt;= hi</code>ï¼Œä¹Ÿå¿…ç„¶ä¹Ÿç¬¦åˆ <code>nums[i+1] &gt; 2*nums[j]</code>ã€‚</p><p><strong>æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸ç”¨æ¯æ¬¡éƒ½å‚»ä¹ä¹åœ°å»éå†æ•´ä¸ª <code>nums[mid+1..hi]</code>ï¼Œåªè¦ç»´æŠ¤ä¸€ä¸ªå¼€åŒºé—´è¾¹ç•Œ <code>end</code>ï¼Œç»´æŠ¤ <code>nums[mid+1..end-1]</code> æ˜¯ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å³å¯</strong>ã€‚</p><p>çœ‹æœ€ç»ˆçš„è§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•ã€Œç¿»è½¬å¯¹ã€çš„ä¸ªæ•°</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">reversePairs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># æ‰§è¡Œå½’å¹¶æ’åº</span>        self<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>count    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å½’å¹¶æ’åº</span>        <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span>        mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                <span class="token comment"># ç»´æŠ¤å·¦é—­å³å¼€åŒºé—´ [mid+1, end) ä¸­çš„å…ƒç´ ä¹˜ 2 å°äº nums[i]</span>        <span class="token comment"># ä¸ºä»€ä¹ˆ end æ˜¯å¼€åŒºé—´ï¼Ÿå› ä¸ºè¿™æ ·çš„è¯å¯ä»¥ä¿è¯åˆå§‹åŒºé—´ [mid+1, mid+1) æ˜¯ä¸€ä¸ªç©ºåŒºé—´</span>        end <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># nums ä¸­çš„å…ƒç´ å¯èƒ½è¾ƒå¤§ï¼Œä¹˜ 2 å¯èƒ½æº¢å‡ºï¼Œæ‰€ä»¥è½¬åŒ–æˆ long</span>            <span class="token keyword">while</span> end <span class="token operator">&lt;=</span> hi <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">:</span>                end <span class="token operator">+=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>count <span class="token operator">+=</span> end <span class="token operator">-</span> <span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">==</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> j <span class="token operator">==</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="327-åŒºé—´å’Œçš„ä¸ªæ•°"><a href="#327-åŒºé—´å’Œçš„ä¸ªæ•°" class="headerlink" title="327. åŒºé—´å’Œçš„ä¸ªæ•°"></a><a href="https://labuladong.online/algo/practice-in-action/merge-sort/#_327-%E5%8C%BA%E9%97%B4%E5%92%8C%E7%9A%84%E4%B8%AA%E6%95%B0">327. åŒºé—´å’Œçš„ä¸ªæ•°</a></h2><p>å¦‚æœä½ èƒ½å¤Ÿç†è§£è¿™é“é¢˜ç›®ï¼Œæˆ‘ä»¬æœ€åæ¥çœ‹ä¸€é“éš¾åº¦æ›´å¤§çš„é¢˜ç›®ï¼ŒåŠ›æ‰£ç¬¬ 327 é¢˜ã€Œ<a href="https://leetcode.cn/problems/count-of-range-sum/">åŒºé—´å’Œçš„ä¸ªæ•°</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">327. åŒºé—´å’Œçš„ä¸ªæ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/count-of-range-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/count-of-range-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ä»¥åŠä¸¤ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">lower</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">upper</code><span>&nbsp;</span>ã€‚æ±‚æ•°ç»„ä¸­ï¼Œå€¼ä½äºèŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[lower, upper]</code><span>&nbsp;</span>ï¼ˆåŒ…å«<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">lower</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">upper</code>ï¼‰ä¹‹å†…çš„<span>&nbsp;</span><strong style="font-weight: 600;">åŒºé—´å’Œçš„ä¸ªæ•°</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">åŒºé—´å’Œ</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">S(i, j)</code><span>&nbsp;</span>è¡¨ç¤ºåœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ä¸­ï¼Œä½ç½®ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code><span>&nbsp;</span>çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å«<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code><span>&nbsp;</span>(<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>â‰¤<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code>)ã€‚</p><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [-2,5,-1], lower = -2, upper = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­˜åœ¨ä¸‰ä¸ªåŒºé—´ï¼š[0,0]ã€[2,2] å’Œ [0,2] ï¼Œå¯¹åº”çš„åŒºé—´å’Œåˆ†åˆ«æ˜¯ï¼š-2 ã€-1 ã€2 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [0], lower = 0, upper = 0<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 2<sup>31</sup><span>&nbsp;</span>- 1</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup><span>&nbsp;</span>&lt;= lower &lt;= upper &lt;= 10<sup>5</sup></code></li><li>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">32 ä½</strong><span>&nbsp;</span>çš„æ•´æ•°</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/count-of-range-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 327. åŒºé—´å’Œçš„ä¸ªæ•°</a>ã€‚</strong></details><p>ç®€å•è¯´ï¼Œé¢˜ç›®è®©ä½ è®¡ç®—å…ƒç´ å’Œè½åœ¨ <code>[lower, upper]</code> ä¸­çš„æ‰€æœ‰å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p><p>æ‹è„‘è¢‹çš„æš´åŠ›è§£æ³•æˆ‘å°±ä¸è¯´äº†ï¼Œä¾ç„¶æ˜¯åµŒå¥— for å¾ªç¯ï¼Œè¿™é‡Œè¿˜æ˜¯è¯´åˆ©ç”¨å½’å¹¶æ’åºå®ç°çš„é«˜æ•ˆç®—æ³•ã€‚</p><p>é¦–å…ˆï¼Œè§£å†³è¿™é“é¢˜éœ€è¦å¿«é€Ÿè®¡ç®—å­æ•°ç»„çš„å’Œï¼Œæ‰€ä»¥ä½ éœ€è¦é˜…è¯»å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/prefix-sum/">å‰ç¼€å’Œæ•°ç»„æŠ€å·§</a>ï¼Œåˆ›å»ºä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ <code>preSum</code> æ¥è¾…åŠ©æˆ‘ä»¬è¿…é€Ÿè®¡ç®—åŒºé—´å’Œã€‚</p><p>æˆ‘ç»§ç»­ç”¨æ¯”è¾ƒæ•°å­¦çš„è¯­è¨€æ¥è¡¨è¿°ä¸‹è¿™é“é¢˜ï¼Œé¢˜ç›®è®©ä½ é€šè¿‡ <code>preSum</code> æ•°ç»„æ±‚ä¸€ä¸ª <code>count</code> æ•°ç»„ï¼Œä½¿å¾—ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> COUNT<span class="token punctuation">(</span>j<span class="token punctuation">)</span> where lower <span class="token operator">&lt;=</span> preSum<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> upper<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè¯·ä½ æ±‚å‡ºè¿™ä¸ª <code>count</code> æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œã€‚</p><p>ä½ çœ‹ï¼Œè¿™æ˜¯ä¸æ˜¯å’Œé¢˜ç›®æè¿°ä¸€æ ·ï¼Ÿ<code>preSum</code> ä¸­çš„ä¸¤ä¸ªå…ƒç´ ä¹‹å·®å…¶å®å°±æ˜¯åŒºé—´å’Œã€‚</p><p>æœ‰äº†ä¹‹å‰ä¸¤é“é¢˜çš„é“ºå«ï¼Œæˆ‘ç›´æ¥ç»™å‡ºè¿™é“é¢˜çš„è§£æ³•ä»£ç å§ï¼Œæ€è·¯è§æ³¨é‡Šï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å®šä¹‰å®ä¾‹å˜é‡</span>        self<span class="token punctuation">.</span>lower <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>upper <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">countRangeSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> lower<span class="token punctuation">,</span> upper<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># èµ‹å€¼å®ä¾‹å˜é‡</span>        self<span class="token punctuation">.</span>lower <span class="token operator">=</span> lower        self<span class="token punctuation">.</span>upper <span class="token operator">=</span> upper                <span class="token comment"># æ„å»ºå‰ç¼€å’Œæ•°ç»„ï¼Œæ³¨æ„ int å¯èƒ½æº¢å‡ºï¼Œç”¨ long å­˜å‚¨</span>        preSum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            preSum<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                    <span class="token comment"># å¯¹å‰ç¼€å’Œæ•°ç»„è¿›è¡Œå½’å¹¶æ’åº</span>        self<span class="token punctuation">.</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>preSum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>count                    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">==</span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span>        mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å¡«å…… temp æ•°ç»„</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                <span class="token comment"># åœ¨åˆå¹¶æœ‰åºæ•°ç»„ä¹‹å‰åŠ ç‚¹ç§è´§ï¼ˆè¿™æ®µä»£ç ä¼šè¶…æ—¶ï¼‰</span>        <span class="token comment"># for i in range(lo, mid + 1):</span>        <span class="token comment">#     for j in range(mid + 1, hi + 1):</span>        <span class="token comment"># å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„ nums[j]</span>        <span class="token comment">#</span>        <span class="token comment">#         delta = nums[j] - nums[i]</span>        <span class="token comment">#         if delta &lt;= self.upper and delta >= self.lower:</span>        <span class="token comment">#             self.count += 1</span>        <span class="token comment"># è¿›è¡Œæ•ˆç‡ä¼˜åŒ–</span>        <span class="token comment"># ç»´æŠ¤å·¦é—­å³å¼€åŒºé—´ [start, end) ä¸­çš„å…ƒç´ å’Œ nums[i] çš„å·®åœ¨ [lower, upper] ä¸­</span>        start <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>        end <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœ nums[i] å¯¹åº”çš„åŒºé—´æ˜¯ [start, end)ï¼Œ</span>            <span class="token comment"># é‚£ä¹ˆ nums[i+1] å¯¹åº”çš„åŒºé—´ä¸€å®šä¼šæ•´ä½“å³ç§»ï¼Œç±»ä¼¼æ»‘åŠ¨çª—å£</span>            <span class="token keyword">while</span> start <span class="token operator">&lt;=</span> hi <span class="token keyword">and</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>lower<span class="token punctuation">:</span>                start <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">while</span> end <span class="token operator">&lt;=</span> hi <span class="token keyword">and</span> nums<span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>upper<span class="token punctuation">:</span>                end <span class="token operator">+=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>count <span class="token operator">+=</span> end <span class="token operator">-</span> start        <span class="token comment"># æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">==</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> j <span class="token operator">==</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span>                j <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                i <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä¾ç„¶åœ¨ <code>merge</code> å‡½æ•°åˆå¹¶æœ‰åºæ•°ç»„ä¹‹å‰åŠ äº†ä¸€äº›é€»è¾‘ï¼Œå¦‚æœçœ‹è¿‡å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£æ ¸å¿ƒæ¡†æ¶</a>ï¼Œè¿™ä¸ªæ•ˆç‡ä¼˜åŒ–æœ‰ç‚¹ç±»ä¼¼ç»´æŠ¤ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œè®©çª—å£ä¸­çš„å…ƒç´ å’Œ <code>nums[i]</code> çš„å·®è½åœ¨ <code>[lower, upper]</code> ä¸­ã€‚</p><p>å½’å¹¶æ’åºç›¸å…³çš„é¢˜ç›®åˆ°è¿™é‡Œå°±è®²å®Œäº†ï¼Œä½ ç°åœ¨å›å¤´ä½“ä¼šä¸‹æˆ‘åœ¨æœ¬æ–‡å¼€å¤´è¯´é‚£å¥è¯ï¼š</p><p><strong>æ‰€æœ‰é€’å½’çš„ç®—æ³•ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨éå†ä¸€æ£µï¼ˆé€’å½’ï¼‰æ ‘ï¼Œç„¶ååœ¨èŠ‚ç‚¹ï¼ˆå‰ä¸­ååºä½ç½®ï¼‰ä¸Šæ‰§è¡Œä»£ç ã€‚ä½ è¦å†™é€’å½’ç®—æ³•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦å‘Šè¯‰æ¯ä¸ªèŠ‚ç‚¹éœ€è¦åšä»€ä¹ˆ</strong>ã€‚</p><p>æ¯”å¦‚æœ¬æ–‡è®²çš„å½’å¹¶æ’åºç®—æ³•ï¼Œé€’å½’çš„ <code>sort</code> å‡½æ•°å°±æ˜¯äºŒå‰æ ‘çš„éå†å‡½æ•°ï¼Œè€Œ <code>merge</code> å‡½æ•°å°±æ˜¯åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåšçš„äº‹æƒ…ï¼Œæœ‰æ²¡æœ‰å“å‡ºç‚¹å‘³é“ï¼Ÿ</p><p>æœ€åæ€»ç»“ä¸€ä¸‹å§ï¼Œæœ¬æ–‡ä»äºŒå‰æ ‘çš„è§’åº¦è®²äº†å½’å¹¶æ’åºçš„æ ¸å¿ƒæ€è·¯å’Œä»£ç å®ç°ï¼ŒåŒæ—¶è®²äº†å‡ é“å½’å¹¶æ’åºç›¸å…³çš„ç®—æ³•é¢˜ã€‚è¿™äº›ç®—æ³•é¢˜å…¶å®å°±æ˜¯å½’å¹¶æ’åºç®—æ³•é€»è¾‘ä¸­å¤¹æ‚ä¸€ç‚¹ç§è´§ï¼Œä½†ä»ç„¶å±äºæ¯”è¾ƒéš¾çš„ï¼Œä½ å¯èƒ½éœ€è¦äº²è‡ªåšä¸€éæ‰èƒ½ç†è§£ã€‚</p><p>é‚£æˆ‘æœ€åç•™ä¸€ä¸ªæ€è€ƒé¢˜å§ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä¼šè®²å¿«é€Ÿæ’åºï¼Œä½ æ˜¯å¦èƒ½å¤Ÿå°è¯•ç€ä»äºŒå‰æ ‘çš„è§’åº¦å»ç†è§£å¿«é€Ÿæ’åºï¼Ÿå¦‚æœè®©ä½ ç”¨ä¸€å¥è¯æ€»ç»“å¿«é€Ÿæ’åºçš„é€»è¾‘ï¼Œä½ æ€ä¹ˆæè¿°ï¼Ÿ</p><p>å¥½äº†ï¼Œç­”æ¡ˆåœ¨ä¸‹ç¯‡æ–‡ç«  <a href="https://labuladong.online/algo/practice-in-action/quick-sort/">å¿«é€Ÿæ’åºè¯¦è§£åŠåº”ç”¨</a> æ­æ™“ã€‚</p><h1 id="æ‹“å±•ï¼šå¿«é€Ÿæ’åºè¯¦è§£åŠåº”ç”¨"><a href="#æ‹“å±•ï¼šå¿«é€Ÿæ’åºè¯¦è§£åŠåº”ç”¨" class="headerlink" title="æ‹“å±•ï¼šå¿«é€Ÿæ’åºè¯¦è§£åŠåº”ç”¨"></a>æ‹“å±•ï¼šå¿«é€Ÿæ’åºè¯¦è§£åŠåº”ç”¨</h1><p>å‰æ–‡ <a href="https://labuladong.online/algo/practice-in-action/merge-sort/">å½’å¹¶æ’åºç®—æ³•è¯¦è§£</a> é€šè¿‡äºŒå‰æ ‘çš„è§†è§’æè¿°äº†å½’å¹¶æ’åºçš„ç®—æ³•åŸç†ä»¥åŠåº”ç”¨ï¼Œå¾ˆå¤šè¯»è€…å¤§å‘¼ç²¾å¦™ï¼Œé‚£æˆ‘å°±è¶çƒ­æ‰“é“ï¼Œ<strong>ä»Šå¤©ç»§ç»­ç”¨äºŒå‰æ ‘çš„è§†è§’è®²ä¸€è®²å¿«é€Ÿæ’åºç®—æ³•çš„åŸç†ä»¥åŠè¿ç”¨</strong>ã€‚</p><h2 id="å¿«é€Ÿæ’åºç®—æ³•æ€è·¯"><a href="#å¿«é€Ÿæ’åºç®—æ³•æ€è·¯" class="headerlink" title="å¿«é€Ÿæ’åºç®—æ³•æ€è·¯"></a><a href="https://labuladong.online/algo/practice-in-action/quick-sort/#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%9D%E8%B7%AF">å¿«é€Ÿæ’åºç®—æ³•æ€è·¯</a></h2><p>é¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹å¿«é€Ÿæ’åºçš„ä»£ç æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># ****** å‰åºä½ç½® ******</span>    <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†ï¼Œå°† nums[p] æ’å¥½åº</span>    <span class="token comment"># ä½¿å¾— nums[lo..p-1] &lt;= nums[p] &lt; nums[p+1..hi]</span>    p <span class="token operator">=</span> partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># å»å·¦å³å­æ•°ç»„è¿›è¡Œåˆ‡åˆ†</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å®ä½ å¯¹æ¯”ä¹‹åå¯ä»¥å‘ç°ï¼Œå¿«é€Ÿæ’åºå°±æ˜¯ä¸€ä¸ªäºŒå‰æ ‘çš„å‰åºéå†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># å‰åºä½ç½®</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦å¤–ï¼Œå‰æ–‡ <a href="https://labuladong.online/algo/practice-in-action/merge-sort/">å½’å¹¶æ’åºè¯¦è§£</a> ç”¨ä¸€å¥è¯æ€»ç»“äº†å½’å¹¶æ’åºï¼šå…ˆæŠŠå·¦åŠè¾¹æ•°ç»„æ’å¥½åºï¼Œå†æŠŠå³åŠè¾¹æ•°ç»„æ’å¥½åºï¼Œç„¶åæŠŠä¸¤åŠæ•°ç»„åˆå¹¶ã€‚</p><p>åŒæ—¶æˆ‘æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè®©ä½ ä¸€å¥è¯æ€»ç»“å¿«é€Ÿæ’åºï¼Œè¿™é‡Œè¯´ä¸€ä¸‹æˆ‘çš„ç­”æ¡ˆï¼š</p><p><strong>å¿«é€Ÿæ’åºæ˜¯å…ˆå°†ä¸€ä¸ªå…ƒç´ æ’å¥½åºï¼Œç„¶åå†å°†å‰©ä¸‹çš„å…ƒç´ æ’å¥½åº</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œä¸”å¬æˆ‘æ…¢æ…¢é“æ¥ã€‚</p><p>å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ— ç–‘æ˜¯ <code>partition</code> å‡½æ•°ï¼Œ<code>partition</code> å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ <code>nums[lo..hi]</code> ä¸­å¯»æ‰¾ä¸€ä¸ªåˆ‡åˆ†ç‚¹ <code>p</code>ï¼Œé€šè¿‡äº¤æ¢å…ƒç´ ä½¿å¾— <code>nums[lo..p-1]</code> éƒ½å°äºç­‰äº <code>nums[p]</code>ï¼Œä¸” <code>nums[p+1..hi]</code> éƒ½å¤§äº <code>nums[p]</code>ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1-1754615459855-31.jpeg" alt="img"></p><p>ä¸€ä¸ªå…ƒç´ å·¦è¾¹çš„å…ƒç´ éƒ½æ¯”å®ƒå°ï¼Œå³è¾¹çš„å…ƒç´ éƒ½æ¯”å®ƒå¤§ï¼Œå•¥æ„æ€ï¼Ÿä¸å°±æ˜¯å®ƒè‡ªå·±å·²ç»è¢«æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ä¸Šäº†å—ï¼Ÿ</p><p>æ‰€ä»¥ <code>partition</code> å‡½æ•°å¹²çš„äº‹æƒ…ï¼Œå…¶å®å°±æ˜¯æŠŠ <code>nums[p]</code> è¿™ä¸ªå…ƒç´ æ’å¥½åºäº†ã€‚</p><p>ä¸€ä¸ªå…ƒç´ è¢«æ’å¥½åºäº†ï¼Œç„¶åå‘¢ï¼Ÿä½ å†æŠŠå‰©ä¸‹çš„å…ƒç´ æ’å¥½åºä¸å°±å¾—äº†ã€‚</p><p>å‰©ä¸‹çš„å…ƒç´ æœ‰å“ªäº›ï¼Ÿå·¦è¾¹ä¸€å¨ï¼Œå³è¾¹ä¸€å¨ï¼Œå»å§ï¼Œå¯¹å­æ•°ç»„è¿›è¡Œé€’å½’ï¼Œç”¨ <code>partition</code> å‡½æ•°æŠŠå‰©ä¸‹çš„å…ƒç´ ä¹Ÿæ’å¥½åºã€‚</p><p><strong>ä»äºŒå‰æ ‘çš„è§†è§’ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå­æ•°ç»„ <code>nums[lo..hi]</code> ç†è§£æˆäºŒå‰æ ‘èŠ‚ç‚¹ä¸Šçš„å€¼ï¼Œ<code>sort</code> å‡½æ•°ç†è§£æˆäºŒå‰æ ‘çš„éå†å‡½æ•°</strong>ã€‚</p><p>å‚ç…§äºŒå‰æ ‘çš„å‰åºéå†é¡ºåºï¼Œå¿«é€Ÿæ’åºçš„è¿è¡Œè¿‡ç¨‹å¦‚ä¸‹ GIFï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/1.gif" alt="img"></p><p>ä½ æ³¨æ„æœ€åå½¢æˆçš„è¿™æ£µäºŒå‰æ ‘æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/2-1754615478099-34.jpeg" alt="img"></p><p>è¿™åº”è¯¥ä¸éš¾ç†è§£å§ï¼Œå› ä¸º <code>partition</code> å‡½æ•°æ¯æ¬¡éƒ½å°†æ•°ç»„åˆ‡åˆ†æˆå·¦å°å³å¤§ä¸¤éƒ¨åˆ†ï¼Œæ°å¥½å’ŒäºŒå‰æœç´¢æ ‘å·¦å°å³å¤§çš„ç‰¹æ€§å»åˆã€‚</p><p><strong>ä½ ç”šè‡³å¯ä»¥è¿™æ ·ç†è§£ï¼šå¿«é€Ÿæ’åºçš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªæ„é€ äºŒå‰æœç´¢æ ‘çš„è¿‡ç¨‹</strong>ã€‚</p><p>ä½†è°ˆåˆ°äºŒå‰æœç´¢æ ‘çš„æ„é€ ï¼Œé‚£å°±ä¸å¾—ä¸è¯´äºŒå‰æœç´¢æ ‘ä¸å¹³è¡¡çš„æç«¯æƒ…å†µï¼Œæç«¯æƒ…å†µä¸‹äºŒå‰æœç´¢æ ‘ä¼šé€€åŒ–æˆä¸€ä¸ªé“¾è¡¨ï¼Œå¯¼è‡´æ“ä½œæ•ˆç‡å¤§å¹…é™ä½ã€‚</p><p>å¿«é€Ÿæ’åºçš„è¿‡ç¨‹ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æƒ…å†µï¼Œæ¯”å¦‚æˆ‘ç”»çš„å›¾ä¸­æ¯æ¬¡ <code>partition</code> å‡½æ•°é€‰å‡ºçš„åˆ‡åˆ†ç‚¹éƒ½èƒ½æŠŠ <code>nums[lo..hi]</code> å¹³åˆ†æˆä¸¤åŠï¼Œä½†ç°å®ä¸­ä½ ä¸è§å¾—è¿æ°”è¿™ä¹ˆå¥½ã€‚</p><p>å¦‚æœä½ æ¯æ¬¡è¿æ°”éƒ½ç‰¹åˆ«èƒŒï¼Œæœ‰ä¸€è¾¹çš„å…ƒç´ ç‰¹åˆ«å°‘çš„è¯ï¼Œè¿™æ ·ä¼šå¯¼è‡´äºŒå‰æ ‘ç”Ÿé•¿ä¸å¹³è¡¡ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/3-1754615478099-35.jpeg" alt="img"></p><p>è¿™æ ·çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šå¤§å¹…ä¸Šå‡ï¼Œåé¢åˆ†ææ—¶é—´å¤æ‚åº¦çš„æ—¶å€™å†ç»†è¯´ã€‚</p><p><strong>æˆ‘ä»¬ä¸ºäº†é¿å…å‡ºç°è¿™ç§æç«¯æƒ…å†µï¼Œéœ€è¦å¼•å…¥éšæœºæ€§</strong>ã€‚</p><p>å¸¸è§çš„æ–¹å¼æ˜¯åœ¨è¿›è¡Œæ’åºä¹‹å‰å¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œ <a href="https://labuladong.online/algo/frequency-interview/random-algorithm/">æ´—ç‰Œç®—æ³•</a> è¿›è¡Œæ‰“ä¹±ï¼Œæˆ–è€…åœ¨ <code>partition</code> å‡½æ•°ä¸­éšæœºé€‰æ‹©æ•°ç»„å…ƒç´ ä½œä¸ºåˆ‡åˆ†ç‚¹ï¼Œæœ¬æ–‡ä¼šä½¿ç”¨å‰è€…ã€‚</p><h2 id="å¿«é€Ÿæ’åºä»£ç å®ç°"><a href="#å¿«é€Ÿæ’åºä»£ç å®ç°" class="headerlink" title="å¿«é€Ÿæ’åºä»£ç å®ç°"></a><a href="https://labuladong.online/algo/practice-in-action/quick-sort/#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0">å¿«é€Ÿæ’åºä»£ç å®ç°</a></h2><p>æ˜ç™½äº†ä¸Šè¿°æ¦‚å¿µï¼Œç›´æ¥çœ‹å¿«é€Ÿæ’åºçš„ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">class</span> <span class="token class-name">Quick</span><span class="token punctuation">:</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸ºäº†é¿å…å‡ºç°è€—æ—¶çš„æç«¯æƒ…å†µï¼Œå…ˆéšæœºæ‰“ä¹±</span>        random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># æ’åºæ•´ä¸ªæ•°ç»„ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰</span>        Quick<span class="token punctuation">.</span>sort_<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">sort_</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†</span>        <span class="token comment"># ä½¿å¾— nums[lo..p-1] &lt;= nums[p] &lt; nums[p+1..hi]</span>        p <span class="token operator">=</span> Quick<span class="token punctuation">.</span>partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        Quick<span class="token punctuation">.</span>sort_<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        Quick<span class="token punctuation">.</span>sort_<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†</span>    <span class="token decorator annotation punctuation">@staticmethod</span>    <span class="token keyword">def</span> <span class="token function">partition</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        pivot <span class="token operator">=</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span>        <span class="token comment"># å…³äºåŒºé—´çš„è¾¹ç•Œæ§åˆ¶éœ€æ ¼å¤–å°å¿ƒï¼Œç¨æœ‰ä¸æ…å°±ä¼šå‡ºé”™</span>        <span class="token comment"># æˆ‘è¿™é‡ŒæŠŠ i, j å®šä¹‰ä¸ºå¼€åŒºé—´ï¼ŒåŒæ—¶å®šä¹‰ï¼š</span>        <span class="token comment"># [lo, i) &lt;= pivotï¼›(j, hi] > pivot</span>        <span class="token comment"># ä¹‹åéƒ½è¦æ­£ç¡®ç»´æŠ¤è¿™ä¸ªè¾¹ç•ŒåŒºé—´çš„å®šä¹‰</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi        <span class="token comment"># å½“ i > j æ—¶ç»“æŸå¾ªç¯ï¼Œä»¥ä¿è¯åŒºé—´ [lo, hi] éƒ½è¢«è¦†ç›–</span>        <span class="token keyword">while</span> i <span class="token operator">&lt;=</span> j<span class="token punctuation">:</span>            <span class="token keyword">while</span> i <span class="token operator">&lt;</span> hi <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot<span class="token punctuation">:</span>                i <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token comment"># æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[i] > pivot</span>            <span class="token keyword">while</span> j <span class="token operator">></span> lo <span class="token keyword">and</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> pivot<span class="token punctuation">:</span>                j <span class="token operator">-=</span> <span class="token number">1</span>                <span class="token comment"># æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[j] &lt;= pivot</span>            <span class="token keyword">if</span> i <span class="token operator">>=</span> j<span class="token punctuation">:</span>                <span class="token keyword">break</span>            <span class="token comment"># æ­¤æ—¶ [lo, i) &lt;= pivot &amp;&amp; (j, hi] > pivot</span>            <span class="token comment"># äº¤æ¢ nums[j] å’Œ nums[i]</span>            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            <span class="token comment"># æ­¤æ—¶ [lo, i] &lt;= pivot &amp;&amp; [j, hi] > pivot</span>        <span class="token comment"># æœ€åå°† pivot æ”¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œå³ pivot å·¦è¾¹å…ƒç´ è¾ƒå°ï¼Œå³è¾¹å…ƒç´ è¾ƒå¤§</span>        nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span>        <span class="token keyword">return</span> j<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå•°å—¦ä¸€ä¸‹æ ¸å¿ƒå‡½æ•° <code>partition</code> çš„å®ç°ï¼Œæ­£å¦‚å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-search-framework/">äºŒåˆ†æœç´¢æ¡†æ¶è¯¦è§£</a> æ‰€è¯´ï¼Œæƒ³è¦æ­£ç¡®å¯»æ‰¾åˆ‡åˆ†ç‚¹éå¸¸è€ƒéªŒä½ å¯¹è¾¹ç•Œæ¡ä»¶çš„æ§åˆ¶ï¼Œç¨æœ‰å·®é”™å°±ä¼šäº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚</p><p><strong>å¤„ç†è¾¹ç•Œç»†èŠ‚çš„ä¸€ä¸ªæŠ€å·§å°±æ˜¯ï¼Œä½ è¦æ˜ç¡®æ¯ä¸ªå˜é‡çš„å®šä¹‰ä»¥åŠåŒºé—´çš„å¼€é—­æƒ…å†µ</strong>ã€‚å…·ä½“çš„ç»†èŠ‚çœ‹ä»£ç æ³¨é‡Šï¼Œå»ºè®®è‡ªå·±åŠ¨æ‰‹å®è·µã€‚</p><p>è´´ä¸€ä¸ªå¿«é€Ÿæ’åºè¿‡ç¨‹çš„å¯è§†åŒ–åŠ¨ç”»ï¼Œæ–¹ä¾¿å¤§å®¶ç†è§£ç®—æ³•è¿è¡Œçš„è¿‡ç¨‹ï¼š</p><details data-v-ee1a9bd0="" id="div_quick-sort" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_quick-sort" src="https://labuladong.online/algo-visualize/tutorial/quick-sort/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="å¤æ‚åº¦åˆ†æåŠå…¶ä»–è¦ç‚¹"><a href="#å¤æ‚åº¦åˆ†æåŠå…¶ä»–è¦ç‚¹" class="headerlink" title="å¤æ‚åº¦åˆ†æåŠå…¶ä»–è¦ç‚¹"></a><a href="https://labuladong.online/algo/practice-in-action/quick-sort/#%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90%E5%8F%8A%E5%85%B6%E4%BB%96%E8%A6%81%E7%82%B9">å¤æ‚åº¦åˆ†æåŠå…¶ä»–è¦ç‚¹</a></h2><p>æ¥ä¸‹æ¥åˆ†æä¸€ä¸‹å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>æ˜¾ç„¶ï¼Œå¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸»è¦æ¶ˆè€—åœ¨ <code>partition</code> å‡½æ•°ä¸Šï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°ä¸­å­˜åœ¨å¾ªç¯ã€‚</p><p>æ‰€ä»¥ <code>partition</code> å‡½æ•°åˆ°åº•æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Ÿæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</p><p>å’Œå½’å¹¶æ’åºç±»ä¼¼ï¼Œéœ€è¦ç»“åˆä¹‹å‰ç”»çš„è¿™å¹…å›¾æ¥ä»æ•´ä½“ä¸Šåˆ†æï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/4.jpeg" alt="img"></p><p><strong><code>partition</code> æ‰§è¡Œçš„æ¬¡æ•°æ˜¯äºŒå‰æ ‘èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæ¯æ¬¡æ‰§è¡Œçš„å¤æ‚åº¦å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨çš„å­æ•°ç»„ <code>nums[lo..hi]</code> çš„é•¿åº¦ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯æ•´æ£µæ ‘ä¸­ã€Œæ•°ç»„å…ƒç´ ã€çš„ä¸ªæ•°</strong>ã€‚</p><p>å‡è®¾æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º <code>N</code>ï¼Œé‚£ä¹ˆäºŒå‰æ ‘æ¯ä¸€å±‚çš„å…ƒç´ ä¸ªæ•°ä¹‹å’Œå°±æ˜¯ O(N)ï¼›åˆ‡åˆ†ç‚¹ <code>p</code> æ¯æ¬¡éƒ½è½åœ¨æ•°ç»„æ­£ä¸­é—´çš„ç†æƒ³æƒ…å†µä¸‹ï¼Œæ ‘çš„å±‚æ•°ä¸º O(logN)ï¼Œæ‰€ä»¥ç†æƒ³çš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN)ã€‚</p><p>ç”±äºå¿«é€Ÿæ’åºæ²¡æœ‰ä½¿ç”¨ä»»ä½•è¾…åŠ©æ•°ç»„ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦å°±æ˜¯é€’å½’å †æ ˆçš„æ·±åº¦ï¼Œä¹Ÿå°±æ˜¯æ ‘é«˜ O(logN)ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹‹å‰è¯´è¿‡å¿«é€Ÿæ’åºçš„æ•ˆç‡å­˜åœ¨ä¸€å®šéšæœºæ€§ï¼Œå¦‚æœæ¯æ¬¡ <code>partition</code> åˆ‡åˆ†çš„ç»“æœéƒ½æä¸å‡åŒ€ï¼š</p><p><img src="/2025/08/08/er-cha-shu-de-tuo-zhan/3-1754615478099-35.jpeg" alt="img"></p><p>å¿«é€Ÿæ’åºå°±é€€åŒ–æˆé€‰æ‹©æ’åºäº†ï¼Œæ ‘é«˜ä¸º O(N)ï¼Œæ¯å±‚èŠ‚ç‚¹çš„å…ƒç´ ä¸ªæ•°ä» <code>N</code> å¼€å§‹é€’å‡ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">N <span class="token operator">+</span> <span class="token punctuation">(</span>N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>N <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> O<span class="token punctuation">(</span>N<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰€ä»¥æˆ‘ä»¬è¯´ï¼Œå¿«é€Ÿæ’åºç†æƒ³æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(NlogN)ï¼Œç©ºé—´å¤æ‚åº¦ O(logN)ï¼Œæç«¯æƒ…å†µä¸‹çš„æœ€åæ—¶é—´å¤æ‚åº¦æ˜¯ O(N2)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(N)ã€‚</p><p>ä¸è¿‡å¤§å®¶æ”¾å¿ƒï¼Œç»è¿‡éšæœºåŒ–çš„ <code>partition</code> å‡½æ•°å¾ˆéš¾å‡ºç°æç«¯æƒ…å†µï¼Œæ‰€ä»¥å¿«é€Ÿæ’åºçš„æ•ˆç‡è¿˜æ˜¯éå¸¸é«˜çš„ã€‚</p><p><strong>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿«é€Ÿæ’åºæ˜¯ã€Œä¸ç¨³å®šæ’åºã€ï¼Œä¸ä¹‹ç›¸å¯¹çš„ï¼Œå‰æ–‡è®²çš„ <a href="https://labuladong.online/algo/practice-in-action/merge-sort/">å½’å¹¶æ’åº</a> æ˜¯ã€Œç¨³å®šæ’åºã€</strong>ã€‚</p><p>å¯¹äºåºåˆ—ä¸­çš„ç›¸åŒå…ƒç´ ï¼Œå¦‚æœæ’åºä¹‹åå®ƒä»¬çš„ç›¸å¯¹ä½ç½®æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œåˆ™ç§°è¯¥æ’åºç®—æ³•ä¸ºã€Œç¨³å®šæ’åºã€ï¼Œåä¹‹åˆ™ä¸ºã€Œä¸ç¨³å®šæ’åºã€ã€‚</p><p>å¦‚æœå•å•æ’åº int æ•°ç»„ï¼Œé‚£ä¹ˆç¨³å®šæ€§æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ä½†å¦‚æœæ’åºä¸€äº›ç»“æ„æ¯”è¾ƒå¤æ‚çš„æ•°æ®ï¼Œé‚£ä¹ˆç¨³å®šæ’åºå°±æœ‰æ›´å¤§çš„ä¼˜åŠ¿äº†ã€‚</p><p>æ¯”å¦‚è¯´ä½ æœ‰è‹¥å¹²è®¢å•æ•°æ®ï¼Œå·²ç»æŒ‰ç…§è®¢å•å·æ’å¥½åºäº†ï¼Œç°åœ¨ä½ æƒ³å¯¹è®¢å•çš„äº¤æ˜“æ—¥æœŸå†è¿›è¡Œæ’åºï¼š</p><p>å¦‚æœç”¨ç¨³å®šæ’åºç®—æ³•ï¼ˆæ¯”å¦‚å½’å¹¶æ’åºï¼‰ï¼Œé‚£ä¹ˆè¿™äº›è®¢å•ä¸ä»…æŒ‰ç…§äº¤æ˜“æ—¥æœŸæ’å¥½äº†åºï¼Œè€Œä¸”ç›¸åŒäº¤æ˜“æ—¥æœŸçš„è®¢å•çš„è®¢å•å·ä¾ç„¶æ˜¯æœ‰åºçš„ã€‚</p><p>ä½†å¦‚æœä½ ç”¨ä¸ç¨³å®šæ’åºç®—æ³•ï¼ˆæ¯”å¦‚å¿«é€Ÿæ’åºï¼‰ï¼Œé‚£ä¹ˆè™½ç„¶æ’åºç»“æœä¼šæŒ‰ç…§äº¤æ˜“æ—¥æœŸæ’å¥½åºï¼Œä½†ç›¸åŒäº¤æ˜“æ—¥æœŸçš„è®¢å•çš„è®¢å•å·ä¼šä¸§å¤±æœ‰åºæ€§ã€‚</p><p><strong>åœ¨å®é™…å·¥ç¨‹ä¸­æˆ‘ä»¬ç»å¸¸ä¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æŸä¸€ä¸ªå­—æ®µä½œä¸ºæ’åºçš„ <code>key</code>ï¼Œæ‰€ä»¥åº”è¯¥å…³æ³¨ç¼–ç¨‹è¯­è¨€æä¾›çš„ API åº•å±‚ä½¿ç”¨çš„åˆ°åº•æ˜¯ä»€ä¹ˆæ’åºç®—æ³•ï¼Œæ˜¯ç¨³å®šçš„è¿˜æ˜¯ä¸ç¨³å®šçš„ï¼Œè¿™å¾ˆå¯èƒ½å½±å“åˆ°ä»£ç æ‰§è¡Œçš„æ•ˆç‡ç”šè‡³æ­£ç¡®æ€§</strong>ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå¿«é€Ÿæ’åºç®—æ³•åº”è¯¥ç®—æ˜¯è®²æ˜ç™½äº†ï¼ŒåŠ›æ‰£ç¬¬ 912 é¢˜ã€Œ<a href="https://leetcode.cn/problems/sort-an-array/">æ’åºæ•°ç»„</a>ã€å°±æ˜¯è®©ä½ å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¥—ç”¨å¿«é€Ÿæ’åºçš„ä»£ç æ¨¡æ¿ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sortArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># å½’å¹¶æ’åºå¯¹æ•°ç»„è¿›è¡ŒåŸåœ°æ’åº</span>        Quick<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token keyword">return</span> nums<span class="token keyword">class</span> <span class="token class-name">Quick</span><span class="token punctuation">:</span>    <span class="token comment"># è§ä¸Šæ–‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¿«é€Ÿé€‰æ‹©ç®—æ³•"><a href="#å¿«é€Ÿé€‰æ‹©ç®—æ³•" class="headerlink" title="å¿«é€Ÿé€‰æ‹©ç®—æ³•"></a><a href="https://labuladong.online/algo/practice-in-action/quick-sort/#%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95">å¿«é€Ÿé€‰æ‹©ç®—æ³•</a></h2><p>å¿«é€Ÿæ’åºç®—æ³•è¿˜æœ‰ä¸€äº›æœ‰è¶£çš„å˜ä½“ï¼Œæ¯”å¦‚å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼ˆQuick Selectï¼‰ï¼Œä¸»è¦åœºæ™¯æ˜¯å¯»æ‰¾ç¬¬ k<em>k</em> å¤§çš„å…ƒç´ æˆ–è€…æ±‚ä¸­ä½æ•°ï¼ˆk&#x3D;N&#x2F;2<em>k</em>&#x3D;<em>N</em>&#x2F;2ï¼‰ã€‚</p><p>åŠ›æ‰£ç¬¬ 215 é¢˜ã€Œ<a href="https://leetcode.cn/problems/kth-largest-element-in-an-array/">æ•°ç»„ä¸­çš„ç¬¬ K ä¸ªæœ€å¤§å…ƒç´ </a>ã€å°±æ˜¯ä¸€é“ç±»ä¼¼çš„é¢˜ç›®ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">findKthLargest</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¢˜ç›®è¦æ±‚æˆ‘ä»¬å¯»æ‰¾<strong>ç¬¬ <code>k</code> ä¸ªæœ€å¤§çš„å…ƒç´ </strong>ï¼Œç¨å¾®æœ‰ç‚¹ç»•ï¼Œæ„æ€æ˜¯å»å¯»æ‰¾ <code>nums</code> æ•°ç»„é™åºæ’åˆ—åæ’åç¬¬ <code>k</code> çš„é‚£ä¸ªå…ƒç´ ã€‚</p><p>æ¯”å¦‚è¾“å…¥ <code>nums = [2,1,5,4], k = 2</code>ï¼Œç®—æ³•åº”è¯¥è¿”å› 4ï¼Œå› ä¸º 4 æ˜¯ <code>nums</code> ä¸­ç¬¬ 2 ä¸ª<strong>æœ€å¤§</strong>çš„å…ƒç´ ã€‚</p><p>è¿™ç§é—®é¢˜æœ‰ä¸¤ç§è§£æ³•ï¼Œä¸€ç§æ˜¯ <a href="https://labuladong.online/algo/data-structure-basic/binary-heap-basic/">äºŒå‰å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</a> çš„è§£æ³•ï¼Œå¦ä¸€ç§å°±æ˜¯å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ã€‚</p><p><strong>äºŒå‰å †çš„è§£æ³•æ¯”è¾ƒç®€å•ï¼Œä½†æ—¶é—´å¤æ‚åº¦ç¨é«˜</strong>ï¼Œç›´æ¥çœ‹ä»£ç å¥½äº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> heapq<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">findKthLargest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å°é¡¶å †ï¼Œå †é¡¶æ˜¯æœ€å°å…ƒç´ </span>        pq <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> e <span class="token keyword">in</span> nums<span class="token punctuation">:</span>            <span class="token comment"># æ¯ä¸ªå…ƒç´ éƒ½è¦è¿‡ä¸€éäºŒå‰å †</span>            heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>pq<span class="token punctuation">,</span> e<span class="token punctuation">)</span>            <span class="token comment"># å †ä¸­å…ƒç´ å¤šäº k ä¸ªæ—¶ï¼Œåˆ é™¤å †é¡¶å…ƒç´ </span>            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span> <span class="token operator">></span> k<span class="token punctuation">:</span>                heapq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>pq<span class="token punctuation">)</span>        <span class="token comment"># pq ä¸­å‰©ä¸‹çš„æ˜¯ nums ä¸­ k ä¸ªæœ€å¤§å…ƒç´ ï¼Œ</span>        <span class="token comment"># å †é¡¶æ˜¯æœ€å°çš„é‚£ä¸ªï¼Œå³ç¬¬ k ä¸ªæœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> pq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>äºŒå‰å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿè‡ªåŠ¨æ’åºçš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/binary-heap-implement/">æ‰‹æŠŠæ‰‹å®ç°äºŒå‰å †æ•°æ®ç»“æ„</a> å®ç°è¿‡è¿™ç§ç»“æ„ï¼Œæˆ‘å°±é»˜è®¤å¤§å®¶ç†Ÿæ‚‰å®ƒçš„ç‰¹æ€§äº†ã€‚</p><p>æ ¸å¿ƒæ€è·¯å°±æ˜¯æŠŠå°é¡¶å † <code>pq</code> ç†è§£æˆä¸€ä¸ªç­›å­ï¼Œè¾ƒå¤§çš„å…ƒç´ ä¼šæ²‰æ·€ä¸‹å»ï¼Œè¾ƒå°çš„å…ƒç´ ä¼šæµ®ä¸Šæ¥ï¼›å½“å †å¤§å°è¶…è¿‡ <code>k</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±åˆ æ‰å †é¡¶çš„å…ƒç´ ï¼Œå› ä¸ºè¿™äº›å…ƒç´ æ¯”è¾ƒå°ï¼Œè€Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯å‰ <code>k</code> ä¸ªæœ€å¤§å…ƒç´ å˜›ã€‚</p><p>å½“ <code>nums</code> ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½è¿‡äº†ä¸€éä¹‹åï¼Œç­›å­é‡Œé¢ç•™ä¸‹çš„å°±æ˜¯æœ€å¤§çš„ <code>k</code> ä¸ªå…ƒç´ ï¼Œè€Œå †é¡¶å…ƒç´ æ˜¯å †ä¸­æœ€å°çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ã€Œç¬¬ <code>k</code> ä¸ªæœ€å¤§çš„å…ƒç´ ã€ã€‚</p><p>æ€è·¯å¾ˆç®€å•å§ï¼Œå”¯ä¸€æ³¨æ„çš„æ˜¯ï¼ŒJava çš„ <code>PriorityQueue</code> é»˜è®¤å®ç°æ˜¯å°é¡¶å †ï¼Œæœ‰çš„è¯­è¨€çš„ä¼˜å…ˆé˜Ÿåˆ—å¯èƒ½é»˜è®¤æ˜¯å¤§é¡¶å †ï¼Œå¯èƒ½éœ€è¦åšä¸€äº›è°ƒæ•´ã€‚</p><p>äºŒå‰å †æ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦å’Œå †ä¸­çš„å…ƒç´ ä¸ªæ•°æœ‰å…³ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å †çš„å¤§å°ä¸ä¼šè¶…è¿‡ <code>k</code>ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„å¤æ‚åº¦æ˜¯ O(logk)ï¼Œå†å¥—ä¸€å±‚ for å¾ªç¯ï¼Œå‡è®¾æ•°ç»„å…ƒç´ æ€»æ•°ä¸º <code>N</code>ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(Nlogk)ã€‚</p><p>è¿™ä¸ªè§£æ³•çš„ç©ºé—´å¤æ‚åº¦å¾ˆæ˜¾ç„¶å°±æ˜¯äºŒå‰å †çš„å¤§å°ï¼Œä¸º O(k)ã€‚</p><p><strong>å¿«é€Ÿé€‰æ‹©ç®—æ³•æ˜¯å¿«é€Ÿæ’åºçš„å˜ä½“ï¼Œæ•ˆç‡æ›´é«˜</strong>ï¼Œé¢è¯•ä¸­å¦‚æœèƒ½å¤Ÿå†™å‡ºå¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼Œè‚¯å®šæ˜¯åŠ åˆ†é¡¹ã€‚</p><p>é¦–å…ˆï¼Œé¢˜ç›®é—®ã€Œç¬¬ <code>k</code> ä¸ªæœ€å¤§çš„å…ƒç´ ã€ï¼Œç›¸å½“äºæ•°ç»„å‡åºæ’åºåã€Œæ’åç¬¬ <code>n - k</code> çš„å…ƒç´ ã€ï¼Œä¸ºäº†æ–¹ä¾¿è¡¨è¿°ï¼Œåæ–‡å¦ <code>k&#39; = n - k</code>ã€‚</p><p>å¦‚ä½•çŸ¥é“ã€Œæ’åç¬¬ <code>k&#39;</code> çš„å…ƒç´ ã€å‘¢ï¼Ÿå…¶å®åœ¨å¿«é€Ÿæ’åºç®—æ³• <code>partition</code> å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å°±å¯ä»¥ç•¥è§ä¸€äºŒã€‚</p><p>æˆ‘ä»¬åˆšè¯´äº†ï¼Œ<code>partition</code> å‡½æ•°ä¼šå°† <code>nums[p]</code> æ’åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œä½¿å¾— <code>nums[lo..p-1] &lt; nums[p] &lt; nums[p+1..hi]</code>ï¼š</p><p>è¿™æ—¶å€™ï¼Œè™½ç„¶è¿˜æ²¡æœ‰æŠŠæ•´ä¸ªæ•°ç»„æ’å¥½åºï¼Œä½†æˆ‘ä»¬å·²ç»è®© <code>nums[p]</code> å·¦è¾¹çš„å…ƒç´ éƒ½æ¯” <code>nums[p]</code> å°äº†ï¼Œä¹Ÿå°±çŸ¥é“ <code>nums[p]</code> çš„æ’åäº†ã€‚</p><p><strong>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠ <code>p</code> å’Œ <code>k&#39;</code> è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ <code>p &lt; k&#39;</code> è¯´æ˜ç¬¬ <code>k&#39;</code> å¤§çš„å…ƒç´ åœ¨ <code>nums[p+1..hi]</code> ä¸­ï¼Œå¦‚æœ <code>p &gt; k&#39;</code> è¯´æ˜ç¬¬ <code>k&#39;</code> å¤§çš„å…ƒç´ åœ¨ <code>nums[lo..p-1]</code> ä¸­</strong>ã€‚</p><p>è¿›ä¸€æ­¥ï¼Œå» <code>nums[p+1..hi]</code> æˆ–è€… <code>nums[lo..p-1]</code> è¿™ä¸¤ä¸ªå­æ•°ç»„ä¸­æ‰§è¡Œ <code>partition</code> å‡½æ•°ï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥ç¼©å°æ’åœ¨ç¬¬ <code>k&#39;</code> çš„å…ƒç´ çš„èŒƒå›´ï¼Œæœ€ç»ˆæ‰¾åˆ°ç›®æ ‡å…ƒç´ ã€‚</p><p>è¿™æ ·å°±å¯ä»¥å†™å‡ºè§£æ³•ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">findKthLargest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># é¦–å…ˆéšæœºæ‰“ä¹±æ•°ç»„</span>        random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        lo<span class="token punctuation">,</span> hi <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token comment"># è½¬åŒ–æˆã€Œæ’åç¬¬ k çš„å…ƒç´ ã€</span>        k <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> k        <span class="token keyword">while</span> lo <span class="token operator">&lt;=</span> hi<span class="token punctuation">:</span>            <span class="token comment"># åœ¨ nums[lo..hi] ä¸­é€‰ä¸€ä¸ªåˆ‡åˆ†ç‚¹</span>            p <span class="token operator">=</span> self<span class="token punctuation">.</span>partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>            <span class="token keyword">if</span> p <span class="token operator">&lt;</span> k<span class="token punctuation">:</span>                <span class="token comment"># ç¬¬ k å¤§çš„å…ƒç´ åœ¨ nums[p+1..hi] ä¸­</span>                lo <span class="token operator">=</span> p <span class="token operator">+</span> <span class="token number">1</span>            <span class="token keyword">elif</span> p <span class="token operator">></span> k<span class="token punctuation">:</span>                <span class="token comment"># ç¬¬ k å¤§çš„å…ƒç´ åœ¨ nums[lo..p-1] ä¸­</span>                hi <span class="token operator">=</span> p <span class="token operator">-</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># æ‰¾åˆ°ç¬¬ k å¤§å…ƒç´ </span>                <span class="token keyword">return</span> nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>    <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†</span>    <span class="token keyword">def</span> <span class="token function">partition</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># è§å‰æ–‡</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªä»£ç æ¡†æ¶å…¶å®éå¸¸åƒæˆ‘ä»¬å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-search-framework/">äºŒåˆ†æœç´¢æ¡†æ¶</a> çš„ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸ªç®—æ³•é«˜æ•ˆçš„åŸå› ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯ O(N) å‘¢ï¼Ÿ</p><p>æ˜¾ç„¶ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸»è¦é›†ä¸­åœ¨ <code>partition</code> å‡½æ•°ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ä¼°ç®— <code>partition</code> å‡½æ•°æ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ã€‚</p><p>æœ€å¥½æƒ…å†µä¸‹ï¼Œæ¯æ¬¡ <code>partition</code> å‡½æ•°åˆ‡åˆ†å‡ºçš„ <code>p</code> éƒ½æ°å¥½æ˜¯æ­£ä¸­é—´ç´¢å¼• <code>(lo + hi) / 2</code>ï¼ˆäºŒåˆ†ï¼‰ï¼Œä¸”æ¯æ¬¡åˆ‡åˆ†ä¹‹åä¼šåˆ°å·¦è¾¹æˆ–è€…å³è¾¹çš„å­æ•°ç»„ç»§ç»­è¿›è¡Œåˆ‡åˆ†ï¼Œé‚£ä¹ˆ <code>partition</code> å‡½æ•°æ‰§è¡Œçš„æ¬¡æ•°æ˜¯ logNï¼Œæ¯æ¬¡è¾“å…¥çš„æ•°ç»„å¤§å°ç¼©çŸ­ä¸€åŠã€‚</p><p>æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ç­‰æ¯”æ•°åˆ—</span><span class="token class-name">N</span> <span class="token operator">+</span> <span class="token class-name">N</span><span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token class-name">N</span><span class="token operator">/</span><span class="token number">4</span> <span class="token operator">+</span> <span class="token class-name">N</span><span class="token operator">/</span><span class="token number">8</span> <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>N <span class="token operator">=</span> <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å½“ç„¶ï¼Œç±»ä¼¼å¿«é€Ÿæ’åºï¼Œå¿«é€Ÿé€‰æ‹©ç®—æ³•ä¸­çš„ <code>partition</code> å‡½æ•°ä¹Ÿå¯èƒ½å‡ºç°æç«¯æƒ…å†µï¼Œæœ€åæƒ…å†µä¸‹ <code>p</code> ä¸€ç›´éƒ½æ˜¯ <code>lo + 1</code> æˆ–è€…ä¸€ç›´éƒ½æ˜¯ <code>hi - 1</code>ï¼Œè¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦å°±é€€åŒ–ä¸º O(N2)äº†ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">N</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">N</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">N</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>shuffle</code> å‡½æ•°çš„åŸå› ï¼Œé€šè¿‡å¼•å…¥éšæœºæ€§æ¥é¿å…æç«¯æƒ…å†µçš„å‡ºç°ï¼Œè®©ç®—æ³•çš„æ•ˆç‡ä¿æŒåœ¨æ¯”è¾ƒé«˜çš„æ°´å¹³ã€‚éšæœºåŒ–ä¹‹åçš„å¿«é€Ÿé€‰æ‹©ç®—æ³•çš„å¤æ‚åº¦å¯ä»¥è®¤ä¸ºæ˜¯ O(N)ã€‚</p><p>åˆ°è¿™é‡Œï¼Œå¿«é€Ÿæ’åºç®—æ³•å’Œå¿«é€Ÿé€‰æ‹©ç®—æ³•å°±è®²å®Œäº†ï¼Œä»äºŒå‰æ ‘çš„è§†è§’æ¥ç†è§£æ€è·¯åº”è¯¥æ˜¯ä¸éš¾çš„ï¼Œä½† <code>partition</code> å‡½æ•°å¯¹ç»†èŠ‚çš„æŠŠæ§éœ€è¦ä½ å¤šèŠ±å¿ƒæ€å»ç†è§£å’Œè®°å¿†ã€‚</p><p>æœ€åä½ å¯ä»¥æ¯”è¾ƒä¸€ä¸‹å¿«é€Ÿæ’åºå’Œå‰æ–‡è®²çš„ <a href="https://labuladong.online/algo/practice-in-action/merge-sort/">å½’å¹¶æ’åº</a> å¹¶ä¸”å¯ä»¥è¯´è¯´ä½ çš„ç†è§£ï¼šä¸ºä»€ä¹ˆå¿«é€Ÿæ’åºæ˜¯ä¸ç¨³å®šæ’åºï¼Œè€Œå½’å¹¶æ’åºæ˜¯ç¨³å®šæ’åºï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> äºŒå‰æ ‘ç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘ç®—æ³•ä¹ é¢˜</title>
      <link href="/2025/08/03/er-cha-shu-suan-fa-xi-ti/"/>
      <url>/2025/08/03/er-cha-shu-suan-fa-xi-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜-I"><a href="#ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜-I" class="headerlink" title="ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I"></a>ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè®©ä½ åœ¨äºŒå‰æ ‘çš„ã€Œæ ‘æã€ä¸Šåšæ–‡ç« ï¼Œé‚£ä¹ˆç”¨éå†çš„æ€ç»´æ¨¡å¼è§£é¢˜æ˜¯æ¯”è¾ƒè‡ªç„¶çš„æƒ³æ³•ã€‚</p><h2 id="257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"><a href="#257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„" class="headerlink" title="257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_binary-tree-paths">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼ŒæŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„é¡ºåº</strong><span>&nbsp;</span>ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>&nbsp;<p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/12/paths-tree.jpg" style="max-width: 100%; width: 207px; height: 293px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["1-&gt;2-&gt;5","1-&gt;3"]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>["1"]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-paths/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ä½ è®©æˆ‘æ±‚æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œé‚£æˆ‘éå†ä¸€éäºŒå‰æ ‘è‚¯å®šå¯ä»¥æå®šï¼Œéå†åˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™æƒ³åŠæ³•æŠŠè·¯å¾„ç”Ÿæˆå‡ºæ¥å°±è¡Œäº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç "><a href="#è§£æ³•ä»£ç " class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">binaryTreePaths</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å‡ºç»“æœäº†</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½• traverse å‡½æ•°é€’å½’æ—¶çš„è·¯å¾„</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># è®°å½•æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># root æ˜¯å¶å­èŠ‚ç‚¹</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># å°†è¿™æ¡è·¯å¾„è£…å…¥ res</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"->"</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>self<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># é€’å½’éå†å·¦å³å­æ ‘</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-paths" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-paths" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-paths/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="129-æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"><a href="#129-æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ" class="headerlink" title="129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_sum-root-to-leaf-numbers">129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-root-to-leaf-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-root-to-leaf-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜æ”¾æœ‰ä¸€ä¸ª<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">9</code><span>&nbsp;</span>ä¹‹é—´çš„æ•°å­—ã€‚<div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;">æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 -&gt; 2 -&gt; 3</code><span>&nbsp;</span>è¡¨ç¤ºæ•°å­—<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">123</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç”Ÿæˆçš„<span>&nbsp;</span><strong style="font-weight: 600;">æ‰€æœ‰æ•°å­—ä¹‹å’Œ</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/num1tree.jpg" style="max-width: 100%; width: 212px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>25<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1-&gt;2</code> ä»£è¡¨æ•°å­— <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">12</code>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1-&gt;3</code> ä»£è¡¨æ•°å­— <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">13</code>å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 12 + 13 = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">25</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/num2tree.jpg" style="max-width: 100%; width: 292px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,9,0,5,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1026<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;9-&gt;5</code> ä»£è¡¨æ•°å­— 495ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;9-&gt;1</code> ä»£è¡¨æ•°å­— 491ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">4-&gt;0</code> ä»£è¡¨æ•°å­— 40å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">1026</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 9</code></li><li>æ ‘çš„æ·±åº¦ä¸è¶…è¿‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-root-to-leaf-numbers/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ä½ æƒ³ï¼Œè®©æˆ‘è·å–æ‰€æœ‰è·¯å¾„æ•°å­—ä¹‹å’Œï¼Œé‚£æˆ‘é€’å½’éå†ä¸€éäºŒå‰æ ‘ï¼Œæ²¿è·¯è®°å½•ä¸‹æ¥è·¯å¾„ä¸Šçš„æ•°å­—ï¼Œåˆ°å¶å­èŠ‚ç‚¹çš„æ—¶å€™æ±‚å’Œï¼Œä¸å°±å®Œäº‹äº†ï¼Ÿ</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -1"><a href="#è§£æ³•ä»£ç -1" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token string">""</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">sumNumbers</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å‡ºç»“æœ</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®ï¼Œè®°å½•èŠ‚ç‚¹å€¼</span>        self<span class="token punctuation">.</span>path <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œç´¯åŠ è·¯å¾„å’Œ</span>            self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>path<span class="token punctuation">)</span>        <span class="token comment"># äºŒå‰æ ‘é€’å½’æ¡†æ¶ï¼Œéå†å·¦å³å­æ ‘</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># åç»­éå†ä½ç½®ï¼Œæ’¤é”€èŠ‚ç‚¹å€¼</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/3Etpl5">å‰‘æŒ‡ Offer II 049. ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„æ•°å­—ä¹‹å’Œ ğŸŸ </a></li></ul><h2 id="199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="199. äºŒå‰æ ‘çš„å³è§†å›¾"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_binary-tree-right-side-view">199. äºŒå‰æ ‘çš„å³è§†å›¾</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">199. äºŒå‰æ ‘çš„å³è§†å›¾</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-right-side-view/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-right-side-view/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ ¹èŠ‚ç‚¹</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/02/14/tree.jpg" style="max-width: 100%; width: 270px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> [1,2,3,null,5,null,4]<strong style="font-weight: 600;">è¾“å‡º:</strong> [1,3,4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> [1,null,3]<strong style="font-weight: 600;">è¾“å‡º:</strong> [1,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> []<strong style="font-weight: 600;">è¾“å‡º:</strong> []</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,100]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-right-side-view/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 199. äºŒå‰æ ‘çš„å³è§†å›¾</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-2"><a href="#åŸºæœ¬æ€è·¯-2" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜æœ‰ä¸¤ä¸ªæ€è·¯ï¼š</p><p>1ã€ç”¨ BFS å±‚åºéå†ç®—æ³•ï¼Œæ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯äºŒå‰æ ‘çš„å³ä¾§è§†å›¾ã€‚æˆ‘ä»¬å¯ä»¥æŠŠ BFS åè¿‡æ¥ï¼Œä»å³å¾€å·¦éå†æ¯ä¸€è¡Œï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡ã€‚</p><p>2ã€ç”¨ DFS é€’å½’éå†ç®—æ³•ï¼ŒåŒæ ·éœ€è¦åè¿‡æ¥ï¼Œå…ˆé€’å½’ <code>root.right</code> å†é€’å½’ <code>root.left</code>ï¼ŒåŒæ—¶ç”¨ <code>res</code> è®°å½•æ¯ä¸€å±‚çš„æœ€å³ä¾§èŠ‚ç‚¹ä½œä¸ºå³ä¾§è§†å›¾ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -2"><a href="#è§£æ³•ä»£ç -2" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># BFS å±‚åºéå†è§£æ³•</span>    <span class="token keyword">def</span> <span class="token function">rightSideView</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        <span class="token comment"># BFS å±‚åºéå†ï¼Œè®¡ç®—å³ä¾§è§†å›¾</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># æ¯ä¸€å±‚å¤´éƒ¨å°±æ˜¯æœ€å³ä¾§çš„å…ƒç´ </span>            last <span class="token operator">=</span> q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># æ§åˆ¶æ¯ä¸€å±‚ä»å³å‘å·¦éå†</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>            <span class="token comment"># æ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯äºŒå‰æ ‘çš„å³ä¾§è§†å›¾</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>last<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> res    <span class="token comment"># DFS é€’å½’éå†è§£æ³•</span>    <span class="token keyword">def</span> <span class="token function">rightSideView_DFS</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># è®°å½•é€’å½’çš„å±‚æ•°</span>        self<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">)</span> <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>depth<span class="token punctuation">:</span>            <span class="token comment"># è¿™ä¸€å±‚è¿˜æ²¡æœ‰è®°å½•å€¼</span>            <span class="token comment"># è¯´æ˜ root å°±æ˜¯å³ä¾§è§†å›¾çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># æ³¨æ„ï¼Œè¿™é‡Œåè¿‡æ¥ï¼Œå…ˆéå†å³å­æ ‘å†éå†å·¦å­æ ‘</span>        <span class="token comment"># è¿™æ ·é¦–å…ˆéå†çš„ä¸€å®šæ˜¯å³ä¾§èŠ‚ç‚¹</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">-=</span> <span class="token number">1</span><span class="token comment"># ä»å·¦åˆ°å³æ­£å¸¸éå†</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">rightSideView</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>bfs<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">bfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        q <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># ç§»é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-1"><a href="#å¯è§†åŒ–-1" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-right-side-view" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-right-side-view" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-right-side-view/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/maximum-width-of-binary-tree">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/WNC0Lk">å‰‘æŒ‡ Offer II 046. äºŒå‰æ ‘çš„å³ä¾§è§†å›¾ ğŸŸ </a></li></ul><h2 id="988-ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²"><a href="#988-ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²" class="headerlink" title="988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_smallest-string-starting-from-leaf">988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/smallest-string-starting-from-leaf/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/smallest-string-starting-from-leaf/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€é¢—æ ¹ç»“ç‚¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„äºŒå‰æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ª&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 25]</code>&nbsp;èŒƒå›´å†…çš„å€¼ï¼Œåˆ†åˆ«ä»£è¡¨å­—æ¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'a'</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'z'</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›<span>&nbsp;</span><em><strong style="font-weight: 600;">æŒ‰å­—å…¸åºæœ€å°</strong><span>&nbsp;</span>çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä»è¿™æ£µæ ‘çš„ä¸€ä¸ªå¶ç»“ç‚¹å¼€å§‹ï¼Œåˆ°æ ¹ç»“ç‚¹ç»“æŸ</em>ã€‚</p><blockquote style="margin: 1rem 0px; padding-block: 0.25rem; padding-inline: 1rem 0px; border-inline-start: 3px solid rgb(184, 184, 186); color: rgba(60, 60, 67, 0.78); font-size: 1rem; overflow-wrap: break-word; transition: border-color 0.3s, color 0.3s;"><p style="line-height: 1.6; overflow-wrap: break-word; margin: inherit;">æ³¨<strong style="font-weight: 600;">ï¼š</strong>å­—ç¬¦ä¸²ä¸­ä»»ä½•è¾ƒçŸ­çš„å‰ç¼€åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">å­—å…¸åºä¸Š</strong><span>&nbsp;</span>éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">è¾ƒå°</strong><span>&nbsp;</span>çš„ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œåœ¨å­—å…¸åºä¸Š&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"ab"</code><span>&nbsp;</span>æ¯”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"aba"</code>&nbsp;è¦å°ã€‚å¶ç»“ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­ç»“ç‚¹çš„ç»“ç‚¹ã€‚&nbsp;</li></ul></blockquote><p style="line-height: 1.6; overflow-wrap: break-word;">èŠ‚ç‚¹çš„å¶èŠ‚ç‚¹æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/02/tree1.png" style="max-width: 100%; height: 358px; width: 534px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0,1,2,3,4,3,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"dba"</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2019/01/30/tree2.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [25,1,3,1,3,0,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"adz"</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2019/02/01/tree3.png" style="max-width: 100%; height: 513px; width: 490px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,2,1,null,1,0,null,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"abc"</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ ‘çš„ç»“ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 8500]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 25</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/smallest-string-starting-from-leaf/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 988. ä»å¶ç»“ç‚¹å¼€å§‹çš„æœ€å°å­—ç¬¦ä¸²</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-3"><a href="#åŸºæœ¬æ€è·¯-3" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ä»£ç çœ‹èµ·æ¥è™½ç„¶å¤šï¼Œä½†æ€è·¯éå¸¸ç®€å•ï¼šç”¨ <code>path</code> ç»´æŠ¤é€’å½’éå†çš„è·¯å¾„ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹çš„æ—¶å€™åˆ¤æ–­å­—å…¸åºæœ€å°çš„è·¯å¾„ã€‚</p><p>ä¸è¦å¿˜äº†åœ¨å¶å­èŠ‚ç‚¹çš„æ—¶å€™ä¹Ÿè¦æ­£ç¡®ç»´æŠ¤ <code>path</code> å˜é‡ï¼Œè€Œä¸”è¦æŠŠ StringBuilder ä¸­çš„å­—ç¬¦ä¸²åè½¬æ‰æ˜¯é¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -3"><a href="#è§£æ³•ä»£ç -3" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">smallestFromLeaf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res        <span class="token comment"># éå†è¿‡ç¨‹ä¸­çš„è·¯å¾„</span>    path <span class="token operator">=</span> <span class="token string">""</span>    res <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°å¶å­ç»“ç‚¹ï¼Œæ¯”è¾ƒå­—å…¸åºæœ€å°çš„è·¯å¾„</span>            <span class="token comment"># ç»“æœå­—ç¬¦ä¸²æ˜¯ä»å¶å­å‘æ ¹ï¼Œæ‰€ä»¥éœ€è¦åè½¬</span>            self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>path            s <span class="token operator">=</span> self<span class="token punctuation">.</span>path            <span class="token keyword">if</span> self<span class="token punctuation">.</span>res <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>res <span class="token operator">></span> s<span class="token punctuation">:</span>                <span class="token comment"># å¦‚æœå­—å…¸åºæ›´å°ï¼Œåˆ™æ›´æ–° res</span>                self<span class="token punctuation">.</span>res <span class="token operator">=</span> s            <span class="token comment"># æ¢å¤ï¼Œæ­£ç¡®ç»´æŠ¤ path ä¸­çš„å…ƒç´ </span>            self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºä½ç½®</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token operator">+</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>path        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-2"><a href="#å¯è§†åŒ–-2" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_smallest-string-starting-from-leaf" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_smallest-string-starting-from-leaf" src="https://labuladong.online/algo-visualize/leetcode/smallest-string-starting-from-leaf/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1022-ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ"><a href="#1022-ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ" class="headerlink" title="1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_sum-of-root-to-leaf-binary-numbers">1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸Šæ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;æˆ–&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;ã€‚æ¯ä¸€æ¡ä»æ ¹åˆ°å¶çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªä»æœ€é«˜æœ‰æ•ˆä½å¼€å§‹çš„äºŒè¿›åˆ¶æ•°ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œå¦‚æœè·¯å¾„ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 -&gt; 1 -&gt; 1 -&gt; 0 -&gt; 1</code>ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºäºŒè¿›åˆ¶æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">01101</code>ï¼Œä¹Ÿå°±æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">13</code>&nbsp;ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹æ ‘ä¸Šçš„æ¯ä¸€ç‰‡å¶å­ï¼Œæˆ‘ä»¬éƒ½è¦æ‰¾å‡ºä»æ ¹åˆ°è¯¥å¶å­çš„è·¯å¾„æ‰€è¡¨ç¤ºçš„æ•°å­—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›è¿™äº›æ•°å­—ä¹‹å’Œã€‚é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">32 ä½<span>&nbsp;</span></strong>æ•´æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/04/04/sum-of-root-to-leaf-binary-numbers.png" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,1,0,1,0,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>22<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>(100) + (101) + (110) + (111) = 4 + 5 + 6 + 7 = 22</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>&nbsp;ä»…ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-root-to-leaf-binary-numbers/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-4"><a href="#åŸºæœ¬æ€è·¯-4" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ç”¨ <code>path</code> å˜é‡ç»´æŠ¤æ¯ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„å½¢æˆçš„äºŒè¿›åˆ¶æ•°ï¼Œåˆ°äº†å¶å­èŠ‚ç‚¹ä¹‹åå°†è¿™æ¡è·¯å¾„çš„äºŒè¿›åˆ¶æ•°ç´¯åŠ åˆ° <code>res</code> ä¸­å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -4"><a href="#è§£æ³•ä»£ç -4" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sumRootToLeaf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å¶å­èŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>res <span class="token operator">+=</span> self<span class="token punctuation">.</span>path <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> root<span class="token punctuation">.</span>val            <span class="token keyword">return</span>        <span class="token comment"># å‰åºä½ç½®</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> root<span class="token punctuation">.</span>val        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path <span class="token operator">>></span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-3"><a href="#å¯è§†åŒ–-3" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_sum-of-root-to-leaf-binary-numbers" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-root-to-leaf-binary-numbers" src="https://labuladong.online/algo-visualize/leetcode/sum-of-root-to-leaf-binary-numbers/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1457-äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„"><a href="#1457-äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„" class="headerlink" title="1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#slug_pseudo-palindromic-paths-in-a-binary-tree">1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º 1 åˆ° 9 ã€‚æˆ‘ä»¬ç§°äºŒå‰æ ‘ä¸­çš„ä¸€æ¡è·¯å¾„æ˜¯ ã€Œ<strong style="font-weight: 600;">ä¼ªå›æ–‡</strong>ã€çš„ï¼Œå½“å®ƒæ»¡è¶³ï¼šè·¯å¾„ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹å€¼çš„æ’åˆ—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå›æ–‡åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­&nbsp;<strong style="font-weight: 600;">ä¼ªå›æ–‡&nbsp;</strong>è·¯å¾„çš„æ•°ç›®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_1.png" style="max-width: 100%; height: 201px; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,3,1,3,1,null,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2 <strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šçš„äºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šçº¢è‰²è·¯å¾„ [2,3,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å’Œè·¯å¾„ [2,3,1] ã€‚     åœ¨è¿™äº›è·¯å¾„ä¸­ï¼Œåªæœ‰çº¢è‰²å’Œç»¿è‰²çš„è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸ºçº¢è‰²è·¯å¾„ [2,3,3] å­˜åœ¨å›æ–‡æ’åˆ— [3,2,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_2.png" style="max-width: 100%; height: 314px; width: 300px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,1,1,1,3,null,null,null,null,null,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1 <strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šäºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šç»¿è‰²è·¯å¾„ [2,1,1] ï¼Œè·¯å¾„ [2,1,3,1] å’Œè·¯å¾„ [2,1] ã€‚     è¿™äº›è·¯å¾„ä¸­åªæœ‰ç»¿è‰²è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸º [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [9]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>5</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 9</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/pseudo-palindromic-paths-in-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1457. äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-5"><a href="#åŸºæœ¬æ€è·¯-5" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>éå†ä¸€éäºŒå‰æ ‘å°±èƒ½å¾—åˆ°æ¯æ¡è·¯å¾„ä¸Šçš„æ•°å­—ï¼Œä½†è¿™é¢˜çš„è€ƒç‚¹åœ¨äºï¼Œå¦‚ä½•åˆ¤æ–­ä¸€ç»„æ•°å­—æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå›æ–‡ä¸²ç»„åˆï¼Ÿ</p><p>ç¨åŠ æ€è€ƒä¸éš¾æƒ³åˆ°ï¼š<strong>å¦‚æœä¸€ç»„æ•°å­—ä¸­ï¼Œåªæœ‰æœ€å¤šä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ä¸ºå¥‡æ•°ï¼Œå‰©ä½™æ•°å­—çš„å‡ºç°æ¬¡æ•°å‡ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆè¿™ç»„æ•°å­—å¯ä»¥ç»„æˆä¸€ä¸ªå›æ–‡ä¸²</strong>ã€‚</p><p>é¢˜ç›®è¯´äº† <code>1 &lt;= root.val &lt;= 9</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå¤§å°ä¸º 10 çš„ <code>count</code> æ•°ç»„åšè®¡æ•°å™¨æ¥è®°å½•æ¯æ¡è·¯å¾„ä¸Šçš„å…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹ä¹‹åæ ¹æ®å…ƒç´ å‡ºç°çš„æ¬¡æ•°åˆ¤æ–­æ˜¯å¦å¯ä»¥æ„æˆå›æ–‡ä¸²ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æ›´å·§å¦™çš„ä½è¿ç®—æ¥å®ç°ä¸Šè¿°é€»è¾‘ï¼š</p><p>1ã€é¦–å…ˆç”¨åˆ°å¼‚æˆ–è¿ç®—çš„ç‰¹æ€§ï¼Œ1 ^ 1 &#x3D; 0, 0 ^ 0 &#x3D; 0, 1 ^ 0 &#x3D; 1ã€‚</p><p>2ã€å…¶æ¬¡ç”¨åˆ° <code>n &amp; (n - 1)</code> å»é™¤äºŒè¿›åˆ¶æœ€åä¸€ä¸ª 1 çš„æŠ€å·§ï¼Œè¯¦è§ <a href="https://labuladong.online/algo/frequency-interview/bitwise-operation/">ä¸œå“¥æ•™ä½ å‡ æ‹›å¸¸ç”¨çš„ä½è¿ç®—æŠ€å·§</a>ã€‚</p><p>æˆ‘åŒæ—¶å®ç°äº†è¿™ä¸¤ç§æ–¹æ³•ï¼Œä¾›ä½ å‚è€ƒã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -5"><a href="#è§£æ³•ä»£ç -5" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">10</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">pseudoPalindromicPaths</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œåˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¼ªå›æ–‡ä¸²</span>            self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># å¦‚æœè·¯å¾„ä¸Šå‡ºç°å¥‡æ•°æ¬¡çš„æ•°å­—ä¸ªæ•°å¤§äº 1ï¼Œ</span>            <span class="token comment"># åˆ™ä¸å¯èƒ½ç»„æˆå›æ–‡ä¸²ï¼Œåä¹‹åˆ™å¯ä»¥ç»„æˆå›æ–‡ä¸²</span>            odd <span class="token operator">=</span> <span class="token number">0</span>            <span class="token keyword">for</span> n <span class="token keyword">in</span> self<span class="token punctuation">.</span>count<span class="token punctuation">:</span>                <span class="token keyword">if</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                    odd <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> odd <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>count<span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span><span class="token comment"># ç”¨ä½è¿ç®—ä»£æ›¿æ•°ç»„è®¡æ•°ï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">pseudoPalindromicPaths</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œåˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¼ªå›æ–‡ä¸²</span>            self<span class="token punctuation">.</span>count <span class="token operator">^</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># åˆ¤æ–­äºŒè¿›åˆ¶ä¸­åªæœ‰ä¸€ä½ 1ï¼ŒåŸç†è§ https://labuladong.online/algo/frequency-interview/bitwise-operation/</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>count <span class="token operator">&amp;</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>count <span class="token operator">^</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>count <span class="token operator">^</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>count <span class="token operator">^</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-4"><a href="#å¯è§†åŒ–-4" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_pseudo-palindromic-paths-in-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 0px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_pseudo-palindromic-paths-in-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/pseudo-palindromic-paths-in-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="404-å·¦å¶å­ä¹‹å’Œ"><a href="#404-å·¦å¶å­ä¹‹å’Œ" class="headerlink" title="404. å·¦å¶å­ä¹‹å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_sum-of-left-leaves">404. å·¦å¶å­ä¹‹å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">404. å·¦å¶å­ä¹‹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-left-leaves/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-left-leaves/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¿”å›æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/04/08/leftsum-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [3,9,20,null,null,15,7] <strong style="font-weight: 600;">è¾“å‡º:</strong> 24 <strong style="font-weight: 600;">è§£é‡Š:</strong> åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [1]<strong style="font-weight: 600;">è¾“å‡º:</strong> 0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-left-leaves/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 404. å·¦å¶å­ä¹‹å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-6"><a href="#åŸºæœ¬æ€è·¯-6" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>æ— éå°±æ˜¯éå†ä¸€éäºŒå‰æ ‘ï¼Œç„¶åæ‰¾åˆ°é‚£äº›å·¦å¶å­èŠ‚ç‚¹ï¼Œç´¯åŠ å®ƒä»¬çš„å€¼ç½¢äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -6"><a href="#è§£æ³•ä»£ç -6" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•å·¦å¶å­ä¹‹å’Œ</span>        self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">sumOfLeftLeaves</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span>    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span>            root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°å·¦ä¾§çš„å¶å­èŠ‚ç‚¹ï¼Œè®°å½•ç´¯åŠ å€¼</span>            self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val        <span class="token comment"># é€’å½’æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-5"><a href="#å¯è§†åŒ–-5" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_sum-of-left-leaves" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-left-leaves" src="https://labuladong.online/algo-visualize/leetcode/sum-of-left-leaves/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="623-åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ"><a href="#623-åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ" class="headerlink" title="623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_add-one-row-to-tree">623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/add-one-row-to-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/add-one-row-to-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;å’Œä¸¤ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>&nbsp;ï¼Œåœ¨ç»™å®šçš„æ·±åº¦&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>&nbsp;å¤„æ·»åŠ ä¸€ä¸ªå€¼ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>çš„èŠ‚ç‚¹è¡Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ³¨æ„ï¼Œæ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ä½äºæ·±åº¦&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åŠ æ³•è§„åˆ™å¦‚ä¸‹:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth</code>ï¼Œå¯¹äºæ·±åº¦ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth - 1</code><span>&nbsp;</span>çš„æ¯ä¸ªéç©ºæ ‘èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>ï¼Œåˆ›å»ºä¸¤ä¸ªå€¼ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>çš„æ ‘èŠ‚ç‚¹ä½œä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>çš„å·¦å­æ ‘æ ¹å’Œå³å­æ ‘æ ¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>åŸæ¥çš„å·¦å­æ ‘åº”è¯¥æ˜¯æ–°çš„å·¦å­æ ‘æ ¹çš„å·¦å­æ ‘ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cur</code><span>&nbsp;</span>åŸæ¥çš„å³å­æ ‘åº”è¯¥æ˜¯æ–°çš„å³å­æ ‘æ ¹çš„å³å­æ ‘ã€‚</li><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth == 1<span>&nbsp;</span></code>æ„å‘³ç€&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">depth - 1</code>&nbsp;æ ¹æœ¬æ²¡æœ‰æ·±åº¦ï¼Œé‚£ä¹ˆåˆ›å»ºä¸€ä¸ªæ ‘èŠ‚ç‚¹ï¼Œå€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val<span>&nbsp;</span></code>ä½œä¸ºæ•´ä¸ªåŸå§‹æ ‘çš„æ–°æ ¹ï¼Œè€ŒåŸå§‹æ ‘å°±æ˜¯æ–°æ ¹çš„å·¦å­æ ‘ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/03/15/addrow-tree.jpg" style="max-width: 100%; height: 231px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [4,2,6,3,1,5], val = 1, depth = 2<strong style="font-weight: 600;">è¾“å‡º:</strong> [4,1,1,2,null,null,6,3,1,5]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/03/11/add2-tree.jpg" style="max-width: 100%; height: 277px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [4,2,null,3,1], val = 1, depth = 3<strong style="font-weight: 600;">è¾“å‡º:</strong>  [4,2,null,1,1,3,null,null,1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>&nbsp;èŒƒå›´å†…</li><li>æ ‘çš„æ·±åº¦åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= val &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= depth &lt;= the depth of tree + 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/add-one-row-to-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 623. åœ¨äºŒå‰æ ‘ä¸­å¢åŠ ä¸€è¡Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-7"><a href="#åŸºæœ¬æ€è·¯-7" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ç”¨ <code>traverse</code> å‡½æ•°éå†åˆ°å¯¹åº”è¡Œï¼Œè¿›è¡Œæ’å…¥å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -7"><a href="#è§£æ³•ä»£ç -7" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>targetVal <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>targetDepth <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">addOneRow</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> depth<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        self<span class="token punctuation">.</span>targetVal <span class="token operator">=</span> val        self<span class="token punctuation">.</span>targetDepth <span class="token operator">=</span> depth        <span class="token comment"># æ’å…¥åˆ°ç¬¬ä¸€è¡Œçš„è¯ç‰¹æ®Šå¯¹å¾…ä¸€ä¸‹</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>targetDepth <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            newRoot <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>targetVal<span class="token punctuation">)</span>            newRoot<span class="token punctuation">.</span>left <span class="token operator">=</span> root            <span class="token keyword">return</span> newRoot        <span class="token comment"># éå†äºŒå‰æ ‘ï¼Œèµ°åˆ°å¯¹åº”è¡Œè¿›è¡Œæ’å…¥</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> root    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> curDepth<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†</span>        <span class="token keyword">if</span> curDepth <span class="token operator">==</span> self<span class="token punctuation">.</span>targetDepth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># è¿›è¡Œæ’å…¥</span>            newLeft <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>targetVal<span class="token punctuation">)</span>            newRight <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>targetVal<span class="token punctuation">)</span>            newLeft<span class="token punctuation">.</span>left <span class="token operator">=</span> root<span class="token punctuation">.</span>left            newRight<span class="token punctuation">.</span>right <span class="token operator">=</span> root<span class="token punctuation">.</span>right            root<span class="token punctuation">.</span>left <span class="token operator">=</span> newLeft            root<span class="token punctuation">.</span>right <span class="token operator">=</span> newRight        <span class="token comment"># Recursively traverse the left and right subtree</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> curDepth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> curDepth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># ååºéå†</span>        <span class="token comment"># Note: The original Java code does not have any action in the post-order position,</span>        <span class="token comment"># but we keep the comment for consistency.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-6"><a href="#å¯è§†åŒ–-6" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_add-one-row-to-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_add-one-row-to-tree" src="https://labuladong.online/algo-visualize/leetcode/add-one-row-to-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="971-ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†"><a href="#971-ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†" class="headerlink" title="971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_flip-binary-tree-to-match-preorder-traversal">971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œæ ‘ä¸­æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸åŒäºå…¶ä»–èŠ‚ç‚¹ä¸”å¤„äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¹‹é—´çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦ç»™ä½ ä¸€ä¸ªç”±<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªå€¼ç»„æˆçš„è¡Œç¨‹åºåˆ—<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span>ï¼Œè¡¨ç¤º<span>&nbsp;</span><strong style="font-weight: 600;">é¢„æœŸ</strong><span>&nbsp;</span>çš„äºŒå‰æ ‘<span>&nbsp;</span><a href="https://baike.baidu.com/item/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86/6442839?fr=aladdin" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;"><strong style="font-weight: 600;">å…ˆåºéå†</strong></a><span>&nbsp;</span>ç»“æœã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">é€šè¿‡äº¤æ¢èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼Œå¯ä»¥<span>&nbsp;</span><strong style="font-weight: 600;">ç¿»è½¬</strong><span>&nbsp;</span>è¯¥äºŒå‰æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹ã€‚ä¾‹ï¼Œç¿»è½¬èŠ‚ç‚¹ 1 çš„æ•ˆæœå¦‚ä¸‹ï¼š</p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/15/fliptree.jpg" style="max-width: 100%; width: 400px; height: 187px;"><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ç¿»è½¬<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å°‘<span>&nbsp;</span></strong>çš„æ ‘ä¸­èŠ‚ç‚¹ï¼Œä½¿äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å…ˆåºéå†</strong><span>&nbsp;</span>ä¸é¢„æœŸçš„éå†è¡Œç¨‹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span><strong style="font-weight: 600;">ç›¸åŒ¹é…</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœå¯ä»¥ï¼Œåˆ™è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">ç¿»è½¬çš„</strong><span>&nbsp;</span>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼çš„åˆ—è¡¨ã€‚ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚å¦‚æœä¸èƒ½ï¼Œåˆ™è¿”å›åˆ—è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-1]</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-01.png" style="max-width: 100%; width: 150px; height: 205px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2], voyage = [2,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[-1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¿»è½¬èŠ‚ç‚¹æ— æ³•ä»¤å…ˆåºéå†åŒ¹é…é¢„æœŸè¡Œç¨‹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-02.png" style="max-width: 100%; width: 150px; height: 142px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], voyage = [1,3,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>äº¤æ¢èŠ‚ç‚¹ 2 å’Œ 3 æ¥ç¿»è½¬èŠ‚ç‚¹ 1 ï¼Œå…ˆåºéå†å¯ä»¥åŒ¹é…é¢„æœŸè¡Œç¨‹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/02/1219-02.png" style="max-width: 100%; width: 150px; height: 142px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], voyage = [1,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å…ˆåºéå†å·²ç»åŒ¹é…é¢„æœŸè¡Œç¨‹ï¼Œæ‰€ä»¥ä¸éœ€è¦ç¿»è½¬èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == voyage.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val, voyage[i] &lt;= n</code></li><li>æ ‘ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">voyage</code><span>&nbsp;</span>ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/flip-binary-tree-to-match-preorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 971. ç¿»è½¬äºŒå‰æ ‘ä»¥åŒ¹é…å…ˆåºéå†</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-8"><a href="#åŸºæœ¬æ€è·¯-8" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>ç”¨ <code>traverse</code> å‡½æ•°éå†æ•´æ£µäºŒå‰æ ‘ï¼Œå¯¹æ¯”å‰åºéå†ç»“æœï¼Œå¦‚æœèŠ‚ç‚¹çš„å€¼å¯¹ä¸ä¸Šï¼Œå°±æ— è§£ï¼›å¦‚æœå­æ ‘å¯¹ä¸ä¸Š <code>voyage</code>ï¼Œå°±å°è¯•ç¿»è½¬å­æ ‘ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -8"><a href="#è§£æ³•ä»£ç -8" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">flipMatchVoyage</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> voyage<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>can_flip <span class="token operator">=</span> <span class="token boolean">True</span>                <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># éå†çš„è¿‡ç¨‹ä¸­å°è¯•è¿›è¡Œåè½¬</span>            <span class="token keyword">if</span> <span class="token keyword">not</span> node <span class="token keyword">or</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>can_flip<span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">True</span>            <span class="token keyword">if</span> node<span class="token punctuation">.</span>val <span class="token operator">!=</span> voyage<span class="token punctuation">[</span>self<span class="token punctuation">.</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># èŠ‚ç‚¹çš„ val å¯¹ä¸ä¸Šï¼Œå¿…ç„¶æ— è§£</span>                self<span class="token punctuation">.</span>can_flip <span class="token operator">=</span> <span class="token boolean">False</span>                <span class="token keyword">return</span> <span class="token boolean">False</span>            self<span class="token punctuation">.</span>i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># Only flip if there's a left child and the next value in voyage doesn't match the left child's value</span>            <span class="token keyword">if</span> node<span class="token punctuation">.</span>left <span class="token keyword">and</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val <span class="token operator">!=</span> voyage<span class="token punctuation">[</span>self<span class="token punctuation">.</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># å‰åºéå†ç»“æœä¸å¯¹ï¼Œå°è¯•ç¿»è½¬å·¦å³å­æ ‘</span>                self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>node<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> node<span class="token punctuation">.</span>right <span class="token operator">=</span> node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> node<span class="token punctuation">.</span>left            <span class="token comment"># è®°å½•ç¿»è½¬èŠ‚ç‚¹</span>            <span class="token comment"># Note: This comment was not in the original Java code, but added to match the pattern of comments. </span>            <span class="token comment"># If this was not intended, it can be removed.</span>            <span class="token keyword">return</span> dfs<span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> dfs<span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>                <span class="token keyword">if</span> dfs<span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>res        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-7"><a href="#å¯è§†åŒ–-7" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_flip-binary-tree-to-match-preorder-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_flip-binary-tree-to-match-preorder-traversal" src="https://labuladong.online/algo-visualize/leetcode/flip-binary-tree-to-match-preorder-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="987-äºŒå‰æ ‘çš„å‚åºéå†"><a href="#987-äºŒå‰æ ‘çš„å‚åºéå†" class="headerlink" title="987. äºŒå‰æ ‘çš„å‚åºéå†"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_vertical-order-traversal-of-a-binary-tree">987. äºŒå‰æ ‘çš„å‚åºéå†</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">987. äºŒå‰æ ‘çš„å‚åºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·ä½ è®¾è®¡ç®—æ³•è®¡ç®—äºŒå‰æ ‘çš„<em><span>&nbsp;</span></em><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹ä½äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row, col)</code>&nbsp;çš„æ¯ä¸ªç»“ç‚¹è€Œè¨€ï¼Œå…¶å·¦å³å­ç»“ç‚¹åˆ†åˆ«ä½äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row + 1, col - 1)</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(row + 1, col + 1)</code><span>&nbsp;</span>ã€‚æ ‘çš„æ ¹ç»“ç‚¹ä½äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(0, 0)</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>ä»æœ€å·¦è¾¹çš„åˆ—å¼€å§‹ç›´åˆ°æœ€å³è¾¹çš„åˆ—ç»“æŸï¼ŒæŒ‰åˆ—ç´¢å¼•æ¯ä¸€åˆ—ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæŒ‰å‡ºç°ä½ç½®ä»ä¸Šåˆ°ä¸‹æ’åºçš„æœ‰åºåˆ—è¡¨ã€‚å¦‚æœåŒè¡ŒåŒåˆ—ä¸Šæœ‰å¤šä¸ªç»“ç‚¹ï¼Œåˆ™æŒ‰ç»“ç‚¹çš„å€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‚åºéå†</strong><span>&nbsp;</span>åºåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree1.jpg" style="max-width: 100%; width: 431px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[9],[3,15],[20],[7]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 9 åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  0 ï¼šåªæœ‰ç»“ç‚¹ 3 å’Œ 15 åœ¨æ­¤åˆ—ä¸­ï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºã€‚åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 20 åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree2.jpg" style="max-width: 100%; width: 512px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[4],[2],[1,5,6],[3],[7]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åˆ— -2 ï¼šåªæœ‰ç»“ç‚¹ 4 åœ¨æ­¤åˆ—ä¸­ã€‚åˆ— -1 ï¼šåªæœ‰ç»“ç‚¹ 2 åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  0 ï¼šç»“ç‚¹ 1 ã€5 å’Œ 6 éƒ½åœ¨æ­¤åˆ—ä¸­ã€‚          1 åœ¨ä¸Šé¢ï¼Œæ‰€ä»¥å®ƒå‡ºç°åœ¨å‰é¢ã€‚          5 å’Œ 6 ä½ç½®éƒ½æ˜¯ (2, 0) ï¼Œæ‰€ä»¥æŒ‰å€¼ä»å°åˆ°å¤§æ’åºï¼Œ5 åœ¨ 6 çš„å‰é¢ã€‚åˆ—  1 ï¼šåªæœ‰ç»“ç‚¹ 3 åœ¨æ­¤åˆ—ä¸­ã€‚åˆ—  2 ï¼šåªæœ‰ç»“ç‚¹ 7 åœ¨æ­¤åˆ—ä¸­ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/29/vtree3.jpg" style="max-width: 100%; width: 512px; height: 304px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,6,5,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[4],[2],[1,5,6],[3],[7]]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¿™ä¸ªç¤ºä¾‹å®é™…ä¸Šä¸ç¤ºä¾‹ 2 å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç»“ç‚¹ 5 å’Œ 6 åœ¨æ ‘ä¸­çš„ä½ç½®å‘ç”Ÿäº†äº¤æ¢ã€‚å› ä¸º 5 å’Œ 6 çš„ä½ç½®ä»ç„¶ç›¸åŒï¼Œæ‰€ä»¥ç­”æ¡ˆä¿æŒä¸å˜ï¼Œä»ç„¶æŒ‰å€¼ä»å°åˆ°å¤§æ’åºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­ç»“ç‚¹æ•°ç›®æ€»æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/vertical-order-traversal-of-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 987. äºŒå‰æ ‘çš„å‚åºéå†</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-9"><a href="#åŸºæœ¬æ€è·¯-9" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>çœ‹è¿™é¢˜çš„éš¾åº¦æ˜¯å›°éš¾ï¼Œä½†ä½ åˆ«è¢«å“ä½äº†ï¼Œæˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹ï¼Œå¦‚æœä»¥æ•´æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºåæ ‡ <code>(0, 0)</code>ï¼Œä½ å¦‚ä½•æ‰“å°å‡ºå…¶ä»–èŠ‚ç‚¹çš„åæ ‡ï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œå†™å‡ºå¦‚ä¸‹ä»£ç éå†ä¸€éäºŒå‰æ ‘å³å¯ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">traverse</span><span class="token punctuation">(</span>TreeNode root<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">print</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åå°±ç®€å•äº†ï¼ŒæŠŠè¿™äº›åæ ‡æ”¶é›†èµ·æ¥ï¼Œä¾æ®é¢˜ç›®è¦æ±‚è¿›è¡Œæ’åºï¼Œç»„è£…æˆé¢˜ç›®è¦æ±‚çš„è¿”å›æ•°æ®æ ¼å¼å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -9"><a href="#è§£æ³•ä»£ç -9" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è®°å½•æ¯ä¸ªèŠ‚ç‚¹å’Œå¯¹åº”çš„åæ ‡ (row, col)</span>    <span class="token keyword">class</span> <span class="token class-name">Triple</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>node <span class="token operator">=</span> node            self<span class="token punctuation">.</span>row <span class="token operator">=</span> row            self<span class="token punctuation">.</span>col <span class="token operator">=</span> col    <span class="token keyword">def</span> <span class="token function">verticalTraversal</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># éå†äºŒå‰æ ‘ï¼Œå¹¶ä¸”ä¸ºæ‰€æœ‰èŠ‚ç‚¹ç”Ÿæˆå¯¹åº”çš„åæ ‡</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token comment"># æ ¹æ®é¢˜æ„ï¼Œæ ¹æ®åæ ‡å€¼å¯¹æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œæ’åºï¼š</span>        <span class="token comment"># æŒ‰ç…§ col ä»å°åˆ°å¤§æ’åºï¼Œcol ç›¸åŒçš„è¯æŒ‰ row ä»å°åˆ°å¤§æ’åºï¼Œ</span>        <span class="token comment"># å¦‚æœ col å’Œ row éƒ½ç›¸åŒï¼ŒæŒ‰ç…§ node.val ä»å°åˆ°å¤§æ’åºã€‚</span>        self<span class="token punctuation">.</span>nodes<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>col<span class="token punctuation">,</span> x<span class="token punctuation">.</span>row<span class="token punctuation">,</span> x<span class="token punctuation">.</span>node<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># å°†æ’å¥½åºçš„èŠ‚ç‚¹ç»„è£…æˆé¢˜ç›®è¦æ±‚çš„è¿”å›æ ¼å¼</span>        res <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># è®°å½•ä¸Šä¸€åˆ—ç¼–å·ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç‰¹æ®Šå€¼</span>        preCol <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> cur <span class="token keyword">in</span> self<span class="token punctuation">.</span>nodes<span class="token punctuation">:</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>col <span class="token operator">!=</span> preCol<span class="token punctuation">:</span>                <span class="token comment"># å¼€å§‹è®°å½•æ–°çš„ä¸€åˆ—</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                preCol <span class="token operator">=</span> cur<span class="token punctuation">.</span>col            res<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>node<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span> <span class="token keyword">for</span> col <span class="token keyword">in</span> res<span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°ï¼Œè®°å½•æ‰€æœ‰èŠ‚ç‚¹å¯¹åº”çš„åæ ‡</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> row<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> col<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># è®°å½•åæ ‡</span>        self<span class="token punctuation">.</span>nodes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Triple<span class="token punctuation">(</span>root<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/path-sum-iv">666. è·¯å¾„æ€»å’Œ IV ğŸŸ </a></li></ul><h2 id="993-äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹"><a href="#993-äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹" class="headerlink" title="993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_cousins-in-binary-tree">993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/cousins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/cousins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ ¹èŠ‚ç‚¹ä½äºæ·±åº¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>å¤„ï¼Œæ¯ä¸ªæ·±åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä½äºæ·±åº¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k+1</code><span>&nbsp;</span>å¤„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœäºŒå‰æ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹æ·±åº¦ç›¸åŒï¼Œä½†<strong style="font-weight: 600;"><span>&nbsp;</span>çˆ¶èŠ‚ç‚¹ä¸åŒ</strong><span>&nbsp;</span>ï¼Œåˆ™å®ƒä»¬æ˜¯ä¸€å¯¹<em>å ‚å…„å¼ŸèŠ‚ç‚¹</em>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æˆ‘ä»¬ç»™å‡ºäº†å…·æœ‰å”¯ä¸€å€¼çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œä»¥åŠæ ‘ä¸­ä¸¤ä¸ªä¸åŒèŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åªæœ‰ä¸å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code><span>&nbsp;</span>å¯¹åº”çš„èŠ‚ç‚¹æ˜¯å ‚å…„å¼ŸèŠ‚ç‚¹æ—¶ï¼Œæ‰è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ã€‚å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-01.png" style="max-width: 100%; height: 160px; width: 180px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4], x = 4, y = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-02.png" style="max-width: 100%; height: 160px; width: 201px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,4,null,5], x = 5, y = 4<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/16/q1248-03.png" style="max-width: 100%; height: 160px; width: 156px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,4], x = 2, y = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ä»‹äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€èŒƒå›´ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>çš„æ•´æ•°ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/cousins-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-10"><a href="#åŸºæœ¬æ€è·¯-10" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>éå†æ‰¾åˆ° xï¼Œy çš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹ï¼Œå¯¹æ¯”å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -10"><a href="#è§£æ³•ä»£ç -10" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>parentX <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>parentY <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>depthX <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>depthY <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">isCousins</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>depthX <span class="token operator">==</span> self<span class="token punctuation">.</span>depthY <span class="token keyword">and</span> self<span class="token punctuation">.</span>parentX <span class="token operator">!=</span> self<span class="token punctuation">.</span>parentY<span class="token punctuation">:</span>            <span class="token comment"># åˆ¤æ–­ xï¼Œy æ˜¯å¦æ˜¯è¡¨å…„å¼ŸèŠ‚ç‚¹</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> depth<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> parent<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> self<span class="token punctuation">.</span>x<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ° xï¼Œè®°å½•å®ƒçš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>parentX <span class="token operator">=</span> parent            self<span class="token punctuation">.</span>depthX <span class="token operator">=</span> depth        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> self<span class="token punctuation">.</span>y<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ° yï¼Œè®°å½•å®ƒçš„æ·±åº¦å’Œçˆ¶èŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>parentY <span class="token operator">=</span> parent            self<span class="token punctuation">.</span>depthY <span class="token operator">=</span> depth        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-8"><a href="#å¯è§†åŒ–-8" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_cousins-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_cousins-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/cousins-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1315-ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ"><a href="#1315-ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ" class="headerlink" title="1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_sum-of-nodes-with-even-valued-grandparent">1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>è¯¥èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ã€‚ï¼ˆä¸€ä¸ªèŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹æ˜¯æŒ‡è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ï¼‰</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸å­˜åœ¨ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/01/10/1473_ex1.png" style="max-width: 100%; height: 214px; width: 350px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [6,7,8,2,7,1,3,9,null,1,4,null,null,null,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>18<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å›¾ä¸­çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ï¼Œè“è‰²èŠ‚ç‚¹ä¸ºè¿™äº›çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10^4</code>&nbsp;ä¹‹é—´ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/sum-of-nodes-with-even-valued-grandparent/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-11"><a href="#åŸºæœ¬æ€è·¯-11" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>å¾ˆç®€å•ï¼Œéå†ä¸€éäºŒå‰æ ‘ï¼Œå¯¹äºèŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹ï¼Œç´¯åŠ å®ƒçš„å­™å­èŠ‚ç‚¹çš„å€¼å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -11"><a href="#è§£æ³•ä»£ç -11" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">sumEvenGrandparent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span>    <span class="token comment"># äºŒå‰æ ‘çš„éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># ç´¯åŠ å·¦å­æ ‘å­™å­èŠ‚ç‚¹çš„å€¼</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val                <span class="token keyword">if</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val            <span class="token comment"># ç´¯åŠ å³å­æ ‘å­™å­èŠ‚ç‚¹çš„å€¼</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val                <span class="token keyword">if</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val        <span class="token comment"># äºŒå‰æ ‘çš„éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-9"><a href="#å¯è§†åŒ–-9" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_sum-of-nodes-with-even-valued-grandparent" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_sum-of-nodes-with-even-valued-grandparent" src="https://labuladong.online/algo-visualize/leetcode/sum-of-nodes-with-even-valued-grandparent/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1448-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"><a href="#1448-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®" class="headerlink" title="1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#slug_count-good-nodes-in-binary-tree">1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µæ ¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„äºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ã€Œå¥½èŠ‚ç‚¹ã€X å®šä¹‰ä¸ºï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹ X æ‰€ç»è¿‡çš„èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äº X çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/16/test_sample_1.png" style="max-width: 100%; height: 156px; width: 263px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,1,4,3,null,1,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å›¾ä¸­è“è‰²èŠ‚ç‚¹ä¸ºå¥½èŠ‚ç‚¹ã€‚æ ¹èŠ‚ç‚¹ (3) æ°¸è¿œæ˜¯ä¸ªå¥½èŠ‚ç‚¹ã€‚èŠ‚ç‚¹ 4 -&gt; (3,4) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚èŠ‚ç‚¹ 5 -&gt; (3,4,5) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚èŠ‚ç‚¹ 3 -&gt; (3,1,3) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/16/test_sample_2.png" style="max-width: 100%; height: 161px; width: 157px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,3,null,4,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>èŠ‚ç‚¹ 2 -&gt; (3, 3, 2) ä¸æ˜¯å¥½èŠ‚ç‚¹ï¼Œå› ä¸º "3" æ¯”å®ƒå¤§ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ¹èŠ‚ç‚¹æ˜¯å¥½èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10^5]</code>&nbsp;ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹æƒå€¼çš„èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-10^4, 10^4]</code>&nbsp;ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/count-good-nodes-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1448. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-12"><a href="#åŸºæœ¬æ€è·¯-12" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ï¼Œåˆ©ç”¨å‡½æ•°å‚æ•°ç»™å­æ ‘ä¼ é€’ä¿¡æ¯ã€‚</p><p>å‡½æ•°å‚æ•° <code>pathMax</code> è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œé€šè¿‡æ¯”è¾ƒ <code>root.val</code> å’Œ <code>pathMax</code> æ¯”è¾ƒå°±å¯åˆ¤æ–­ <code>root</code> èŠ‚ç‚¹æ˜¯ä¸æ˜¯ã€Œå¥½èŠ‚ç‚¹ã€ã€‚ç„¶åå†æŠŠ <code>pathMax</code> ä¼ é€’åˆ°å­æ ‘ä¸­ç»§ç»­åˆ¤æ–­å…¶ä»–èŠ‚ç‚¹ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -12"><a href="#è§£æ³•ä»£ç -12" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">goodNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>count    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°ï¼ŒpathMax å‚æ•°è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹è·¯å¾„ä¸­çš„æœ€å¤§å€¼</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> pathMax<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> pathMax <span class="token operator">&lt;=</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°ä¸€ä¸ªã€Œå¥½èŠ‚ç‚¹ã€</span>            self<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># æ›´æ–°è·¯å¾„ä¸Šçš„æœ€å¤§å€¼</span>        pathMax <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>pathMax<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> pathMax<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> pathMax<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-10"><a href="#å¯è§†åŒ–-10" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_count-good-nodes-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_count-good-nodes-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/count-good-nodes-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="437-è·¯å¾„æ€»å’Œ-III"><a href="#437-è·¯å¾„æ€»å’Œ-III" class="headerlink" title="437. è·¯å¾„æ€»å’Œ III"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_path-sum-iii">437. è·¯å¾„æ€»å’Œ III</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">437. è·¯å¾„æ€»å’Œ III</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/path-sum-iii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/path-sum-iii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œå’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">targetSum</code><span>&nbsp;</span>ï¼Œæ±‚è¯¥äºŒå‰æ ‘é‡ŒèŠ‚ç‚¹å€¼ä¹‹å’Œç­‰äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">targetSum</code><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">è·¯å¾„</strong><span>&nbsp;</span>çš„æ•°ç›®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è·¯å¾„</strong><span>&nbsp;</span>ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/04/09/pathsum3-1-tree.jpg" style="max-width: 100%; width: 452px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [10,5,-3,3,2,null,11,3,-2,null,1], targetSum = 8<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å’Œç­‰äº 8 çš„è·¯å¾„æœ‰ 3 æ¡ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum = 22<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,1000]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>9</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>9</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= targetSum &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/path-sum-iii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 437. è·¯å¾„æ€»å’Œ III</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-13"><a href="#åŸºæœ¬æ€è·¯-13" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>è¿™é¢˜çš„éš¾åº¦åº”è¯¥è®¾ç½®ä¸ºå›°éš¾ï¼Œå› ä¸ºè¿™é¢˜åŠè¦æ±‚ä½ å‡†ç¡®ç†è§£äºŒå‰æ ‘çš„å‰åºååºéå†ï¼Œè¿˜è¦ç†Ÿæ‚‰å‰ç¼€å’ŒæŠ€å·§ï¼ŒæŠŠå‰ç¼€å’ŒæŠ€å·§ç”¨åˆ°äºŒå‰æ ‘ä¸Šã€‚</p><p>ä½ å¯ä»¥å…ˆçœ‹å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/prefix-sum/">å‰ç¼€å’ŒæŠ€å·§</a>ï¼Œç„¶ååšä¸€ä¸‹ <a href="https://leetcode.cn/problems/subarray-sum-equals-k">560. å’Œä¸ºKçš„å­æ•°ç»„</a>ï¼Œåº”è¯¥èƒ½å¤Ÿç†è§£è¿™é“é¢˜çš„æ€è·¯äº†ã€‚</p><p>ä½ æŠŠäºŒå‰æ ‘çœ‹åšæ˜¯æ•°ç»„ï¼Œåˆ©ç”¨å‰ååºéå†æ¥ç»´æŠ¤å‰ç¼€å’Œï¼Œçœ‹ä¸‹å›¾å°±èƒ½ç†è§£è§£æ³•ä¸­å‡ ä¸ªå…³é”®å˜é‡çš„å…³ç³»äº†ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/437.jpeg" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -13"><a href="#è§£æ³•ä»£ç -13" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è®°å½•å‰ç¼€å’Œ</span>    <span class="token comment"># å®šä¹‰ï¼šä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè·¯å¾„å’Œä¸º pathSum çš„è·¯å¾„æœ‰ preSumCount.get(pathSum) ä¸ª</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>preSumCount <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        self<span class="token punctuation">.</span>path_sum <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>target_sum <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">pathSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> targetSum<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>path_sum <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>target_sum <span class="token operator">=</span> targetSum        self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>path_sum <span class="token operator">+=</span> root<span class="token punctuation">.</span>val        <span class="token comment"># ä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè·¯å¾„å’Œä¸º pathSum - targetSum çš„è·¯å¾„æ¡æ•°</span>        <span class="token comment"># å°±æ˜¯è·¯å¾„å’Œä¸º targetSum çš„è·¯å¾„æ¡æ•°</span>        self<span class="token punctuation">.</span>res <span class="token operator">+=</span> self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>path_sum <span class="token operator">-</span> self<span class="token punctuation">.</span>target_sum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token comment"># è®°å½•ä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œè·¯å¾„å’Œä¸º pathSum çš„è·¯å¾„æ¡æ•°</span>        self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">[</span>self<span class="token punctuation">.</span>path_sum<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>path_sum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">[</span>self<span class="token punctuation">.</span>path_sum<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>preSumCount<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>path_sum<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>path_sum <span class="token operator">-=</span> root<span class="token punctuation">.</span>val<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-11"><a href="#å¯è§†åŒ–-11" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_path-sum-iii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_path-sum-iii" src="https://labuladong.online/algo-visualize/leetcode/path-sum-iii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/6eUYwP">å‰‘æŒ‡ Offer II 050. å‘ä¸‹çš„è·¯å¾„èŠ‚ç‚¹ä¹‹å’Œ ğŸŸ </a></li></ul><h2 id="513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"><a href="#513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼" class="headerlink" title="513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_find-bottom-left-tree-value">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/find-bottom-left-tree-value/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/find-bottom-left-tree-value/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ ¹èŠ‚ç‚¹</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œè¯·æ‰¾å‡ºè¯¥äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€åº•å±‚ æœ€å·¦è¾¹<span>&nbsp;</span></strong>èŠ‚ç‚¹çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å‡è®¾äºŒå‰æ ‘ä¸­è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2020/12/14/tree1.jpg" style="max-width: 100%; width: 182px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>root = [2,1,3]<strong style="font-weight: 600;">è¾“å‡º: </strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2020/12/14/tree2.jpg" style="max-width: 100%; width: 242px;"><strong style="font-weight: 600;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>[1,2,3,4,null,5,6,null,null,7]<strong style="font-weight: 600;">è¾“å‡º: </strong>7</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1,10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 2<sup>31</sup><span>&nbsp;</span>- 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-bottom-left-tree-value/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-14"><a href="#åŸºæœ¬æ€è·¯-14" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>äºŒå‰æ ‘é€’å½’æ¡†æ¶ä»£ç æ˜¯å…ˆé€’å½’å·¦å­æ ‘ï¼Œåé€’å½’å³å­æ ‘ï¼Œæ‰€ä»¥åˆ°æœ€å¤§æ·±åº¦æ—¶ç¬¬ä¸€æ¬¡é‡åˆ°çš„èŠ‚ç‚¹å°±æ˜¯å·¦ä¸‹è§’çš„èŠ‚ç‚¹ã€‚</p><p>å½“ç„¶ï¼Œè¿™é¢˜ä¹Ÿå¯ä»¥ç”¨ BFS å±‚åºéå†æ¥åšï¼Œç•™ç»™ä½ æ€è€ƒå§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -14"><a href="#è§£æ³•ä»£ç -14" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span>        self<span class="token punctuation">.</span>maxDepth <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®°å½• traverse é€’å½’éå†åˆ°çš„æ·±åº¦</span>        self<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">findBottomLeftValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>depth <span class="token operator">></span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">:</span>            <span class="token comment"># åˆ°æœ€å¤§æ·±åº¦æ—¶ç¬¬ä¸€æ¬¡é‡åˆ°çš„èŠ‚ç‚¹å°±æ˜¯å·¦ä¸‹è§’çš„èŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>maxDepth <span class="token operator">=</span> self<span class="token punctuation">.</span>depth            self<span class="token punctuation">.</span>res <span class="token operator">=</span> root        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">-=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-12"><a href="#å¯è§†åŒ–-12" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_find-bottom-left-tree-value" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_find-bottom-left-tree-value" src="https://labuladong.online/algo-visualize/leetcode/find-bottom-left-tree-value/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/LwUNpT">å‰‘æŒ‡ Offer II 045. äºŒå‰æ ‘æœ€åº•å±‚æœ€å·¦è¾¹çš„å€¼ ğŸŸ </a></li></ul><h2 id="1261-åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ "><a href="#1261-åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_find-elements-in-a-contaminated-binary-tree">1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ </a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ </strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/find-elements-in-a-contaminated-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/find-elements-in-a-contaminated-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºä¸€ä¸ªæ»¡è¶³ä¸‹è¿°è§„åˆ™çš„äºŒå‰æ ‘ï¼š</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root.val == 0</code></li><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.val == x</code><span>&nbsp;</span>ä¸”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.left != null</code>ï¼Œé‚£ä¹ˆ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.left.val == 2 * x + 1</code></li><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.val == x</code><span>&nbsp;</span>ä¸”<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.right != null</code>ï¼Œé‚£ä¹ˆ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.right.val == 2 * x + 2</code></li></ol><p style="line-height: 1.6; overflow-wrap: break-word;">ç°åœ¨è¿™ä¸ªäºŒå‰æ ‘å—åˆ°ã€Œæ±¡æŸ“ã€ï¼Œæ‰€æœ‰çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">treeNode.val</code>&nbsp;éƒ½å˜æˆäº†&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ å…ˆè¿˜åŸäºŒå‰æ ‘ï¼Œç„¶åå®ç°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FindElements</code>&nbsp;ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FindElements(TreeNode* root)</code>&nbsp;ç”¨å—æ±¡æŸ“çš„äºŒå‰æ ‘åˆå§‹åŒ–å¯¹è±¡ï¼Œä½ éœ€è¦å…ˆæŠŠå®ƒè¿˜åŸã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">bool find(int target)</code>&nbsp;åˆ¤æ–­ç›®æ ‡å€¼&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;æ˜¯å¦å­˜åœ¨äºè¿˜åŸåçš„äºŒå‰æ ‘ä¸­å¹¶è¿”å›ç»“æœã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/11/16/untitled-diagram-4-1.jpg" style="max-width: 100%; height: 119px; width: 320px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["FindElements","find","find"][[[-1,null,-1]],[1],[2]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null,false,true]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>FindElements findElements = new FindElements([-1,null,-1]); findElements.find(1); // return False findElements.find(2); // return True </pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/11/16/untitled-diagram-4.jpg" style="max-width: 100%; height: 198px; width: 400px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["FindElements","find","find","find"][[[-1,-1,-1,-1,-1]],[1],[3],[5]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null,true,true,false]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>FindElements findElements = new FindElements([-1,-1,-1,-1,-1]);findElements.find(1); // return TruefindElements.find(3); // return TruefindElements.find(5); // return False</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/11/16/untitled-diagram-4-1-1.jpg" style="max-width: 100%; height: 274px; width: 306px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["FindElements","find","find","find","find"][[[-1,null,-1,-1,null,-1]],[2],[3],[4],[5]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null,true,false,false,true]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>FindElements findElements = new FindElements([-1,null,-1,-1,null,-1]);findElements.find(2); // return TruefindElements.find(3); // return FalsefindElements.find(4); // return FalsefindElements.find(5); // return True</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">TreeNode.val == -1</code></li><li>äºŒå‰æ ‘çš„é«˜åº¦ä¸è¶…è¿‡&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">20</code></li><li>èŠ‚ç‚¹çš„æ€»æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1,&nbsp;10^4]</code>&nbsp;ä¹‹é—´</li><li>è°ƒç”¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">find()</code>&nbsp;çš„æ€»æ¬¡æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1,&nbsp;10^4]</code>&nbsp;ä¹‹é—´</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= target &lt;= 10^6</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-elements-in-a-contaminated-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ </a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-15"><a href="#åŸºæœ¬æ€è·¯-15" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>è¿˜åŸäºŒå‰æ ‘çš„æ—¶å€™åªéœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œé€šè¿‡å‡½æ•°å‚æ•°ä¼ é€’æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼›ç”±äºèŠ‚ç‚¹çš„ä¸ªæ•°è§„æ¨¡ä¸ç®—å¤§ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ª HashSet ç¼“å­˜æ‰€æœ‰èŠ‚ç‚¹å€¼ï¼Œå®ç° <code>find</code> å‡½æ•°çš„åŠŸèƒ½ã€‚</p><p>å½“ç„¶ï¼Œé¢˜ç›®ç»™çš„è¿™ç§äºŒå‰æ ‘èŠ‚ç‚¹çš„å–å€¼è§„å¾‹éå¸¸åƒç”¨æ•°ç»„å­˜å‚¨å®Œå…¨äºŒå‰æ ‘çš„åœºæ™¯ï¼Œæ‰€ä»¥ä½ åº”è¯¥å¯ä»¥é€šè¿‡ <code>target</code> æ¨ç®—å‡ºæ¥å®ƒåœ¨ç¬¬å‡ å±‚çš„ä»€ä¹ˆä½ç½®ï¼Œä¸è¿‡æˆ‘è¿™é‡Œå°±ä¸å®ç°äº†ï¼Œç±»ä¼¼çš„é¢˜ç›®ä½ å¯ä»¥å‚è€ƒ <a href="https://leetcode.cn/problems/path-in-zigzag-labelled-binary-tree">1104. äºŒå‰æ ‘å¯»è·¯</a> å’Œ <a href="https://leetcode.cn/problems/maximum-width-of-binary-tree">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</a>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -15"><a href="#è§£æ³•ä»£ç -15" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FindElements</span><span class="token punctuation">:</span>    <span class="token comment"># å¸®åŠ© find å‡½æ•°å¿«é€Ÿåˆ¤æ–­</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è¿˜åŸäºŒå‰æ ‘ä¸­çš„å€¼</span>        self<span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        root<span class="token punctuation">.</span>val <span class="token operator">=</span> val        self<span class="token punctuation">.</span>values<span class="token punctuation">.</span>add<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> val <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> val <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> target <span class="token keyword">in</span> self<span class="token punctuation">.</span>values<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="386-å­—å…¸åºæ’æ•°"><a href="#386-å­—å…¸åºæ’æ•°" class="headerlink" title="386. å­—å…¸åºæ’æ•°"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_lexicographical-numbers">386. å­—å…¸åºæ’æ•°</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">386. å­—å…¸åºæ’æ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/lexicographical-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/lexicographical-numbers/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼ŒæŒ‰å­—å…¸åºè¿”å›èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, n]</code><span>&nbsp;</span>å†…æ‰€æœ‰æ•´æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(n)</code><span>&nbsp;</span>ä¸”ä½¿ç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(1)</code><span>&nbsp;</span>é¢å¤–ç©ºé—´çš„ç®—æ³•ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 13<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,10,11,12,13,2,3,4,5,6,7,8,9]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 5 * 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/lexicographical-numbers/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 386. å­—å…¸åºæ’æ•°</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-16"><a href="#åŸºæœ¬æ€è·¯-16" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>è¿™ä¸ªé¢˜è¿˜æŒºæœ‰æ„æ€ï¼Œè¦ä¸æ˜¯å®ƒæŠŠè¿™é“é¢˜æ”¾åœ¨ DFS çš„é¢˜ç›®åˆ†ç±»é‡Œé¢ï¼Œå¯èƒ½è¿˜ä¸å¤ªå¥½å‘ç°è¿™æ˜¯ä¸€ä¸ª DFS çš„é¢˜ç›®ã€‚</p><p>æ—¢ç„¶é¢˜ç›®æç¤ºä½ è¿™æ˜¯ä¸ª DFS çš„é¢˜ç›®äº†ï¼Œä½ å¿ƒé‡Œé‚£æ£µé€’å½’æ ‘å‡ºæ¥æ²¡æœ‰ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œå»ºè®®å»çœ‹çœ‹å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">äºŒå‰æ ‘è§†è§’å­¦ä¹ é€’å½’æ€ç»´</a>ã€‚</p><p>å®ƒçš„é€’å½’æ ‘å¤§æ¦‚æ˜¯è¿™æ ·ç”Ÿé•¿çš„ï¼š</p><p>é¦–å…ˆçœ‹ 1 è¿™ä¸ªèŠ‚ç‚¹ï¼Œ1 å¯ä»¥ç”Ÿå‡ºäºŒä½æ•° 10, 11, 12â€¦</p><p>å…¶ä¸­ 10 åˆå¯ä»¥ç”Ÿå‡º 100, 101, 102â€¦ï¼Œ11 åˆå¯ä»¥ç”Ÿå‡º 110, 111, 112â€¦</p><p>è¿™æ£µå¤šå‰æ ‘æ˜¯ä¸æ˜¯å°±å‡ºæ¥äº†ï¼Ÿæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå¯ä»¥ç”Ÿå‡º 10 ä¸ªèŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªåå‰æ ‘ã€‚</p><p>è¿˜æ˜¯æƒ³ä¸å‡ºæ¥ï¼Ÿçœ‹å¯è§†åŒ–é¢æ¿ã€‚å®é™…çš„è§£æ³•ä»£ç éœ€è¦ä»¥ 1~9 åˆ†åˆ«ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç”» 9 æ£µå¤šå‰æ ‘ï¼Œ<strong>è¿™é‡Œä»…ä»…ä»¥ 1 ä¸ºæ ¹èŠ‚ç‚¹ç”»é€’å½’æ ‘ï¼Œæ–¹ä¾¿ä½ ç†è§£</strong>ï¼š</p><details data-v-ee1a9bd0="" id="div_lexicographical-numbers-example" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_lexicographical-numbers-example" src="https://labuladong.online/algo-visualize/tutorial/lexicographical-numbers-example/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æˆ‘ä»¬åªéœ€è¦ä»¥å‰åºé¡ºåºéå†è¿™æ£µå¤šå‰æ ‘ï¼Œæ”¶é›†æ‰€æœ‰å°äº <code>n</code> çš„èŠ‚ç‚¹ï¼Œå°±å¯ä»¥å¾—åˆ°é¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -16"><a href="#è§£æ³•ä»£ç -16" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">lexicalOrder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># æ€»å…±æœ‰ 9 æ£µå¤šå‰æ ‘ï¼Œä» 1 å¼€å§‹</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>i<span class="token punctuation">,</span> n<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å¤šå‰æ ‘éå†æ¡†æ¶ï¼Œå‰åºä½ç½®æ”¶é›†æ‰€æœ‰å°äº n çš„èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token operator">></span> n<span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">for</span> child <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>root <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span> root <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> child <span class="token operator">></span> n<span class="token punctuation">:</span>                <span class="token keyword">break</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>child<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1104-äºŒå‰æ ‘å¯»è·¯"><a href="#1104-äºŒå‰æ ‘å¯»è·¯" class="headerlink" title="1104. äºŒå‰æ ‘å¯»è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_path-in-zigzag-labelled-binary-tree">1104. äºŒå‰æ ‘å¯»è·¯</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1104. äºŒå‰æ ‘å¯»è·¯</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/path-in-zigzag-labelled-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/path-in-zigzag-labelled-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨ä¸€æ£µæ— é™çš„äºŒå‰æ ‘ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ ‘ä¸­çš„èŠ‚ç‚¹<span>&nbsp;</span><strong style="font-weight: 600;">é€è¡Œ</strong><span>&nbsp;</span>ä¾æ¬¡æŒ‰&nbsp;â€œä¹‹â€ å­—å½¢è¿›è¡Œæ ‡è®°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨å¥‡æ•°è¡Œï¼ˆå³ï¼Œç¬¬ä¸€è¡Œã€ç¬¬ä¸‰è¡Œã€ç¬¬äº”è¡Œâ€¦â€¦ï¼‰ä¸­ï¼ŒæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œæ ‡è®°ï¼›</p><p style="line-height: 1.6; overflow-wrap: break-word;">è€Œå¶æ•°è¡Œï¼ˆå³ï¼Œç¬¬äºŒè¡Œã€ç¬¬å››è¡Œã€ç¬¬å…­è¡Œâ€¦â€¦ï¼‰ä¸­ï¼ŒæŒ‰ä»å³åˆ°å·¦çš„é¡ºåºè¿›è¡Œæ ‡è®°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/06/28/tree.png" style="max-width: 100%; height: 138px; width: 300px;"></p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ æ ‘ä¸ŠæŸä¸€ä¸ªèŠ‚ç‚¹çš„æ ‡å·<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">label</code>ï¼Œè¯·ä½ è¿”å›ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥æ ‡å·ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">label</code><span>&nbsp;</span>èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„æ˜¯ç”±é€”ç»çš„èŠ‚ç‚¹æ ‡å·æ‰€ç»„æˆçš„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>label = 14<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,3,4,14]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>label = 26<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2,6,10,26]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= label &lt;= 10^6</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/path-in-zigzag-labelled-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1104. äºŒå‰æ ‘å¯»è·¯</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-17"><a href="#åŸºæœ¬æ€è·¯-17" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å¦‚æœä½ çœ‹è¿‡å‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/binary-heap-basic/">äºŒå‰å †ï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰åŸç†åŠå®ç°</a>ï¼Œå°±çŸ¥é“è¿™ç§å®Œå…¨äºŒå‰æ ‘å¯ä»¥é€šè¿‡ç´¢å¼•æ¥æ¨¡æ‹Ÿå·¦å³æŒ‡é’ˆä»¥åŠçˆ¶èŠ‚ç‚¹æŒ‡é’ˆã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå…ˆå‡è®¾å…¨éƒ½æ˜¯ä»å·¦åˆ°å³æ’åˆ—ï¼Œæ²¡æœ‰ä¹‹å­—å½¢æ’åˆ—çš„è¿™ä¸ªæ¡ä»¶ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1104.png" alt="img"></p><p>å¦‚æœæˆ‘æƒ³æ±‚åˆ°è¾¾æŸä¸€ä¸ª <code>label</code> èŠ‚ç‚¹çš„è·¯å¾„ï¼Œé‚£ä¹ˆæˆ‘ä¸€ç›´å¯¹ <code>label</code> é™¤ä»¥ 2 å°±è¡Œäº†ï¼ˆå¿½ç•¥ä½™æ•°ï¼‰ã€‚</p><p>ä½ æ¯”å¦‚æˆ‘æƒ³æ±‚åˆ°è¾¾ 13 çš„è·¯å¾„ï¼Œå°±æ˜¯ 13, 6, 3, 1ï¼Œç„¶ååè½¬ä¸€ä¸‹å°±è¡Œäº†ã€‚å¤§è‡´çš„ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>label <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    path<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span>    label <span class="token operator">=</span> label <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// åè½¬æˆä»æ ¹èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è·¯å¾„</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨è™½ç„¶æ˜¯ä¹‹å­—å½¢æ’åˆ—ï¼Œä½†ç¨åŠ ä¿®æ”¹å°±å¯ä»¥é€‚åº”è¿™ä¸ªå˜åŒ–ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/tree.png" alt="img"></p><p>13 çš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯ 6 äº†ï¼Œè€Œæ˜¯ 7 - (6 - 4) &#x3D; 5ã€‚</p><p>è¿™ä¸ª 7 å’Œ 4 æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿå°±æ˜¯ 6 è¿™ä¸€è¡Œçš„æœ€å°èŠ‚ç‚¹å€¼å’Œæœ€å¤§èŠ‚ç‚¹å€¼ï¼Œè€Œå¯¹äºå®Œå…¨äºŒå‰æ ‘ï¼Œæ¯ä¸€è¡Œçš„æœ€å¤§æœ€å°å€¼å¯ä»¥é€šè¿‡è®¡ç®— 2 çš„æŒ‡æ•°ç®—å‡ºæ¥çš„ã€‚</p><p>ç†è§£äº†ä¸Šè¿°æ€è·¯ï¼Œå°±èƒ½çœ‹æ‡‚è§£æ³•ä»£ç äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -17"><a href="#è§£æ³•ä»£ç -17" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> math<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">pathInZigZagTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> label <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>            path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>label<span class="token punctuation">)</span>            label <span class="token operator">=</span> label <span class="token operator">//</span> <span class="token number">2</span>            <span class="token keyword">if</span> label <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">break</span>            depth <span class="token operator">=</span> self<span class="token punctuation">.</span>log<span class="token punctuation">(</span>label<span class="token punctuation">)</span>            range_ <span class="token operator">=</span> self<span class="token punctuation">.</span>getLevelRange<span class="token punctuation">(</span>depth<span class="token punctuation">)</span>            <span class="token comment"># ç”±äºä¹‹å­—å½¢åˆ†å¸ƒï¼Œæ ¹æ®ä¸Šå±‚çš„èŠ‚ç‚¹å–å€¼èŒƒå›´ï¼Œä¿®æ­£çˆ¶èŠ‚ç‚¹</span>            label <span class="token operator">=</span> range_<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span>label <span class="token operator">-</span> range_<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token comment"># åè½¬æˆä»æ ¹èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„è·¯å¾„</span>        path<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> path    <span class="token comment"># è·å–ç¬¬ n å±‚èŠ‚ç‚¹çš„å–å€¼èŒƒå›´</span>    <span class="token keyword">def</span> <span class="token function">getLevelRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        p <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> n        <span class="token keyword">return</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>log<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-13"><a href="#å¯è§†åŒ–-13" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_path-in-zigzag-labelled-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_path-in-zigzag-labelled-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/path-in-zigzag-labelled-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/find-elements-in-a-contaminated-binary-tree">1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´  ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/maximum-width-of-binary-tree">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/path-sum-iv">666. è·¯å¾„æ€»å’Œ IV ğŸŸ </a></li></ul><h2 id="1145-äºŒå‰æ ‘ç€è‰²æ¸¸æˆ"><a href="#1145-äºŒå‰æ ‘ç€è‰²æ¸¸æˆ" class="headerlink" title="1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_binary-tree-coloring-game">1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-coloring-game/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-coloring-game/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰ä¸¤ä½æå®¢ç©å®¶å‚ä¸äº†ä¸€åœºã€ŒäºŒå‰æ ‘ç€è‰²ã€çš„æ¸¸æˆã€‚æ¸¸æˆä¸­ï¼Œç»™å‡ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œæ ‘ä¸Šæ€»å…±æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ï¼Œä¸”<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ºå¥‡æ•°ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„å€¼ä»&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;å„ä¸ç›¸åŒã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æœ€å¼€å§‹æ—¶ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ã€Œä¸€å·ã€ç©å®¶ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, n]</code>&nbsp;ä¸­å–ä¸€ä¸ªå€¼&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code>ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= x &lt;= n</code>ï¼‰ï¼›</li><li>ã€ŒäºŒå·ã€ç©å®¶ä¹Ÿä»&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, n]</code>&nbsp;ä¸­å–ä¸€ä¸ªå€¼&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code>ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= y &lt;= n</code>ï¼‰ä¸”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y != x</code>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">ã€Œä¸€å·ã€ç©å®¶ç»™å€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code>&nbsp;çš„èŠ‚ç‚¹æŸ“ä¸Šçº¢è‰²ï¼Œè€Œã€ŒäºŒå·ã€ç©å®¶ç»™å€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code>&nbsp;çš„èŠ‚ç‚¹æŸ“ä¸Šè“è‰²ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¹‹åä¸¤ä½ç©å®¶è½®æµè¿›è¡Œæ“ä½œï¼Œã€Œä¸€å·ã€ç©å®¶å…ˆæ‰‹ã€‚æ¯ä¸€å›åˆï¼Œç©å®¶é€‰æ‹©ä¸€ä¸ªè¢«ä»–æŸ“è¿‡è‰²çš„èŠ‚ç‚¹ï¼Œå°†æ‰€é€‰èŠ‚ç‚¹ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">æœªç€è‰²<span>&nbsp;</span></strong>çš„é‚»èŠ‚ç‚¹ï¼ˆå³å·¦å³å­èŠ‚ç‚¹ã€æˆ–çˆ¶èŠ‚ç‚¹ï¼‰è¿›è¡ŒæŸ“è‰²ï¼ˆã€Œä¸€å·ã€ç©å®¶æŸ“çº¢è‰²ï¼Œã€ŒäºŒå·ã€ç©å®¶æŸ“è“è‰²ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœï¼ˆä¸”ä»…åœ¨æ­¤ç§æƒ…å†µä¸‹ï¼‰å½“å‰ç©å®¶æ— æ³•æ‰¾åˆ°è¿™æ ·çš„èŠ‚ç‚¹æ¥æŸ“è‰²æ—¶ï¼Œå…¶å›åˆå°±ä¼šè¢«è·³è¿‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è‹¥ä¸¤ä¸ªç©å®¶éƒ½æ²¡æœ‰å¯ä»¥æŸ“è‰²çš„èŠ‚ç‚¹æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚ç€è‰²èŠ‚ç‚¹æœ€å¤šçš„é‚£ä½ç©å®¶è·å¾—èƒœåˆ© âœŒï¸ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç°åœ¨ï¼Œå‡è®¾ä½ æ˜¯ã€ŒäºŒå·ã€ç©å®¶ï¼Œæ ¹æ®æ‰€ç»™å‡ºçš„è¾“å…¥ï¼Œå‡å¦‚å­˜åœ¨ä¸€ä¸ª&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">y</code>&nbsp;å€¼å¯ä»¥ç¡®ä¿ä½ èµ¢å¾—è¿™åœºæ¸¸æˆï¼Œåˆ™è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›è‹¥æ— æ³•è·èƒœï¼Œå°±è¯·è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p>&nbsp;<p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1 ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/08/01/1480-binary-tree-coloring-game.png" style="max-width: 100%; width: 500px; height: 310px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6,7,8,9,10,11], n = 11, x = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¬¬äºŒä¸ªç©å®¶å¯ä»¥é€‰æ‹©å€¼ä¸º 2 çš„èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2 ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], n = 3, x = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= x &lt;= n &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>æ˜¯å¥‡æ•°</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= n</code></li><li>æ ‘ä¸­æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-coloring-game/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-18"><a href="#åŸºæœ¬æ€è·¯-18" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜çš„å…³é”®æ˜¯è¦è§‚å¯Ÿè§„å¾‹ï¼Œæ ¹æ®æ¸¸æˆè§„åˆ™ï¼Œå¯¹æ–¹å…ˆé€‰ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åï¼Œä½ çš„æœ€ä¼˜ç­–ç•¥å°±æ˜¯ç´§è´´ç€å¯¹æ–¹çš„é‚£ä¸ªèŠ‚ç‚¹é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ åº”è¯¥é€‰æ‹©èŠ‚ç‚¹ <code>x</code> çš„å·¦å³å­èŠ‚ç‚¹æˆ–è€…çˆ¶èŠ‚ç‚¹ã€‚</p><p>åšå‡ºä»¥ä¸Šä¸‰ç§é€‰æ‹©ï¼Œä½ å¯ä»¥å æ®äºŒå‰æ ‘çš„ä¸åŒéƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1145.png" alt="img"></p><p>ä½ å¦‚æœæƒ³èµ¢ï¼Œå¿…é¡»å æ®è¶…è¿‡ <code>n / 2</code> çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿™ä¸‰ä¸ªè“è‰²åŒºåŸŸä¸­èŠ‚ç‚¹æ•°æœ€å¤šçš„é‚£ä¸ªåŒºåŸŸä¸­çš„èŠ‚ç‚¹ä¸ªæ•°å¤§äº <code>n / 2</code>ï¼Œä½ èƒ½èµ¢ï¼Œå¦åˆ™ä½ å°±è¾“ã€‚</p><p>æ‰€ä»¥æœ¬é¢˜è½¬åŒ–ä¸ºè®¡ç®—äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°çš„ç®€å•é—®é¢˜ï¼Œå…·ä½“çœ‹ä»£ç é€»è¾‘ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -18"><a href="#è§£æ³•ä»£ç -18" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">btreeGameWinningMove</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        node <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">,</span> x<span class="token punctuation">)</span>        left_count <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right_count <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        other_count <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> left_count <span class="token operator">-</span> right_count        <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>left_count<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>right_count<span class="token punctuation">,</span> other_count<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> n <span class="token operator">//</span> <span class="token number">2</span>    <span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­æœç´¢å€¼ä¸º x çš„èŠ‚ç‚¹å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">find</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> x<span class="token punctuation">:</span>            <span class="token keyword">return</span> root        <span class="token comment"># å»å·¦å­æ ‘æ‰¾</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> x<span class="token punctuation">)</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> left        <span class="token comment"># å·¦å­æ ‘æ‰¾ä¸åˆ°çš„è¯å»å³å­æ ‘æ‰¾</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>find<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> x<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šè®¡ç®—ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘çš„èŠ‚ç‚¹æ€»æ•°</span>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-14"><a href="#å¯è§†åŒ–-14" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-coloring-game" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-coloring-game" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-coloring-game/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="2096-ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘"><a href="#2096-ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘" class="headerlink" title="2096. ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_step-by-step-directions-from-a-binary-tree-node-to-another">2096. ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">2096. ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/step-by-step-directions-from-a-binary-tree-node-to-another/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/step-by-step-directions-from-a-binary-tree-node-to-another/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µ<span>&nbsp;</span><strong style="font-weight: 600;">äºŒå‰æ ‘</strong>&nbsp;çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¿™æ£µäºŒå‰æ ‘æ€»å…±æœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä¸ªèŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä¸­çš„ä¸€ä¸ªæ•´æ•°ï¼Œä¸”äº’ä¸ç›¸åŒã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">startValue</code>&nbsp;ï¼Œè¡¨ç¤ºèµ·ç‚¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;çš„å€¼ï¼Œå’Œå¦ä¸€ä¸ªä¸åŒçš„æ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">destValue</code>&nbsp;ï¼Œè¡¨ç¤ºç»ˆç‚¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code>&nbsp;çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·æ‰¾åˆ°ä»èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;åˆ°èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code>&nbsp;çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€çŸ­è·¯å¾„</strong>&nbsp;ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›æ¯ä¸€æ­¥çš„æ–¹å‘ã€‚æ¯ä¸€æ­¥ç”¨<span>&nbsp;</span><strong style="font-weight: 600;">å¤§å†™</strong>&nbsp;å­—æ¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'L'</code>&nbsp;ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'R'</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'U'</code>&nbsp;åˆ†åˆ«è¡¨ç¤ºä¸€ç§æ–¹å‘ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'L'</code>&nbsp;è¡¨ç¤ºä»ä¸€ä¸ªèŠ‚ç‚¹å‰å¾€å®ƒçš„<span>&nbsp;</span><strong style="font-weight: 600;">å·¦å­©å­</strong>&nbsp;èŠ‚ç‚¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'R'</code>&nbsp;è¡¨ç¤ºä»ä¸€ä¸ªèŠ‚ç‚¹å‰å¾€å®ƒçš„<span>&nbsp;</span><strong style="font-weight: 600;">å³å­©å­</strong>&nbsp;èŠ‚ç‚¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'U'</code>&nbsp;è¡¨ç¤ºä»ä¸€ä¸ªèŠ‚ç‚¹å‰å¾€å®ƒçš„<span>&nbsp;</span><strong style="font-weight: 600;">çˆ¶</strong>&nbsp;èŠ‚ç‚¹ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code>&nbsp;<strong style="font-weight: 600;">æœ€çŸ­è·¯å¾„</strong>&nbsp;æ¯ä¸€æ­¥çš„æ–¹å‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/11/15/eg1.png" style="max-width: 100%; width: 214px; height: 163px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>root = [5,1,2,3,null,6,4], startValue = 3, destValue = 6<b>è¾“å‡ºï¼š</b>"UURL"<b>è§£é‡Šï¼š</b>æœ€çŸ­è·¯å¾„ä¸ºï¼š3 â†’ 1 â†’ 5 â†’ 2 â†’ 6 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/11/15/eg2.png" style="max-width: 100%; width: 74px; height: 102px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>root = [2,1], startValue = 2, destValue = 1<b>è¾“å‡ºï¼š</b>"L"<b>è§£é‡Šï¼š</b>æœ€çŸ­è·¯å¾„ä¸ºï¼š2 â†’ 1 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2 &lt;= n &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= n</code></li><li>æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong>&nbsp;ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= startValue, destValue &lt;= n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">startValue != destValue</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/step-by-step-directions-from-a-binary-tree-node-to-another/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 2096. ä»äºŒå‰æ ‘ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹æ¯ä¸€æ­¥çš„æ–¹å‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-19"><a href="#åŸºæœ¬æ€è·¯-19" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>è¿™é¢˜çš„æ€è·¯æ¯”è¾ƒå·§å¦™ï¼Œä¸»è¦åˆ†ä¸‰æ­¥ï¼š</p><p>1ã€åˆ†åˆ«è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ° <code>startValue</code> å’Œ <code>destValue</code> çš„è·¯å¾„ <code>startPath</code> å’Œ <code>destPath</code>ã€‚</p><p>2ã€ç„¶åå»é™¤ <code>startPath</code> å’Œ <code>destPath</code> çš„å…¬å…±å‰ç¼€ã€‚</p><p>3ã€æœ€åå°† <code>startPath</code> å…¨éƒ¨å˜æˆ <code>U</code>ï¼ŒæŠŠ <code>startPath</code> å’Œ <code>destPath</code> æ¥åœ¨ä¸€èµ·ï¼Œå°±æ˜¯é¢˜ç›®è¦æ±‚çš„è·¯å¾„äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -19"><a href="#è§£æ³•ä»£ç -19" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">getDirections</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> startValue<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> destValue<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>startValue <span class="token operator">=</span> startValue        self<span class="token punctuation">.</span>destValue <span class="token operator">=</span> destValue        <span class="token comment"># å¯»æ‰¾èµ°åˆ° startValue å’Œ destValue çš„æ–¹å‘è·¯å¾„</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># å»é™¤ä¸¤ä¸ªæ–¹å‘è·¯å¾„çš„å…¬å…±å‰ç¼€</span>        p <span class="token operator">=</span> <span class="token number">0</span>        m <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>startPath<span class="token punctuation">)</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>destPath<span class="token punctuation">)</span>        <span class="token keyword">while</span> p <span class="token operator">&lt;</span> m <span class="token keyword">and</span> p <span class="token operator">&lt;</span> n <span class="token keyword">and</span> self<span class="token punctuation">.</span>startPath<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>destPath<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">:</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>startPath <span class="token operator">=</span> self<span class="token punctuation">.</span>startPath<span class="token punctuation">[</span>p<span class="token punctuation">:</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>destPath <span class="token operator">=</span> self<span class="token punctuation">.</span>destPath<span class="token punctuation">[</span>p<span class="token punctuation">:</span><span class="token punctuation">]</span>        <span class="token comment"># å°†èµ°å‘ startValue çš„æ–¹å‘è·¯å¾„å…¨éƒ¨å˜æˆ U</span>        self<span class="token punctuation">.</span>startPath <span class="token operator">=</span> <span class="token string">'U'</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>startPath<span class="token punctuation">)</span>        <span class="token comment"># ç»„åˆ startPath å’Œ destPath å°±å¾—åˆ°äº†ç­”æ¡ˆ</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>startPath <span class="token operator">+</span> self<span class="token punctuation">.</span>destPath    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token string">''</span>        self<span class="token punctuation">.</span>startPath <span class="token operator">=</span> <span class="token string">''</span>        self<span class="token punctuation">.</span>destPath <span class="token operator">=</span> <span class="token string">''</span>        self<span class="token punctuation">.</span>startValue <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>destValue <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> self<span class="token punctuation">.</span>startValue<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>startPath <span class="token operator">=</span> self<span class="token punctuation">.</span>path        <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> self<span class="token punctuation">.</span>destValue<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>destPath <span class="token operator">=</span> self<span class="token punctuation">.</span>path        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>path <span class="token operator">+=</span> <span class="token string">'L'</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>path <span class="token operator">+=</span> <span class="token string">'R'</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-15"><a href="#å¯è§†åŒ–-15" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_step-by-step-directions-from-a-binary-tree-node-to-another" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_step-by-step-directions-from-a-binary-tree-node-to-another" src="https://labuladong.online/algo-visualize/leetcode/step-by-step-directions-from-a-binary-tree-node-to-another/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>Tip</p><p>é¢˜ç›®ä¹Ÿå¯ä»¥è®©ä½ åœ¨äºŒå‰æ ‘ä¸­å¯»æ‰¾æŸæ£µå­æ ‘ï¼Œè¿™ç§æƒ…å†µä¸‹ä¼šåœ¨é€’å½’å‡½æ•°ä¸­è°ƒç”¨å…¶ä»–é€’å½’å‡½æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šä¸Šå‡åˆ°å¹³æ–¹çº§åˆ«ï¼Œä½†ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆ«çš„åŠæ³•ä¼˜åŒ–ï¼Œåªèƒ½é€šè¿‡éå†æ¥å¯¹æ¯”å­æ ‘ã€‚</p><h2 id="572-å¦ä¸€æ£µæ ‘çš„å­æ ‘"><a href="#572-å¦ä¸€æ£µæ ‘çš„å­æ ‘" class="headerlink" title="572. å¦ä¸€æ£µæ ‘çš„å­æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_subtree-of-another-tree">572. å¦ä¸€æ£µæ ‘çš„å­æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">572. å¦ä¸€æ£µæ ‘çš„å­æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/subtree-of-another-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/subtree-of-another-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subRoot</code><span>&nbsp;</span>ã€‚æ£€éªŒ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ä¸­æ˜¯å¦åŒ…å«å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subRoot</code><span>&nbsp;</span>å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">äºŒå‰æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tree</code><span>&nbsp;</span>çš„ä¸€æ£µå­æ ‘åŒ…æ‹¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tree</code><span>&nbsp;</span>çš„æŸä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹ã€‚<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tree</code><span>&nbsp;</span>ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/04/28/subtree1-tree.jpg" style="max-width: 100%; width: 532px; height: 400px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,4,5,1,2], subRoot = [4,1,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/04/28/subtree2-tree.jpg" style="max-width: 100%; width: 502px; height: 458px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,4,5,1,2,null,null,null,null,0], subRoot = [4,1,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>æ ‘ä¸Šçš„èŠ‚ç‚¹æ•°é‡èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2000]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subRoot</code><span>&nbsp;</span>æ ‘ä¸Šçš„èŠ‚ç‚¹æ•°é‡èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= root.val &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= subRoot.val &lt;= 10<sup>4</sup></code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/subtree-of-another-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 572. å¦ä¸€æ£µæ ‘çš„å­æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-20"><a href="#åŸºæœ¬æ€è·¯-20" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-7">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>éå†ä»¥ <code>root</code> ä¸ºæ ¹çš„è¿™æ£µäºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç”¨ <a href="https://leetcode.cn/problems/same-tree">100. ç›¸åŒçš„æ ‘</a> ä¸­çš„ <code>isSame</code> å‡½æ•°åˆ¤æ–­ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘æ˜¯å¦å’Œä»¥ <code>subRoot</code> ä¸ºæ ¹çš„é‚£æ£µæ ‘ç›¸åŒã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isSubtree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> subRoot<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> subRoot <span class="token keyword">is</span> <span class="token boolean">None</span>        <span class="token comment"># åˆ¤æ–­ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘æ˜¯å¦å’Œ subRoot ç›¸åŒ</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isSameTree<span class="token punctuation">(</span>root<span class="token punctuation">,</span> subRoot<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token comment"># å»å·¦å³å­æ ‘ä¸­åˆ¤æ–­æ˜¯å¦æœ‰å’Œ subRoot ç›¸åŒçš„å­æ ‘</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSubtree<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> subRoot<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>isSubtree<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> subRoot<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isSameTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> q<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ¤æ–­ä¸€å¯¹èŠ‚ç‚¹æ˜¯å¦ç›¸åŒ</span>        <span class="token keyword">if</span> p <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> q <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">if</span> p <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> q <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">if</span> p<span class="token punctuation">.</span>val <span class="token operator">!=</span> q<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># åˆ¤æ–­å…¶ä»–èŠ‚ç‚¹æ˜¯å¦ç›¸åŒ</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSameTree<span class="token punctuation">(</span>p<span class="token punctuation">.</span>left<span class="token punctuation">,</span> q<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>isSameTree<span class="token punctuation">(</span>p<span class="token punctuation">.</span>right<span class="token punctuation">,</span> q<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-16"><a href="#å¯è§†åŒ–-16" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_subtree-of-another-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_subtree-of-another-tree" src="https://labuladong.online/algo-visualize/leetcode/subtree-of-another-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1367-äºŒå‰æ ‘ä¸­çš„åˆ—è¡¨"><a href="#1367-äºŒå‰æ ‘ä¸­çš„åˆ—è¡¨" class="headerlink" title="1367. äºŒå‰æ ‘ä¸­çš„åˆ—è¡¨"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#slug_linked-list-in-binary-tree">1367. äºŒå‰æ ‘ä¸­çš„åˆ—è¡¨</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1367. äºŒå‰æ ‘ä¸­çš„é“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/linked-list-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/linked-list-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µä»¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ä¸ºæ ¹çš„äºŒå‰æ ‘å’Œä¸€ä¸ª&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code>&nbsp;ä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœåœ¨äºŒå‰æ ‘ä¸­ï¼Œå­˜åœ¨ä¸€æ¡ä¸€ç›´å‘ä¸‹çš„è·¯å¾„ï¼Œä¸”æ¯ä¸ªç‚¹çš„æ•°å€¼æ°å¥½ä¸€ä¸€å¯¹åº”ä»¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code>&nbsp;ä¸ºé¦–çš„é“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œé‚£ä¹ˆè¯·ä½ è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">True</code><span>&nbsp;</span>ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">False</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ç›´å‘ä¸‹çš„è·¯å¾„çš„æ„æ€æ˜¯ï¼šä»æ ‘ä¸­æŸä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´è¿ç»­å‘ä¸‹çš„è·¯å¾„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/02/29/sample_1_1720.png" style="max-width: 100%; height: 280px; width: 220px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [4,2,8], root = [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ‘ä¸­è“è‰²çš„èŠ‚ç‚¹æ„æˆäº†ä¸é“¾è¡¨å¯¹åº”çš„å­è·¯å¾„ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/02/29/sample_2_1720.png" style="max-width: 100%; height: 280px; width: 220px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,4,2,6], root = [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,4,2,6,8], root = [1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>äºŒå‰æ ‘ä¸­ä¸å­˜åœ¨ä¸€ä¸€å¯¹åº”é“¾è¡¨çš„è·¯å¾„ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘å’Œé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ»¡è¶³&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= node.val&nbsp;&lt;= 100</code>&nbsp;ã€‚</li><li>é“¾è¡¨åŒ…å«çš„èŠ‚ç‚¹æ•°ç›®åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code>&nbsp;ä¹‹é—´ã€‚</li><li>äºŒå‰æ ‘åŒ…å«çš„èŠ‚ç‚¹æ•°ç›®åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2500</code>&nbsp;ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/linked-list-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1367. äºŒå‰æ ‘ä¸­çš„é“¾è¡¨</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-21"><a href="#åŸºæœ¬æ€è·¯-21" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-8">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>æœ¬è´¨ä¸Šï¼Œ<code>isSubPath</code> å°±æ˜¯åœ¨éå†äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹ç”¨ <code>check</code> å‡½æ•°åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿå°†é“¾è¡¨åµŒè¿›å»ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œéå†ã€æ€ç»´è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -20"><a href="#è§£æ³•ä»£ç -20" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-8">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isSubPath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># å½“æ‰¾åˆ°ä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼ç­‰äºé“¾è¡¨å¤´ç»“ç‚¹æ—¶</span>        <span class="token keyword">if</span> head<span class="token punctuation">.</span>val <span class="token operator">==</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token comment"># åˆ¤æ–­æ˜¯å¦èƒ½æŠŠé“¾è¡¨åµŒè¿›å»</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>head<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token comment"># ç»§ç»­å»éå†å…¶ä»–èŠ‚ç‚¹å°è¯•åµŒå…¥é“¾è¡¨</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSubPath<span class="token punctuation">(</span>head<span class="token punctuation">,</span> root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>isSubPath<span class="token punctuation">(</span>head<span class="token punctuation">,</span> root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># æ£€æŸ¥æ˜¯å¦èƒ½å¤Ÿå°†é“¾è¡¨åµŒå…¥äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">if</span> head<span class="token punctuation">.</span>val <span class="token operator">==</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token comment"># åœ¨å­æ ‘ä¸ŠåµŒå…¥å­é“¾è¡¨</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-17"><a href="#å¯è§†åŒ–-17" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-traverse-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-6">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_linked-list-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_linked-list-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/linked-list-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h1 id="ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜-I"><a href="#ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜-I" class="headerlink" title="ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I"></a>ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</h1><h2 id="105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_construct-binary-tree-from-preorder-and-inorder-traversal">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code><span>&nbsp;</span>æ˜¯äºŒå‰æ ‘çš„<strong style="font-weight: 600;">å…ˆåºéå†</strong>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;æ˜¯åŒä¸€æ£µæ ‘çš„<strong style="font-weight: 600;">ä¸­åºéå†</strong>ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/tree.jpg" style="max-width: 100%; height: 302px; width: 277px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong><strong style="font-weight: 600;">:</strong> preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]<strong style="font-weight: 600;">è¾“å‡º:</strong> [3,9,20,null,null,15,7]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> preorder = [-1], inorder = [-1]<strong style="font-weight: 600;">è¾“å‡º:</strong> [-1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder.length &lt;= 3000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder.length == preorder.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-3000 &lt;= preorder[i], inorder[i] &lt;= 3000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;å‡<span>&nbsp;</span><strong style="font-weight: 600;">æ— é‡å¤</strong><span>&nbsp;</span>å…ƒç´ </li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;å‡å‡ºç°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;<strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>ä¸ºäºŒå‰æ ‘çš„å‰åºéå†åºåˆ—</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;<strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>ä¸ºäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-22"><a href="#åŸºæœ¬æ€è·¯-22" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p><strong>æ„é€ äºŒå‰æ ‘ï¼Œç¬¬ä¸€ä»¶äº‹ä¸€å®šæ˜¯æ‰¾æ ¹èŠ‚ç‚¹ï¼Œç„¶åæƒ³åŠæ³•æ„é€ å·¦å³å­æ ‘</strong>ã€‚</p><p>äºŒå‰æ ‘çš„å‰åºå’Œä¸­åºéå†ç»“æœçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1.jpeg" alt="img"></p><p>å‰åºéå†ç»“æœç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åå†æ ¹æ®ä¸­åºéå†ç»“æœç¡®å®šå·¦å³å­æ ‘çš„èŠ‚ç‚¹ã€‚</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/4.jpeg" alt="img"></p><p>ç»“åˆè¿™ä¸ªå›¾çœ‹ä»£ç è¾…åŠ©ç†è§£ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a></li><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -21"><a href="#è§£æ³•ä»£ç -21" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å­˜å‚¨ inorder ä¸­å€¼åˆ°ç´¢å¼•çš„æ˜ å°„</span>    valToIndex <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">,</span> inorder<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>valToIndex<span class="token punctuation">[</span>inorder<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>                          inorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># build å‡½æ•°çš„å®šä¹‰ï¼š</span>    <span class="token comment"># è‹¥å‰åºéå†æ•°ç»„ä¸º preorder[preStart..preEnd]ï¼Œ</span>    <span class="token comment"># ä¸­åºéå†æ•°ç»„ä¸º inorder[inStart..inEnd]ï¼Œ</span>    <span class="token comment"># æ„é€ äºŒå‰æ ‘ï¼Œè¿”å›è¯¥äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">,</span> preStart<span class="token punctuation">,</span> preEnd<span class="token punctuation">,</span>               inorder<span class="token punctuation">,</span> inStart<span class="token punctuation">,</span> inEnd<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> preStart <span class="token operator">></span> preEnd<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># root èŠ‚ç‚¹å¯¹åº”çš„å€¼å°±æ˜¯å‰åºéå†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>        rootVal <span class="token operator">=</span> preorder<span class="token punctuation">[</span>preStart<span class="token punctuation">]</span>        <span class="token comment"># rootVal åœ¨ä¸­åºéå†æ•°ç»„ä¸­çš„ç´¢å¼•</span>        index <span class="token operator">=</span> self<span class="token punctuation">.</span>valToIndex<span class="token punctuation">[</span>rootVal<span class="token punctuation">]</span>        leftSize <span class="token operator">=</span> index <span class="token operator">-</span> inStart        <span class="token comment"># å…ˆæ„é€ å‡ºå½“å‰æ ¹èŠ‚ç‚¹</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>rootVal<span class="token punctuation">)</span>         <span class="token comment"># é€’å½’æ„é€ å·¦å³å­æ ‘</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> preStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preStart <span class="token operator">+</span> leftSize<span class="token punctuation">,</span>                               inorder<span class="token punctuation">,</span> inStart<span class="token punctuation">,</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> preStart <span class="token operator">+</span> leftSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preEnd<span class="token punctuation">,</span>                                inorder<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> inEnd<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/maximum-binary-tree">654. æœ€å¤§äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/zhong-jian-er-cha-shu-lcof">å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘ ğŸŸ </a></li></ul><h2 id="106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_construct-binary-tree-from-inorder-and-postorder-traversal">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code><span>&nbsp;</span>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code><span>&nbsp;</span>æ˜¯äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code><span>&nbsp;</span>æ˜¯åŒä¸€æ£µæ ‘çš„ååºéå†ï¼Œè¯·ä½ æ„é€ å¹¶è¿”å›è¿™é¢—&nbsp;<em>äºŒå‰æ ‘</em>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/tree.jpg" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>inorder = [9,3,15,20,7], postorder = [9,15,7,20,3]<b>è¾“å‡ºï¼š</b>[3,9,20,null,null,15,7]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>inorder = [-1], postorder = [-1]<b>è¾“å‡ºï¼š</b>[-1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= inorder.length &lt;= 3000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder.length == inorder.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-3000 &lt;= inorder[i], postorder[i] &lt;= 3000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code>&nbsp;éƒ½ç”±<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong><span>&nbsp;</span>çš„å€¼ç»„æˆ</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code>&nbsp;ä¸­æ¯ä¸€ä¸ªå€¼éƒ½åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;ä¸­</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">inorder</code>&nbsp;<strong style="font-weight: 600;">ä¿è¯</strong>æ˜¯æ ‘çš„ä¸­åºéå†</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code>&nbsp;<strong style="font-weight: 600;">ä¿è¯</strong>æ˜¯æ ‘çš„ååºéå†</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-23"><a href="#åŸºæœ¬æ€è·¯-23" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p><strong>æ„é€ äºŒå‰æ ‘ï¼Œç¬¬ä¸€ä»¶äº‹ä¸€å®šæ˜¯æ‰¾æ ¹èŠ‚ç‚¹ï¼Œç„¶åæƒ³åŠæ³•æ„é€ å·¦å³å­æ ‘</strong>ã€‚</p><p>äºŒå‰æ ‘çš„ååºå’Œä¸­åºéå†ç»“æœçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/5.jpeg" alt="img"></p><p>ååºéå†ç»“æœæœ€åä¸€ä¸ªå°±æ˜¯æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åå†æ ¹æ®ä¸­åºéå†ç»“æœç¡®å®šå·¦å³å­æ ‘çš„èŠ‚ç‚¹ã€‚</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/6.jpeg" alt="img"></p><p>ç»“åˆè¿™ä¸ªå›¾çœ‹ä»£ç è¾…åŠ©ç†è§£ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a></li><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -22"><a href="#è§£æ³•ä»£ç -22" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å­˜å‚¨ inorder ä¸­å€¼åˆ°ç´¢å¼•çš„æ˜ å°„</span>    val_to_index <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> inorder<span class="token punctuation">,</span> postorder<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>val_to_index<span class="token punctuation">[</span>inorder<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>inorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>inorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>                          postorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>postorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šä¸­åºéå†æ•°ç»„ä¸º inorder[inStart..inEnd]ï¼Œ</span>    <span class="token comment"># ååºéå†æ•°ç»„ä¸º postorder[postStart..postEnd]ï¼Œ</span>    <span class="token comment"># build å‡½æ•°æ„é€ è¿™ä¸ªäºŒå‰æ ‘å¹¶è¿”å›è¯¥äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> inorder<span class="token punctuation">,</span> in_start<span class="token punctuation">,</span> in_end<span class="token punctuation">,</span>              postorder<span class="token punctuation">,</span> post_start<span class="token punctuation">,</span> post_end<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> in_start <span class="token operator">></span> in_end<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># root èŠ‚ç‚¹å¯¹åº”çš„å€¼å°±æ˜¯ååºéå†æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ </span>        root_val <span class="token operator">=</span> postorder<span class="token punctuation">[</span>post_end<span class="token punctuation">]</span>        <span class="token comment"># rootVal åœ¨ä¸­åºéå†æ•°ç»„ä¸­çš„ç´¢å¼•</span>        index <span class="token operator">=</span> self<span class="token punctuation">.</span>val_to_index<span class="token punctuation">[</span>root_val<span class="token punctuation">]</span>        <span class="token comment"># å·¦å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</span>        left_size <span class="token operator">=</span> index <span class="token operator">-</span> in_start        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>root_val<span class="token punctuation">)</span>         <span class="token comment"># é€’å½’æ„é€ å·¦å³å­æ ‘</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>inorder<span class="token punctuation">,</span> in_start<span class="token punctuation">,</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>                               postorder<span class="token punctuation">,</span> post_start<span class="token punctuation">,</span> post_start <span class="token operator">+</span> left_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>                root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>inorder<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> in_end<span class="token punctuation">,</span>                                postorder<span class="token punctuation">,</span> post_start <span class="token operator">+</span> left_size<span class="token punctuation">,</span> post_end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-18"><a href="#å¯è§†åŒ–-18" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_construct-binary-tree-from-inorder-and-postorder-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_construct-binary-tree-from-inorder-and-postorder-traversal" src="https://labuladong.online/algo-visualize/leetcode/construct-binary-tree-from-inorder-and-postorder-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/maximum-binary-tree">654. æœ€å¤§äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li></ul><h2 id="889-æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘"><a href="#889-æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘" class="headerlink" title="889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_construct-binary-tree-from-preorder-and-postorder-traversal">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-postorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code><span>&nbsp;</span>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code><span>&nbsp;</span>æ˜¯ä¸€ä¸ªå…·æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">æ— é‡å¤</strong><span>&nbsp;</span>å€¼çš„äºŒå‰æ ‘çš„å‰åºéå†ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code><span>&nbsp;</span>æ˜¯åŒä¸€æ£µæ ‘çš„ååºéå†ï¼Œé‡æ„å¹¶è¿”å›äºŒå‰æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œæ‚¨å¯ä»¥è¿”å›å…¶ä¸­<span>&nbsp;</span><strong style="font-weight: 600;">ä»»ä½•</strong><span>&nbsp;</span>ä¸€ä¸ªã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/07/24/lc-prepost.jpg" style="max-width: 100%; height: 265px; width: 304px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>preorder = [1,2,4,5,3,6,7], postorder = [4,5,2,6,7,3,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2,3,4,5,6,7]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> preorder = [1], postorder = [1]<strong style="font-weight: 600;">è¾“å‡º:</strong> [1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder.length &lt;= 30</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder[i] &lt;= preorder.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;ä¸­æ‰€æœ‰å€¼éƒ½<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder.length == preorder.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= postorder[i] &lt;= postorder.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code>&nbsp;ä¸­æ‰€æœ‰å€¼éƒ½<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong></li><li>ä¿è¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">postorder</code>&nbsp;æ˜¯åŒä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†å’Œååºéå†</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-24"><a href="#åŸºæœ¬æ€è·¯-24" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>åšè¿™é“é¢˜ä¹‹å‰ï¼Œå»ºè®®ä½ å…ˆçœ‹ä¸€ä¸‹ <a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a>ï¼Œåšä¸€ä¸‹ <a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆä¸­ç­‰ï¼‰</a> å’Œ <a href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ï¼ˆä¸­ç­‰ï¼‰</a> è¿™ä¸¤é“é¢˜ã€‚</p><p>è¿™é“é¢˜è®©ç”¨ååºéå†å’Œå‰åºéå†ç»“æœè¿˜åŸäºŒå‰æ ‘ï¼Œå’Œå‰ä¸¤é“é¢˜æœ‰ä¸€ä¸ªæœ¬è´¨çš„åŒºåˆ«ï¼š</p><p><strong>é€šè¿‡å‰åºä¸­åºï¼Œæˆ–è€…ååºä¸­åºéå†ç»“æœå¯ä»¥ç¡®å®šä¸€æ£µåŸå§‹äºŒå‰æ ‘ï¼Œä½†æ˜¯é€šè¿‡å‰åºååºéå†ç»“æœæ— æ³•ç¡®å®šåŸå§‹äºŒå‰æ ‘</strong>ã€‚é¢˜ç›®ä¹Ÿè¯´äº†ï¼Œå¦‚æœæœ‰å¤šç§ç»“æœï¼Œä½ å¯ä»¥è¿”å›ä»»æ„ä¸€ç§ã€‚</p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬è¯´è¿‡ï¼Œæ„å»ºäºŒå‰æ ‘çš„å¥—è·¯å¾ˆç®€å•ï¼Œå…ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ‰¾åˆ°å¹¶é€’å½’æ„é€ å·¦å³å­æ ‘å³å¯ã€‚</p><p>å‰ä¸¤é“é¢˜ï¼Œå¯ä»¥é€šè¿‡å‰åºæˆ–è€…ååºéå†ç»“æœæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ ¹æ®ä¸­åºéå†ç»“æœç¡®å®šå·¦å³å­æ ‘ã€‚</p><p>è¿™é“é¢˜ï¼Œä½ å¯ä»¥ç¡®å®šæ ¹èŠ‚ç‚¹ï¼Œä½†æ˜¯æ— æ³•ç¡®åˆ‡çš„çŸ¥é“å·¦å³å­æ ‘æœ‰å“ªäº›èŠ‚ç‚¹ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢è¿™ä¸¤æ£µæ ‘ç»“æ„ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬çš„å‰åºéå†å’Œååºéå†ç»“æœæ˜¯ç›¸åŒçš„ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/7.png" alt="img"></p><p>ä¸è¿‡è¯è¯´å›æ¥ï¼Œç”¨ååºéå†å’Œå‰åºéå†ç»“æœè¿˜åŸäºŒå‰æ ‘ï¼Œè§£æ³•é€»è¾‘ä¸Šå’Œå‰ä¸¤é“é¢˜å·®åˆ«ä¸å¤§ï¼Œä¹Ÿæ˜¯é€šè¿‡æ§åˆ¶å·¦å³å­æ ‘çš„ç´¢å¼•æ¥æ„å»ºï¼š</p><p><strong>1ã€é¦–å…ˆæŠŠå‰åºéå†ç»“æœçš„ç¬¬ä¸€ä¸ªå…ƒç´ æˆ–è€…ååºéå†ç»“æœçš„æœ€åä¸€ä¸ªå…ƒç´ ç¡®å®šä¸ºæ ¹èŠ‚ç‚¹çš„å€¼</strong>ã€‚</p><p><strong>2ã€ç„¶åæŠŠå‰åºéå†ç»“æœçš„ç¬¬äºŒä¸ªå…ƒç´ ä½œä¸ºå·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹çš„å€¼</strong>ã€‚</p><p><strong>3ã€åœ¨ååºéå†ç»“æœä¸­å¯»æ‰¾å·¦å­æ ‘æ ¹èŠ‚ç‚¹çš„å€¼ï¼Œä»è€Œç¡®å®šäº†å·¦å­æ ‘çš„ç´¢å¼•è¾¹ç•Œï¼Œè¿›è€Œç¡®å®šå³å­æ ‘çš„ç´¢å¼•è¾¹ç•Œï¼Œé€’å½’æ„é€ å·¦å³å­æ ‘å³å¯</strong>ã€‚</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/8.jpeg" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a></li><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -23"><a href="#è§£æ³•ä»£ç -23" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å­˜å‚¨ postorder ä¸­å€¼åˆ°ç´¢å¼•çš„æ˜ å°„</span>    valToIndex <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">constructFromPrePost</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">,</span> postorder<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>postorder<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>valToIndex<span class="token punctuation">[</span>postorder<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>                          postorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>postorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šæ ¹æ® preorder[preStart..preEnd] å’Œ postorder[postStart..postEnd]</span>    <span class="token comment"># æ„å»ºäºŒå‰æ ‘ï¼Œå¹¶è¿”å›æ ¹èŠ‚ç‚¹ã€‚</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">,</span> preStart<span class="token punctuation">,</span> preEnd<span class="token punctuation">,</span>              postorder<span class="token punctuation">,</span> postStart<span class="token punctuation">,</span> postEnd<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> preStart <span class="token operator">></span> preEnd<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> preStart <span class="token operator">==</span> preEnd<span class="token punctuation">:</span>            <span class="token keyword">return</span> TreeNode<span class="token punctuation">(</span>preorder<span class="token punctuation">[</span>preStart<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># root èŠ‚ç‚¹å¯¹åº”çš„å€¼å°±æ˜¯å‰åºéå†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>        rootVal <span class="token operator">=</span> preorder<span class="token punctuation">[</span>preStart<span class="token punctuation">]</span>        <span class="token comment"># root.left çš„å€¼æ˜¯å‰åºéå†ç¬¬äºŒä¸ªå…ƒç´ </span>        <span class="token comment"># é€šè¿‡å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘çš„å…³é”®åœ¨äºé€šè¿‡å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹</span>        <span class="token comment"># ç¡®å®š preorder å’Œ postorder ä¸­å·¦å³å­æ ‘çš„å…ƒç´ åŒºé—´</span>        leftRootVal <span class="token operator">=</span> preorder<span class="token punctuation">[</span>preStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>        <span class="token comment"># leftRootVal åœ¨ååºéå†æ•°ç»„ä¸­çš„ç´¢å¼•</span>        index <span class="token operator">=</span> self<span class="token punctuation">.</span>valToIndex<span class="token punctuation">[</span>leftRootVal<span class="token punctuation">]</span>        <span class="token comment"># å·¦å­æ ‘çš„å…ƒç´ ä¸ªæ•°</span>        leftSize <span class="token operator">=</span> index <span class="token operator">-</span> postStart <span class="token operator">+</span> <span class="token number">1</span>             <span class="token comment"># å…ˆæ„é€ å‡ºå½“å‰æ ¹èŠ‚ç‚¹</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>rootVal<span class="token punctuation">)</span>         <span class="token comment"># é€’å½’æ„é€ å·¦å³å­æ ‘</span>        <span class="token comment"># æ ¹æ®å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ç´¢å¼•å’Œå…ƒç´ ä¸ªæ•°æ¨å¯¼å·¦å³å­æ ‘çš„ç´¢å¼•è¾¹ç•Œ</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> preStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preStart <span class="token operator">+</span> leftSize<span class="token punctuation">,</span>                               postorder<span class="token punctuation">,</span> postStart<span class="token punctuation">,</span> index<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> preStart <span class="token operator">+</span> leftSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preEnd<span class="token punctuation">,</span>                                postorder<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> postEnd <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-19"><a href="#å¯è§†åŒ–-19" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_construct-binary-tree-from-preorder-and-postorder-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_construct-binary-tree-from-preorder-and-postorder-traversal" src="https://labuladong.online/algo-visualize/leetcode/construct-binary-tree-from-preorder-and-postorder-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/maximum-binary-tree">654. æœ€å¤§äºŒå‰æ ‘ ğŸŸ </a></li></ul><h2 id="331-éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–"><a href="#331-éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–" class="headerlink" title="331. éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_verify-preorder-serialization-of-a-binary-tree">331. éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">331. éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/verify-preorder-serialization-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/verify-preorder-serialization-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åºåˆ—åŒ–äºŒå‰æ ‘çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<span>&nbsp;</span><strong style="font-weight: 600;">å‰åºéå†<span>&nbsp;</span></strong>ã€‚å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªéç©ºèŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®°å½•ä¸‹è¿™ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ ‡è®°å€¼è®°å½•ï¼Œä¾‹å¦‚<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">#</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/03/12/pre-tree.jpg" style="max-width: 100%;"></p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¾‹å¦‚ï¼Œä¸Šé¢çš„äºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"9,3,4,#,#,1,#,#,2,#,6,#,#"</code>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">#</code><span>&nbsp;</span>ä»£è¡¨ä¸€ä¸ªç©ºèŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸²ä»¥é€—å·åˆ†éš”çš„åºåˆ—ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯æ­£ç¡®çš„äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–ã€‚ç¼–å†™ä¸€ä¸ªåœ¨ä¸é‡æ„æ ‘çš„æ¡ä»¶ä¸‹çš„å¯è¡Œç®—æ³•ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>æ¯ä¸ªä»¥é€—å·åˆ†éš”çš„å­—ç¬¦æˆ–ä¸ºä¸€ä¸ªæ•´æ•°æˆ–ä¸ºä¸€ä¸ªè¡¨ç¤º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">null</code><span>&nbsp;</span>æŒ‡é’ˆçš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'#'</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥æ ¼å¼æ€»æ˜¯æœ‰æ•ˆçš„</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚å®ƒæ°¸è¿œä¸ä¼šåŒ…å«ä¸¤ä¸ªè¿ç»­çš„é€—å·ï¼Œæ¯”å¦‚&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"1,,3"</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong>ä¸å…è®¸é‡å»ºæ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>preorder = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">"9,3,4,#,#,1,#,#,2,#,6,#,#"</code><strong style="font-weight: 600;">è¾“å‡º: </strong><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">true</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>preorder = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">"1,#"</code><strong style="font-weight: 600;">è¾“å‡º: </strong><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">false</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>preorder = <code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">"9,#,#,1"</code><strong style="font-weight: 600;">è¾“å‡º: </strong><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; padding: 0px; border-radius: 0px;">false</code></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code>&nbsp;ç”±ä»¥é€—å·&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">â€œï¼Œâ€</code><span>&nbsp;</span>åˆ†éš”çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,100]</code><span>&nbsp;</span>èŒƒå›´å†…çš„æ•´æ•°å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">â€œ#â€</code><span>&nbsp;</span>ç»„æˆ</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/verify-preorder-serialization-of-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 331. éªŒè¯äºŒå‰æ ‘çš„å‰åºåºåˆ—åŒ–</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-25"><a href="#åŸºæœ¬æ€è·¯-25" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>é¦–å…ˆï¼Œå¦‚æœçœ‹è¿‡å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/">æ‰‹æŠŠæ‰‹å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆåºåˆ—åŒ–ç¯‡ï¼‰</a> ç†è§£äº†å‰åºéå†åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åŸç†ï¼Œè‚¯å®šå¯ä»¥é€šè¿‡æ”¹é€ ååºåˆ—åŒ–å‡½æ•° <code>deserialize</code> æ¥åˆ¤æ–­åºåˆ—åŒ–çš„åˆæ³•æ€§ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸€ç§æ›´å·§å¦™çš„è§£æ³•ï¼Œå°±æ˜¯åˆ©ç”¨äºŒå‰æ ‘èŠ‚ç‚¹å’Œè¾¹çš„å…³ç³»ã€‚</p><p>æ¯ä¸ªéç©ºçš„äºŒå‰æ ‘èŠ‚ç‚¹éƒ½ä¼šäº§ç”Ÿä¸¤æ¡è¾¹ï¼Œå¹¶æ¶ˆè€—ä¸€æ¡è¾¹ï¼›è€Œæ¯ä¸ªç©ºèŠ‚ç‚¹åªä¼šæ¶ˆè€—ä¸€æ¡è¾¹ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/331.jpeg" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -24"><a href="#è§£æ³•ä»£ç -24" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isValidSerialization</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸€æ¡æŒ‡å‘æ ¹èŠ‚ç‚¹çš„è™šæ‹Ÿè¾¹</span>        edge <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">for</span> node <span class="token keyword">in</span> preorder<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># ä»»ä½•æ—¶å€™ï¼Œè¾¹æ•°éƒ½ä¸èƒ½å°äº 0</span>            <span class="token keyword">if</span> node <span class="token operator">==</span> <span class="token string">"#"</span><span class="token punctuation">:</span>                <span class="token comment"># ç©ºæŒ‡é’ˆæ¶ˆè€—ä¸€æ¡ç©ºé—²è¾¹</span>                edge <span class="token operator">-=</span> <span class="token number">1</span>                <span class="token keyword">if</span> edge <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>                    <span class="token keyword">return</span> <span class="token boolean">False</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># éç©ºèŠ‚ç‚¹æ¶ˆè€—ä¸€æ¡ç©ºé—²è¾¹ï¼Œå¢åŠ ä¸¤æ¡ç©ºé—²è¾¹</span>                edge <span class="token operator">-=</span> <span class="token number">1</span>                <span class="token keyword">if</span> edge <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>                    <span class="token keyword">return</span> <span class="token boolean">False</span>                edge <span class="token operator">+=</span> <span class="token number">2</span>        <span class="token comment"># æœ€åä¸åº”è¯¥å­˜åœ¨ç©ºé—²è¾¹</span>        <span class="token keyword">return</span> edge <span class="token operator">==</span> <span class="token number">0</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isValidSerialization</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># å°†å­—ç¬¦ä¸²è½¬åŒ–æˆåˆ—è¡¨</span>        nodes <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>preorder<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>    <span class="token comment"># æ”¹é€ åçš„å‰åºéå†ååºåˆ—åŒ–å‡½æ•°</span>    <span class="token comment"># è¯¦ç»†è§£æï¼šhttps://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nodes<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> nodes<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># ***** å‰åºéå†ä½ç½® *****</span>        <span class="token comment"># åˆ—è¡¨æœ€å·¦ä¾§å°±æ˜¯æ ¹èŠ‚ç‚¹</span>        first <span class="token operator">=</span> nodes<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> first <span class="token operator">==</span> <span class="token string">"#"</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token comment"># *********************</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-20"><a href="#å¯è§†åŒ–-20" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_verify-preorder-serialization-of-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_verify-preorder-serialization-of-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/verify-preorder-serialization-of-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="894-æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘"><a href="#894-æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘" class="headerlink" title="894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_all-possible-full-binary-trees">894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">894. æ‰€æœ‰å¯èƒ½çš„çœŸäºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/all-possible-full-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/all-possible-full-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å¯èƒ½å«<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹çš„<span>&nbsp;</span><strong style="font-weight: 600;">çœŸäºŒå‰æ ‘</strong><span>&nbsp;</span>ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ç­”æ¡ˆä¸­æ¯æ£µæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å¿…é¡»ç¬¦åˆ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val == 0</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç­”æ¡ˆçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€æ£µçœŸäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ä½ å¯ä»¥æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„é¡ºåº</strong><span>&nbsp;</span>è¿”å›æœ€ç»ˆçš„çœŸäºŒå‰æ ‘åˆ—è¡¨<strong style="font-weight: 600;">ã€‚</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">çœŸäºŒå‰æ ‘</strong><span>&nbsp;</span>æ˜¯ä¸€ç±»äºŒå‰æ ‘ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹æ°å¥½æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>ä¸ªå­èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/08/22/fivetrees.png" style="max-width: 100%; width: 700px; height: 400px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 7<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[0,0,0,null,null,0,0,null,null,0,0],[0,0,0,null,null,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,null,null,null,null,0,0],[0,0,0,0,0,null,null,0,0]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[0,0,0]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 20</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/all-possible-full-binary-trees/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 894. æ‰€æœ‰å¯èƒ½çš„çœŸäºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-26"><a href="#åŸºæœ¬æ€è·¯-26" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>æ³¨æ„ï¼šå›½å¤–å’Œå›½å†…å…³äºå®Œå…¨äºŒå‰æ ‘ã€æ»¡äºŒå‰æ ‘çš„å®šä¹‰æœ‰åŒºåˆ«ï¼Œæˆ‘åœ¨ <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘åŸºç¡€çŸ¥è¯†</a> æœ‰ä»‹ç»ã€‚ä¸è¿‡è¿™äº›æ–‡å­¦è¯æ±‡å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ç®—æ³•æ€ç»´ï¼Œæ‰€ä»¥æˆ‘ä»¬æŒ‰ç…§é¢˜ç›®è¯´çš„æ¥å°±å¥½ã€‚</p><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>å¦‚æœä½ æƒ³ç”Ÿæˆä¸€æ£µ <code>n</code> ä¸ªèŠ‚ç‚¹çš„æ»¡äºŒå‰æ ‘ï¼Œé¦–å…ˆè¦å›ºå®šæ ¹èŠ‚ç‚¹ï¼Œç„¶åç»„è£…å·¦å³å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹åŠ ä¸Šå·¦å³å­æ ‘èŠ‚ç‚¹ä¹‹å’Œåº”è¯¥ç­‰äº <code>n</code>ã€‚</p><p>æˆ‘ä»¬å®šä¹‰ <code>helper</code> èƒ½å¤Ÿç”ŸæˆèŠ‚ç‚¹æ•°ä¸º <code>n</code> çš„æ‰€æœ‰å¯èƒ½çš„äºŒå‰æ ‘ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªå®šä¹‰ç”Ÿæˆå·¦å³å­æ ‘ï¼Œç„¶åé€šè¿‡å­æ ‘ç»„è£…å‡ºç»“æœå³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -25"><a href="#è§£æ³•ä»£ç -25" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å¤‡å¿˜å½•ï¼Œè®°å½• n ä¸ªèŠ‚ç‚¹èƒ½å¤Ÿç»„åˆæˆçš„æ‰€æœ‰å¯èƒ½äºŒå‰æ ‘</span>    memo <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">allPossibleFBT</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># é¢˜ç›®æè¿°çš„æ»¡äºŒå‰æ ‘ä¸å¯èƒ½æ˜¯å¶æ•°ä¸ªèŠ‚ç‚¹</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>memo <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>TreeNode<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>n<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ª nï¼Œç”ŸæˆèŠ‚ç‚¹æ ‘ä¸º n çš„æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token keyword">in</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">:</span>            <span class="token comment"># é¿å…å†—ä½™è®¡ç®—</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span>TreeNode<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token comment"># é€’å½’ç”Ÿæˆæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å·¦å³å­æ ‘</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            j <span class="token operator">=</span> n <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span>            <span class="token comment"># åˆ©ç”¨å‡½æ•°å®šä¹‰ï¼Œç”Ÿæˆå·¦å³å­æ ‘</span>            leftSubTrees <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>i<span class="token punctuation">)</span>            rightSubTrees <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>j<span class="token punctuation">)</span>            <span class="token comment"># å·¦å³å­æ ‘çš„ä¸åŒæ’åˆ—ä¹Ÿèƒ½æ„æˆä¸åŒçš„äºŒå‰æ ‘</span>            <span class="token keyword">for</span> left <span class="token keyword">in</span> leftSubTrees<span class="token punctuation">:</span>                <span class="token keyword">for</span> right <span class="token keyword">in</span> rightSubTrees<span class="token punctuation">:</span>                    <span class="token comment"># ç”Ÿæˆæ ¹èŠ‚ç‚¹</span>                    root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                    <span class="token comment"># ç»„è£…å‡ºä¸€ç§å¯èƒ½çš„äºŒå‰æ ‘å½¢çŠ¶</span>                    root<span class="token punctuation">.</span>left <span class="token operator">=</span> left                    root<span class="token punctuation">.</span>right <span class="token operator">=</span> right                    <span class="token comment"># åŠ å…¥ç»“æœåˆ—è¡¨</span>                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># å­˜å…¥å¤‡å¿˜å½•</span>        self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> res        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-21"><a href="#å¯è§†åŒ–-21" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_all-possible-full-binary-trees" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_all-possible-full-binary-trees" src="https://labuladong.online/algo-visualize/leetcode/all-possible-full-binary-trees/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="998-æœ€å¤§äºŒå‰æ ‘-II"><a href="#998-æœ€å¤§äºŒå‰æ ‘-II" class="headerlink" title="998. æœ€å¤§äºŒå‰æ ‘ II"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_maximum-binary-tree-ii">998. æœ€å¤§äºŒå‰æ ‘ II</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">998. æœ€å¤§äºŒå‰æ ‘ II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-binary-tree-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-binary-tree-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æœ€å¤§æ ‘</strong><span>&nbsp;</span>å®šä¹‰ï¼šä¸€æ£µæ ‘ï¼Œå¹¶æ»¡è¶³ï¼šå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºå…¶å­æ ‘ä¸­çš„ä»»ä½•å…¶ä»–å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ æœ€å¤§æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å°±åƒ<span>&nbsp;</span><a href="https://leetcode.cn/problems/maximum-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">ä¹‹å‰çš„é—®é¢˜</a><span>&nbsp;</span>é‚£æ ·ï¼Œç»™å®šçš„æ ‘æ˜¯åˆ©ç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Construct(a)</code>&nbsp;ä¾‹ç¨‹ä»åˆ—è¡¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a</code>ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root = Construct(a)</code>ï¼‰é€’å½’åœ°æ„å»ºçš„ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a</code><span>&nbsp;</span>ä¸ºç©ºï¼Œè¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">null</code><span>&nbsp;</span>ã€‚</li><li>å¦åˆ™ï¼Œä»¤&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a[i]</code><span>&nbsp;</span>ä½œä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a</code><span>&nbsp;</span>çš„æœ€å¤§å…ƒç´ ã€‚åˆ›å»ºä¸€ä¸ªå€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a[i]</code>&nbsp;çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„å·¦å­æ ‘å°†è¢«æ„å»ºä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Construct([a[0], a[1], ..., a[i - 1]])</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„å³å­æ ‘å°†è¢«æ„å»ºä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Construct([a[i + 1], a[i + 2], ..., a[a.length - 1]])</code><span>&nbsp;</span>ã€‚</li><li>è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·æ³¨æ„ï¼Œé¢˜ç›®æ²¡æœ‰ç›´æ¥ç»™å‡º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a</code><span>&nbsp;</span>ï¼Œåªæ˜¯ç»™å‡ºä¸€ä¸ªæ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root = Construct(a)</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å‡è®¾<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">b</code><span>&nbsp;</span>æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">a</code><span>&nbsp;</span>çš„å‰¯æœ¬ï¼Œå¹¶åœ¨æœ«å°¾é™„åŠ å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code>ã€‚é¢˜ç›®æ•°æ®ä¿è¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">b</code><span>&nbsp;</span>ä¸­çš„å€¼äº’ä¸ç›¸åŒã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Construct(b)</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-1-1.png" style="max-width: 100%; height: 160px; width: 159px;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-1-2.png" style="max-width: 100%; height: 160px; width: 169px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,1,3,null,null,2], val = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,4,null,1,3,null,null,2]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>a = [1,4,2,3], b = [1,4,2,3,5]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-2-1.png" style="max-width: 100%; height: 160px; width: 180px;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-2-2.png" style="max-width: 100%; height: 160px; width: 214px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,2,4,null,1], val = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,2,4,null,1,null,3]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>a = [2,1,5,4], b = [2,1,5,4,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š<br><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-3-1.png" style="max-width: 100%; height: 160px; width: 180px;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/02/23/maximum-binary-tree-3-2.png" style="max-width: 100%; height: 160px; width: 201px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,2,3,null,1], val = 4<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,2,4,null,1,3]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>a = [2,1,5,3], b = [2,1,5,3,4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 100</code></li><li>æ ‘ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-binary-tree-ii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 998. æœ€å¤§äºŒå‰æ ‘ II</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-27"><a href="#åŸºæœ¬æ€è·¯-27" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>åšè¿™é“é¢˜ä¹‹å‰ï¼Œä½ ä¸€å®šè¦å»åšä¸€ä¸‹ <a href="https://leetcode.cn/problems/maximum-binary-tree">654. æœ€å¤§äºŒå‰æ ‘</a> è¿™é“é¢˜ï¼ŒçŸ¥é“äº†æ„å»ºæœ€å¤§äºŒå‰æ ‘çš„é€»è¾‘å°±å¾ˆå®¹æ˜“è§£å†³è¿™é“é¢˜äº†ã€‚</p><p>æ–°å¢çš„ <code>val</code> æ˜¯æ·»åŠ åœ¨åŸå§‹æ•°ç»„çš„æœ€åçš„ï¼Œæ ¹æ®æ„å»ºæœ€å¤§äºŒå‰æ ‘çš„é€»è¾‘ï¼Œæ­£å¸¸æ¥è¯´æœ€åçš„è¿™ä¸ªå€¼ä¸€å®šæ˜¯åœ¨å³å­æ ‘çš„ï¼Œå¯ä»¥å¯¹å³å­æ ‘é€’å½’è°ƒç”¨ <code>insertIntoMaxTree</code> æ’å…¥è¿›å»ã€‚</p><p>ä½†æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µæ˜¯ <code>val</code> æ¯”åŸå§‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å¤§ï¼Œé‚£ä¹ˆæ ¹æ®æ„å»ºæœ€å¤§äºŒå‰æ ‘çš„é€»è¾‘ï¼ŒåŸæ¥çš„è¿™æ£µæ ‘åº”è¯¥æˆä¸º <code>val</code> èŠ‚ç‚¹çš„å·¦å­æ ‘ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -26"><a href="#è§£æ³•ä»£ç -26" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">insertIntoMaxTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> TreeNode<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> val<span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœ val æ˜¯æ•´æ£µæ ‘æœ€å¤§çš„ï¼Œé‚£ä¹ˆåŸæ¥çš„è¿™æ£µæ ‘åº”è¯¥æ˜¯ val èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œ</span>            <span class="token comment"># å› ä¸º val èŠ‚ç‚¹æ˜¯æ¥åœ¨åŸå§‹æ•°ç»„ a çš„æœ€åä¸€ä¸ªå…ƒç´ </span>            temp <span class="token operator">=</span> root            root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>val<span class="token punctuation">)</span>            root<span class="token punctuation">.</span>left <span class="token operator">=</span> temp        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœ val ä¸æ˜¯æœ€å¤§çš„ï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨å³å­æ ‘ä¸Šï¼Œ</span>            <span class="token comment"># å› ä¸º val èŠ‚ç‚¹æ˜¯æ¥åœ¨åŸå§‹æ•°ç»„ a çš„æœ€åä¸€ä¸ªå…ƒç´ </span>            root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>insertIntoMaxTree<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-22"><a href="#å¯è§†åŒ–-22" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-binary-tree-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-binary-tree-ii" src="https://labuladong.online/algo-visualize/leetcode/maximum-binary-tree-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1110-åˆ ç‚¹æˆæ—"><a href="#1110-åˆ ç‚¹æˆæ—" class="headerlink" title="1110. åˆ ç‚¹æˆæ—"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#slug_delete-nodes-and-return-forest">1110. åˆ ç‚¹æˆæ—</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1110. åˆ ç‚¹æˆæ—</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/delete-nodes-and-return-forest/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/delete-nodes-and-return-forest/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœèŠ‚ç‚¹å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to_delete</code>&nbsp;ä¸­å‡ºç°ï¼Œæˆ‘ä»¬å°±æŠŠè¯¥èŠ‚ç‚¹ä»æ ‘ä¸Šåˆ å»ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªæ£®æ—ï¼ˆä¸€äº›ä¸ç›¸äº¤çš„æ ‘æ„æˆçš„é›†åˆï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›æ£®æ—ä¸­çš„æ¯æ£µæ ‘ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºç»„ç»‡ç­”æ¡ˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/07/05/screen-shot-2019-07-01-at-53836-pm.png" style="max-width: 100%; height: 150px; width: 237px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6,7], to_delete = [3,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1,2,null,4],[6],[7]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,4,null,3], to_delete = [3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1,2,4]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°æœ€å¤§ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code>ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä»‹äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code>&nbsp;ä¹‹é—´çš„å€¼ï¼Œä¸”å„ä¸ç›¸åŒã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to_delete.length &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to_delete</code><span>&nbsp;</span>åŒ…å«ä¸€äº›ä»&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code>ã€å„ä¸ç›¸åŒçš„å€¼ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/delete-nodes-and-return-forest/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1110. åˆ ç‚¹æˆæ—</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-28"><a href="#åŸºæœ¬æ€è·¯-28" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>é¦–å…ˆï¼Œå¦‚æœåœ¨é€’å½’è¿‡ç¨‹ä¸­ä¿®æ”¹äºŒå‰æ ‘ç»“æ„ï¼Œå¿…é¡»è¦è®©çˆ¶èŠ‚ç‚¹æ¥æ”¶é€’å½’å‡½æ•°çš„è¿”å›å€¼ï¼Œå› ä¸ºå­æ ‘ä¸ç®¡åˆ æˆå•¥æ ·ï¼Œéƒ½è¦æ¥åˆ°çˆ¶èŠ‚ç‚¹ä¸Šã€‚</p><p>è€Œä¸”ï¼Œ<a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´äº†å¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°ä¼ é€’çˆ¶èŠ‚ç‚¹ä¼ é€’çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å‰åºä½ç½®åˆ¤æ–­æ˜¯å¦å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„æ ¹èŠ‚ç‚¹ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -27"><a href="#è§£æ³•ä»£ç -27" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>delSet <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># è®°å½•æ£®æ—çš„æ ¹èŠ‚ç‚¹</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">delNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> to_delete<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> d <span class="token keyword">in</span> to_delete<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>delSet<span class="token punctuation">.</span>add<span class="token punctuation">(</span>d<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>doDelete<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œåˆ é™¤ delSet ä¸­çš„èŠ‚ç‚¹ï¼Œè¿”å›åˆ é™¤å®Œæˆåçš„æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">doDelete</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> hasParent<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># åˆ¤æ–­æ˜¯å¦éœ€è¦è¢«åˆ é™¤</span>        deleted <span class="token operator">=</span> root<span class="token punctuation">.</span>val <span class="token keyword">in</span> self<span class="token punctuation">.</span>delSet        <span class="token keyword">if</span> <span class="token keyword">not</span> deleted <span class="token keyword">and</span> <span class="token keyword">not</span> hasParent<span class="token punctuation">:</span>            <span class="token comment"># æ²¡æœ‰çˆ¶èŠ‚ç‚¹ä¸”ä¸éœ€è¦è¢«åˆ é™¤ï¼Œå°±æ˜¯ä¸€ä¸ªæ–°çš„æ ¹èŠ‚ç‚¹</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># å»å·¦å³å­æ ‘è¿›è¡Œåˆ é™¤</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>doDelete<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token keyword">not</span> deleted<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>doDelete<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token keyword">not</span> deleted<span class="token punctuation">)</span>        <span class="token comment"># å¦‚æœéœ€è¦è¢«åˆ é™¤ï¼Œè¿”å› null ç»™çˆ¶èŠ‚ç‚¹</span>        <span class="token keyword">return</span> <span class="token boolean">None</span> <span class="token keyword">if</span> deleted <span class="token keyword">else</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-23"><a href="#å¯è§†åŒ–-23" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_delete-nodes-and-return-forest" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_delete-nodes-and-return-forest" src="https://labuladong.online/algo-visualize/leetcode/delete-nodes-and-return-forest/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="æŠ€å·§ä¸€"><a href="#æŠ€å·§ä¸€" class="headerlink" title="æŠ€å·§ä¸€"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E6%8A%80%E5%B7%A7%E4%B8%80">æŠ€å·§ä¸€</a></h2><p>ç±»ä¼¼äºåˆ¤æ–­é•œåƒäºŒå‰æ ‘ã€ç¿»è½¬äºŒå‰æ ‘çš„é—®é¢˜ï¼Œä¸€èˆ¬ä¹Ÿå¯ä»¥ç”¨åˆ†è§£é—®é¢˜çš„æ€è·¯ï¼Œæ— éå°±æ˜¯æŠŠæ•´æ£µæ ‘çš„é—®é¢˜ï¼ˆåŸé—®é¢˜ï¼‰åˆ†è§£æˆå­æ ‘ä¹‹é—´çš„é—®é¢˜ï¼ˆå­é—®é¢˜ï¼‰ã€‚</p><h2 id="100-ç›¸åŒçš„æ ‘"><a href="#100-ç›¸åŒçš„æ ‘" class="headerlink" title="100. ç›¸åŒçš„æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#slug_same-tree">100. ç›¸åŒçš„æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">100. ç›¸åŒçš„æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/same-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/same-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">p</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">q</code><span>&nbsp;</span>ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸¤æ£µæ ‘æ˜¯å¦ç›¸åŒã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/12/20/ex1.jpg" style="max-width: 100%; width: 622px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>p = [1,2,3], q = [1,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/12/20/ex2.jpg" style="max-width: 100%; width: 382px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>p = [1,2], q = [1,null,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/12/20/ex3.jpg" style="max-width: 100%; width: 622px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>p = [1,2,1], q = [1,1,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¸¤æ£µæ ‘ä¸Šçš„èŠ‚ç‚¹æ•°ç›®éƒ½åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 100]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/same-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 100. ç›¸åŒçš„æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-29"><a href="#åŸºæœ¬æ€è·¯-29" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>åˆ¤æ–­ä¸¤æ£µæ ‘æ˜¯å¦ç›¸åŒï¼Œå¯ä»¥åˆ†è§£ä¸ºåˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦ç›¸åŒï¼Œç„¶ååˆ¤æ–­å·¦å³å­æ ‘çš„èŠ‚ç‚¹æ˜¯å¦éƒ½ç›¸åŒã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -28"><a href="#è§£æ³•ä»£ç -28" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè¿”å›ä»¥å®ƒä»¬ä¸ºæ ¹çš„ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦ç›¸åŒ</span>    <span class="token keyword">def</span> <span class="token function">isSameTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> q<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ¤æ–­ä¸€å¯¹èŠ‚ç‚¹æ˜¯å¦ç›¸åŒ</span>        <span class="token keyword">if</span> p <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> q <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">if</span> p <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> q <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">if</span> p<span class="token punctuation">.</span>val <span class="token operator">!=</span> q<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># åˆ¤æ–­å…¶ä»–èŠ‚ç‚¹æ˜¯å¦ç›¸åŒ</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>isSameTree<span class="token punctuation">(</span>p<span class="token punctuation">.</span>left<span class="token punctuation">,</span> q<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>isSameTree<span class="token punctuation">(</span>p<span class="token punctuation">.</span>right<span class="token punctuation">,</span> q<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-24"><a href="#å¯è§†åŒ–-24" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_same-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_same-tree" src="https://labuladong.online/algo-visualize/leetcode/same-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/subtree-of-another-tree">572. å¦ä¸€æ£µæ ‘çš„å­æ ‘ ğŸŸ¢</a></li></ul><h2 id="101-å¯¹ç§°äºŒå‰æ ‘"><a href="#101-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="101. å¯¹ç§°äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#slug_symmetric-tree">101. å¯¹ç§°äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">101. å¯¹ç§°äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/symmetric-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/symmetric-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œ æ£€æŸ¥å®ƒæ˜¯å¦è½´å¯¹ç§°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/1698026966-JDYPDU-image.png" style="max-width: 100%; width: 354px; height: 291px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,2,3,4,4,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/1698027008-nPFLbM-image.png" style="max-width: 100%; width: 308px; height: 258px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,2,null,3,null,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/symmetric-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 101. å¯¹ç§°äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-30"><a href="#åŸºæœ¬æ€è·¯-30" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>è¿™é“é¢˜æœ‰ç‚¹åƒ <a href="https://leetcode.cn/problems/same-tree">100.ç›¸åŒçš„æ ‘</a>ï¼Œä½ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ä¸¤é“é¢˜çš„ä»£ç ï¼Œ<strong>åªä¸è¿‡æœ¬é¢˜ä¸æ˜¯è®©ä½ æ¯”è¾ƒä¸¤æ£µæ ‘æ˜¯å¦ç›¸åŒï¼Œè€Œæ˜¯è®©ä½ æ¯”è¾ƒä¸¤æ£µå­æ ‘æ˜¯å¦å¯¹ç§°</strong>ã€‚</p><p>é‚£ä¹ˆåˆ†è§£é—®é¢˜çš„æ€è·¯å°±å¾ˆæ˜æ˜¾äº†ï¼Œåˆ¤æ–­ä¸¤æ£µæ ‘æ˜¯å¦é•œåƒå¯¹ç§°ï¼Œåªè¦åˆ¤æ–­ä¸¤æ£µå­æ ‘éƒ½æ˜¯é•œåƒå¯¹ç§°çš„å°±è¡Œäº†ã€‚</p><p>å¦‚æœç”¨è¿­ä»£çš„æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ BFS å±‚åºéå†ï¼ŒæŠŠæ¯ä¸€å±‚çš„èŠ‚ç‚¹æ±‚å‡ºæ¥ï¼Œç„¶åç”¨å·¦å³åŒæŒ‡é’ˆåˆ¤æ–­æ¯ä¸€å±‚æ˜¯å¦æ˜¯å¯¹ç§°çš„ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -29"><a href="#è§£æ³•ä»£ç -29" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isSymmetric</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token comment"># æ£€æŸ¥ä¸¤æ£µå­æ ‘æ˜¯å¦å¯¹ç§°</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šåˆ¤æ–­è¾“å…¥çš„ä¸¤æ£µæ ‘æ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„</span>    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> left<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> right<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> left <span class="token operator">==</span> right        <span class="token comment"># ä¸¤ä¸ªæ ¹èŠ‚ç‚¹éœ€è¦ç›¸åŒ</span>        <span class="token keyword">if</span> left<span class="token punctuation">.</span>val <span class="token operator">!=</span> right<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># å·¦å³å­æ ‘ä¹Ÿéœ€è¦é•œåƒå¯¹ç§°</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>left<span class="token punctuation">.</span>right<span class="token punctuation">,</span> right<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>check<span class="token punctuation">(</span>left<span class="token punctuation">.</span>left<span class="token punctuation">,</span> right<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-25"><a href="#å¯è§†åŒ–-25" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_symmetric-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_symmetric-tree" src="https://labuladong.online/algo-visualize/leetcode/symmetric-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/dui-cheng-de-er-cha-shu-lcof">å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘ ğŸŸ¢</a></li></ul><h2 id="951-ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘"><a href="#951-ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘" class="headerlink" title="951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#slug_flip-equivalent-binary-trees">951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/flip-equivalent-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/flip-equivalent-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">æˆ‘ä»¬å¯ä»¥ä¸ºäºŒå‰æ ‘<span>&nbsp;</span><strong style="font-weight: 600;">T</strong><span>&nbsp;</span>å®šä¹‰ä¸€ä¸ª&nbsp;<strong style="font-weight: 600;">ç¿»è½¬æ“ä½œ&nbsp;</strong>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šé€‰æ‹©ä»»æ„èŠ‚ç‚¹ï¼Œç„¶åäº¤æ¢å®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åªè¦ç»è¿‡ä¸€å®šæ¬¡æ•°çš„ç¿»è½¬æ“ä½œåï¼Œèƒ½ä½¿<span>&nbsp;</span><strong style="font-weight: 600;">X</strong><span>&nbsp;</span>ç­‰äº<span>&nbsp;</span><strong style="font-weight: 600;">Y</strong>ï¼Œæˆ‘ä»¬å°±ç§°äºŒå‰æ ‘<span>&nbsp;</span><strong style="font-weight: 600;">X</strong><span>&nbsp;</span><em>ç¿»è½¬ ç­‰ä»·&nbsp;</em>äºäºŒå‰æ ‘<span>&nbsp;</span><strong style="font-weight: 600;">Y</strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿™äº›æ ‘ç”±æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root2</code>&nbsp;ç»™å‡ºã€‚å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘æ˜¯å¦æ˜¯<em>ç¿»è½¬ ç­‰ä»·&nbsp;</em>çš„å‡½æ•°ï¼Œåˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="Flipped Trees Diagram" src="https://labuladong.online/algo/images/lc/uploads/2018/11/29/tree_ex.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [1,2,3,4,5,6,null,null,null,7,8], root2 = [1,3,2,null,6,4,5,null,null,null,null,8,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æˆ‘ä»¬ç¿»è½¬å€¼ä¸º 1ï¼Œ3 ä»¥åŠ 5 çš„ä¸‰ä¸ªèŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root1 = [], root2 = []<strong style="font-weight: 600;">è¾“å‡º:</strong> true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root1 = [], root2 = [1]<strong style="font-weight: 600;">è¾“å‡º:</strong> false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ¯æ£µæ ‘èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 100]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li>æ¯æ£µæ ‘ä¸­çš„æ¯ä¸ªå€¼éƒ½æ˜¯å”¯ä¸€çš„ã€åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 99]</code>&nbsp;èŒƒå›´å†…çš„æ•´æ•°</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/flip-equivalent-binary-trees/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-31"><a href="#åŸºæœ¬æ€è·¯-31" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>å¦‚ä½•åˆ†è§£è¿™ä¸ªé—®é¢˜å‘¢ï¼ŸåŸé—®é¢˜æ˜¯ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦æ˜¯ç¿»è½¬ç­‰ä»·çš„ï¼Œåªè¦ä¸¤æ£µæ ‘çš„æ ¹èŠ‚ç‚¹èƒ½å¤ŸåŒ¹é…ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å»è€ƒå¯Ÿè¿™ä¸¤ä¸ªæ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼ˆå…±å››æ£µï¼‰æ˜¯å¦æ˜¯ç¿»è½¬ç­‰ä»·çš„ã€‚</p><p>å¯¹å­æ ‘æŠŠç¿»è½¬å’Œä¸ç¿»è½¬ä¸¤ç§æƒ…å†µå…¨éƒ½ç©·ä¸¾ä¸€éï¼Œåªè¦æœ‰ä¸€ç§æƒ…å†µèƒ½å¤ŸåŒ¹é…ï¼Œå°±è¯´æ˜æ•´æ£µæ ‘æ˜¯ç¿»è½¬ç­‰ä»·çš„ï¼Œå…·ä½“å®ç°è§ä»£ç ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -30"><a href="#è§£æ³•ä»£ç -30" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸¤æ£µäºŒå‰æ ‘ï¼Œåˆ¤æ–­è¿™ä¸¤æ£µäºŒå‰æ ‘æ˜¯å¦æ˜¯ç¿»è½¬ç­‰ä»·çš„</span>    <span class="token keyword">def</span> <span class="token function">flipEquiv</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ¤æ–­ root1 å’Œ root2 ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦èƒ½å¤ŸåŒ¹é…</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root2 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> root2 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">if</span> root1<span class="token punctuation">.</span>val <span class="token operator">!=</span> root2<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># æ ¹æ®å‡½æ•°å®šä¹‰ï¼Œåˆ¤æ–­å­æ ‘æ˜¯å¦èƒ½å¤ŸåŒ¹é…</span>        <span class="token comment"># ä¸ç¿»è½¬ã€ç¿»è½¬ä¸¤ç§æƒ…å†µæ»¡è¶³ä¸€ç§å³å¯ç®—æ˜¯åŒ¹é…</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>                <span class="token comment"># ä¸ç¿»è½¬å­æ ‘</span>                self<span class="token punctuation">.</span>flipEquiv<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>flipEquiv<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>                <span class="token comment"># åè½¬å­æ ‘</span>                self<span class="token punctuation">.</span>flipEquiv<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>flipEquiv<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-26"><a href="#å¯è§†åŒ–-26" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_flip-equivalent-binary-trees" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_flip-equivalent-binary-trees" src="https://labuladong.online/algo-visualize/leetcode/flip-equivalent-binary-trees/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="æŠ€å·§äºŒ"><a href="#æŠ€å·§äºŒ" class="headerlink" title="æŠ€å·§äºŒ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E6%8A%80%E5%B7%A7%E4%BA%8C">æŠ€å·§äºŒ</a></h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œéå†çš„æ€ç»´æ¨¡å¼å¯ä»¥å¸®ä½ å¯»æ‰¾<strong>ä»æ ¹èŠ‚ç‚¹å¼€å§‹çš„</strong>ç¬¦åˆæ¡ä»¶çš„ã€Œæ ‘æã€ï¼Œä½†åœ¨ä¸é™åˆ¶èµ·ç‚¹å¿…é¡»æ˜¯æ ¹èŠ‚ç‚¹çš„æ¡ä»¶ä¸‹ï¼Œè®©ä½ å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„ã€Œæ ‘æã€ï¼Œå°±éœ€è¦ç”¨åˆ°åˆ†è§£é—®é¢˜çš„æ€ç»´æ¨¡å¼äº†ã€‚</p><h2 id="124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#slug_binary-tree-maximum-path-sum">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-maximum-path-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-maximum-path-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">äºŒå‰æ ‘ä¸­çš„<strong style="font-weight: 600;"><span>&nbsp;</span>è·¯å¾„</strong><span>&nbsp;</span>è¢«å®šä¹‰ä¸ºä¸€æ¡èŠ‚ç‚¹åºåˆ—ï¼Œåºåˆ—ä¸­æ¯å¯¹ç›¸é‚»èŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨ä¸€æ¡è¾¹ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­<span>&nbsp;</span><strong style="font-weight: 600;">è‡³å¤šå‡ºç°ä¸€æ¬¡</strong><span>&nbsp;</span>ã€‚è¯¥è·¯å¾„<strong style="font-weight: 600;"><span>&nbsp;</span>è‡³å°‘åŒ…å«ä¸€ä¸ª<span>&nbsp;</span></strong>èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è·¯å¾„å’Œ</strong><span>&nbsp;</span>æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›å…¶<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å¤§è·¯å¾„å’Œ</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/13/exx1.jpg" style="max-width: 100%; width: 322px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>6<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€ä¼˜è·¯å¾„æ˜¯ 2 -&gt; 1 -&gt; 3 ï¼Œè·¯å¾„å’Œä¸º 2 + 1 + 3 = 6</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/13/exx2.jpg" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [-10,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>42<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€ä¼˜è·¯å¾„æ˜¯ 15 -&gt; 20 -&gt; 7 ï¼Œè·¯å¾„å’Œä¸º 15 + 20 + 7 = 42</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 3 * 10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-maximum-path-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-32"><a href="#åŸºæœ¬æ€è·¯-32" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>è¿™é¢˜éœ€è¦å·§ç”¨äºŒå‰æ ‘çš„ååºéå†ï¼Œå¯ä»¥å…ˆå»åšä¸€ä¸‹ <a href="https://leetcode.cn/problems/diameter-of-binary-tree">543. äºŒå‰æ ‘çš„ç›´å¾„</a> å’Œ <a href="https://leetcode.cn/problems/find-leaves-of-binary-tree">366. å¯»æ‰¾äºŒå‰æ ‘çš„å¶å­èŠ‚ç‚¹</a>ã€‚</p><p><code>oneSideMax</code> å‡½æ•°å’Œä¸Šè¿°å‡ é“é¢˜ä¸­éƒ½ç”¨åˆ°çš„ <code>maxDepth</code> å‡½æ•°éå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡ <code>maxDepth</code> è®¡ç®—æœ€å¤§æ·±åº¦ï¼Œ<code>oneSideMax</code> è®¡ç®—ã€Œå•è¾¹ã€æœ€å¤§è·¯å¾„å’Œï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/124.png" alt="img"></p><p>ç„¶ååœ¨ååºéå†çš„æ—¶å€™é¡ºä¾¿è®¡ç®—é¢˜ç›®è¦æ±‚çš„æœ€å¤§è·¯å¾„å’Œã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/">ã€ç»ƒä¹ ã€‘ç”¨ã€Œåˆ†è§£é—®é¢˜ã€æ€ç»´è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -31"><a href="#è§£æ³•ä»£ç -31" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">maxPathSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># è®¡ç®—å•è¾¹è·¯å¾„å’Œæ—¶é¡ºä¾¿è®¡ç®—æœ€å¤§è·¯å¾„å’Œ</span>        self<span class="token punctuation">.</span>oneSideMax<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å®šä¹‰ï¼šè®¡ç®—ä»æ ¹èŠ‚ç‚¹ root ä¸ºèµ·ç‚¹çš„æœ€å¤§å•è¾¹è·¯å¾„å’Œ</span>    <span class="token keyword">def</span> <span class="token function">oneSideMax</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        left_max_sum <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>oneSideMax<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span>        right_max_sum <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>oneSideMax<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®ï¼Œé¡ºä¾¿æ›´æ–°æœ€å¤§è·¯å¾„å’Œ</span>        path_max_sum <span class="token operator">=</span> root<span class="token punctuation">.</span>val <span class="token operator">+</span> left_max_sum <span class="token operator">+</span> right_max_sum        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> path_max_sum<span class="token punctuation">)</span>        <span class="token comment"># å®ç°å‡½æ•°å®šä¹‰ï¼Œå·¦å³å­æ ‘çš„æœ€å¤§å•è¾¹è·¯å¾„å’ŒåŠ ä¸Šæ ¹èŠ‚ç‚¹çš„å€¼</span>        <span class="token comment"># å°±æ˜¯ä»æ ¹èŠ‚ç‚¹ root ä¸ºèµ·ç‚¹çš„æœ€å¤§å•è¾¹è·¯å¾„å’Œ</span>        <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span>left_max_sum<span class="token punctuation">,</span> right_max_sum<span class="token punctuation">)</span> <span class="token operator">+</span> root<span class="token punctuation">.</span>val<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-27"><a href="#å¯è§†åŒ–-27" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-divide-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-maximum-path-sum" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-maximum-path-sum" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-maximum-path-sum/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/jC7MId">å‰‘æŒ‡ Offer II 051. èŠ‚ç‚¹ä¹‹å’Œæœ€å¤§çš„è·¯å¾„ ğŸ”´</a></li></ul><h1 id="ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜"><a href="#ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜" class="headerlink" title="ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜"></a>ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</h1><h2 id="559-N-å‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#559-N-å‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_maximum-depth-of-n-ary-tree">559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-depth-of-n-ary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œæ‰¾åˆ°å…¶æœ€å¤§æ·±åº¦ã€‚</p><p class="MachineTrans-lang-zh-CN" style="line-height: 1.6; overflow-wrap: break-word;">æœ€å¤§æ·±åº¦æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ€»æ•°ã€‚</p><p class="MachineTrans-lang-zh-CN" style="line-height: 1.6; overflow-wrap: break-word;">N å‰æ ‘è¾“å…¥æŒ‰å±‚åºéå†åºåˆ—åŒ–è¡¨ç¤ºï¼Œæ¯ç»„å­èŠ‚ç‚¹ç”±ç©ºå€¼åˆ†éš”ï¼ˆè¯·å‚è§ç¤ºä¾‹ï¼‰ã€‚</p><p class="MachineTrans-lang-zh-CN" style="line-height: 1.6; overflow-wrap: break-word;"></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2018/10/12/narytreeexample.png" style="max-width: 300px; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,3,2,4,null,5,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/11/08/sample_4_964.png" style="max-width: 100%; width: 296px; height: 241px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,2,3,4,5,null,null,6,7,null,8,null,9,10,null,null,11,null,12,null,13,null,null,14]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘çš„æ·±åº¦ä¸ä¼šè¶…è¿‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code><span>&nbsp;</span>ã€‚</li><li>æ ‘çš„èŠ‚ç‚¹æ•°ç›®ä½äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 10<sup>4</sup>]</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-33"><a href="#åŸºæœ¬æ€è·¯-33" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œæˆ‘æŠŠä¸¤ç§è§£æ³•éƒ½å†™ä¸€ä¸‹ã€‚</p><p>å¯ä»¥å¯¹ç…§ <a href="https://leetcode.cn/problems/maximum-depth-of-binary-tree">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a> é¢˜çš„è§£æ³•ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -32"><a href="#è§£æ³•ä»£ç -32" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åˆ†è§£é—®é¢˜çš„æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        subTreeMaxDepth <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> child <span class="token keyword">in</span> root<span class="token punctuation">.</span>children<span class="token punctuation">:</span>            subTreeMaxDepth <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>subTreeMaxDepth<span class="token punctuation">,</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> subTreeMaxDepth<span class="token comment"># éå†çš„æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•é€’å½’éå†åˆ°çš„æ·±åº¦</span>        self<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®°å½•æœ€å¤§çš„æ·±åº¦</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">+=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> self<span class="token punctuation">.</span>depth<span class="token punctuation">)</span>        <span class="token keyword">for</span> child <span class="token keyword">in</span> root<span class="token punctuation">.</span>children<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>child<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>depth <span class="token operator">-=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-28"><a href="#å¯è§†åŒ–-28" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-depth-of-n-ary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-depth-of-n-ary-tree" src="https://labuladong.online/algo-visualize/leetcode/maximum-depth-of-n-ary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="112-è·¯å¾„æ€»å’Œ"><a href="#112-è·¯å¾„æ€»å’Œ" class="headerlink" title="112. è·¯å¾„æ€»å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_path-sum">112. è·¯å¾„æ€»å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">112. è·¯å¾„æ€»å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/path-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/path-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œä¸€ä¸ªè¡¨ç¤ºç›®æ ‡å’Œçš„æ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">targetSum</code><span>&nbsp;</span>ã€‚åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">targetSum</code><span>&nbsp;</span>ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/pathsum1.jpg" style="max-width: 100%; width: 500px; height: 356px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,8,11,null,13,4,7,2,null,null,null,1], targetSum = 22<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç­‰äºç›®æ ‡å’Œçš„æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹è·¯å¾„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/pathsum2.jpg" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], targetSum = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ‘ä¸­å­˜åœ¨ä¸¤æ¡æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼š(1 --&gt; 2): å’Œä¸º 3(1 --&gt; 3): å’Œä¸º 4ä¸å­˜åœ¨ sum = 5 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [], targetSum = 0<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç”±äºæ ‘æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 5000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= targetSum &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/path-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 112. è·¯å¾„æ€»å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-34"><a href="#åŸºæœ¬æ€è·¯-34" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/algorithm-summary/">æˆ‘çš„åˆ·é¢˜ç»éªŒæ€»ç»“</a> è¯´è¿‡ï¼ŒäºŒå‰æ ‘çš„éå†ä»£ç æ˜¯åŠ¨æ€è§„åˆ’å’Œå›æº¯ç®—æ³•çš„ç¥–å®—ã€‚</p><p><a href="https://labuladong.online/algo/essential-technique/dynamic-programming-framework/">åŠ¨æ€è§„åˆ’</a> çš„å…³é”®åœ¨äºæ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰ï¼ŒæŠŠç”¨å­é—®é¢˜çš„ç»“æœæ¨å¯¼å‡ºå¤§é—®é¢˜çš„ç»“æœã€‚</p><p><a href="https://labuladong.online/algo/essential-technique/backtrack-framework/">å›æº¯ç®—æ³•</a> å°±ç®€å•ç²—æš´å¤šäº†ï¼Œå°±æ˜¯å•çº¯çš„éå†å›æº¯æ ‘ã€‚</p><p>ä¸‹é¢ç»™å‡ºä¸¤ç§æ€è·¯ä¸‹çš„è§£æ³•ï¼Œè¯·ä»”ç»†ä½“ä¼šã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -33"><a href="#è§£æ³•ä»£ç -33" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è§£æ³•ä¸€ã€åˆ†è§£é—®é¢˜çš„æ€è·¯</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè¿”å›è¯¥æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ä¸€æ¡å’Œä¸º targetSum çš„è·¯å¾„</span>    <span class="token keyword">def</span> <span class="token function">hasPathSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> targetSum<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># root.left == root.right ç­‰åŒäº root.left == null &amp;&amp; root.right == null</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token operator">==</span> root<span class="token punctuation">.</span>right <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> targetSum<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>hasPathSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>hasPathSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    <span class="token comment"># è§£æ³•äºŒã€éå†äºŒå‰æ ‘çš„æ€è·¯</span>    <span class="token comment"># è®°å½•éå†è¿‡ç¨‹ä¸­çš„è·¯å¾„å’Œ</span>    <span class="token keyword">def</span> <span class="token function">hasPathSum_2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> targetSum<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span>target <span class="token operator">=</span> targetSum        self<span class="token punctuation">.</span>found <span class="token operator">=</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span>curSum <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>found    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>curSum <span class="token operator">+=</span> root<span class="token punctuation">.</span>val        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>curSum <span class="token operator">==</span> self<span class="token punctuation">.</span>target<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>found <span class="token operator">=</span> <span class="token boolean">True</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        self<span class="token punctuation">.</span>curSum <span class="token operator">-=</span> root<span class="token punctuation">.</span>val<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-29"><a href="#å¯è§†åŒ–-29" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_path-sum" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_path-sum" src="https://labuladong.online/algo-visualize/leetcode/path-sum/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="113-è·¯å¾„æ€»å’Œ-II"><a href="#113-è·¯å¾„æ€»å’Œ-II" class="headerlink" title="113. è·¯å¾„æ€»å’Œ II"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_path-sum-ii">113. è·¯å¾„æ€»å’Œ II</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">113. è·¯å¾„æ€»å’Œ II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/path-sum-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/path-sum-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">targetSum</code><span>&nbsp;</span>ï¼Œæ‰¾å‡ºæ‰€æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/pathsumii1.jpg" style="max-width: 100%; width: 500px; height: 356px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum = 22<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[5,4,11,2],[5,8,4,5]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/pathsum2.jpg" style="max-width: 100%; width: 212px; height: 181px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3], targetSum = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2], targetSum = 0<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ€»æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 5000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= targetSum &lt;= 1000</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/path-sum-ii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 113. è·¯å¾„æ€»å’Œ II</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-35"><a href="#åŸºæœ¬æ€è·¯-35" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´ã€‚</p><p>éå†çš„æ€ç»´å¾ˆç®€å•ï¼Œåªè¦éå†ä¸€éäºŒå‰æ ‘ï¼Œå°±å¯ä»¥æŠŠæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è·¯å¾„æ‰¾å‡ºæ¥ã€‚ä¸ºäº†ç»´æŠ¤ç»è¿‡çš„è·¯å¾„ï¼Œåœ¨è¿›å…¥é€’å½’çš„æ—¶å€™è¦åœ¨ <code>path</code> åˆ—è¡¨æ·»åŠ èŠ‚ç‚¹ï¼Œç»“æŸé€’å½’çš„æ—¶å€™åˆ é™¤èŠ‚ç‚¹ï¼Œç±»ä¼¼ <a href="https://labuladong.online/algo/essential-technique/backtrack-framework/">å›æº¯ç®—æ³•</a>ã€‚</p><p>åˆ†è§£é—®é¢˜çš„æ€è·¯ä¹Ÿä¸éš¾ï¼Œä½ è®¡ç®—ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­å’Œä¸º <code>sum</code> çš„è·¯å¾„ï¼Œä¸å°±å¯ä»¥åˆ†è§£æˆè®¡ç®—ä»¥ <code>root.left, root.right</code> ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­æ‰€æœ‰å’Œä¸º <code>sum - root.val</code> çš„è·¯å¾„ï¼Œç„¶åå†åŠ ä¸Š <code>root</code> èŠ‚ç‚¹å—ï¼Ÿ</p><p>æˆ‘è¿™é‡ŒåŒæ—¶å†™å‡ºäº†éå†æ€è·¯å’Œåˆ†è§£é—®é¢˜æ€è·¯çš„è§£æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -34"><a href="#è§£æ³•ä»£ç -34" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token punctuation">,</span> Optional<span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pathSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>res        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">,</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># éå†äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> path<span class="token punctuation">:</span> deque<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        remain <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token operator">-</span> root<span class="token punctuation">.</span>val        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> remain <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token comment"># æ‰¾åˆ°ä¸€æ¡è·¯å¾„</span>                path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>                path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token comment"># ç»´æŠ¤è·¯å¾„åˆ—è¡¨</span>        path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> remain<span class="token punctuation">,</span> path<span class="token punctuation">)</span>        path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        path<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> remain<span class="token punctuation">,</span> path<span class="token punctuation">)</span>        path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># åˆ†è§£é—®é¢˜çš„æ€ç»´æ¨¡å¼</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">pathSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">,</span> targetSum<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>res                <span class="token comment"># å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹å¹¶ä¸”å€¼ç­‰äº targetSumï¼Œåˆ™æ‰¾åˆ°ä¸€æ¡è·¯å¾„</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> targetSum<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token comment"># åˆ†åˆ«é€’å½’å·¦å³å­æ ‘ï¼Œæ‰¾åˆ°å­æ ‘ä¸­å’Œä¸º targetSum - root.val çš„è·¯å¾„</span>        left_answers <span class="token operator">=</span> self<span class="token punctuation">.</span>pathSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        right_answers <span class="token operator">=</span> self<span class="token punctuation">.</span>pathSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># å·¦å³å­æ ‘çš„è·¯å¾„åŠ ä¸Šæ ¹èŠ‚ç‚¹ï¼Œå°±æ˜¯å’Œä¸º targetSum çš„è·¯å¾„</span>        <span class="token keyword">for</span> answer <span class="token keyword">in</span> left_answers<span class="token punctuation">:</span>            <span class="token comment"># å› ä¸ºåº•å±‚ä½¿ç”¨çš„æ˜¯ LinkedListï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œçš„å¤æ‚åº¦æ˜¯ O(1)</span>            answer<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>answer<span class="token punctuation">)</span>                <span class="token keyword">for</span> answer <span class="token keyword">in</span> right_answers<span class="token punctuation">:</span>            <span class="token comment"># å› ä¸ºåº•å±‚ä½¿ç”¨çš„æ˜¯ LinkedListï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œçš„å¤æ‚åº¦æ˜¯ O(1)</span>            answer<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>answer<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-30"><a href="#å¯è§†åŒ–-30" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_path-sum-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_path-sum-ii" src="https://labuladong.online/algo-visualize/leetcode/path-sum-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/check-if-a-string-is-a-valid-sequence-from-root-to-leaves-path-in-a-binary-tree">1430. åˆ¤æ–­ç»™å®šçš„åºåˆ—æ˜¯å¦æ˜¯äºŒå‰æ ‘ä»æ ¹åˆ°å¶çš„è·¯å¾„ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/path-sum-iv">666. è·¯å¾„æ€»å’Œ IV ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof">å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ ğŸŸ </a></li></ul><h2 id="617-åˆå¹¶äºŒå‰æ ‘"><a href="#617-åˆå¹¶äºŒå‰æ ‘" class="headerlink" title="617. åˆå¹¶äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_merge-two-binary-trees">617. åˆå¹¶äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">617. åˆå¹¶äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/merge-two-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/merge-two-binary-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘ï¼š<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root2</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ å°†å…¶ä¸­ä¸€æ£µè¦†ç›–åˆ°å¦ä¸€æ£µä¹‹ä¸Šæ—¶ï¼Œä¸¤æ£µæ ‘ä¸Šçš„ä¸€äº›èŠ‚ç‚¹å°†ä¼šé‡å ï¼ˆè€Œå¦ä¸€äº›ä¸ä¼šï¼‰ã€‚ä½ éœ€è¦å°†è¿™ä¸¤æ£µæ ‘åˆå¹¶æˆä¸€æ£µæ–°äºŒå‰æ ‘ã€‚åˆå¹¶çš„è§„åˆ™æ˜¯ï¼šå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼Œé‚£ä¹ˆå°†è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸åŠ ä½œä¸ºåˆå¹¶åèŠ‚ç‚¹çš„æ–°å€¼ï¼›å¦åˆ™ï¼Œ<strong style="font-weight: 600;">ä¸ä¸º</strong><span>&nbsp;</span>null çš„èŠ‚ç‚¹å°†ç›´æ¥ä½œä¸ºæ–°äºŒå‰æ ‘çš„èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›åˆå¹¶åçš„äºŒå‰æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„:</strong><span>&nbsp;</span>åˆå¹¶è¿‡ç¨‹å¿…é¡»ä»ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/05/merge.jpg" style="max-width: 100%; height: 163px; width: 600px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [1,3,2,5], root2 = [2,1,3,null,4,null,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,4,5,5,4,null,7]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [1], root2 = [1,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¸¤æ£µæ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 2000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/merge-two-binary-trees/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 617. åˆå¹¶äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-36"><a href="#åŸºæœ¬æ€è·¯-36" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶ç”¨åˆ°ä¸¤ç§æ€ç»´æ¨¡å¼ã€‚</p><p>è™½ç„¶è¾“å…¥çš„æ˜¯ä¸¤æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä½†å®ƒä»¬çš„æ“ä½œæ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åšæ˜¯åœ¨éå† <code>root1</code> è¿™ä¸€æ£µäºŒå‰æ ‘ï¼Œé¡ºä¾¿æŠŠ <code>root2</code> çš„èŠ‚ç‚¹åˆå¹¶è¿‡æ¥ã€‚ä¸‹é¢æˆ‘ç»™å‡ºä¸¤ç§æ€ç»´æ¨¡å¼çš„è§£æ³•ä»£ç ï¼Œå…·ä½“çœ‹æ³¨é‡Šå§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -35"><a href="#è§£æ³•ä»£ç -35" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># åˆ†è§£é—®é¢˜çš„æ€ç»´æ¨¡å¼</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸¤æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿”å›åˆå¹¶åçš„æ ‘çš„æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">mergeTrees</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token comment"># å¦‚æœä¸€æ£µæ ‘éç©ºï¼Œé‚£ä¹ˆåˆå¹¶åå°±æ˜¯å¦ä¸€æ£µæ ‘</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> root2        <span class="token keyword">if</span> root2 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> root1        <span class="token comment"># ä¸¤æ£µæ ‘éƒ½æœ‰çš„èŠ‚ç‚¹ï¼Œå åŠ èŠ‚ç‚¹å€¼</span>        root1<span class="token punctuation">.</span>val <span class="token operator">+=</span> root2<span class="token punctuation">.</span>val        <span class="token comment"># åˆ©ç”¨å‡½æ•°å®šä¹‰ï¼Œå­æ ‘åˆå¹¶åæ¥åˆ°</span>        root1<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>mergeTrees<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        root1<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>mergeTrees<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> root1<span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token comment"># éå†çš„æ€ç»´æ¨¡å¼</span>    <span class="token keyword">def</span> <span class="token function">mergeTrees</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> root2        <span class="token comment"># éå† root1ï¼Œé¡ºä¾¿æŠŠ root2 çš„èŠ‚ç‚¹åˆå¹¶è¿‡æ¥</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root1<span class="token punctuation">,</span> root2<span class="token punctuation">)</span>        <span class="token keyword">return</span> root1    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> root2 <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root1 <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root2 <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># ä¸¤æ£µæ ‘éƒ½æœ‰çš„èŠ‚ç‚¹ï¼Œå åŠ èŠ‚ç‚¹å€¼</span>            root1<span class="token punctuation">.</span>val <span class="token operator">+=</span> root2<span class="token punctuation">.</span>val        <span class="token comment"># å¦‚æœ root1 æ²¡æœ‰å­æ ‘è€Œ root2 æœ‰ï¼Œé‚£ä¹ˆå°±æŠŠ root2 çš„å­æ ‘æ¥åˆ° root1 ä¸Š</span>        <span class="token comment"># æ³¨æ„æ¥å®Œä¹‹åæŠŠ root2 çš„å­æ ‘ç½®ä¸º nullï¼Œå…å¾—é”™è¯¯è®¡ç®—èŠ‚ç‚¹ç´¯åŠ å€¼</span>        <span class="token keyword">if</span> root1<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root2<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            root1<span class="token punctuation">.</span>left <span class="token operator">=</span> root2<span class="token punctuation">.</span>left            root2<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root1<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root2<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            root1<span class="token punctuation">.</span>right <span class="token operator">=</span> root2<span class="token punctuation">.</span>right            root2<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token comment"># é€’å½’éå†å·¦å³å­èŠ‚ç‚¹ï¼Œroot2 çš„èŠ‚ç‚¹ä¹Ÿè·Ÿç€åŒæ­¥ç§»åŠ¨</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root1<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root2<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-31"><a href="#å¯è§†åŒ–-31" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_merge-two-binary-trees" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_merge-two-binary-trees" src="https://labuladong.online/algo-visualize/leetcode/merge-two-binary-trees/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="897-é€’å¢é¡ºåºæœç´¢æ ‘"><a href="#897-é€’å¢é¡ºåºæœç´¢æ ‘" class="headerlink" title="897. é€’å¢é¡ºåºæœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_increasing-order-search-tree">897. é€’å¢é¡ºåºæœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">897. é€’å¢é¡ºåºæœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/increasing-order-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/increasing-order-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æœç´¢æ ‘çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¯·ä½ <span>&nbsp;</span><strong style="font-weight: 600;">æŒ‰ä¸­åºéå†</strong><span>&nbsp;</span>å°†å…¶é‡æ–°æ’åˆ—ä¸ºä¸€æ£µé€’å¢é¡ºåºæœç´¢æ ‘ï¼Œä½¿æ ‘ä¸­æœ€å·¦è¾¹çš„èŠ‚ç‚¹æˆä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­èŠ‚ç‚¹ï¼Œåªæœ‰ä¸€ä¸ªå³å­èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/17/ex1.jpg" style="max-width: 100%; height: 350px; width: 600px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,3,6,2,4,null,8,1,null,null,null,7,9]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,2,null,3,null,4,null,5,null,6,null,7,null,8,null,9]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/17/ex2.jpg" style="max-width: 100%; height: 114px; width: 300px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,1,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,5,null,7]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°çš„å–å€¼èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/increasing-order-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 897. é€’å¢é¡ºåºæœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-37"><a href="#åŸºæœ¬æ€è·¯-37" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶ç”¨åˆ°ä¸¤ç§æ€ç»´æ¨¡å¼ã€‚</p><p>ã€Œéå†ã€çš„è¯å¾ˆç®€å•ï¼Œä½ å¯¹ BST åšä¸­åºéå†ï¼Œå…¶ç»“æœå°±æ˜¯æœ‰åºçš„ï¼Œé‡æ–°æ„é€ å‡ºé¢˜ç›®è¦æ±‚çš„è¿™ä¸ªç±»ä¼¼é“¾è¡¨çš„äºŒå‰æ ‘å³å¯ã€‚</p><p>ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€è·¯ä¹Ÿä¸éš¾ï¼Œä½ åªè¦åšè¿‡ <a href="https://leetcode.cn/problems/flatten-binary-tree-to-linked-list">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</a> è¿™é“é¢˜ï¼Œç¨å¾®æ”¹ä¸‹è§£æ³•å°±å¯ä»¥è§£å†³è¿™é“é¢˜äº†ï¼Œæ˜ç¡® <code>increasingBST</code> çš„å®šä¹‰ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªå®šä¹‰è¿›è¡Œæ“ä½œå³å¯ã€‚</p><p>è¿™é‡Œæˆ‘ç»™å‡ºåˆ†è§£é—®é¢˜çš„è§£æ³•æ€è·¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -36"><a href="#è§£æ³•ä»£ç -36" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¾“å…¥ä¸€æ£µ BSTï¼Œè¿”å›ä¸€ä¸ªæœ‰åºã€Œé“¾è¡¨ã€</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">increasingBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å…ˆæŠŠå·¦å³å­æ ‘æ‹‰å¹³</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>increasingBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>increasingBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> right        <span class="token comment"># å·¦å­æ ‘ä¸ºç©ºçš„è¯ï¼Œå°±ä¸ç”¨å¤„ç†äº†</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> root        <span class="token comment"># å·¦å­æ ‘éç©ºï¼Œéœ€è¦æŠŠæ ¹èŠ‚ç‚¹å’Œå³å­æ ‘æ¥åˆ°å·¦å­æ ‘æœ«å°¾</span>        p <span class="token operator">=</span> left        <span class="token keyword">while</span> p <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> p<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            p <span class="token operator">=</span> p<span class="token punctuation">.</span>right        p<span class="token punctuation">.</span>right <span class="token operator">=</span> root        <span class="token keyword">return</span> left<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-32"><a href="#å¯è§†åŒ–-32" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_increasing-order-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_increasing-order-search-tree" src="https://labuladong.online/algo-visualize/leetcode/increasing-order-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/NYBBNL">å‰‘æŒ‡ Offer II 052. å±•å¹³äºŒå‰æœç´¢æ ‘ ğŸŸ¢</a></li></ul><h2 id="938-äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ"><a href="#938-äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ" class="headerlink" title="938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_range-sum-of-bst">938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/range-sum-of-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/range-sum-of-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šäºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œè¿”å›å€¼ä½äºèŒƒå›´<span>&nbsp;</span><em><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[low, high]</code></em><span>&nbsp;</span>ä¹‹é—´çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/05/bst1.jpg" style="max-width: 100%; width: 400px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [10,5,15,3,7,null,18], low = 7, high = 15<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>32</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/05/bst2.jpg" style="max-width: 100%; width: 400px; height: 335px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [10,5,15,3,7,13,18,1,null,6], low = 6, high = 10<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>23</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2 * 10<sup>4</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= low &lt;= high &lt;= 10<sup>5</sup></code></li><li>æ‰€æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code><span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/range-sum-of-bst/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-38"><a href="#åŸºæœ¬æ€è·¯-38" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§æ€ç»´æ¨¡å¼ã€‚</p><p>éå†çš„æ€è·¯å°±æ˜¯å•çº¯ç”¨ <code>traverse</code> å‡½æ•°éå†ä¸€é BSTï¼Œæ‰¾åˆ°è½åœ¨åŒºé—´çš„å…ƒç´ ã€‚åˆ†è§£é—®é¢˜çš„æ€è·¯å…³é”®æ˜¯è¦æ˜ç¡®å‡½æ•°å®šä¹‰ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªå®šä¹‰ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -37"><a href="#è§£æ³•ä»£ç -37" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># éå†çš„æ€è·¯</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">rangeSumBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> low<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># éå†ä¸€é BST è®¡ç®—åŒºé—´å…ƒç´ å’Œ</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> low<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> low<span class="token punctuation">:</span>            <span class="token comment"># ç›®æ ‡åŒºé—´åœ¨å³å­æ ‘</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> high<span class="token punctuation">:</span>            <span class="token comment"># ç›®æ ‡åŒºé—´åœ¨å·¦å­æ ‘</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># root.val è½åœ¨ç›®æ ‡åŒºé—´ï¼Œç´¯åŠ  sum</span>            self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>val            <span class="token comment"># ç»§ç»­éå†å·¦å³å­æ ‘</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token comment"># åˆ†è§£é—®é¢˜çš„æ€è·¯</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ª BSTï¼Œè®¡ç®—å€¼è½åœ¨ [low, high] ä¹‹é—´çš„å…ƒç´ ä¹‹å’Œ</span>    <span class="token keyword">def</span> <span class="token function">rangeSumBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> low<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> low<span class="token punctuation">:</span>            <span class="token comment"># ç›®æ ‡åŒºé—´åœ¨å³å­æ ‘</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>rangeSumBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> high<span class="token punctuation">:</span>            <span class="token comment"># ç›®æ ‡åŒºé—´åœ¨å·¦å­æ ‘</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>rangeSumBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„è¿™æ£µ BST è½åœ¨ [low, high] ä¹‹é—´çš„å…ƒç´ ä¹‹å’Œï¼Œ</span>            <span class="token comment"># ç­‰äº root.val åŠ ä¸Šå·¦å³å­æ ‘è½åœ¨åŒºé—´çš„å…ƒç´ ä¹‹å’Œ</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span>val <span class="token operator">+</span> self<span class="token punctuation">.</span>rangeSumBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>rangeSumBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-33"><a href="#å¯è§†åŒ–-33" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_range-sum-of-bst" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_range-sum-of-bst" src="https://labuladong.online/algo-visualize/leetcode/range-sum-of-bst/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1379-æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹"><a href="#1379-æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹" class="headerlink" title="1379. æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#slug_find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree">1379. æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1379. æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘ï¼ŒåŸå§‹æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">original</code><span>&nbsp;</span>å’Œå…‹éš†æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cloned</code>ï¼Œä»¥åŠä¸€ä¸ªä½äºåŸå§‹æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">original</code>&nbsp;ä¸­çš„ç›®æ ‡èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å…¶ä¸­ï¼Œå…‹éš†æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cloned</code>&nbsp;æ˜¯åŸå§‹æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">original</code>&nbsp;çš„ä¸€ä¸ª<strong style="font-weight: 600;"><span>&nbsp;</span>å‰¯æœ¬<span>&nbsp;</span></strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·æ‰¾å‡ºåœ¨æ ‘&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cloned</code>&nbsp;ä¸­ï¼Œä¸&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;<strong style="font-weight: 600;">ç›¸åŒ&nbsp;</strong>çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›å¯¹è¯¥èŠ‚ç‚¹çš„å¼•ç”¨ï¼ˆåœ¨ C/C++ ç­‰æœ‰æŒ‡é’ˆçš„è¯­è¨€ä¸­è¿”å› èŠ‚ç‚¹æŒ‡é’ˆï¼Œå…¶ä»–è¯­è¨€è¿”å›èŠ‚ç‚¹æœ¬èº«ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong>ä½ <span>&nbsp;</span><strong style="font-weight: 600;">ä¸èƒ½</strong><span>&nbsp;</span>å¯¹ä¸¤æ£µäºŒå‰æ ‘ï¼Œä»¥åŠ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;èŠ‚ç‚¹è¿›è¡Œæ›´æ”¹ã€‚<strong style="font-weight: 600;">åªèƒ½</strong><span>&nbsp;</span>è¿”å›å¯¹å…‹éš†æ ‘&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">cloned</code>&nbsp;ä¸­å·²æœ‰çš„èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ul><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/02/21/e1.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> tree = [7,4,3,null,null,6,19], target = 3<strong style="font-weight: 600;">è¾“å‡º:</strong> 3<strong style="font-weight: 600;">è§£é‡Š:</strong> ä¸Šå›¾ç”»å‡ºäº†æ ‘ original å’Œ clonedã€‚target èŠ‚ç‚¹åœ¨æ ‘ original ä¸­ï¼Œç”¨ç»¿è‰²æ ‡è®°ã€‚ç­”æ¡ˆæ˜¯æ ‘ cloned ä¸­çš„é»„é¢œè‰²çš„èŠ‚ç‚¹ï¼ˆå…¶ä»–ç¤ºä¾‹ç±»ä¼¼ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/02/21/e2.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> tree = [7], target =  7<strong style="font-weight: 600;">è¾“å‡º:</strong> 7</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/02/21/e3.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> tree = [8,null,6,null,5,null,4,null,3,null,2,null,1], target = 4<strong style="font-weight: 600;">è¾“å‡º:</strong> 4</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡èŒƒå›´ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>&nbsp;ã€‚</li><li>åŒä¸€æ£µæ ‘ä¸­ï¼Œæ²¡æœ‰å€¼ç›¸åŒçš„èŠ‚ç‚¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;èŠ‚ç‚¹æ˜¯æ ‘&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">original</code>&nbsp;ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸ä¼šæ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">null</code>&nbsp;ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>å¦‚æœæ ‘ä¸­å…è®¸å‡ºç°å€¼ç›¸åŒçš„èŠ‚ç‚¹ï¼Œå°†å¦‚ä½•è§£ç­”ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1379. æ‰¾å‡ºå…‹éš†äºŒå‰æ ‘ä¸­çš„ç›¸åŒèŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-39"><a href="#åŸºæœ¬æ€è·¯-39" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜å¯ä»¥åŒæ—¶ç”¨åˆ°ä¸¤ç§æ€ç»´ã€‚</p><p>è¯´ç™½äº†ï¼Œè¿™é“é¢˜å°±æ˜¯è®©ä½ ä»ä¸€æ£µäºŒå‰æ ‘ä¸­æœç´¢ä¸€ä¸ªç›®æ ‡èŠ‚ç‚¹ï¼Œè€ƒè™‘åˆ°é¢˜ç›®çš„ follow up é—®ä½ èŠ‚ç‚¹çš„å€¼å­˜åœ¨é‡å¤çš„æƒ…å†µï¼Œæ‰€ä»¥ç”¨å¯¹æ¯”èŠ‚ç‚¹å¼•ç”¨çš„æ–¹å¼è¿›è¡Œæ¯”è¾ƒã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/">ã€ç»ƒä¹ ã€‘åŒæ—¶è¿ç”¨ä¸¤ç§æ€ç»´è§£é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -38"><a href="#è§£æ³•ä»£ç -38" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># éå†çš„æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šæ‰¾åˆ° original ä¸­ target èŠ‚ç‚¹åœ¨ cloned æ ‘ä¸­å¯¹åº”çš„èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">getTargetCopy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> original<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> cloned<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        self<span class="token punctuation">.</span>target <span class="token operator">=</span> target        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>original<span class="token punctuation">,</span> cloned<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> original<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> cloned<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> original <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>res <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> original <span class="token operator">==</span> self<span class="token punctuation">.</span>target<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>res <span class="token operator">=</span> cloned            <span class="token keyword">return</span>        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>original<span class="token punctuation">.</span>left<span class="token punctuation">,</span> cloned<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>original<span class="token punctuation">.</span>right<span class="token punctuation">,</span> cloned<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token comment"># åˆ†è§£é—®é¢˜çš„æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šæ‰¾åˆ° original ä¸­ target èŠ‚ç‚¹åœ¨ cloned æ ‘ä¸­å¯¹åº”çš„èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">getTargetCopy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> original<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> cloned<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> original <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹</span>        <span class="token keyword">if</span> target <span class="token operator">==</span> original<span class="token punctuation">:</span>            <span class="token keyword">return</span> cloned        <span class="token comment"># å»å·¦å­æ ‘æ‰¾</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>getTargetCopy<span class="token punctuation">(</span>original<span class="token punctuation">.</span>left<span class="token punctuation">,</span> cloned<span class="token punctuation">.</span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> left        <span class="token comment"># å·¦å­æ ‘æ‰¾ä¸åˆ°çš„è¯å»å³å­æ ‘æ‰¾</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>getTargetCopy<span class="token punctuation">(</span>original<span class="token punctuation">.</span>right<span class="token punctuation">,</span> cloned<span class="token punctuation">.</span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-34"><a href="#å¯è§†åŒ–-34" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-combine-two-view/#%E5%8F%AF%E8%A7%86%E5%8C%96-6">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree" src="https://labuladong.online/algo-visualize/leetcode/find-a-corresponding-node-of-a-binary-tree-in-a-clone-of-that-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h1 id="ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜-I"><a href="#ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜-I" class="headerlink" title="ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I"></a>ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</h1><p>æœ‰äº›é¢˜ç›®ï¼Œä½ æŒ‰ç…§æ‹è„‘è¢‹çš„æ–¹å¼å»åšï¼Œå¯èƒ½å‘ç°éœ€è¦åœ¨é€’å½’ä»£ç ä¸­è°ƒç”¨å…¶ä»–é€’å½’å‡½æ•°è®¡ç®—å­—æ•°çš„ä¿¡æ¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºç°è¿™ç§æƒ…å†µæ—¶ä½ å¯ä»¥è€ƒè™‘ç”¨ååºéå†çš„æ€ç»´æ–¹å¼æ¥ä¼˜åŒ–ç®—æ³•ï¼Œåˆ©ç”¨ååºéå†ä¼ é€’å­æ ‘çš„ä¿¡æ¯ï¼Œé¿å…è¿‡é«˜çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>åƒæ±‚å’Œã€æ±‚é«˜åº¦è¿™ç§åŸºæœ¬çš„äºŒå‰æ ‘å‡½æ•°å¾ˆå®¹æ˜“å†™ï¼Œæœ‰æ—¶å€™åªè¦åœ¨å®ƒä»¬çš„ååºä½ç½®æ·»åŠ ä¸€ç‚¹ä»£ç ï¼Œå°±èƒ½å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€‚</p><hr><h2 id="110-å¹³è¡¡äºŒå‰æ ‘"><a href="#110-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="110. å¹³è¡¡äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#slug_balanced-binary-tree">110. å¹³è¡¡äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">110. å¹³è¡¡äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/balanced-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/balanced-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯<span>&nbsp;</span><span data-keyword="height-balanced">å¹³è¡¡äºŒå‰æ ‘</span><span>&nbsp;</span>&nbsp;</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/06/balance_1.jpg" style="max-width: 100%; width: 342px; height: 221px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/06/balance_2.jpg" style="max-width: 100%; width: 452px; height: 301px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,2,3,3,null,null,4,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 5000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/balanced-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 110. å¹³è¡¡äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-40"><a href="#åŸºæœ¬æ€è·¯-40" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é‡Œè¦ç”¨åˆ°å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡çš„ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>ä¸€èˆ¬çš„æ‹è„‘è¢‹æ€è·¯æ˜¯ï¼Œéå†äºŒå‰æ ‘ï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹è®¡ç®—å·¦å³çš„æœ€å¤§é«˜åº¦ã€‚</p><p>ä½†æ˜¯è®¡ç®—ä¸€æ£µäºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ä¹Ÿéœ€è¦é€’å½’éå†è¿™æ£µæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¦‚æœå¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½ç®—ä¸€éæœ€å¤§æ·±åº¦ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯æ¯”è¾ƒé«˜çš„ã€‚</p><p>æ‰€ä»¥æœ€å¥½çš„è§£æ³•æ˜¯åè¿‡æ¥æ€è€ƒï¼Œåªè®¡ç®—ä¸€æ¬¡æœ€å¤§æ·±åº¦ï¼Œè®¡ç®—çš„è¿‡ç¨‹ä¸­åœ¨ååºéå†ä½ç½®é¡ºä¾¿åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¹³è¡¡ï¼š</p><p>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆç®—å‡ºæ¥å·¦å³å­æ ‘çš„æœ€å¤§é«˜åº¦ï¼Œç„¶ååœ¨ååºéå†çš„ä½ç½®æ ¹æ®å·¦å³å­æ ‘çš„æœ€å¤§é«˜åº¦åˆ¤æ–­å¹³è¡¡æ€§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -39"><a href="#è§£æ³•ä»£ç -39" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•äºŒå‰æ ‘æ˜¯å¦å¹³è¡¡</span>        self<span class="token punctuation">.</span>balanced <span class="token operator">=</span> <span class="token boolean">True</span>    <span class="token keyword">def</span> <span class="token function">isBalanced</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>balanced    <span class="token comment"># è¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span>    <span class="token keyword">def</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># if not self.balanced:</span>        <span class="token comment"># éšä¾¿è¿”å›ä¸€ä¸ªå€¼å³å¯ï¼Œæ—¨åœ¨ç»“æŸé€’å½’</span>        <span class="token comment">#     return -666</span>        leftMaxDepth <span class="token operator">=</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        rightMaxDepth <span class="token operator">=</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®</span>        <span class="token comment"># å¦‚æœå·¦å³æœ€å¤§æ·±åº¦å¤§äº 1ï¼Œå°±ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘</span>        <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>rightMaxDepth <span class="token operator">-</span> leftMaxDepth<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>balanced <span class="token operator">=</span> <span class="token boolean">False</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token builtin">max</span><span class="token punctuation">(</span>leftMaxDepth<span class="token punctuation">,</span> rightMaxDepth<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-35"><a href="#å¯è§†åŒ–-35" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_balanced-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_balanced-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/balanced-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/count-univalue-subtrees">250. ç»Ÿè®¡åŒå€¼å­æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/ping-heng-er-cha-shu-lcof">å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘ ğŸŸ¢</a></li></ul><h2 id="508-å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"><a href="#508-å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ" class="headerlink" title="508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#slug_most-frequent-subtree-sum">508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/most-frequent-subtree-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/most-frequent-subtree-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¯·è¿”å›å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ç›¸åŒï¼Œè¿”å›æ‰€æœ‰å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œï¼ˆä¸é™é¡ºåºï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ä¸ªç»“ç‚¹çš„&nbsp;<strong style="font-weight: 600;">ã€Œå­æ ‘å…ƒç´ å’Œã€</strong>&nbsp;å®šä¹‰ä¸ºä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å…ƒç´ ä¹‹å’Œï¼ˆåŒ…æ‹¬ç»“ç‚¹æœ¬èº«ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/04/24/freq1-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [5,2,-3]<strong style="font-weight: 600;">è¾“å‡º:</strong> [2,-3,4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/04/24/freq2-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [5,2,-5]<b>è¾“å‡º:</b> [2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/most-frequent-subtree-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-41"><a href="#åŸºæœ¬æ€è·¯-41" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ï¼ŒåŒæ—¶è¦åˆ©ç”¨ååºä½ç½®æ¥è®¡ç®—ç­”æ¡ˆã€‚</p><p><code>sum</code> å‡½æ•°æ ¹æ®å­æ ‘çš„å…ƒç´ å’Œæ¨å¯¼å‡ºåŸæ ‘çš„æ‰€æœ‰å…ƒç´ å’Œï¼Œåªä¸è¿‡åœ¨ååºéå†ä½ç½®æ·»åŠ ä¸€äº›ç»Ÿè®¡å·¥ä½œï¼Œä¾¿äºæ‰¾å‡ºå‡ºç°é¢‘ç‡æœ€é«˜çš„å­æ ‘å’Œã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -40"><a href="#è§£æ³•ä»£ç -40" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># sum -> count</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>sum_to_count <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">findFrequentTreeSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># traverse the binary tree and record all subtree sums and their frequencies</span>        self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># find the highest frequency</span>        max_count <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>sum_to_count<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token comment"># find the subtree sums that have the highest frequency</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span>key <span class="token keyword">for</span> key<span class="token punctuation">,</span> count <span class="token keyword">in</span> self<span class="token punctuation">.</span>sum_to_count<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> count <span class="token operator">==</span> max_count<span class="token punctuation">]</span>        <span class="token comment"># convert to a python list</span>        <span class="token keyword">return</span> res    <span class="token comment"># definition: given a node, return the sum of all nodes in the subtree rooted at that node</span>    <span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        left_sum <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right_sum <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        res <span class="token operator">=</span> root<span class="token punctuation">.</span>val <span class="token operator">+</span> left_sum <span class="token operator">+</span> right_sum        <span class="token comment"># postorder traversal position, record the frequency of the subtree sum</span>        self<span class="token punctuation">.</span>sum_to_count<span class="token punctuation">[</span>res<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>sum_to_count<span class="token punctuation">.</span>get<span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-36"><a href="#å¯è§†åŒ–-36" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_most-frequent-subtree-sum" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_most-frequent-subtree-sum" src="https://labuladong.online/algo-visualize/leetcode/most-frequent-subtree-sum/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="563-äºŒå‰æ ‘çš„å¡åº¦"><a href="#563-äºŒå‰æ ‘çš„å¡åº¦" class="headerlink" title="563. äºŒå‰æ ‘çš„å¡åº¦"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#slug_binary-tree-tilt">563. äºŒå‰æ ‘çš„å¡åº¦</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">563. äºŒå‰æ ‘çš„å¡åº¦</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-tilt/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-tilt/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè®¡ç®—å¹¶è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">æ•´ä¸ªæ ‘<span>&nbsp;</span></strong>çš„å¡åº¦ ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ä¸ªæ ‘çš„<strong style="font-weight: 600;"><span>&nbsp;</span>èŠ‚ç‚¹çš„å¡åº¦<span>&nbsp;</span></strong>å®šä¹‰å³ä¸ºï¼Œè¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œå’Œå³å­æ ‘èŠ‚ç‚¹ä¹‹å’Œçš„<span>&nbsp;</span><strong style="font-weight: 600;">å·®çš„ç»å¯¹å€¼<span>&nbsp;</span></strong>ã€‚å¦‚æœæ²¡æœ‰å·¦å­æ ‘çš„è¯ï¼Œå·¦å­æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œä¸º 0 ï¼›æ²¡æœ‰å³å­æ ‘çš„è¯ä¹Ÿæ˜¯ä¸€æ ·ã€‚ç©ºç»“ç‚¹çš„å¡åº¦æ˜¯ 0 ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ•´ä¸ªæ ‘</strong><span>&nbsp;</span>çš„å¡åº¦å°±æ˜¯å…¶æ‰€æœ‰èŠ‚ç‚¹çš„å¡åº¦ä¹‹å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/20/tilt1.jpg" style="max-width: 100%; width: 712px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>èŠ‚ç‚¹ 2 çš„å¡åº¦ï¼š|0-0| = 0ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹ 3 çš„å¡åº¦ï¼š|0-0| = 0ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹ 1 çš„å¡åº¦ï¼š|2-3| = 1ï¼ˆå·¦å­æ ‘å°±æ˜¯å·¦å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å’Œæ˜¯ 2 ï¼›å³å­æ ‘å°±æ˜¯å³å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å’Œæ˜¯ 3 ï¼‰å¡åº¦æ€»å’Œï¼š0 + 0 + 1 = 1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/20/tilt2.jpg" style="max-width: 100%; width: 800px; height: 203px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,2,9,3,5,null,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>15<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>èŠ‚ç‚¹ 3 çš„å¡åº¦ï¼š|0-0| = 0ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹ 5 çš„å¡åº¦ï¼š|0-0| = 0ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹ 7 çš„å¡åº¦ï¼š|0-0| = 0ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹ 2 çš„å¡åº¦ï¼š|3-5| = 2ï¼ˆå·¦å­æ ‘å°±æ˜¯å·¦å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å’Œæ˜¯ 3 ï¼›å³å­æ ‘å°±æ˜¯å³å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å’Œæ˜¯ 5 ï¼‰èŠ‚ç‚¹ 9 çš„å¡åº¦ï¼š|0-7| = 7ï¼ˆæ²¡æœ‰å·¦å­æ ‘ï¼Œæ‰€ä»¥å’Œæ˜¯ 0 ï¼›å³å­æ ‘æ­£å¥½æ˜¯å³å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥å’Œæ˜¯ 7 ï¼‰èŠ‚ç‚¹ 4 çš„å¡åº¦ï¼š|(3+5+2)-(9+7)| = |10-16| = 6ï¼ˆå·¦å­æ ‘å€¼ä¸º 3ã€5 å’Œ 2 ï¼Œå’Œæ˜¯ 10 ï¼›å³å­æ ‘å€¼ä¸º 9 å’Œ 7 ï¼Œå’Œæ˜¯ 16 ï¼‰å¡åº¦æ€»å’Œï¼š0 + 0 + 0 + 2 + 7 + 6 = 15</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/20/tilt3.jpg" style="max-width: 100%; width: 800px; height: 293px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [21,7,14,1,1,2,2,3,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>9</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®çš„èŒƒå›´åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 10<sup>4</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-tilt/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 563. äºŒå‰æ ‘çš„å¡åº¦</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-42"><a href="#åŸºæœ¬æ€è·¯-42" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é‡Œè¦ç”¨åˆ°å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡çš„ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p><code>sum</code> å‡½æ•°è®°å½•äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œï¼Œåœ¨ååºä½ç½®é¡ºä¾¿è®¡ç®—äºŒå‰æ ‘çš„ã€Œå¡åº¦ã€å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -41"><a href="#è§£æ³•ä»£ç -41" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›è¿™æ£µäºŒå‰æ ‘æ‰€æœ‰å…ƒç´ çš„å’Œ</span>    <span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        left_sum <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right_sum <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®</span>        self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>left_sum <span class="token operator">-</span> right_sum<span class="token punctuation">)</span>        <span class="token keyword">return</span> left_sum <span class="token operator">+</span> right_sum <span class="token operator">+</span> root<span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">findTilt</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-37"><a href="#å¯è§†åŒ–-37" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-tilt" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-tilt" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-tilt/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="814-äºŒå‰æ ‘å‰ªæ"><a href="#814-äºŒå‰æ ‘å‰ªæ" class="headerlink" title="814. äºŒå‰æ ‘å‰ªæ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#slug_binary-tree-pruning">814. äºŒå‰æ ‘å‰ªæ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">814. äºŒå‰æ ‘å‰ªæ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-pruning/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-pruning/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œæ­¤å¤–æ ‘çš„æ¯ä¸ªç»“ç‚¹çš„å€¼è¦ä¹ˆæ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ï¼Œè¦ä¹ˆæ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ç§»é™¤äº†æ‰€æœ‰ä¸åŒ…å«<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>çš„å­æ ‘çš„åŸäºŒå‰æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code><span>&nbsp;</span>çš„å­æ ‘ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code><span>&nbsp;</span>æœ¬èº«åŠ ä¸Šæ‰€æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code><span>&nbsp;</span>çš„åä»£ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/04/06/1028_2.png" style="max-width: 100%; width: 500px; height: 140px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,0,0,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,0,null,1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åªæœ‰çº¢è‰²èŠ‚ç‚¹æ»¡è¶³æ¡ä»¶â€œæ‰€æœ‰ä¸åŒ…å« 1 çš„å­æ ‘â€ã€‚ å³å›¾ä¸ºè¿”å›çš„ç­”æ¡ˆã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/04/06/1028_1.png" style="max-width: 100%; width: 500px; height: 115px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,1,0,0,0,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,1,null,1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/04/05/1028.png" style="max-width: 100%; width: 500px; height: 134px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,1,0,1,1,0,1,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,1,0,1,1,null,1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 200]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code><span>&nbsp;</span>ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-pruning/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 814. äºŒå‰æ ‘å‰ªæ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-43"><a href="#åŸºæœ¬æ€è·¯-43" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å»ºè®®å…ˆåšä¸€ä¸‹ <a href="https://leetcode.cn/problems/diameter-of-binary-tree">543. äºŒå‰æ ‘çš„ç›´å¾„</a> å’Œ <a href="https://leetcode.cn/problems/longest-univalue-path">687. æœ€é•¿åŒå€¼è·¯å¾„</a>ï¼Œç†è§£ååºéå†ä½ç½®çš„ç‰¹æ®Šæ€§ã€‚</p><p>è¿™é“é¢˜çš„éš¾ç‚¹åœ¨äºè¦ä¸€ç›´å‰ªæï¼Œç›´åˆ°æ²¡æœ‰å€¼ä¸º 0 çš„å¶å­èŠ‚ç‚¹ä¸ºæ­¢ï¼Œåªæœ‰ä»ååºéå†ä½ç½®è‡ªåº•å‘ä¸Šå¤„ç†æ‰èƒ½è·å¾—æœ€é«˜çš„æ•ˆç‡ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -42"><a href="#è§£æ³•ä»£ç -42" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›çš„äºŒå‰æ ‘å¶å­èŠ‚ç‚¹éƒ½æ˜¯ 1</span>    <span class="token keyword">def</span> <span class="token function">pruneTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># äºŒå‰æ ‘é€’å½’æ¡†æ¶</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>pruneTree<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>pruneTree<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯å¦æ˜¯å€¼ä¸º 0 çš„å¶å­èŠ‚ç‚¹</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># è¿”å›å€¼ä¼šè¢«çˆ¶èŠ‚ç‚¹æ¥æ”¶ï¼Œç›¸å½“äºæŠŠè‡ªå·±åˆ æ‰äº†</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å¦‚æœä¸æ˜¯ï¼Œæ­£å¸¸è¿”å›</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-38"><a href="#å¯è§†åŒ–-38" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-pruning" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-pruning" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-pruning/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/delete-leaves-with-a-given-value">1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/pOCWxh">å‰‘æŒ‡ Offer II 047. äºŒå‰æ ‘å‰ªæ ğŸŸ </a></li></ul><h2 id="1325-åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹"><a href="#1325-åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹" class="headerlink" title="1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#slug_delete-leaves-with-a-given-value">1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/delete-leaves-with-a-given-value/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/delete-leaves-with-a-given-value/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µä»¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ä¸ºæ ¹çš„äºŒå‰æ ‘å’Œä¸€ä¸ªæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;ï¼Œè¯·ä½ åˆ é™¤æ‰€æœ‰å€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code><span>&nbsp;</span>çš„&nbsp;<strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ³¨æ„ï¼Œä¸€æ—¦åˆ é™¤å€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;çš„å¶å­èŠ‚ç‚¹ï¼Œå®ƒçš„çˆ¶èŠ‚ç‚¹å°±å¯èƒ½å˜æˆå¶å­èŠ‚ç‚¹ï¼›å¦‚æœæ–°å¶å­èŠ‚ç‚¹çš„å€¼æ°å¥½ä¹Ÿæ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code><span>&nbsp;</span>ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹ä¹Ÿåº”è¯¥è¢«åˆ é™¤ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°ä¸èƒ½ç»§ç»­åˆ é™¤ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/01/16/sample_1_1684.png" style="max-width: 100%; width: 500px; height: 112px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,2,null,2,4], target = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,3,null,4]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šé¢å·¦è¾¹çš„å›¾ä¸­ï¼Œç»¿è‰²èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œä¸”å®ƒä»¬çš„å€¼ä¸ target ç›¸åŒï¼ˆåŒä¸º 2 ï¼‰ï¼Œå®ƒä»¬ä¼šè¢«åˆ é™¤ï¼Œå¾—åˆ°ä¸­é—´çš„å›¾ã€‚æœ‰ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å˜æˆäº†å¶å­èŠ‚ç‚¹ä¸”å®ƒçš„å€¼ä¸ target ç›¸åŒï¼Œæ‰€ä»¥å°†å†æ¬¡è¿›è¡Œåˆ é™¤ï¼Œä»è€Œå¾—åˆ°æœ€å³è¾¹çš„å›¾ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/01/16/sample_2_1684.png" style="max-width: 100%; width: 400px; height: 154px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,3,3,3,2], target = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,3,null,null,2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/01/16/sample_3_1684.png" style="max-width: 100%; width: 450px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,null,2,null,2], target = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ¯ä¸€æ­¥éƒ½åˆ é™¤ä¸€ä¸ªç»¿è‰²çš„å¶å­èŠ‚ç‚¹ï¼ˆå€¼ä¸º 2ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 3000]</code>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val, target &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/delete-leaves-with-a-given-value/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-44"><a href="#åŸºæœ¬æ€è·¯-44" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>åˆ é™¤æŒ‡å®šå€¼çš„å¶å­èŠ‚ç‚¹ï¼Œå…¶å®å°±æ˜¯éå†æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦éœ€è¦åˆ é™¤ï¼›åˆ é™¤å¶å­èŠ‚ç‚¹ä¹Ÿå¾ˆç®€å•ï¼Œreturn null è®©çˆ¶èŠ‚ç‚¹æ¥æ”¶å³å¯ã€‚</p><p><strong>éš¾ç‚¹åœ¨äºä»–è¿™ä¸ªåˆ é™¤æ“ä½œæ˜¯å¾ªç¯çš„ï¼Œä¸€ç›´åˆ åˆ°å¶å­ç»“ç‚¹ä¸å­˜åœ¨ <code>target</code> ä¸ºæ­¢</strong>ã€‚è¿™é‡Œè¦ç”¨åˆ°å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡çš„ååºä½ç½®çš„å¦™ç”¨äº†ï¼š</p><p>ä¸€ä¸ªèŠ‚ç‚¹è¦åœ¨ååºä½ç½®æ¥æ”¶å·¦å³å­æ ‘çš„è¿”å›å€¼ï¼Œæ‰èƒ½çŸ¥é“è‡ªå·±çš„å¶å­èŠ‚ç‚¹æ˜¯å¦éƒ½è¢«åˆ æ‰äº†ï¼Œä»¥æ­¤åˆ¤æ–­è‡ªå·±æ˜¯ä¸æ˜¯å˜æˆäº†å¶å­èŠ‚ç‚¹ã€‚</p><p>è¿™ä¸ªè€ƒç‚¹åœ¨ <a href="https://leetcode.cn/problems/binary-tree-pruning">814. äºŒå‰æ ‘å‰ªæ</a> ä¸­ä¹Ÿæœ‰ä½“ç°ï¼Œæ²¡åšè¿‡çš„è¯»è€…å»ºè®®å»åšä¸€ä¸‹ï¼Œè§£æ³•çš„å…³é”®ç‚¹åœ¨äºåˆ©ç”¨ååºéå†ç‰¹ç‚¹ï¼Œåœ¨ååºéå†ä½ç½®æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥ç›´åˆ°è‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -43"><a href="#è§£æ³•ä»£ç -43" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">removeLeafNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># äºŒå‰æ ‘é€’å½’æ¡†æ¶</span>        <span class="token comment"># å¦‚æœå·¦å³å­èŠ‚ç‚¹éœ€è¦è¢«åˆ é™¤ï¼Œå…ˆé€’å½’åˆ é™¤å®ƒä»¬</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>removeLeafNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>removeLeafNodes<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®ï¼Œæ­¤æ—¶èŠ‚ç‚¹ root ç›´åˆ°è‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> target <span class="token keyword">and</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-39"><a href="#å¯è§†åŒ–-39" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_delete-leaves-with-a-given-value" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_delete-leaves-with-a-given-value" src="https://labuladong.online/algo-visualize/leetcode/delete-leaves-with-a-given-value/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="687-æœ€é•¿åŒå€¼è·¯å¾„"><a href="#687-æœ€é•¿åŒå€¼è·¯å¾„" class="headerlink" title="687. æœ€é•¿åŒå€¼è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_longest-univalue-path">687. æœ€é•¿åŒå€¼è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">687. æœ€é•¿åŒå€¼è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/longest-univalue-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/longest-univalue-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ï¼Œè¿”å›&nbsp;<em>æœ€é•¿çš„è·¯å¾„çš„é•¿åº¦</em><span>&nbsp;</span>ï¼Œè¿™ä¸ªè·¯å¾„ä¸­çš„&nbsp;<em>æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒå€¼</em>&nbsp;ã€‚ è¿™æ¡è·¯å¾„å¯ä»¥ç»è¿‡ä¹Ÿå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦</strong>&nbsp;ç”±å®ƒä»¬ä¹‹é—´çš„è¾¹æ•°è¡¨ç¤ºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/13/ex1.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,5,1,1,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/13/ex2.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,4,5,4,4,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 10<sup>4</sup>]</code>&nbsp;</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li><li>æ ‘çš„æ·±åº¦å°†ä¸è¶…è¿‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code>&nbsp;</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-univalue-path/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 687. æœ€é•¿åŒå€¼è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-45"><a href="#åŸºæœ¬æ€è·¯-45" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ï¼Œè€Œä¸”è¿™ç±»é¢˜ç›®éœ€è¦åˆ©ç”¨äºŒå‰æ ‘çš„ååºéå†ã€‚</p><p>åšè¿™é¢˜ä¹‹å‰ï¼Œæˆ‘å»ºè®®ä½ å…ˆåš <a href="https://leetcode.cn/problems/diameter-of-binary-tree">543. äºŒå‰æ ‘çš„ç›´å¾„</a> é¢˜å¹¶è¿›è¡Œå¯¹æ¯”ï¼ŒæŠŠé‚£é“é¢˜çš„æœ€å¤§æ·±åº¦å‡½æ•° <code>maxDepth</code> çš„å®šä¹‰å¸¦å…¥åˆ°è¿™é“é¢˜ä¸­ï¼Œ<code>maxLen</code> ç›¸å½“äºæ±‚å€¼ä¸º <code>parentVal</code> çš„èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦ã€‚é…åˆä»£ç æ³¨é‡Šå°±ç«‹é©¬æ˜ç™½äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -44"><a href="#è§£æ³•ä»£ç -44" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">longestUnivaluePath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># åœ¨ååºéå†çš„ä½ç½®æ›´æ–° res</span>        self<span class="token punctuation">.</span>maxLen<span class="token punctuation">(</span>root<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å®šä¹‰ï¼šè®¡ç®—ä»¥ root ä¸ºæ ¹çš„è¿™æ£µäºŒå‰æ ‘ä¸­ï¼Œä» root å¼€å§‹å€¼ä¸º parentVal çš„æœ€é•¿æ ‘æé•¿åº¦</span>    <span class="token keyword">def</span> <span class="token function">maxLen</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> parentVal<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># åˆ©ç”¨å‡½æ•°å®šä¹‰ï¼Œè®¡ç®—å·¦å³å­æ ‘å€¼ä¸º root.val çš„æœ€é•¿æ ‘æé•¿åº¦</span>        leftLen <span class="token operator">=</span> self<span class="token punctuation">.</span>maxLen<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        rightLen <span class="token operator">=</span> self<span class="token punctuation">.</span>maxLen<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># ååºéå†ä½ç½®é¡ºä¾¿æ›´æ–°å…¨å±€å˜é‡</span>        <span class="token comment"># åŒå€¼è·¯å¾„å°±æ˜¯å·¦å³åŒå€¼æ ‘æé•¿åº¦ä¹‹å’Œ</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> leftLen <span class="token operator">+</span> rightLen<span class="token punctuation">)</span>        <span class="token comment"># å¦‚æœ root æœ¬èº«å’Œä¸Šçº§å€¼ä¸åŒï¼Œé‚£ä¹ˆæ•´æ£µå­æ ‘éƒ½ä¸å¯èƒ½æœ‰åŒå€¼æ ‘æ</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">!=</span> parentVal<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># å®ç°å‡½æ•°çš„å®šä¹‰ï¼š</span>        <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä» root å¼€å§‹å€¼ä¸º parentVal çš„æœ€é•¿æ ‘æé•¿åº¦</span>        <span class="token comment"># ç­‰äºå·¦å³å­æ ‘çš„æœ€é•¿æ ‘æé•¿åº¦çš„æœ€å¤§å€¼åŠ ä¸Š root èŠ‚ç‚¹æœ¬èº«</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token builtin">max</span><span class="token punctuation">(</span>leftLen<span class="token punctuation">,</span> rightLen<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-40"><a href="#å¯è§†åŒ–-40" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_longest-univalue-path" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_longest-univalue-path" src="https://labuladong.online/algo-visualize/leetcode/longest-univalue-path/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/binary-tree-pruning">814. äºŒå‰æ ‘å‰ªæ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/pOCWxh">å‰‘æŒ‡ Offer II 047. äºŒå‰æ ‘å‰ªæ ğŸŸ </a></li></ul><h2 id="865-å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘"><a href="#865-å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘" class="headerlink" title="865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_smallest-subtree-with-all-the-deepest-nodes">865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/smallest-subtree-with-all-the-deepest-nodes/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/smallest-subtree-with-all-the-deepest-nodes/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªæ ¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">è¯¥èŠ‚ç‚¹åˆ°æ ¹çš„æœ€çŸ­è·ç¦»</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›åŒ…å«åŸå§‹æ ‘ä¸­æ‰€æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">æœ€æ·±èŠ‚ç‚¹</strong><span>&nbsp;</span>çš„<span>&nbsp;</span><em>æœ€å°å­æ ‘</em><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸€ä¸ªèŠ‚ç‚¹åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">æ•´ä¸ªæ ‘<span>&nbsp;</span></strong>çš„ä»»æ„èŠ‚ç‚¹ä¹‹é—´å…·æœ‰æœ€å¤§çš„æ·±åº¦ï¼Œåˆ™è¯¥èŠ‚ç‚¹æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">æœ€æ·±çš„</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ä¸ªèŠ‚ç‚¹çš„<span>&nbsp;</span><strong style="font-weight: 600;">å­æ ‘</strong><span>&nbsp;</span>æ˜¯è¯¥èŠ‚ç‚¹åŠ ä¸Šå®ƒçš„æ‰€æœ‰åä»£çš„é›†åˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/07/01/sketch1.png" style="max-width: 100%; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,5,1,6,2,0,8,null,null,7,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,7,4]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æˆ‘ä»¬è¿”å›å€¼ä¸º 2 çš„èŠ‚ç‚¹ï¼Œåœ¨å›¾ä¸­ç”¨é»„è‰²æ ‡è®°ã€‚åœ¨å›¾ä¸­ç”¨è“è‰²æ ‡è®°çš„æ˜¯æ ‘çš„æœ€æ·±çš„èŠ‚ç‚¹ã€‚æ³¨æ„ï¼ŒèŠ‚ç‚¹ 5ã€3 å’Œ 2 åŒ…å«æ ‘ä¸­æœ€æ·±çš„èŠ‚ç‚¹ï¼Œä½†èŠ‚ç‚¹ 2 çš„å­æ ‘æœ€å°ï¼Œå› æ­¤æˆ‘ä»¬è¿”å›å®ƒã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ¹èŠ‚ç‚¹æ˜¯æ ‘ä¸­æœ€æ·±çš„èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0,1,3,null,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ‘ä¸­æœ€æ·±çš„èŠ‚ç‚¹ä¸º 2 ï¼Œæœ‰æ•ˆå­æ ‘ä¸ºèŠ‚ç‚¹ 2ã€1 å’Œ 0 çš„å­æ ‘ï¼Œä½†èŠ‚ç‚¹ 2 çš„å­æ ‘æœ€å°ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°é‡åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 500]</code>&nbsp;èŒƒå›´å†…ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 500</code></li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">ç‹¬ä¸€æ— äºŒ</strong><span>&nbsp;</span>çš„ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸åŠ›æ‰£ 1123 é‡å¤ï¼š<a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-deepest-leaves/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">https://leetcode-cn.com/problems/lowest-common-ancestor-of-deepest-leaves</a></p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/smallest-subtree-with-all-the-deepest-nodes/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 865. å…·æœ‰æ‰€æœ‰æœ€æ·±èŠ‚ç‚¹çš„æœ€å°å­æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-46"><a href="#åŸºæœ¬æ€è·¯-46" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ï¼Œè€Œä¸”æ¶‰åŠå¤„ç†å­æ ‘ï¼Œéœ€è¦ç”¨ååºéå†ã€‚</p><p>è¯´åˆ°åº•ï¼Œè¿™é“é¢˜å°±æ˜¯è®©ä½ æ±‚é‚£äº›ã€Œæœ€æ·±ã€çš„å¶å­èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œå¯ä»¥çœ‹ä¸‹åæ–‡ <a href="https://labuladong.online/algo/practice-in-action/lowest-common-ancestor-summary/">äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ</a>ã€‚</p><p>ä½ æƒ³æƒ³ï¼Œä¸€ä¸ªèŠ‚ç‚¹éœ€è¦çŸ¥é“å“ªäº›ä¿¡æ¯ï¼Œæ‰èƒ½ç¡®å®šè‡ªå·±æ˜¯æœ€æ·±å¶å­èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Ÿ</p><p>å®ƒéœ€è¦çŸ¥é“è‡ªå·±çš„å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ï¼šå¦‚æœå·¦å³å­æ ‘ä¸€æ ·æ·±ï¼Œé‚£ä¹ˆå½“å‰èŠ‚ç‚¹å°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆï¼›å¦‚æœå·¦å³å­æ ‘ä¸ä¸€æ ·æ·±ï¼Œé‚£ä¹ˆæœ€æ·±å¶å­èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆè‚¯å®šåœ¨å·¦å³å­æ ‘ä¸Šã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code>Result</code> ç±»ï¼Œå­˜æ”¾å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦åŠå¶å­èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ï¼Œå…¶ä½™é€»è¾‘ç±»ä¼¼ <a href="https://leetcode.cn/problems/maximum-depth-of-binary-tree">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -45"><a href="#è§£æ³•ä»£ç -45" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">class</span> <span class="token class-name">Result</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># è®°å½•æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ node</span>            self<span class="token punctuation">.</span>node <span class="token operator">=</span> node            <span class="token comment"># è®°å½•ä»¥ node ä¸ºæ ¹çš„äºŒå‰æ ‘æœ€å¤§æ·±åº¦</span>            self<span class="token punctuation">.</span>depth <span class="token operator">=</span> depth    <span class="token keyword">def</span> <span class="token function">subtreeWithAllDeepest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        res <span class="token operator">=</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span>node    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›è¯¥äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ä»¥åŠæœ€æ·±å¶å­èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Solution.Result'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>Result<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>maxDepth<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">if</span> left<span class="token punctuation">.</span>depth <span class="token operator">==</span> right<span class="token punctuation">.</span>depth<span class="token punctuation">:</span>            <span class="token comment"># å½“å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ç›¸åŒæ—¶ï¼Œè¿™ä¸ªæ ¹èŠ‚ç‚¹æ˜¯æ–°çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span>            <span class="token comment"># ä»¥å½“å‰ root èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘æ·±åº¦æ˜¯å­æ ‘æ·±åº¦ + 1</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>Result<span class="token punctuation">(</span>root<span class="token punctuation">,</span> left<span class="token punctuation">.</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># å·¦å³å­æ ‘çš„æ·±åº¦ä¸åŒï¼Œåˆ™æœ€è¿‘å…¬å…±ç¥–å…ˆåœ¨ depth è¾ƒå¤§çš„ä¸€è¾¹</span>        res <span class="token operator">=</span> left <span class="token keyword">if</span> left<span class="token punctuation">.</span>depth <span class="token operator">></span> right<span class="token punctuation">.</span>depth <span class="token keyword">else</span> right        <span class="token comment"># æ­£ç¡®ç»´æŠ¤äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span>        res<span class="token punctuation">.</span>depth <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-41"><a href="#å¯è§†åŒ–-41" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_smallest-subtree-with-all-the-deepest-nodes" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_smallest-subtree-with-all-the-deepest-nodes" src="https://labuladong.online/algo-visualize/leetcode/smallest-subtree-with-all-the-deepest-nodes/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/lowest-common-ancestor-of-deepest-leaves">1123. æœ€æ·±å¶èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ ğŸŸ </a></li></ul><h2 id="1026-èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼"><a href="#1026-èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼" class="headerlink" title="1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_maximum-difference-between-node-and-ancestor">1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-difference-between-node-and-ancestor/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼Œæ‰¾å‡ºå­˜åœ¨äº<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong><span>&nbsp;</span>èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">A</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">B</code><span>&nbsp;</span>ä¹‹é—´çš„æœ€å¤§å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">V</code>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">V = |A.val - B.val|</code>ï¼Œä¸”<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">A</code><span>&nbsp;</span>æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">B</code><span>&nbsp;</span>çš„ç¥–å…ˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ï¼ˆå¦‚æœ A çš„ä»»ä½•å­èŠ‚ç‚¹ä¹‹ä¸€ä¸º Bï¼Œæˆ–è€… A çš„ä»»ä½•å­èŠ‚ç‚¹æ˜¯ B çš„ç¥–å…ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸º A æ˜¯ B çš„ç¥–å…ˆï¼‰</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/09/tmp-tree.jpg" style="max-width: 100%; width: 400px; height: 390px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [8,3,10,1,6,null,14,null,null,4,7,13]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>7<strong style="font-weight: 600;">è§£é‡Šï¼š </strong>æˆ‘ä»¬æœ‰å¤§é‡çš„èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆçš„å·®å€¼ï¼Œå…¶ä¸­ä¸€äº›å¦‚ä¸‹ï¼š|8 - 3| = 5|3 - 7| = 4|8 - 1| = 7|10 - 13| = 3åœ¨æ‰€æœ‰å¯èƒ½çš„å·®å€¼ä¸­ï¼Œæœ€å¤§å€¼ 7 ç”± |8 - 1| = 7 å¾—å‡ºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/11/09/tmp-tree-1.jpg" style="max-width: 100%; width: 250px; height: 349px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,2,null,0,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">5000</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-difference-between-node-and-ancestor/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-47"><a href="#åŸºæœ¬æ€è·¯-47" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜è¦ç”¨åˆ° <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> ä¸­å¼ºè°ƒçš„äºŒå‰æ ‘ååºä½ç½®çš„ç‰¹æ®Šæ€§ã€‚</p><p>ç«™åœ¨æŸä¸ªèŠ‚ç‚¹ï¼Œä½ å¦‚ä½•åˆ¤æ–­ä»¥è¿™ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­çš„æœ€å¤§å·®å€¼ï¼Ÿæ¢å¥è¯è¯´ï¼Œä½ éœ€è¦çŸ¥é“å“ªäº›ä¿¡æ¯ï¼Œæ‰èƒ½ç®—å‡ºæ¥è¿™ä¸ªæœ€å¤§å·®å€¼ï¼Ÿ</p><p>æ€è€ƒè¿™ä¸ªé—®é¢˜å¾ˆæœ‰å¿…è¦ï¼Œä½ å¿…é¡»å…ˆçŸ¥é“æ€ä¹ˆç®—ï¼Œæ‰èƒ½å†™é€’å½’å‡½æ•°å»å®ç°ä½ çš„æ€è·¯ã€‚</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹éœ€è¦çŸ¥é“å·¦å³å­æ ‘çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œç„¶åå°±èƒ½ç®—å‡ºã€Œä»¥è‡ªå·±ä¸ºç¥–å…ˆã€çš„æœ€å¤§å·®å€¼ã€‚</p><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½çŸ¥é“ä»¥è‡ªå·±ä¸ºç¥–å…ˆçš„æœ€å¤§å·®å€¼ï¼Œé‚£ä¹ˆæ‰€æœ‰è¿™äº›å·®å€¼ä¸­æœ€å¤§çš„é‚£ä¸ªå°±æ˜¯æ•´æ£µæ ‘çš„æœ€å¤§å·®å€¼ï¼Œè¿™ä¸ªå–æœ€å¤§å€¼çš„è¿‡ç¨‹éœ€è¦åœ¨ååºéå†çš„ä½ç½®è¿›è¡Œï¼Œç›´æ¥çœ‹è§£æ³•ä»£ç ç†è§£å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -46"><a href="#è§£æ³•ä»£ç -46" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxAncestorDiff</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>getMinMax<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    res <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›è¯¥äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œ</span>    <span class="token comment"># ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æœ€å°å€¼ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯æœ€å¤§å€¼</span>    <span class="token keyword">def</span> <span class="token function">getMinMax</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        leftMinMax <span class="token operator">=</span> self<span class="token punctuation">.</span>getMinMax<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        rightMinMax <span class="token operator">=</span> self<span class="token punctuation">.</span>getMinMax<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„è¿™æ£µæ ‘çš„æœ€å¤§å€¼å’Œæœ€å°å€¼å¯ä»¥é€šè¿‡å·¦å³å­æ ‘çš„æœ€å¤§æœ€å°å€¼æ¨å¯¼å‡ºæ¥</span>        rootMin <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">,</span> leftMinMax<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rightMinMax<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        rootMax <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">,</span> leftMinMax<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rightMinMax<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># åœ¨ååºä½ç½®é¡ºä¾¿åˆ¤æ–­æ‰€æœ‰å·®å€¼çš„æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> rootMax <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val <span class="token operator">-</span> rootMin<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">[</span>rootMin<span class="token punctuation">,</span> rootMax<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-42"><a href="#å¯è§†åŒ–-42" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-difference-between-node-and-ancestor" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-difference-between-node-and-ancestor" src="https://labuladong.online/algo-visualize/leetcode/maximum-difference-between-node-and-ancestor/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1339-åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯"><a href="#1339-åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯" class="headerlink" title="1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_maximum-product-of-splitted-binary-tree">1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-product-of-splitted-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„æ ¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ã€‚è¯·ä½ åˆ é™¤ 1 æ¡è¾¹ï¼Œä½¿äºŒå‰æ ‘åˆ†è£‚æˆä¸¤æ£µå­æ ‘ï¼Œä¸”å®ƒä»¬å­æ ‘å’Œçš„ä¹˜ç§¯å°½å¯èƒ½å¤§ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ 10^9 + 7 å–æ¨¡åå†è¿”å›ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/02/02/sample_1_1699.png" style="max-width: 100%; height: 200px; width: 495px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>110<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åˆ é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° 2 æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«ä¸º 11 å’Œ 10 ã€‚å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ 110 ï¼ˆ11*10ï¼‰</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/02/02/sample_2_1699.png" style="max-width: 100%; height: 200px; width: 495px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,2,3,4,null,null,5,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>90<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç§»é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° 2 æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«æ˜¯ 15 å’Œ 6 ã€‚å®ƒä»¬çš„ä¹˜ç§¯ä¸º 90 ï¼ˆ15*6ï¼‰</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,3,9,10,7,8,6,5,4,11,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1025</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ¯æ£µæ ‘æœ€å¤šæœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">50000</code>&nbsp;ä¸ªèŠ‚ç‚¹ï¼Œä¸”è‡³å°‘æœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code>&nbsp;ä¸ªèŠ‚ç‚¹ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10000]</code>&nbsp;ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-product-of-splitted-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-48"><a href="#åŸºæœ¬æ€è·¯-48" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é‡Œè¦ç”¨åˆ°å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡çš„ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>é¢˜ç›®è¯´çš„æ¯”è¾ƒç¹çï¼Œè¿™é“é¢˜è¯´çš„ç®€å•äº›å°±æ˜¯ï¼š</p><p>åœ¨äºŒå‰æ ‘ä¸­åˆ‡å‡ºä¸€ä¸ªå°äºŒå‰æ ‘ï¼ˆå­æ ‘ï¼‰ï¼Œè®¡ç®—è¿™ä¸ªå­æ ‘èŠ‚ç‚¹ä¹‹å’Œä¸å‰©ä¸‹çš„èŠ‚ç‚¹ä¹‹å’Œçš„ä¹˜ç§¯ã€‚</p><p>æƒ³æ±‚æœ€å¤§ä¹˜ç§¯ï¼Œé‚£å°±ç©·ä¸¾ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„åˆ‡æ³•éƒ½ç©·ä¸¾ä¸€éï¼Œè®¡ç®—ä¹˜ç§¯ã€‚</p><p>ä»»ä½•å­æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œéƒ½å¯ä»¥åœ¨ååºä½ç½®è·å¾—ï¼Œè€Œå‰©ä¸‹çš„å…¶ä»–èŠ‚ç‚¹ä¹‹å’Œå°±æ˜¯æ•´æ£µäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œå‡å»å­æ ‘èŠ‚ç‚¹ä¹‹å’Œã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å†™ä¸€ä¸ª <code>getSum</code> å‡½æ•°ï¼Œå…ˆæ‰§è¡Œä¸€éè®¡ç®—æ•´æ£µæ ‘çš„èŠ‚ç‚¹ä¹‹å’Œï¼Œç„¶åå†è°ƒç”¨ä¸€æ¬¡åˆ©ç”¨å®ƒçš„ååºä½ç½®è®¡ç®—ä¹˜ç§¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -47"><a href="#è§£æ³•ä»£ç -47" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxProduct</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># å…ˆåˆ©ç”¨æ±‚å’Œå‡½æ•°å¾—åˆ°æ•´æ£µæ ‘çš„èŠ‚ç‚¹ä¹‹å’Œ</span>        self<span class="token punctuation">.</span>treeSum <span class="token operator">=</span> self<span class="token punctuation">.</span>getSum<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># å†æ¬¡è°ƒç”¨ï¼Œåˆ©ç”¨ååºä½ç½®è®¡ç®—å­æ ‘ä¹‹ç§¯</span>        self<span class="token punctuation">.</span>getSum<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>treeSum <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">getSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        leftSum <span class="token operator">=</span> self<span class="token punctuation">.</span>getSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        rightSum <span class="token operator">=</span> self<span class="token punctuation">.</span>getSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        rootSum <span class="token operator">=</span> leftSum <span class="token operator">+</span> rightSum <span class="token operator">+</span> root<span class="token punctuation">.</span>val        <span class="token comment"># ååºä½ç½®è®¡ç®—ä¹˜ç§¯</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> rootSum <span class="token operator">*</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>treeSum <span class="token operator">-</span> rootSum<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> rootSum<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/count-nodes-with-the-highest-score">2049. ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›® ğŸŸ </a></li></ul><h2 id="1372-äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„"><a href="#1372-äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„" class="headerlink" title="1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_longest-zigzag-path-in-a-binary-tree">1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/longest-zigzag-path-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/longest-zigzag-path-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µä»¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;ä¸ºæ ¹çš„äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘ä¸­çš„äº¤é”™è·¯å¾„å®šä¹‰å¦‚ä¸‹ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é€‰æ‹©äºŒå‰æ ‘ä¸­<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„</strong>&nbsp;èŠ‚ç‚¹å’Œä¸€ä¸ªæ–¹å‘ï¼ˆå·¦æˆ–è€…å³ï¼‰ã€‚</li><li>å¦‚æœå‰è¿›æ–¹å‘ä¸ºå³ï¼Œé‚£ä¹ˆç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹çš„çš„å³å­èŠ‚ç‚¹ï¼Œå¦åˆ™ç§»åŠ¨åˆ°å®ƒçš„å·¦å­èŠ‚ç‚¹ã€‚</li><li>æ”¹å˜å‰è¿›æ–¹å‘ï¼šå·¦å˜å³æˆ–è€…å³å˜å·¦ã€‚</li><li>é‡å¤ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°ä½ åœ¨æ ‘ä¸­æ— æ³•ç»§ç»­ç§»åŠ¨ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">äº¤é”™è·¯å¾„çš„é•¿åº¦å®šä¹‰ä¸ºï¼š<strong style="font-weight: 600;">è®¿é—®è¿‡çš„èŠ‚ç‚¹æ•°ç›® - 1</strong>ï¼ˆå•ä¸ªèŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ä¸º 0 ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ç»™å®šæ ‘ä¸­æœ€é•¿<span>&nbsp;</span><strong style="font-weight: 600;">äº¤é”™è·¯å¾„</strong>&nbsp;çš„é•¿åº¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/03/07/sample_1_1702.png" style="max-width: 100%; height: 283px; width: 151px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,1,1,1,null,null,1,1,null,1,null,null,null,1,null,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå³ -&gt; å·¦ -&gt; å³ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/03/07/sample_2_1702.png" style="max-width: 100%; height: 253px; width: 120px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,1,1,null,1,null,null,1,1,null,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå·¦ -&gt; å³ -&gt; å·¦ -&gt; å³ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ¯æ£µæ ‘æœ€å¤šæœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">50000</code>&nbsp;ä¸ªèŠ‚ç‚¹ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-zigzag-path-in-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-49"><a href="#åŸºæœ¬æ€è·¯-49" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ï¼Œè€Œä¸”è¦ç”¨åˆ°ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ˜ç¡®ä¸€ä¸‹åè¯çš„å«ä¹‰ï¼Œä¾¿äºè®²è§£ï¼š</p><p>å¦‚æœä¸€ä¸ªä»ä¸Šåˆ°ä¸‹çš„äº¤é”™è·¯å¾„çš„å¼€å¤´æ˜¯ä»å³åˆ°å·¦çš„ï¼Œç§°ä¹‹ä¸ºã€Œå·¦äº¤é”™è·¯å¾„ã€ï¼Œåä¹‹æˆä¸ºã€Œå³äº¤é”™è·¯å¾„ã€ã€‚</p><p>è¿™æ ·çš„è¯ï¼Œä¸€ä¸ªèŠ‚ç‚¹ <code>x</code> èƒ½å¤Ÿäº§ç”Ÿçš„äº¤é”™è·¯å¾„å°±èƒ½åˆ†è§£åˆ°å·¦å³å­æ ‘ï¼š</p><p>1ã€<code>x</code> çš„å·¦å­æ ‘çš„ã€Œå³äº¤é”™è·¯å¾„ã€+ èŠ‚ç‚¹ <code>x</code> &#x3D; <code>x</code> çš„ã€Œå·¦äº¤é”™è·¯å¾„ã€</p><p>2ã€<code>x</code> çš„å³å­æ ‘çš„ã€Œå·¦äº¤é”™è·¯å¾„ã€+ èŠ‚ç‚¹ <code>x</code> &#x3D; <code>x</code> çš„ã€Œå³äº¤é”™è·¯å¾„ã€</p><p>æ¯”è¾ƒ <code>x</code> çš„å·¦å³äº¤é”™è·¯å¾„ï¼Œå³å¯ç®—å‡ºä»¥ <code>x</code> å¼€å¤´çš„æœ€é•¿äº¤é”™è·¯å¾„ã€‚</p><p>å¯¹äºŒå‰æ ‘ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹è®¡ç®—äº¤é”™è·¯å¾„é•¿åº¦ï¼Œå³å¯å¾—åˆ°æœ€é•¿çš„äº¤é”™è·¯å¾„é•¿åº¦ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª <code>getPathLen</code> å‡½æ•°è®¡ç®—å¹¶è¿”å›ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³äº¤é”™è·¯å¾„é•¿åº¦ï¼Œç„¶ååœ¨ååºä½ç½®ä¸Šæ›´æ–°å…¨å±€æœ€å¤§å€¼ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -48"><a href="#è§£æ³•ä»£ç -48" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestZigZag</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>getPathLen<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># è¾“å…¥äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ rootï¼Œè¿”å›ä¸¤ä¸ªå€¼</span>    <span class="token comment"># ç¬¬ä¸€ä¸ªæ˜¯ä» root å¼€å§‹å‘å·¦èµ°çš„æœ€é•¿äº¤é”™è·¯å¾„é•¿åº¦ï¼Œ</span>    <span class="token comment"># ç¬¬ä¸€ä¸ªæ˜¯ä» root å¼€å§‹å‘å³èµ°çš„æœ€é•¿äº¤é”™è·¯å¾„é•¿åº¦</span>    <span class="token keyword">def</span> <span class="token function">getPathLen</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">tuple</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>getPathLen<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>getPathLen<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œæ ¹æ®å·¦å³å­æ ‘çš„äº¤é”™è·¯å¾„é•¿åº¦æ¨ç®—æ ¹èŠ‚ç‚¹çš„äº¤é”™è·¯å¾„é•¿åº¦</span>        rootPathLen1 <span class="token operator">=</span> left<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>        rootPathLen2 <span class="token operator">=</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>        <span class="token comment"># æ›´æ–°å…¨å±€æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>rootPathLen1<span class="token punctuation">,</span> rootPathLen2<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>rootPathLen1<span class="token punctuation">,</span> rootPathLen2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-43"><a href="#å¯è§†åŒ–-43" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_longest-zigzag-path-in-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_longest-zigzag-path-in-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/longest-zigzag-path-in-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="606-æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²"><a href="#606-æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²" class="headerlink" title="606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_construct-string-from-binary-tree">606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/construct-string-from-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/construct-string-from-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·ä½ é‡‡ç”¨å‰åºéå†çš„æ–¹å¼ï¼Œå°†äºŒå‰æ ‘è½¬åŒ–ä¸ºä¸€ä¸ªç”±æ‹¬å·å’Œæ•´æ•°ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ„é€ å‡ºçš„å­—ç¬¦ä¸²ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç©ºèŠ‚ç‚¹ä½¿ç”¨ä¸€å¯¹ç©ºæ‹¬å·å¯¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"()"</code><span>&nbsp;</span>è¡¨ç¤ºï¼Œè½¬åŒ–åéœ€è¦çœç•¥æ‰€æœ‰ä¸å½±å“å­—ç¬¦ä¸²ä¸åŸå§‹äºŒå‰æ ‘ä¹‹é—´çš„ä¸€å¯¹ä¸€æ˜ å°„å…³ç³»çš„ç©ºæ‹¬å·å¯¹ã€‚</p><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/05/03/cons1-tree.jpg" style="max-width: 100%; width: 292px; height: 301px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"1(2(4))(3)"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åˆæ­¥è½¬åŒ–åå¾—åˆ° "1(2(4)())(3()())" ï¼Œä½†çœç•¥æ‰€æœ‰ä¸å¿…è¦çš„ç©ºæ‹¬å·å¯¹åï¼Œå­—ç¬¦ä¸²åº”è¯¥æ˜¯"1(2(4))(3)" ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/05/03/cons2-tree.jpg" style="max-width: 100%; width: 207px; height: 293px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,null,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"1(2()(4))(3)"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å’Œç¬¬ä¸€ä¸ªç¤ºä¾‹ç±»ä¼¼ï¼Œä½†æ˜¯æ— æ³•çœç•¥ç¬¬ä¸€ä¸ªç©ºæ‹¬å·å¯¹ï¼Œå¦åˆ™ä¼šç ´åè¾“å…¥ä¸è¾“å‡ºä¸€ä¸€æ˜ å°„çš„å…³ç³»ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/construct-string-from-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-50"><a href="#åŸºæœ¬æ€è·¯-50" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>æˆ‘ä»¬å…ˆæ˜ç¡® <code>tree2str</code> å‡½æ•°çš„å®šä¹‰ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªå®šä¹‰ç”Ÿæˆå·¦å³å­æ ‘çš„å­—ç¬¦ä¸²ï¼Œç„¶åç»“åˆ <code>root</code> ç»„è£…å‡ºæœ€åç»“æœã€‚</p><p>æ³¨æ„ï¼Œé¢˜ç›®è¯´æŒ‰ç…§å‰åºéå†çš„æ–¹å¼ç»„è£…å­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬å¿…é¡»åœ¨ååºéå†ä½ç½®å»ç»„è£…ï¼Œå› ä¸ºåªæœ‰é‚£é‡Œä½ æ‰èƒ½æ‹¿åˆ°å·¦å³å­æ ‘çš„å­—ç¬¦ä¸²ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -49"><a href="#è§£æ³•ä»£ç -49" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä»¥ root çš„äºŒå‰æ ‘ï¼Œè¿”å›æè¿°è¯¥äºŒå‰æ ‘çš„å­—ç¬¦ä¸²</span>    <span class="token keyword">def</span> <span class="token function">tree2str</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">""</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># é€’å½’ç”Ÿæˆå·¦å³å­æ ‘çš„å­—ç¬¦ä¸²</span>        left_str <span class="token operator">=</span> self<span class="token punctuation">.</span>tree2str<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right_str <span class="token operator">=</span> self<span class="token punctuation">.</span>tree2str<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä»£ç ä½ç½®</span>        <span class="token comment"># æ ¹æ®å·¦å³å­æ ‘å­—ç¬¦ä¸²ç»„è£…å‡ºå‰åºéå†çš„é¡ºåº</span>        <span class="token comment"># æŒ‰é¢˜ç›®è¦æ±‚å¤„ç† root åªæœ‰ä¸€è¾¹æœ‰å­æ ‘çš„æƒ…å†µ</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># çœç•¥ç©ºçš„å³å­æ ‘</span>            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>root<span class="token punctuation">.</span>val<span class="token punctuation">&#125;</span></span><span class="token string">(</span><span class="token interpolation"><span class="token punctuation">&#123;</span>left_str<span class="token punctuation">&#125;</span></span><span class="token string">)"</span></span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># ç©ºçš„å·¦å­æ ‘ä¸èƒ½çœç•¥</span>            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>root<span class="token punctuation">.</span>val<span class="token punctuation">&#125;</span></span><span class="token string">()(</span><span class="token interpolation"><span class="token punctuation">&#123;</span>right_str<span class="token punctuation">&#125;</span></span><span class="token string">)"</span></span>        <span class="token comment"># æŒ‰é¢˜ç›®è¦æ±‚å¤„ç† root å·¦å³å­æ ‘éƒ½ä¸ç©ºçš„æƒ…å†µ</span>        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">&#123;</span>root<span class="token punctuation">.</span>val<span class="token punctuation">&#125;</span></span><span class="token string">(</span><span class="token interpolation"><span class="token punctuation">&#123;</span>left_str<span class="token punctuation">&#125;</span></span><span class="token string">)(</span><span class="token interpolation"><span class="token punctuation">&#123;</span>right_str<span class="token punctuation">&#125;</span></span><span class="token string">)"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-44"><a href="#å¯è§†åŒ–-44" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_construct-string-from-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_construct-string-from-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/construct-string-from-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1443-æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´"><a href="#1443-æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´" class="headerlink" title="1443. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#slug_minimum-time-to-collect-all-apples-in-a-tree">1443. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1443. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/minimum-time-to-collect-all-apples-in-a-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/minimum-time-to-collect-all-apples-in-a-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µæœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä¸ªèŠ‚ç‚¹çš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n-1</code>&nbsp;ï¼Œå®ƒä»¬ä¸­æœ‰ä¸€äº›èŠ‚ç‚¹æœ‰è‹¹æœã€‚é€šè¿‡æ ‘ä¸Šçš„ä¸€æ¡è¾¹ï¼Œéœ€è¦èŠ±è´¹ 1 ç§’é’Ÿã€‚ä½ ä»&nbsp;<strong style="font-weight: 600;">èŠ‚ç‚¹ 0&nbsp;</strong>å‡ºå‘ï¼Œè¯·ä½ è¿”å›æœ€å°‘éœ€è¦å¤šå°‘ç§’ï¼Œå¯ä»¥æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœï¼Œå¹¶å›åˆ°èŠ‚ç‚¹ 0 ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ— å‘æ ‘çš„è¾¹ç”±&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">edges</code>&nbsp;ç»™å‡ºï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">edges[i] = [from<sub>i</sub>, to<sub>i</sub>]</code>&nbsp;ï¼Œè¡¨ç¤ºæœ‰ä¸€æ¡è¾¹è¿æ¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">from</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">to<sub>i</sub></code><span>&nbsp;</span>ã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¸ƒå°”æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">hasApple</code><span>&nbsp;</span>ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">hasApple[i] = true</code>&nbsp;ä»£è¡¨èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;æœ‰ä¸€ä¸ªè‹¹æœï¼Œå¦åˆ™ï¼ŒèŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;æ²¡æœ‰è‹¹æœã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/10/min_time_collect_apple_1.png" style="max-width: 100%; height: 212px; width: 300px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 7, edges = [[0,1],[0,2],[1,4],[1,5],[2,3],[2,6]], hasApple = [false,false,true,false,true,true,false]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>8 <strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾å±•ç¤ºäº†ç»™å®šçš„æ ‘ï¼Œå…¶ä¸­çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºæœ‰è‹¹æœã€‚ä¸€ä¸ªèƒ½æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœçš„æœ€ä¼˜æ–¹æ¡ˆç”±ç»¿è‰²ç®­å¤´è¡¨ç¤ºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/05/10/min_time_collect_apple_2.png" style="max-width: 100%; height: 212px; width: 300px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 7, edges = [[0,1],[0,2],[1,4],[1,5],[2,3],[2,6]], hasApple = [false,false,true,false,false,true,false]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>6<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸Šå›¾å±•ç¤ºäº†ç»™å®šçš„æ ‘ï¼Œå…¶ä¸­çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºæœ‰è‹¹æœã€‚ä¸€ä¸ªèƒ½æ”¶é›†åˆ°æ‰€æœ‰è‹¹æœçš„æœ€ä¼˜æ–¹æ¡ˆç”±ç»¿è‰²ç®­å¤´è¡¨ç¤ºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 7, edges = [[0,1],[0,2],[1,4],[1,5],[2,3],[2,6]], hasApple = [false,false,false,false,false,false,false]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 10^5</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">edges.length == n - 1</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">edges[i].length == 2</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= a<sub>i</sub>&nbsp;&lt; b<sub>i</sub>&nbsp;&lt;= n - 1</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">hasApple.length == n</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/minimum-time-to-collect-all-apples-in-a-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1443. æ”¶é›†æ ‘ä¸Šæ‰€æœ‰è‹¹æœçš„æœ€å°‘æ—¶é—´</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-51"><a href="#åŸºæœ¬æ€è·¯-51" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é‡Œè¦ç”¨åˆ°å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡çš„ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>é¢˜ç›®è¾“å…¥çš„æ˜¯è‹¥å¹²æ¡è¾¹çš„å½¢å¼ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç”¨ <a href="https://labuladong.online/algo/data-structure-basic/graph-basic/">å›¾è®ºç®—æ³•åŸºç¡€</a> ä¸­è®²åˆ°çš„è¡¨ç¤ºæ— å‘å›¾çš„é‚»æ¥è¡¨æ¥å­˜å‚¨è¿™æ£µå¤šå‰æ ‘ã€‚</p><p>æ„é€ å‡ºäº†å¤šå‰æ ‘ï¼Œè¿™é“é¢˜æ˜¾ç„¶è¦ç”¨åˆ†è§£é—®é¢˜çš„æ€ç»´æ¨¡å¼ï¼Œå¹¶åˆ©ç”¨ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿå‡è®¾ä½ ç«™åœ¨è¿™æ£µæ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹ä¸Šï¼Œä½ è„šåº•ä¸‹æœ‰å¤šæ£µå­æ ‘ï¼Œä½ è¦å»è¿™äº›å­æ ‘é‡Œé¢æ‰¾è‹¹æœå¯¹ä¸å¯¹ï¼Ÿ</p><p>ä½ å¦‚æœçŸ¥é“äº†åœ¨ä¸€æ£µå­æ ‘ä¸­æ‰¾è‹¹æœçš„æœ€å°æ­¥æ•°ï¼Œå‡è®¾ä¸º <code>x</code>ï¼Œé‚£ä¹ˆç®—ä¸Šä½ è¿›å‡ºè¿™æ£µå­æ ‘çš„ 2 æ­¥ï¼Œ<code>x + 2</code> å°±æ˜¯ä»ä½ è¿›å…¥è¿™æ£µå­æ ‘æ‰¾è‹¹æœçš„æœ€å°æ­¥æ•°ã€‚</p><p>å½“ç„¶ï¼Œä½ è„šåº•ä¸‹å¯èƒ½æœ‰å¤šæ£µå­æ ‘éƒ½æœ‰è‹¹æœï¼Œæ‰€ä»¥å°±ä¼šæœ‰ <code>x1 + 2, x2 + 2...</code> è¿™äº›ç»“æœåŠ èµ·æ¥ï¼Œä¸å°±æ˜¯åœ¨ä»¥ä½ è¿™ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„æ•´æ£µæ ‘æ‰¾è‹¹æœçš„æœ€å°æ­¥æ•°äº†ä¹ˆï¼Ÿè¿™åˆ†è§£é—®é¢˜çš„æ€è·¯ä¸å°±å‡ºæ¥äº†ä¹ˆï¼Ÿ</p><p>æŠŠä¸Šè¿°æ€è·¯ç¿»è¯‘å‡ºæ¥å³å¯ï¼Œæ³¨æ„é€’å½’å‡½æ•° <code>collect</code> çš„å®šä¹‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ²¡æœ‰è‹¹æœçš„æƒ…å†µç»™ä¸ªç‰¹æ®Šå€¼ï¼Œå…·ä½“çœ‹ä»£ç å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -50"><a href="#è§£æ³•ä»£ç -50" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># é‚»æ¥è¡¨å½¢å¼ï¼Œå­˜å‚¨ç€ä¸€æ£µå¤šå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">minTime</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> edges<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> hasApple<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># æ„é€ å¤šå‰æ ‘ç»“æ„</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> a<span class="token punctuation">,</span> b <span class="token keyword">in</span> edges<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>b<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span>        <span class="token comment"># æ ¹æ® collect å‡½æ•°çš„å®šä¹‰ï¼Œè¿”å›é¢˜ç›®æƒ³è¦çš„ç»“æœ</span>        self<span class="token punctuation">.</span>hasApple <span class="token operator">=</span> hasApple  <span class="token comment"># Adding this line to fix the NameError</span>        res <span class="token operator">=</span> self<span class="token punctuation">.</span>collect<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res <span class="token keyword">if</span> res <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span>    <span class="token comment"># å®šä¹‰ï¼šéå†ä»¥ root ä¸ºæ ¹çš„è¿™æ£µå¤šå‰æ ‘ï¼Œè¿”å›æ”¶é›†å…¶ä¸­çš„æ‰€æœ‰è‹¹æœæ‰€éœ€çš„æœ€å°‘æ­¥æ•°ï¼ˆæ—¶é—´ï¼‰</span>    <span class="token comment"># å¦‚æœè¿”å›çš„æ˜¯ -1ï¼Œè¯´æ˜ä»¥ root ä¸ºæ ¹çš„è¿™æ£µå¤šå‰æ ‘ä¸­æ²¡æœ‰è‹¹æœ</span>    <span class="token keyword">def</span> <span class="token function">collect</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">in</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        self<span class="token punctuation">.</span>visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># å»å­æ ‘çœ‹çœ‹æ˜¯å¦æ‰¾åˆ°äº†è‹¹æœ</span>        sum_time <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># Renamed sum to sum_time to avoid conflict with built-in sum function</span>        <span class="token keyword">for</span> child <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">:</span>            subTime <span class="token operator">=</span> self<span class="token punctuation">.</span>collect<span class="token punctuation">(</span>child<span class="token punctuation">)</span>            <span class="token keyword">if</span> subTime <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>                <span class="token comment"># è¿™æ£µå­æ ‘ä¸­æœ‰è‹¹æœï¼Œä» root è¿›å…¥å’Œç¦»å¼€è¿™æ£µå­æ ‘ï¼Œéœ€è¦é¢å¤–çš„ä¸¤æ­¥</span>                sum_time <span class="token operator">+=</span> subTime <span class="token operator">+</span> <span class="token number">2</span>        <span class="token comment"># åœ¨ååºä½ç½®å¯¹å½“å‰èŠ‚ç‚¹çš„æƒ…å†µå’Œå­æ ‘è¿”å›çš„ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼š</span>        <span class="token keyword">if</span> sum_time <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>hasApple<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># å­æ ‘ä¸­å‘ç°è‹¹æœï¼Œæˆ–è€…å½“å‰èŠ‚ç‚¹æ˜¯è‹¹æœï¼Œç›´æ¥è¿”å›ï¼Œsum_time å·²ç»ç®—ä¸Šäº†æœ¬èŠ‚ç‚¹å‡ºå…¥å­æ ‘çš„æ­¥æ•°</span>            <span class="token keyword">return</span> sum_time        <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„è¿™æ£µå¤šå‰æ ‘ä¸­ä¸å­˜åœ¨è‹¹æœï¼ŒæŒ‰ç…§å®šä¹‰è¿”å› -1</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-45"><a href="#å¯è§†åŒ–-45" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_minimum-time-to-collect-all-apples-in-a-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_minimum-time-to-collect-all-apples-in-a-tree" src="https://labuladong.online/algo-visualize/leetcode/minimum-time-to-collect-all-apples-in-a-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>å†™åœ¨ååºä½ç½®çš„ä»£ç æ˜¯æœ€æ½‡æ´’çš„ï¼Œä¸Šé€šçˆ¶èŠ‚ç‚¹ï¼ˆå¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°è·å–çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼‰ï¼Œä¸‹é€šå­æ ‘ï¼ˆå¯ä»¥é€šè¿‡é€’å½’è¿”å›å€¼æ”¶é›†å­æ ‘ä¿¡æ¯ï¼‰ï¼Œæœ‰å°‘éƒ¨åˆ†éš¾åº¦æ¯”è¾ƒå¤§çš„é¢˜ç›®ä¼šåŒæ—¶ç”¨åˆ°è¿™ä¸¤ä¸ªç‰¹æ€§ã€‚</p><h2 id="968-ç›‘æ§äºŒå‰æ ‘"><a href="#968-ç›‘æ§äºŒå‰æ ‘" class="headerlink" title="968. ç›‘æ§äºŒå‰æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#slug_binary-tree-cameras">968. ç›‘æ§äºŒå‰æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">968. ç›‘æ§äºŒå‰æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-cameras/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-cameras/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†<strong style="font-weight: 600;">å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;">è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2018/12/29/bst_cameras_01.png" style="max-width: 100%; height: 163px; width: 138px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>[0,0,null,0,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2018/12/29/bst_cameras_02.png" style="max-width: 100%; height: 312px; width: 139px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>[0,0,null,0,null,0,null,null,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>éœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><br><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šæ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 0ã€‚</li></ol></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-cameras/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 968. ç›‘æ§äºŒå‰æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-52"><a href="#åŸºæœ¬æ€è·¯-52" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡ååºä½ç½®çš„ç‰¹æ®Šä¹‹å¤„ï¼Œååºä½ç½®å¯ä»¥æ¥æ”¶åˆ°å­æ ‘çš„ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°æ¥æ”¶åˆ°çˆ¶èŠ‚ç‚¹ä¼ é€’çš„ä¿¡æ¯ï¼Œè¿™é“é¢˜å°±å¯ä»¥æ¯”è¾ƒå®Œç¾åœ°ä½“ç°è¿™ä¸€ç‰¹ç‚¹ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬åˆ—ä¸¾ä¸€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½å­˜åœ¨çš„å‡ ç§çŠ¶æ€ï¼š</p><p>è¯¥èŠ‚ç‚¹ä¸åœ¨ç›‘æ§åŒºåŸŸå†…ï¼Œç§°ä¸º uncover çŠ¶æ€ï¼›è¯¥èŠ‚ç‚¹åœ¨é™„è¿‘èŠ‚ç‚¹çš„ç›‘æ§èŒƒå›´å†…ï¼Œç§°ä¸º cover çŠ¶æ€ï¼›è¯¥èŠ‚ç‚¹è‡ªå·±è£…äº†æ‘„åƒå¤´ï¼Œç§°ä¸º set çŠ¶æ€ã€‚</p><p>å¦‚ä½•ä¿è¯å®‰è£…çš„æ‘„åƒå¤´æ•°é‡å°½å¯èƒ½å°‘å‘¢ï¼Ÿæ˜¾ç„¶å°±æ˜¯è¦å°½å¯èƒ½åˆ†æ•£ï¼Œè®©æ¯ä¸ªæ‘„åƒå¤´ç‰©å°½å…¶ç”¨ã€‚</p><p>å…·ä½“æ¥è¯´å°±æ˜¯è‡ªåº•å‘ä¸Šå®‰è£…æ‘„åƒå¤´ï¼Œåœ¨å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ï¼Œç„¶åæ¯éš”ä¸¤å±‚å†å®‰è£…ï¼ˆå› ä¸ºæ¯ä¸ªæ‘„åƒå¤´éƒ½å¯ä»¥ç®¡ä¸‰å±‚ï¼‰ã€‚</p><p>é‚£ä¹ˆä¸€ä¸ªèŠ‚ç‚¹åœ¨ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦è¢«å®‰è£…æ‘„åƒå¤´å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯å½“è¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¤„äº uncover çš„çŠ¶æ€çš„æ—¶å€™å¿…é¡»å®‰è£…æ‘„åƒå¤´ï¼Œä»¥ä¾¿è¦†ç›–å­èŠ‚ç‚¹ã€‚</p><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ååºä½ç½®è‡ªåº•å‘ä¸Šéå†äºŒå‰æ ‘ï¼ŒåŒæ—¶è¦åˆ©ç”¨å­èŠ‚ç‚¹çš„çŠ¶æ€ä»¥åŠçˆ¶èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦éœ€è¦å®‰è£…æ‘„åƒå¤´ã€‚</p><p>è§£æ³•ä¸­ <code>setCamera</code> å‡½æ•°å°±è´Ÿè´£æŒ‰ç…§æœ€ä¼˜æ–¹å¼ç»™äºŒå‰æ ‘å®‰è£…æ‘„åƒå¤´ï¼ŒåŒæ—¶è¿”å›èŠ‚ç‚¹çš„çŠ¶æ€ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -51"><a href="#è§£æ³•ä»£ç -51" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">minCameraCover</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>setCamera<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ï¼Œä»¥æœ€ä¼˜ç­–ç•¥åœ¨è¿™æ£µäºŒå‰æ ‘ä¸Šæ”¾ç½®æ‘„åƒå¤´ï¼Œ</span>    <span class="token comment"># ç„¶åè¿”å› root èŠ‚ç‚¹çš„æƒ…å†µï¼š</span>    <span class="token comment"># è¿”å› -1 ä»£è¡¨ root ä¸ºç©ºï¼Œè¿”å› 0 ä»£è¡¨ root æœªè¢« coverï¼Œ</span>    <span class="token comment"># è¿”å› 1 ä»£è¡¨ root å·²ç»è¢« coverï¼Œè¿”å› 2 ä»£è¡¨ root ä¸Šæ”¾ç½®äº†æ‘„åƒå¤´ã€‚</span>    <span class="token keyword">def</span> <span class="token function">setCamera</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> hasParent<span class="token punctuation">:</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token comment"># è·å–å·¦å³å­èŠ‚ç‚¹çš„æƒ…å†µ</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>setCamera<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>setCamera<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token comment"># æ ¹æ®å·¦å³å­èŠ‚ç‚¹çš„æƒ…å†µå’Œçˆ¶èŠ‚ç‚¹çš„æƒ…å†µåˆ¤æ–­å½“å‰èŠ‚ç‚¹åº”è¯¥åšçš„äº‹æƒ…</span>        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> right <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹</span>            <span class="token keyword">if</span> hasParent<span class="token punctuation">:</span>                <span class="token comment"># æœ‰çˆ¶èŠ‚ç‚¹çš„è¯ï¼Œè®©çˆ¶èŠ‚ç‚¹æ¥ cover è‡ªå·±</span>                <span class="token keyword">return</span> <span class="token number">0</span>            <span class="token comment"># æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„è¯ï¼Œè‡ªå·± set ä¸€ä¸ªæ‘„åƒå¤´</span>            self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">return</span> <span class="token number">2</span>        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> right <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># å·¦å³å­æ ‘å­˜åœ¨æ²¡æœ‰è¢« cover çš„</span>            <span class="token comment"># å¿…é¡»åœ¨å½“å‰èŠ‚ç‚¹ set ä¸€ä¸ªæ‘„åƒå¤´</span>            self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">return</span> <span class="token number">2</span>        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">or</span> right <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>            <span class="token comment"># å·¦å³å­æ ‘åªè¦æœ‰ä¸€ä¸ª set äº†æ‘„åƒå¤´</span>            <span class="token comment"># å½“å‰èŠ‚ç‚¹å°±å·²ç»æ˜¯ cover çŠ¶æ€äº†</span>            <span class="token keyword">return</span> <span class="token number">1</span>        <span class="token comment"># å‰©ä¸‹ left == 1 &amp;&amp; right == 1 çš„æƒ…å†µ</span>        <span class="token comment"># å³å½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½è¢« cover</span>        <span class="token keyword">if</span> hasParent<span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœæœ‰çˆ¶èŠ‚ç‚¹çš„è¯ï¼Œå¯ä»¥ç­‰çˆ¶èŠ‚ç‚¹ cover è‡ªå·±</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œåªèƒ½è‡ªå·± set ä¸€ä¸ªæ‘„åƒå¤´</span>            self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">return</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-46"><a href="#å¯è§†åŒ–-46" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-cameras" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-cameras" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-cameras/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"><a href="#979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸" class="headerlink" title="979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#slug_distribute-coins-in-binary-tree">979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/distribute-coins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/distribute-coins-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œå…¶ä¸­æ ‘ä¸­æ¯ä¸ªç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code><span>&nbsp;</span>éƒ½å¯¹åº”æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node.val</code><span>&nbsp;</span>æšç¡¬å¸ã€‚æ•´æ£µæ ‘ä¸Šä¸€å…±æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>æšç¡¬å¸ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨ä¸€æ¬¡ç§»åŠ¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸¤ä¸ªç›¸é‚»çš„ç»“ç‚¹ï¼Œç„¶åå°†ä¸€æšç¡¬å¸ä»å…¶ä¸­ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç»“ç‚¹ã€‚ç§»åŠ¨å¯ä»¥æ˜¯ä»çˆ¶ç»“ç‚¹åˆ°å­ç»“ç‚¹ï¼Œæˆ–è€…ä»å­ç»“ç‚¹ç§»åŠ¨åˆ°çˆ¶ç»“ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ä½¿æ¯ä¸ªç»“ç‚¹ä¸Š<span>&nbsp;</span><strong style="font-weight: 600;">åªæœ‰</strong><span>&nbsp;</span>ä¸€æšç¡¬å¸æ‰€éœ€çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å°‘</strong><span>&nbsp;</span>ç§»åŠ¨æ¬¡æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/18/tree1.png" style="max-width: 100%; width: 250px; height: 236px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,0,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸€æšç¡¬å¸ä»æ ¹ç»“ç‚¹ç§»åŠ¨åˆ°å·¦å­ç»“ç‚¹ï¼Œä¸€æšç¡¬å¸ä»æ ¹ç»“ç‚¹ç§»åŠ¨åˆ°å³å­ç»“ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/01/18/tree2.png" style="max-width: 100%; width: 250px; height: 236px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0,3,0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å°†ä¸¤æšç¡¬å¸ä»æ ¹ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ç§»åŠ¨åˆ°æ ¹ç»“ç‚¹ï¼ˆä¸¤æ¬¡ç§»åŠ¨ï¼‰ã€‚ç„¶åï¼Œå°†ä¸€æšç¡¬å¸ä»æ ¹ç»“ç‚¹ç§»åŠ¨åˆ°å³å­ç»“ç‚¹ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= n</code></li><li>æ‰€æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code><span>&nbsp;</span>çš„å€¼ä¹‹å’Œæ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/distribute-coins-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-53"><a href="#åŸºæœ¬æ€è·¯-53" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>åšè¿™é“é¢˜ä¹‹å‰ï¼Œä½ åº”è¯¥å…ˆåšä¸€ä¸‹ <a href="https://leetcode.cn/problems/diameter-of-binary-tree">543. äºŒå‰æ ‘çš„ç›´å¾„</a>ï¼Œå¹¶ä¸”è®¤çœŸç†è§£ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> ä¸­è¯´åˆ°çš„ååºéå†çš„ç”¨æ³•ã€‚</p><p>ç¡¬å¸çš„ç§»åŠ¨è§„åˆ™çœ‹ä¼¼å¾ˆå¤æ‚ï¼Œå› ä¸ºä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½éœ€è¦ç§»å‡ºç¡¬å¸ï¼Œä¹Ÿå¯èƒ½ç§»å…¥ç¡¬å¸ï¼Œè¿˜è¦æ±‚ç§»åŠ¨æ¬¡æ•°æœ€å°‘ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰æ— ä»ä¸‹æ‰‹ï¼Ÿ</p><p>å¯¹äºè¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆè¦è§‚å¯Ÿè§„å¾‹ä»”ç»†æ€è€ƒï¼Œçœ‹çœ‹èƒ½å¦å¯¹é¢˜ç›®è¿›è¡Œç®€åŒ–ï¼Œç„¶åå†æ±‚è§£ã€‚</p><p>é¦–å…ˆé¢˜ç›®è¯´äº†æ•´æ£µæ ‘ä¸Šä¸€å…±æœ‰ <code>n</code> æšç¡¬å¸ï¼Œæ„æ€æ˜¯é€šè¿‡ç§»åŠ¨ï¼Œä¸€å®šæ˜¯å¯ä»¥åšåˆ°æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸”ä»…æœ‰ä¸€æšç¡¬å¸ï¼Œä¸å­˜åœ¨æ— è§£çš„æƒ…å†µã€‚</p><p>ç°åœ¨çš„æƒ…å†µæ˜¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ <code>node.val</code> ä¸ªç¡¬å¸ï¼Œ<code>node.val &gt;= 0</code>ï¼Œå…è®¸æˆ‘ä»¬åœ¨ç›¸é‚»èŠ‚ç‚¹éšæ„ç§»åŠ¨ç¡¬å¸ï¼Œè®¡ç®—å°†æ‰€æœ‰èŠ‚ç‚¹é…å¹³ï¼ˆåªæœ‰ 1 ä¸ªç¡¬å¸ï¼‰çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ã€‚</p><p><strong>æˆ‘ä»¬å¯ä»¥ç®€å•å˜æ¢ä¸€ä¸‹ï¼šå…è®¸æ¯ä¸ªèŠ‚ç‚¹çš„ç¡¬å¸ä¸ªæ•°ä¸ºè´Ÿæ•°ï¼Œä¸”åªå…è®¸å­èŠ‚ç‚¹å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨ç¡¬å¸</strong>ã€‚</p><p>æ¯”æ–¹è¯´çˆ¶èŠ‚ç‚¹æƒ³å‘å­èŠ‚ç‚¹ç§»åŠ¨ 1 ä¸ªç¡¬å¸ï¼Œç­‰ä»·äºå­èŠ‚ç‚¹å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨ -1 ä¸ªç¡¬å¸ï¼›å¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„ç¡¬å¸ä¸ªæ•°ä¸º -3ï¼Œé‚£ä¹ˆä»–å°±éœ€è¦å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨ -4 ä¸ªç¡¬å¸ï¼Œæ‰èƒ½è®©è‡ªå·±çš„ç¡¬å¸ä¸ªæ•°å˜æˆ 1ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä¸ç”¨è€ƒè™‘ç§»å…¥å’Œç§»å‡ºçš„åŒºåˆ«äº†ï¼Œæƒ³è¦æŠŠä¸€ä¸ªèŠ‚ç‚¹çš„ç¡¬å¸ä¸ªæ•°å˜æˆ 1ï¼Œå°±è¦å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨ <code>node.val - 1</code> ä¸ªèŠ‚ç‚¹ã€‚</p><p>ç°åœ¨å°±å¯ä»¥å¼€å§‹äºŒå‰æ ‘çš„é€šç”¨è§£é¢˜æ€è·¯ï¼š<strong>å‡æƒ³ä½ ç°åœ¨ç«™åœ¨æ ¹èŠ‚ç‚¹ä¸Šï¼Œä½ å¦‚ä½•çŸ¥é“æŠŠæ•´æ£µæ ‘é…å¹³æ‰€éœ€çš„æœ€å°ç§»åŠ¨æ¬¡æ•°</strong>ï¼Ÿ</p><p>å·¦å­æ ‘æ¥è·Ÿä½ æ±‡æŠ¥ï¼Œæƒ³ç»™ä½ ç§»åŠ¨ <code>left</code> ä¸ªèŠ‚ç‚¹ï¼›å³å­æ ‘æ¥æ‰¾ä½ æ±‡æŠ¥ï¼Œæƒ³ç»™ä½ ç§»åŠ¨ <code>right</code> ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä½ æ‰€åœ¨èŠ‚ç‚¹å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨çš„ç¡¬å¸ä¸ªæ•°å°±æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">left + right + (node.val - 1)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªè¿‡ç¨‹ä¸­ç§»åŠ¨æ¬¡æ•°æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; è®©å½“å‰è¿™æ£µæ ‘å¹³è¡¡æ‰€éœ€çš„ç§»åŠ¨æ¬¡æ•°Math.abs(left) + Math.abs(right) + (node.val - 1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç°åœ¨ä½ å»çœ‹ä»£ç å°±èƒ½ç†è§£äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -52"><a href="#è§£æ³•ä»£ç -52" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">distributeCoins</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>getRest<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›è¿™æ£µäºŒå‰æ ‘ä¸­å¤šå‡ºçš„ç¡¬å¸ä¸ªæ•°ï¼Œè¿”å›è´Ÿæ•°ä»£è¡¨ç¼ºå°‘ç¡¬å¸</span>    <span class="token keyword">def</span> <span class="token function">getRest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># è®¡ç®—å·¦å³å­æ ‘å¤šå‡ºçš„ç¡¬å¸ä¸ªæ•°</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>getRest<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>getRest<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œè®¡ç®—å½“å‰è¿™æ£µæ ‘é…å¹³æ‰€éœ€çš„ç§»åŠ¨æ¬¡æ•°</span>        self<span class="token punctuation">.</span>res <span class="token operator">+=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>val <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># å®ç°å‡½æ•°çš„å®šä¹‰</span>        <span class="token keyword">return</span> left <span class="token operator">+</span> right <span class="token operator">+</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>val <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-47"><a href="#å¯è§†åŒ–-47" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_distribute-coins-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_distribute-coins-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/distribute-coins-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1080-æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹"><a href="#1080-æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹" class="headerlink" title="1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#slug_insufficient-nodes-in-root-to-leaf-paths">1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/insufficient-nodes-in-root-to-leaf-paths/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">limit</code><span>&nbsp;</span>ï¼Œè¯·ä½ åŒæ—¶åˆ é™¤æ ‘ä¸­æ‰€æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä¸è¶³èŠ‚ç‚¹<span>&nbsp;</span></strong>ï¼Œå¹¶è¿”å›æœ€ç»ˆäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å‡å¦‚é€šè¿‡èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code><span>&nbsp;</span>çš„æ¯ç§å¯èƒ½çš„ â€œæ ¹-å¶â€ è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">limit</code>ï¼Œåˆ™è¯¥èŠ‚ç‚¹è¢«ç§°ä¹‹ä¸º<strong style="font-weight: 600;"><span>&nbsp;</span>ä¸è¶³èŠ‚ç‚¹<span>&nbsp;</span></strong>ï¼Œéœ€è¦è¢«åˆ é™¤ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¶å­èŠ‚ç‚¹</strong>ï¼Œå°±æ˜¯æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/06/05/insufficient-11.png" style="max-width: 100%; width: 500px; height: 207px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,-99,-99,7,8,9,-99,-99,12,13,-99,14], limit = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2,3,4,null,null,7,8,9,null,14]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/06/05/insufficient-3.png" style="max-width: 100%; width: 400px; height: 274px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,8,11,null,17,4,7,1,null,null,5,3], limit = 22<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,4,8,11,null,17,4,7,null,null,null,5]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/06/11/screen-shot-2019-06-11-at-83301-pm.png" style="max-width: 100%; width: 250px; height: 199px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,-3,-5,null,4,null], limit = -1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,-3,4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 5000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>9</sup><span>&nbsp;</span>&lt;= limit &lt;= 10<sup>9</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-54"><a href="#åŸºæœ¬æ€è·¯-54" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å¯ä»¥è¯´è¿™é“é¢˜éå¸¸ç²¾å¦™ï¼Œå®Œç¾è¿ç”¨å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> ä¸­è¯´åˆ°çš„å‰åºä½ç½®å’Œååºä½ç½®çš„ç‰¹ç‚¹ï¼š</p><p>å‰åºä½ç½®å¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°è·å–çˆ¶èŠ‚ç‚¹ä¼ é€’æ¥çš„æ•°æ®ï¼Œååºä½ç½®å¯ä»¥é¢å¤–è·å–å­æ ‘ä¼ é€’å›æ¥çš„æ•°æ®ã€‚</p><p>é¦–å…ˆï¼Œå¯¹äºä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå®ƒæœ¬èº«å°±æ˜¯ä»¥è‡ªå·±ä¸ºæ ¹çš„è¿™æ£µäºŒå‰æ ‘çš„è·¯å¾„ï¼Œé‚£ä¹ˆè¿™æ¡è·¯å¾„æ˜¯å¦å°äº <code>limit</code> çš„çº¦æŸæ˜¯å¾ˆæ˜¾ç„¶çš„ï¼Œå¦‚æœå°äº <code>limit</code>ï¼Œè¯´æ˜å®ƒéœ€è¦è¢«åˆ é™¤ã€‚</p><p>ç„¶åï¼Œå¯¹äºä¸€ä¸ªéå¶å­èŠ‚ç‚¹ <code>x</code>ï¼Œå®ƒæ˜¯å¦æ˜¯ä¸€ä¸ªã€Œä¸è¶³èŠ‚ç‚¹ã€ï¼Œæˆ–è€…è¯´æ˜¯å¦å­˜åœ¨ä¸€æ¡ä¸æ»¡è¶³ <code>limit</code> çº¦æŸçš„è·¯å¾„ç©¿è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œå…¶å®å¯ä»¥æ ¹æ®å­æ ‘æ¨å¯¼å‡ºæ¥ã€‚</p><p>å¦‚æœ <code>x</code> çš„å·¦å³å­èŠ‚ç‚¹éƒ½è¢«åˆ é™¤ï¼Œé‚£ä¹ˆå°±è¯´æ˜ <code>x</code> çš„å·¦å³å­æ ‘ä¸Šçš„è·¯å¾„éƒ½ä¸æ»¡è¶³ <code>limit</code> çš„çº¦æŸï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰ç©¿è¿‡ <code>x</code> çš„è·¯å¾„éƒ½ä¸æ»¡è¶³çº¦æŸï¼Œå³ <code>x</code> ä¹Ÿåº”è¯¥è¢«åˆ é™¤ã€‚</p><p>æ ¹æ®ä¸Šè¿°æ€è·¯å®ç°ä»£ç ï¼Œå³å¯è§£å†³è¿™é“é¢˜ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -53"><a href="#è§£æ³•ä»£ç -53" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹ rootï¼Œå’Œçº¦æŸ limitï¼Œ</span><span class="token comment"># åˆ é™¤ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸­çš„ã€Œä¸è¶³èŠ‚ç‚¹ã€ï¼Œè¿”å›åˆ é™¤å®Œæˆåçš„äºŒå‰æ ‘æ ¹èŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sufficientSubset</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å‰åºä½ç½®ï¼Œæ¥æ”¶çˆ¶èŠ‚ç‚¹ä¼ é€’çš„ limit çº¦æŸå†³å®šå¶å­ç»“ç‚¹æ˜¯å¦éœ€è¦è¢«åˆ é™¤</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> limit<span class="token punctuation">:</span>                <span class="token comment"># å¯¹äºå¶å­èŠ‚ç‚¹ï¼Œå¦‚æœä½äº limit è¯´æ˜éœ€è¦è¢«åˆ é™¤</span>                <span class="token keyword">return</span> <span class="token boolean">None</span>            <span class="token keyword">return</span> root        <span class="token comment"># å…ˆå¯¹å·¦å³å­æ ‘è¿›è¡Œåˆ é™¤ï¼Œæ¥æ”¶è¿”å›å€¼</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>sufficientSubset<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> limit <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>sufficientSubset<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> limit <span class="token operator">-</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œæ ¹æ®å­æ ‘çš„åˆ é™¤æƒ…å†µå†³å®šè‡ªå·±æ˜¯å¦éœ€è¦è¢«åˆ é™¤</span>        <span class="token keyword">if</span> left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœå·¦å³å­æ ‘ä¸æ»¡è¶³ limit - root.val çš„çº¦æŸï¼Œé‚£ä¹ˆå°±å­˜åœ¨ç»è¿‡ root</span>            <span class="token comment"># èŠ‚ç‚¹çš„è·¯å¾„ä¸æ»¡è¶³çº¦æŸï¼Œä¹Ÿå°±è¯´æ˜ root èŠ‚ç‚¹æ˜¯ã€Œä¸è¶³èŠ‚ç‚¹ã€ï¼Œéœ€è¦è¢«åˆ æ‰</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> left        root<span class="token punctuation">.</span>right <span class="token operator">=</span> right        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-48"><a href="#å¯è§†åŒ–-48" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_insufficient-nodes-in-root-to-leaf-paths" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_insufficient-nodes-in-root-to-leaf-paths" src="https://labuladong.online/algo-visualize/leetcode/insufficient-nodes-in-root-to-leaf-paths/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="2049-ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®"><a href="#2049-ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®" class="headerlink" title="2049. ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#slug_count-nodes-with-the-highest-score">2049. ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">2049. ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/count-nodes-with-the-highest-score/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/count-nodes-with-the-highest-score/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µæ ¹èŠ‚ç‚¹ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>çš„&nbsp;<strong style="font-weight: 600;">äºŒå‰æ ‘</strong>&nbsp;ï¼Œå®ƒæ€»å…±æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n - 1</code>&nbsp;ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä»&nbsp;<strong style="font-weight: 600;">0</strong>&nbsp;å¼€å§‹çš„æ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">parents</code>&nbsp;è¡¨ç¤ºè¿™æ£µæ ‘ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">parents[i]</code>&nbsp;æ˜¯èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;çš„çˆ¶èŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;æ˜¯æ ¹ï¼Œæ‰€ä»¥&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">parents[0] == -1</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ä¸ªå­æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å¤§å°</strong>&nbsp;ä¸ºè¿™ä¸ªå­æ ‘å†…èŠ‚ç‚¹çš„æ•°ç›®ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„&nbsp;<strong style="font-weight: 600;">åˆ†æ•°</strong>&nbsp;ã€‚æ±‚å‡ºæŸä¸ªèŠ‚ç‚¹åˆ†æ•°çš„æ–¹æ³•æ˜¯ï¼Œå°†è¿™ä¸ªèŠ‚ç‚¹å’Œä¸å®ƒç›¸è¿çš„è¾¹å…¨éƒ¨<span>&nbsp;</span><strong style="font-weight: 600;">åˆ é™¤</strong>&nbsp;ï¼Œå‰©ä½™éƒ¨åˆ†æ˜¯è‹¥å¹²ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">éç©º</strong>&nbsp;å­æ ‘ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„<span>&nbsp;</span><strong style="font-weight: 600;">åˆ†æ•°</strong>&nbsp;ä¸ºæ‰€æœ‰è¿™äº›å­æ ‘<span>&nbsp;</span><strong style="font-weight: 600;">å¤§å°çš„ä¹˜ç§¯</strong>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">æœ€é«˜å¾—åˆ†</strong>&nbsp;èŠ‚ç‚¹çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ•°ç›®</strong>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="example-1" src="https://labuladong.online/algo/images/lc/uploads/2021/10/03/example-1.png" style="max-width: 100%; width: 604px; height: 266px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>parents = [-1,2,0,2,0]<b>è¾“å‡ºï¼š</b>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>- èŠ‚ç‚¹ 0 çš„åˆ†æ•°ä¸ºï¼š3 * 1 = 3- èŠ‚ç‚¹ 1 çš„åˆ†æ•°ä¸ºï¼š4 = 4- èŠ‚ç‚¹ 2 çš„åˆ†æ•°ä¸ºï¼š1 * 1 * 2 = 2- èŠ‚ç‚¹ 3 çš„åˆ†æ•°ä¸ºï¼š4 = 4- èŠ‚ç‚¹ 4 çš„åˆ†æ•°ä¸ºï¼š4 = 4æœ€é«˜å¾—åˆ†ä¸º 4 ï¼Œæœ‰ä¸‰ä¸ªèŠ‚ç‚¹å¾—åˆ†ä¸º 4 ï¼ˆåˆ†åˆ«æ˜¯èŠ‚ç‚¹ 1ï¼Œ3 å’Œ 4 ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="example-2" src="https://labuladong.online/algo/images/lc/uploads/2021/10/03/example-2.png" style="max-width: 100%; width: 95px; height: 143px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>parents = [-1,2,0]<b>è¾“å‡ºï¼š</b>2<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>- èŠ‚ç‚¹ 0 çš„åˆ†æ•°ä¸ºï¼š2 = 2- èŠ‚ç‚¹ 1 çš„åˆ†æ•°ä¸ºï¼š2 = 2- èŠ‚ç‚¹ 2 çš„åˆ†æ•°ä¸ºï¼š1 * 1 = 1æœ€é«˜åˆ†æ•°ä¸º 2 ï¼Œæœ‰ä¸¤ä¸ªèŠ‚ç‚¹åˆ†æ•°ä¸º 2 ï¼ˆåˆ†åˆ«ä¸ºèŠ‚ç‚¹ 0 å’Œ 1 ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == parents.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2 &lt;= n &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">parents[0] == -1</code></li><li>å¯¹äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i != 0</code>&nbsp;ï¼Œæœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= parents[i] &lt;= n - 1</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">parents</code>&nbsp;è¡¨ç¤ºä¸€æ£µäºŒå‰æ ‘ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/count-nodes-with-the-highest-score/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 2049. ç»Ÿè®¡æœ€é«˜åˆ†çš„èŠ‚ç‚¹æ•°ç›®</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-55"><a href="#åŸºæœ¬æ€è·¯-55" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ï¼Œè€Œä¸”è¦ç”¨åˆ°ååºä½ç½®çš„å¦™ç”¨ã€‚</p><p>åœ¨åšè¿™é“é¢˜ä¹‹å‰ï¼Œå»ºè®®ä½ å…ˆå»çœ‹ä¸‹æˆ‘ç»™ <a href="https://leetcode.cn/problems/maximum-product-of-splitted-binary-tree">1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</a> å†™çš„æ€è·¯å’Œè§£æ³•ä»£ç ï¼Œç„¶åç«‹é©¬å°±çŸ¥é“è¿™é“é¢˜çš„æ€è·¯äº†ã€‚</p><p>ç®€å•è¯´ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„ <strong>åˆ†æ•° &#x3D; å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•° x å³å­æ ‘èŠ‚ç‚¹ä¸ªæ•° x é™¤è‡ªå·±å¤–å…¶ä»–èŠ‚ç‚¹ä¸ªæ•°</strong>ã€‚</p><p>åªè¦å†™ä¸ª <code>countNode</code> å‡½æ•°ï¼Œåœ¨ååºä½ç½®å¯ä»¥å¾—åˆ°å·¦å³å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•° <code>leftCount</code> å’Œ <code>rightCount</code>ï¼Œç„¶åé™¤è‡ªå·±å¤–å…¶ä»–èŠ‚ç‚¹ä¸ªæ•° <code>otherCount</code> å°±ç­‰äºæ€»çš„èŠ‚ç‚¹ä¸ªæ•° <code>n</code> å‡æ‰å·¦å³å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°å†å‡æ‰å½“å‰èŠ‚ç‚¹ï¼Œæœ€åæ±‚ä¸ªä¹˜ç§¯å°±èƒ½ç®—å‡ºå½“å‰èŠ‚ç‚¹çš„ã€Œåˆ†æ•°ã€äº†ã€‚</p><p>å½“ç„¶ï¼Œè¿™é“é¢˜è¿˜æœ‰ä¸ªéš¾ç‚¹å°±æ˜¯ï¼šé¢˜ç›®ç»™çš„ <code>parents</code> æ•°ç»„ä¸æ˜¯æˆ‘ä»¬ç»å¸¸è§åˆ°çš„äºŒå‰æ ‘å½¢å¼ã€‚</p><p>ä½†é—®é¢˜ä¸å¤§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ <code>parents</code> æ•°ç»„è½¬åŒ–æˆç±»ä¼¼ <a href="https://labuladong.online/algo/data-structure-basic/graph-basic/">å›¾è®ºåŸºç¡€</a> ä¸­è®²åˆ°çš„é‚»æ¥è¡¨ç»“æ„ï¼Œç„¶åå°±å¯ä»¥åƒæ“ä½œå¸¸è§„äºŒå‰æ ‘ä¸€æ ·å†™ç®—æ³•äº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/">ã€ç»ƒä¹ ã€‘åˆ©ç”¨ååºä½ç½®è§£é¢˜ III</a></li></ul><h3 id="è§£æ³•ä»£ç -54"><a href="#è§£æ³•ä»£ç -54" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># ç”¨é‚»æ¥è¡¨è¡¨ç¤ºçš„ä¸€æ£µäºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>tree <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>scoreToCount <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">countHighestScoreNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parents<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>tree <span class="token operator">=</span> self<span class="token punctuation">.</span>buildTree<span class="token punctuation">(</span>parents<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>countNode<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token comment"># è®¡ç®—æœ€å¤§åˆ†æ•°å‡ºç°çš„æ¬¡æ•°</span>        maxScore <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> score <span class="token keyword">in</span> self<span class="token punctuation">.</span>scoreToCount<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            maxScore <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxScore<span class="token punctuation">,</span> score<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>scoreToCount<span class="token punctuation">[</span>maxScore<span class="token punctuation">]</span>    <span class="token comment"># è®¡ç®—äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°</span>    <span class="token keyword">def</span> <span class="token function">countNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ€»æ•°</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>tree<span class="token punctuation">)</span>        leftCount <span class="token operator">=</span> self<span class="token punctuation">.</span>countNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>tree<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        rightCount <span class="token operator">=</span> self<span class="token punctuation">.</span>countNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>tree<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ã€Œåˆ†æ•°ã€</span>        otherCount <span class="token operator">=</span> n <span class="token operator">-</span> leftCount <span class="token operator">-</span> rightCount <span class="token operator">-</span> <span class="token number">1</span>        <span class="token comment"># æ³¨æ„ï¼Œè¿™é‡Œè¦æŠŠ int è½¬åŒ–æˆ longï¼Œå¦åˆ™ä¼šäº§ç”Ÿæº¢å‡ºï¼ï¼ï¼</span>        score <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>leftCount<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token builtin">max</span><span class="token punctuation">(</span>rightCount<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token builtin">max</span><span class="token punctuation">(</span>otherCount<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># ç»™åˆ†æ•° score è®¡æ•°</span>        <span class="token keyword">if</span> score <span class="token keyword">in</span> self<span class="token punctuation">.</span>scoreToCount<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>scoreToCount<span class="token punctuation">[</span>score<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>scoreToCount<span class="token punctuation">[</span>score<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">return</span> leftCount <span class="token operator">+</span> rightCount <span class="token operator">+</span> <span class="token number">1</span>    <span class="token comment"># å°† parents æ•°ç»„è½¬åŒ–æˆå¸¸è§„äºŒå‰æ ‘ï¼ˆé‚»æ¥è¡¨å½¢å¼ï¼‰</span>    <span class="token keyword">def</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parents<span class="token punctuation">)</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>parents<span class="token punctuation">)</span>        <span class="token comment"># è¡¨èŠ‚ç‚¹ x çš„å·¦å­èŠ‚ç‚¹ä¸º tree[x][0]ï¼ŒèŠ‚ç‚¹ x çš„å³å­èŠ‚ç‚¹ä¸º tree[x][1]</span>        <span class="token comment"># è‹¥ tree[x][0] æˆ– tree[x][1] ç­‰äº -1 åˆ™ä»£è¡¨ç©ºæŒ‡é’ˆ</span>        tree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token comment"># æ ¹æ® parents æ•°ç»„æ„å»ºäºŒå‰æ ‘ï¼ˆè·³è¿‡ parents[0] æ ¹èŠ‚ç‚¹ï¼‰</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            parent_i <span class="token operator">=</span> parents<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            <span class="token keyword">if</span> tree<span class="token punctuation">[</span>parent_i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>                tree<span class="token punctuation">[</span>parent_i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i            <span class="token keyword">else</span><span class="token punctuation">:</span>                tree<span class="token punctuation">[</span>parent_i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i        <span class="token keyword">return</span> tree<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-49"><a href="#å¯è§†åŒ–-49" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-post-order-iii/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_count-nodes-with-the-highest-score" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_count-nodes-with-the-highest-score" src="https://labuladong.online/algo-visualize/leetcode/count-nodes-with-the-highest-score/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h1 id="ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜-I"><a href="#ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜-I" class="headerlink" title="ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I"></a>ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</h1><p>äºŒå‰æ ‘å¤§éƒ¨åˆ†é¢˜ç›®éƒ½å¯ä»¥ç”¨é€’å½’çš„ç®—æ³•è§£å†³ï¼Œä½†å°‘éƒ¨åˆ†é¢˜ç›®ç”¨é€’å½’æ¯”è¾ƒéº»çƒ¦çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨å±‚åºéå†çš„æ–¹å¼è§£å†³ã€‚</p><hr><h2 id="102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="102. äºŒå‰æ ‘çš„å±‚åºéå†"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">102. äºŒå‰æ ‘çš„å±‚åºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-level-order-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<span>&nbsp;</span><strong style="font-weight: 600;">å±‚åºéå†</strong><span>&nbsp;</span>ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/tree1.jpg" style="max-width: 100%; width: 277px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[3],[9,20],[15,7]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 2000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-level-order-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 102. äºŒå‰æ ‘çš„å±‚åºéå†</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-56"><a href="#åŸºæœ¬æ€è·¯-56" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜æ²¡å•¥å¯è¯´çš„ï¼Œ<a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘çš„é€’å½’&#x2F;å±‚åºéå†</a> éå†ä¸­ä»‹ç»äº†ä¸‰ç§å±‚åºï¼ˆBFSï¼‰éå†çš„å†™æ³•ï¼Œä»»å†™ä¸€ç§éƒ½å¯ä»¥ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -55"><a href="#è§£æ³•ä»£ç -55" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">levelOrder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># è®°å½•è¿™ä¸€å±‚çš„èŠ‚ç‚¹å€¼</span>            level <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># for å¾ªç¯æ§åˆ¶æ¯ä¸€å±‚ä»å·¦å‘å³éå†</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                level<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>level<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-50"><a href="#å¯è§†åŒ–-50" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-level-order-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-level-order-traversal" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-level-order-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå† ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal-ii">107. äºŒå‰æ ‘çš„å±‚åºéå† II ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/maximum-level-sum-of-a-binary-tree">1161. æœ€å¤§å±‚å†…å…ƒç´ å’Œ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/deepest-leaves-sum">1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/even-odd-tree">1609. å¥‡å¶æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/n-ary-tree-level-order-traversal">429. N å‰æ ‘çš„å±‚åºéå† ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/average-of-levels-in-binary-tree">637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ ğŸŸ¢</a></li><li><a href="https://leetcode.cn/problems/complete-binary-tree-inserter">919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/check-completeness-of-a-binary-tree">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof">å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof">å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II ğŸŸ¢</a></li><li><a href="https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof">å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III ğŸŸ </a></li></ul><h2 id="107-äºŒå‰æ ‘çš„å±‚åºéå†-II"><a href="#107-äºŒå‰æ ‘çš„å±‚åºéå†-II" class="headerlink" title="107. äºŒå‰æ ‘çš„å±‚åºéå† II"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_binary-tree-level-order-traversal-ii">107. äºŒå‰æ ‘çš„å±‚åºéå† II</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">107. äºŒå‰æ ‘çš„å±‚åºéå† II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-level-order-traversal-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼<span>&nbsp;</span><strong style="font-weight: 600;">è‡ªåº•å‘ä¸Šçš„å±‚åºéå†</strong><span>&nbsp;</span>ã€‚ ï¼ˆå³æŒ‰ä»å¶å­èŠ‚ç‚¹æ‰€åœ¨å±‚åˆ°æ ¹èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ï¼Œé€å±‚ä»å·¦å‘å³éå†ï¼‰</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/tree1.jpg" style="max-width: 100%; width: 277px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[15,7],[9,20],[3]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 2000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1000 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 107. äºŒå‰æ ‘çš„å±‚åºéå† II</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-57"><a href="#åŸºæœ¬æ€è·¯-57" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜å’Œ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œè‡ªé¡¶å‘ä¸‹çš„å±‚åºéå†åè¿‡æ¥å°±è¡Œäº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -56"><a href="#è§£æ³•ä»£ç -56" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token punctuation">,</span> Optional<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">levelOrderBottom</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># è®°å½•è¿™ä¸€å±‚çš„èŠ‚ç‚¹å€¼</span>            level <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token comment"># for å¾ªç¯æ§åˆ¶æ¯ä¸€å±‚ä»å·¦å‘å³éå†</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                level<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># æŠŠæ¯ä¸€å±‚æ·»åŠ åˆ°å¤´éƒ¨ï¼Œå°±æ˜¯è‡ªåº•å‘ä¸Šçš„å±‚åºéå†ã€‚</span>            res<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>level<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-51"><a href="#å¯è§†åŒ–-51" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-level-order-traversal-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-level-order-traversal-ii" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-level-order-traversal-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†"><a href="#103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†" class="headerlink" title="103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_binary-tree-zigzag-level-order-traversal">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-tree-zigzag-level-order-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<span>&nbsp;</span><strong style="font-weight: 600;">é”¯é½¿å½¢å±‚åºéå†</strong><span>&nbsp;</span>ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/tree1.jpg" style="max-width: 100%; width: 277px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[3],[20,9],[15,7]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 2000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-58"><a href="#åŸºæœ¬æ€è·¯-58" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜å’Œ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œåªè¦ç”¨ä¸€ä¸ªå¸ƒå°”å˜é‡ <code>flag</code> æ§åˆ¶éå†æ–¹å‘å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -57"><a href="#è§£æ³•ä»£ç -57" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">zigzagLevelOrder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># ä¸º true æ—¶å‘å³ï¼Œfalse æ—¶å‘å·¦</span>        flag <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># è®°å½•è¿™ä¸€å±‚çš„èŠ‚ç‚¹å€¼</span>            level <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># for å¾ªç¯æ§åˆ¶æ¯ä¸€å±‚ä»å·¦å‘å³éå†</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># å®ç° z å­—å½¢éå†</span>                <span class="token keyword">if</span> flag<span class="token punctuation">:</span>                    level<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    level<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># åˆ‡æ¢æ–¹å‘</span>            flag <span class="token operator">=</span> <span class="token keyword">not</span> flag            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-52"><a href="#å¯è§†åŒ–-52" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_binary-tree-zigzag-level-order-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_binary-tree-zigzag-level-order-traversal" src="https://labuladong.online/algo-visualize/leetcode/binary-tree-zigzag-level-order-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/even-odd-tree">1609. å¥‡å¶æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof">å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III ğŸŸ </a></li></ul><h2 id="117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II"><a href="#117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II" class="headerlink" title="117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_populating-next-right-pointers-in-each-node-ii">117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/populating-next-right-pointers-in-each-node-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">struct Node {  int val;  Node *left;  Node *right;  Node *next;}</pre><p style="line-height: 1.6; overflow-wrap: break-word;">å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">NULL</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰&nbsp;next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">NULL</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2019/02/15/117_sample.png" style="max-width: 100%; width: 500px; height: 171px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>ï¼šroot = [1,2,3,4,5,null,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,#,2,3,#,4,5,7,#]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚åºåˆ—åŒ–è¾“å‡ºæŒ‰å±‚åºéå†é¡ºåºï¼ˆç”± next æŒ‡é’ˆè¿æ¥ï¼‰ï¼Œ'#' è¡¨ç¤ºæ¯å±‚çš„æœ«å°¾ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 6000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä½ åªèƒ½ä½¿ç”¨å¸¸é‡çº§é¢å¤–ç©ºé—´ã€‚</li><li>ä½¿ç”¨é€’å½’è§£é¢˜ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œæœ¬é¢˜ä¸­é€’å½’ç¨‹åºçš„éšå¼æ ˆç©ºé—´ä¸è®¡å…¥é¢å¤–ç©ºé—´å¤æ‚åº¦ã€‚</li></ul><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-59"><a href="#åŸºæœ¬æ€è·¯-59" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/algorithm-summary/">æˆ‘çš„ç®—æ³•å­¦ä¹ ç»éªŒ</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ã€‚</p><p>ä½†è¿™é¢˜å’Œ <a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node">116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</a> è¿˜ä¸ä¸€æ ·ï¼Œè¾“å…¥çš„ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œæ‰€ä»¥ä¸å¥½ç›´æ¥ç”¨é€’å½’ã€‚</p><p>è¿™é¢˜ç”¨ <a href="https://labuladong.online/algo/essential-technique/bfs-framework/">BFS ç®—æ³•</a> è¿›è¡Œå±‚åºéå†æ¯”è¾ƒç›´è§‚ï¼Œåœ¨ for å¾ªç¯ï¼Œæ— éå°±æ˜¯æƒ³åŠæ³•éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶åæŠŠè¿™ä¸ªèŠ‚ç‚¹å’Œç›¸é‚»èŠ‚ç‚¹è¿èµ·æ¥ç½¢äº†ã€‚</p><p>å½“ç„¶ï¼Œè¿˜æœ‰æ•ˆç‡æ›´é«˜çš„æ–¹å¼ï¼Œå°±æ˜¯ç›´æ¥æ“ä½œæŒ‡é’ˆï¼Œä¸è¿‡ç•¥æœ‰äº›éš¾æ‡‚ï¼Œæš‚æ—¶ä¸å†™ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li><li><a href="https://labuladong.online/algo/problem-set/bfs/">ã€ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -58"><a href="#è§£æ³•ä»£ç -58" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> left<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token builtin">next</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> val        self<span class="token punctuation">.</span>left <span class="token operator">=</span> left        self<span class="token punctuation">.</span>right <span class="token operator">=</span> right        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token builtin">next</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">connect</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> <span class="token string">'Node'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Node'</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># äºŒå‰æ ‘å±‚åºéå†æ¡†æ¶</span>        <span class="token keyword">from</span> collections <span class="token keyword">import</span> deque        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># éå†ä¸€å±‚</span>            pre <span class="token operator">=</span> <span class="token boolean">None</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># é“¾æ¥å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹çš„ next æŒ‡é’ˆ</span>                <span class="token keyword">if</span> pre <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    pre<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> cur                pre <span class="token operator">=</span> cur                <span class="token comment"># å°†ä¸‹ä¸€å±‚èŠ‚ç‚¹è£…å…¥é˜Ÿåˆ—</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="662-äºŒå‰æ ‘æœ€å¤§å®½åº¦"><a href="#662-äºŒå‰æ ‘æœ€å¤§å®½åº¦" class="headerlink" title="662. äºŒå‰æ ‘æœ€å¤§å®½åº¦"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_maximum-width-of-binary-tree">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-width-of-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-width-of-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å¤§å®½åº¦</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å¤§å®½åº¦</strong><span>&nbsp;</span>æ˜¯æ‰€æœ‰å±‚ä¸­æœ€å¤§çš„<span>&nbsp;</span><strong style="font-weight: 600;">å®½åº¦</strong><span>&nbsp;</span>ã€‚</p><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;">æ¯ä¸€å±‚çš„<span>&nbsp;</span><strong style="font-weight: 600;">å®½åº¦</strong><span>&nbsp;</span>è¢«å®šä¹‰ä¸ºè¯¥å±‚æœ€å·¦å’Œæœ€å³çš„éç©ºèŠ‚ç‚¹ï¼ˆå³ï¼Œä¸¤ä¸ªç«¯ç‚¹ï¼‰ä¹‹é—´çš„é•¿åº¦ã€‚å°†è¿™ä¸ªäºŒå‰æ ‘è§†ä½œä¸æ»¡äºŒå‰æ ‘ç»“æ„ç›¸åŒï¼Œä¸¤ç«¯ç‚¹é—´ä¼šå‡ºç°ä¸€äº›å»¶ä¼¸åˆ°è¿™ä¸€å±‚çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">null</code><span>&nbsp;</span>èŠ‚ç‚¹ï¼Œè¿™äº›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">null</code><span>&nbsp;</span>èŠ‚ç‚¹ä¹Ÿè®¡å…¥é•¿åº¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°†ä¼šåœ¨&nbsp;<span>&nbsp;</span><strong style="font-weight: 600;">32 ä½</strong><span>&nbsp;</span>å¸¦ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/05/03/width1-tree.jpg" style="max-width: 100%; width: 359px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,3,2,5,3,null,9]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å¤§å®½åº¦å‡ºç°åœ¨æ ‘çš„ç¬¬ 3 å±‚ï¼Œå®½åº¦ä¸º 4 (5,3,null,9) ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2022/03/14/maximum-width-of-binary-tree-v3.jpg" style="max-width: 100%; width: 442px; height: 422px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,3,2,5,null,null,9,6,null,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>7<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å¤§å®½åº¦å‡ºç°åœ¨æ ‘çš„ç¬¬ 4 å±‚ï¼Œå®½åº¦ä¸º 7 (6,null,null,null,null,null,7) ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/05/03/width3-tree.jpg" style="max-width: 100%; width: 289px; height: 299px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,3,2,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å¤§å®½åº¦å‡ºç°åœ¨æ ‘çš„ç¬¬ 2 å±‚ï¼Œå®½åº¦ä¸º 2 (3,2) ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 3000]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-100 &lt;= Node.val &lt;= 100</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-width-of-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-60"><a href="#åŸºæœ¬æ€è·¯-60" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p><strong>è¿™é“é¢˜çš„è§£é¢˜å…³é”®æ˜¯è¦ç»™äºŒå‰æ ‘èŠ‚ç‚¹æŒ‰è¡Œè¿›è¡Œç¼–å·</strong>ï¼Œç„¶åä½ å°±å¯ä»¥é€šè¿‡æ¯ä¸€è¡Œçš„æœ€å·¦ä¾§èŠ‚ç‚¹å’Œæœ€å³ä¾§èŠ‚ç‚¹çš„ç¼–å·æ¨ç®—å‡ºè¿™ä¸€è¡Œçš„å®½åº¦ï¼Œè¿›è€Œç®—å‡ºæœ€å¤§å®½åº¦ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/662.png" alt="img"></p><p>è€Œä¸”ï¼Œè¿™æ ·ç¼–å·è¿˜å¯ä»¥é€šè¿‡çˆ¶èŠ‚ç‚¹çš„ç¼–å·è®¡ç®—å¾—å‡ºå·¦å³å­èŠ‚ç‚¹çš„ç¼–å·ï¼š</p><p>å‡è®¾çˆ¶èŠ‚ç‚¹çš„ç¼–å·æ˜¯ <code>x</code>ï¼Œå·¦å­èŠ‚ç‚¹å°±æ˜¯ <code>2 * x</code>ï¼Œå³å­èŠ‚ç‚¹å°±æ˜¯ <code>2 * x + 1</code>ã€‚</p><p>è¿™ä¸ªç‰¹æ€§å¸¸è§äºå®Œå…¨äºŒå‰æ ‘çš„é¢˜ç›®å½“ä¸­ï¼Œä½ å¯ä»¥å»çœ‹çœ‹å‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/binary-heap-basic/">å›¾æ–‡è¯¦è§£äºŒå‰å †ï¼Œå®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—</a> æˆ–è€…å»åšä¸€ä¸‹ <a href="https://leetcode.cn/problems/path-in-zigzag-labelled-binary-tree">1104. äºŒå‰æ ‘å¯»è·¯</a> è¿™é“é¢˜ã€‚</p><p>æ˜ç™½äº†è¿™ä¸ªå…³é”®ç‚¹ï¼Œå°±å¯ä»¥é€šè¿‡ BFS æˆ–è€… DFS å®ç°è§£æ³•äº†ï¼Œæˆ‘æŠŠä¸¤ç§è§£æ³•éƒ½å†™å‡ºæ¥ä¾›ä½ å‚è€ƒã€‚</p><p>å…¶ä¸­ DFS çš„é€’å½’è§£æ³•éœ€è¦ä½ é€å½»ç†è§£äºŒå‰æ ‘çš„éå†é¡ºåºï¼Œä½ å¯ä»¥å…ˆåšä¸€ä¸‹ <a href="https://leetcode.cn/problems/binary-tree-right-side-view">199. äºŒå‰æ ‘çš„å³è§†å›¾</a> è¿™é“é¢˜ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li><li><a href="https://labuladong.online/algo/problem-set/bfs/">ã€ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -59"><a href="#è§£æ³•ä»£ç -59" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å±‚åºéå†æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è®°å½•èŠ‚ç‚¹å’Œå¯¹åº”ç¼–å·</span>    <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>node <span class="token operator">=</span> node            self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> <span class="token builtin">id</span>    <span class="token keyword">def</span> <span class="token function">widthOfBinaryTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token comment"># è®°å½•æœ€å¤§çš„å®½åº¦</span>        maxWidth <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># æ ‡å‡† BFS å±‚åºéå†ç®—æ³•</span>        q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Pair<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># ä»ä¸Šåˆ°ä¸‹éå†æ•´æ£µæ ‘</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            start <span class="token operator">=</span> <span class="token number">0</span>            end <span class="token operator">=</span> <span class="token number">0</span>            <span class="token comment"># ä»å·¦åˆ°å³éå†æ¯ä¸€è¡Œ</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                curNode <span class="token operator">=</span> cur<span class="token punctuation">.</span>node                curId <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token builtin">id</span>                <span class="token comment"># è®°å½•å½“å‰è¡Œç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ç¼–å·</span>                <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                    start <span class="token operator">=</span> curId                <span class="token keyword">if</span> i <span class="token operator">==</span> sz <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>                    end <span class="token operator">=</span> curId                <span class="token comment"># å·¦å³å­èŠ‚ç‚¹å…¥é˜Ÿï¼ŒåŒæ—¶è®°å½•å¯¹åº”èŠ‚ç‚¹çš„ç¼–å·</span>                <span class="token keyword">if</span> curNode<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Pair<span class="token punctuation">(</span>curNode<span class="token punctuation">.</span>left<span class="token punctuation">,</span> curId <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> curNode<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>Pair<span class="token punctuation">(</span>curNode<span class="token punctuation">.</span>right<span class="token punctuation">,</span> curId <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># ç”¨å½“å‰è¡Œçš„å®½åº¦æ›´æ–°æœ€å¤§å®½åº¦</span>            maxWidth <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">,</span> end <span class="token operator">-</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> maxWidth<span class="token comment"># é€’å½’éå†æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">widthOfBinaryTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>firstId <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>maxWidth <span class="token operator">=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxWidth    <span class="token comment"># è®°å½•æœ€å·¦ä¾§èŠ‚ç‚¹çš„ç¼–å·</span>    firstId <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    maxWidth <span class="token operator">=</span> <span class="token number">1</span>    <span class="token comment"># äºŒå‰æ ‘éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>firstId<span class="token punctuation">)</span> <span class="token operator">==</span> depth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># å› ä¸ºä»£ç æ˜¯å…ˆ traverse(root.left) å traverse(root.right)ï¼Œ</span>            <span class="token comment"># æ‰€ä»¥ç¬¬ä¸€æ¬¡åˆ°è¾¾è¿™ä¸ªæ·±åº¦ä¸€å®šæ˜¯æœ€å·¦ä¾§çš„èŠ‚ç‚¹ï¼Œè®°å½•å…¶ç¼–å·</span>            self<span class="token punctuation">.</span>firstId<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># è¿™ä¸ªæ·±åº¦çš„å…¶ä»–èŠ‚ç‚¹ï¼Œè´Ÿè´£è®¡ç®—æ›´æ–°å½“å‰æ·±åº¦çš„æœ€å¤§å®½åº¦</span>            self<span class="token punctuation">.</span>maxWidth <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maxWidth<span class="token punctuation">,</span> <span class="token builtin">id</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>firstId<span class="token punctuation">[</span>depth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token builtin">id</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token builtin">id</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-53"><a href="#å¯è§†åŒ–-53" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-width-of-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-width-of-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/maximum-width-of-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/find-elements-in-a-contaminated-binary-tree">1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´  ğŸŸ </a></li></ul><h2 id="515-åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼"><a href="#515-åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼" class="headerlink" title="515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_find-largest-value-in-each-tree-row">515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/find-largest-value-in-each-tree-row/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/find-largest-value-in-each-tree-row/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·æ‰¾å‡ºè¯¥äºŒå‰æ ‘ä¸­æ¯ä¸€å±‚çš„æœ€å¤§å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/08/21/largest_e1.jpg" style="max-width: 100%; height: 172px; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>root = [1,3,2,5,3,null,9]<strong style="font-weight: 600;">è¾“å‡º: </strong>[1,3,9]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>root = [1,2,3]<strong style="font-weight: 600;">è¾“å‡º: </strong>[1,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup>&nbsp;&lt;= Node.val &lt;= 2<sup>31</sup>&nbsp;- 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-largest-value-in-each-tree-row/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-61"><a href="#åŸºæœ¬æ€è·¯-61" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>é¦–å…ˆï¼Œè¿™é¢˜è‚¯å®šå¯ä»¥ç”¨ BFS ç®—æ³•è§£å†³ï¼Œfor å¾ªç¯é‡Œé¢åˆ¤æ–­æœ€å¤§å€¼å°±è¡Œäº†ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1-1754535082182-124.jpeg" alt="img"></p><p>å½“ç„¶ï¼Œè¿™é¢˜ä¹Ÿå¯ä»¥ç”¨ DFS æ¥åšï¼Œå‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>éå†çš„è¿‡ç¨‹ä¸­è®°å½•å¯¹åº”æ·±åº¦çš„æœ€å¤§èŠ‚ç‚¹å€¼å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -60"><a href="#è§£æ³•ä»£ç -60" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> queue <span class="token keyword">import</span> Queue<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">largestValues</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> <span class="token keyword">not</span> q<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            sz <span class="token operator">=</span> q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># è®°å½•è¿™ä¸€å±‚çš„æœ€å¤§å€¼</span>            levelMax <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>            <span class="token comment"># for å¾ªç¯æ§åˆ¶æ¯ä¸€å±‚ä»å·¦å‘å³éå†</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>                levelMax <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>levelMax<span class="token punctuation">,</span> cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>levelMax<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token keyword">class</span> <span class="token class-name">Solution_DFS</span><span class="token punctuation">:</span>    <span class="token comment"># ä¸€å®šè¦ç”¨ array å­˜å‚¨ï¼Œå› ä¸ºè¦ç”¨ç´¢å¼•éšæœºè®¿é—®</span>    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">largestValues</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>res        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># éå†äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> depth<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> depth<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># è®°å½•å½“å‰è¡Œçš„æœ€å¤§å€¼</span>            self<span class="token punctuation">.</span>res<span class="token punctuation">[</span>depth<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">[</span>depth<span class="token punctuation">]</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-54"><a href="#å¯è§†åŒ–-54" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_find-largest-value-in-each-tree-row" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_find-largest-value-in-each-tree-row" src="https://labuladong.online/algo-visualize/leetcode/find-largest-value-in-each-tree-row/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/hPov7L">å‰‘æŒ‡ Offer II 044. äºŒå‰æ ‘æ¯å±‚çš„æœ€å¤§å€¼ ğŸŸ </a></li></ul><h2 id="637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"><a href="#637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼" class="headerlink" title="637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_average-of-levels-in-binary-tree">637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/average-of-levels-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/average-of-levels-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;, ä»¥æ•°ç»„çš„å½¢å¼è¿”å›æ¯ä¸€å±‚èŠ‚ç‚¹çš„å¹³å‡å€¼ã€‚ä¸å®é™…ç­”æ¡ˆç›¸å·®&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>-5</sup></code><span>&nbsp;</span>ä»¥å†…çš„ç­”æ¡ˆå¯ä»¥è¢«æ¥å—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/09/avg1-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,null,null,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3.00000,14.50000,11.00000]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¬¬ 0 å±‚çš„å¹³å‡å€¼ä¸º 3,ç¬¬ 1 å±‚çš„å¹³å‡å€¼ä¸º 14.5,ç¬¬ 2 å±‚çš„å¹³å‡å€¼ä¸º 11 ã€‚å› æ­¤è¿”å› [3, 14.5, 11] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/09/avg2-tree.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,9,20,15,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3.00000,14.50000,11.00000]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup>&nbsp;&lt;= Node.val &lt;= 2<sup>31</sup>&nbsp;- 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/average-of-levels-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-62"><a href="#åŸºæœ¬æ€è·¯-62" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>æ ‡å‡†çš„äºŒå‰æ ‘å±‚åºéå†ï¼ŒæŠŠ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. å±‚åºéå†äºŒå‰æ ‘</a> çš„ä»£ç ç¨å¾®æ”¹ä¸€æ”¹å°±è¡Œäº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -61"><a href="#è§£æ³•ä»£ç -61" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">averageOfLevels</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># è®°å½•å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹ä¹‹å’Œ</span>            <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>                <span class="token builtin">sum</span> <span class="token operator">+=</span> cur<span class="token punctuation">.</span>val            <span class="token comment"># è®°å½•å½“å‰è¡Œçš„å¹³å‡å€¼</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">sum</span> <span class="token operator">/</span> size<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-55"><a href="#å¯è§†åŒ–-55" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_average-of-levels-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_average-of-levels-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/average-of-levels-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="958-äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ"><a href="#958-äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ" class="headerlink" title="958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_check-completeness-of-a-binary-tree">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/check-completeness-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/check-completeness-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·ä½ åˆ¤æ–­è¿™æ£µæ ‘æ˜¯å¦æ˜¯ä¸€æ£µ<span>&nbsp;</span><strong style="font-weight: 600;">å®Œå…¨äºŒå‰æ ‘</strong>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨ä¸€æ£µ<span>&nbsp;</span><strong style="font-weight: 600;"><a href="https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/7773232?fr=aladdin" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">å®Œå…¨äºŒå‰æ ‘</a></strong><span>&nbsp;</span>ä¸­ï¼Œé™¤äº†æœ€åä¸€å±‚å¤–ï¼Œæ‰€æœ‰å±‚éƒ½è¢«å®Œå…¨å¡«æ»¡ï¼Œå¹¶ä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å°½å¯èƒ½é å·¦ã€‚æœ€åä¸€å±‚ï¼ˆç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">h</code><span>&nbsp;</span>å±‚ï¼‰ä¸­å¯ä»¥åŒ…å«&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2<sup>h</sup></code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-1.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€åä¸€å±‚å‰çš„æ¯ä¸€å±‚éƒ½æ˜¯æ»¡çš„ï¼ˆå³ï¼ŒèŠ‚ç‚¹å€¼ä¸º {1} å’Œ {2,3} çš„ä¸¤å±‚ï¼‰ï¼Œä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆ{4,5,6}ï¼‰å°½å¯èƒ½é å·¦ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-2.png" style="max-width: 100%;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,null,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å€¼ä¸º 7 çš„èŠ‚ç‚¹ä¸æ»¡è¶³æ¡ä»¶ã€ŒèŠ‚ç‚¹å°½å¯èƒ½é å·¦ã€ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 100]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/check-completeness-of-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-63"><a href="#åŸºæœ¬æ€è·¯-63" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-7">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜çš„å…³é”®æ˜¯å¯¹å®Œå…¨äºŒå‰æ ‘ç‰¹æ€§çš„ç†è§£ï¼Œ<strong>å¦‚æœæŒ‰ç…§ BFS å±‚åºéå†çš„æ–¹å¼éå†å®Œå…¨äºŒå‰æ ‘ï¼Œé˜Ÿåˆ—æœ€åç•™ä¸‹çš„åº”è¯¥éƒ½æ˜¯ç©ºæŒ‡é’ˆ</strong>ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/958.jpeg" alt="img"></p><p>æ‰€ä»¥å¯ä»¥ç”¨ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> ç»™å‡ºçš„å±‚åºéå†æ¡†æ¶è§£å†³è¿™é¢˜ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -62"><a href="#è§£æ³•ä»£ç -62" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-7">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isCompleteTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        end <span class="token operator">=</span> <span class="token boolean">False</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> cur <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    end <span class="token operator">=</span> <span class="token boolean">True</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token keyword">if</span> end<span class="token punctuation">:</span>                        <span class="token keyword">return</span> <span class="token boolean">False</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-56"><a href="#å¯è§†åŒ–-56" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-6">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_check-completeness-of-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_check-completeness-of-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/check-completeness-of-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1161-æœ€å¤§å±‚å†…å…ƒç´ å’Œ"><a href="#1161-æœ€å¤§å±‚å†…å…ƒç´ å’Œ" class="headerlink" title="1161. æœ€å¤§å±‚å†…å…ƒç´ å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_maximum-level-sum-of-a-binary-tree">1161. æœ€å¤§å±‚å†…å…ƒç´ å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1161. æœ€å¤§å±‚å†…å…ƒç´ å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-level-sum-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-level-sum-of-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ã€‚è®¾æ ¹èŠ‚ç‚¹ä½äºäºŒå‰æ ‘çš„ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>å±‚ï¼Œè€Œæ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä½äºç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>å±‚ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·è¿”å›å±‚å†…å…ƒç´ ä¹‹å’Œ<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å¤§</strong><span>&nbsp;</span>çš„é‚£å‡ å±‚ï¼ˆå¯èƒ½åªæœ‰ä¸€å±‚ï¼‰çš„å±‚å·ï¼Œå¹¶è¿”å›å…¶ä¸­&nbsp;<strong style="font-weight: 600;">æœ€å°</strong><span>&nbsp;</span>çš„é‚£ä¸ªã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/08/17/capture.jpeg" style="max-width: 100%; height: 175px; width: 200px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,7,0,7,-8,null,null]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¬¬ 1 å±‚å„å…ƒç´ ä¹‹å’Œä¸º 1ï¼Œç¬¬ 2 å±‚å„å…ƒç´ ä¹‹å’Œä¸º 7 + 0 = 7ï¼Œç¬¬ 3 å±‚å„å…ƒç´ ä¹‹å’Œä¸º 7 + -8 = -1ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›ç¬¬ 2 å±‚çš„å±‚å·ï¼Œå®ƒçš„å±‚å†…å…ƒç´ ä¹‹å’Œæœ€å¤§ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [989,null,10250,98693,-89388,null,null,null,-32127]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-level-sum-of-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1161. æœ€å¤§å±‚å†…å…ƒç´ å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-64"><a href="#åŸºæœ¬æ€è·¯-64" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-8">åŸºæœ¬æ€è·¯</a></h3><p>æŠŠ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> ç»™å‡ºçš„å±‚åºéå†æ¡†æ¶ç¨å¾®å˜é€šå³å¯è§£å†³è¿™é¢˜ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -63"><a href="#è§£æ³•ä»£ç -63" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-8">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxLevelSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># è®°å½• BFS èµ°åˆ°çš„å±‚æ•°</span>        depth <span class="token operator">=</span> <span class="token number">1</span>        <span class="token comment"># è®°å½•å…ƒç´ å’Œæœ€å¤§çš„é‚£ä¸€è¡Œå’Œæœ€å¤§å…ƒç´ å’Œ</span>        res <span class="token operator">=</span> <span class="token number">0</span>        maxSum <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            levelSum <span class="token operator">=</span> <span class="token number">0</span>            <span class="token comment"># éå†è¿™ä¸€å±‚</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                levelSum <span class="token operator">+=</span> cur<span class="token punctuation">.</span>val                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token keyword">if</span> levelSum <span class="token operator">></span> maxSum<span class="token punctuation">:</span>                <span class="token comment"># æ›´æ–°æœ€å¤§å…ƒç´ å’Œ</span>                res <span class="token operator">=</span> depth                maxSum <span class="token operator">=</span> levelSum            depth <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-57"><a href="#å¯è§†åŒ–-57" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-7">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-level-sum-of-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-level-sum-of-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/maximum-level-sum-of-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1302-å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"><a href="#1302-å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ" class="headerlink" title="1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_deepest-leaves-sum">1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/deepest-leaves-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/deepest-leaves-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯·ä½ è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">å±‚æ•°æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„å’Œ</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/12/28/1483_ex1.png" style="max-width: 100%; height: 265px; width: 273px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,2,3,4,5,null,6,7,null,null,null,null,8]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>15</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [6,7,8,2,7,1,3,9,null,1,4,null,null,null,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>19</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code><span>&nbsp;</span>ä¹‹é—´ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/deepest-leaves-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-65"><a href="#åŸºæœ¬æ€è·¯-65" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-9">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜ç”¨ DFS æˆ–è€… BFS éƒ½å¯ä»¥ï¼Œæˆ‘å°±ç”¨ BFS å±‚åºéå†ç®—æ³•å§ï¼Œå±‚åºéå†ç®—æ³•å‚è§ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. å±‚åºéå†äºŒå‰æ ‘</a>ï¼Œè¿™é¢˜åªè¦æŠŠæœ€åä¸€å±‚çš„èŠ‚ç‚¹å€¼ç´¯åŠ èµ·æ¥å°±è¡Œäº†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -64"><a href="#è§£æ³•ä»£ç -64" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-9">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">deepestLeavesSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">from</span> collections <span class="token keyword">import</span> deque        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># ç´¯åŠ ä¸€å±‚çš„èŠ‚ç‚¹ä¹‹å’Œ</span>                <span class="token builtin">sum</span> <span class="token operator">+=</span> cur<span class="token punctuation">.</span>val                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ç°åœ¨å°±æ˜¯æœ€åä¸€å±‚çš„èŠ‚ç‚¹å€¼å’Œ</span>        <span class="token keyword">return</span> <span class="token builtin">sum</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-58"><a href="#å¯è§†åŒ–-58" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-8">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_deepest-leaves-sum" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_deepest-leaves-sum" src="https://labuladong.online/algo-visualize/leetcode/deepest-leaves-sum/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1609-å¥‡å¶æ ‘"><a href="#1609-å¥‡å¶æ ‘" class="headerlink" title="1609. å¥‡å¶æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#slug_even-odd-tree">1609. å¥‡å¶æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1609. å¥‡å¶æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/even-odd-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/even-odd-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸€æ£µäºŒå‰æ ‘æ»¡è¶³ä¸‹è¿°å‡ ä¸ªæ¡ä»¶ï¼Œåˆ™å¯ä»¥ç§°ä¸º<span>&nbsp;</span><strong style="font-weight: 600;">å¥‡å¶æ ‘</strong><span>&nbsp;</span>ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘æ ¹èŠ‚ç‚¹æ‰€åœ¨å±‚ä¸‹æ ‡ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ï¼Œæ ¹çš„å­èŠ‚ç‚¹æ‰€åœ¨å±‚ä¸‹æ ‡ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>ï¼Œæ ¹çš„å­™èŠ‚ç‚¹æ‰€åœ¨å±‚ä¸‹æ ‡ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code><span>&nbsp;</span>ï¼Œä¾æ­¤ç±»æ¨ã€‚</li><li><strong style="font-weight: 600;">å¶æ•°ä¸‹æ ‡</strong><span>&nbsp;</span>å±‚ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">å¥‡</strong><span>&nbsp;</span>æ•´æ•°ï¼Œä»å·¦åˆ°å³æŒ‰é¡ºåº<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼é€’å¢</strong></li><li><strong style="font-weight: 600;">å¥‡æ•°ä¸‹æ ‡</strong><span>&nbsp;</span>å±‚ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">å¶</strong><span>&nbsp;</span>æ•´æ•°ï¼Œä»å·¦åˆ°å³æŒ‰é¡ºåº<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼é€’å‡</strong></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœäºŒå‰æ ‘ä¸º<span>&nbsp;</span><strong style="font-weight: 600;">å¥‡å¶æ ‘<span>&nbsp;</span></strong>ï¼Œåˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/10/04/sample_1_1966.png" style="max-width: 100%; height: 229px; width: 362px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,10,4,3,null,7,9,12,8,6,null,null,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ¯ä¸€å±‚çš„èŠ‚ç‚¹å€¼åˆ†åˆ«æ˜¯ï¼š0 å±‚ï¼š[1]1 å±‚ï¼š[10,4]2 å±‚ï¼š[3,7,9]3 å±‚ï¼š[12,8,6,2]ç”±äº 0 å±‚å’Œ 2 å±‚ä¸Šçš„èŠ‚ç‚¹å€¼éƒ½æ˜¯å¥‡æ•°ä¸”ä¸¥æ ¼é€’å¢ï¼Œè€Œ 1 å±‚å’Œ 3 å±‚ä¸Šçš„èŠ‚ç‚¹å€¼éƒ½æ˜¯å¶æ•°ä¸”ä¸¥æ ¼é€’å‡ï¼Œå› æ­¤è¿™æ˜¯ä¸€æ£µå¥‡å¶æ ‘ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/10/04/sample_2_1966.png" style="max-width: 100%; height: 167px; width: 363px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,4,2,3,3,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ¯ä¸€å±‚çš„èŠ‚ç‚¹å€¼åˆ†åˆ«æ˜¯ï¼š0 å±‚ï¼š[5]1 å±‚ï¼š[4,2]2 å±‚ï¼š[3,3,7]2 å±‚ä¸Šçš„èŠ‚ç‚¹å€¼ä¸æ»¡è¶³ä¸¥æ ¼é€’å¢çš„æ¡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯ä¸€æ£µå¥‡å¶æ ‘ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2020/10/04/sample_1_333_1966.png" style="max-width: 100%; height: 167px; width: 363px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,9,1,3,5,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>1 å±‚ä¸Šçš„èŠ‚ç‚¹å€¼åº”ä¸ºå¶æ•°ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 5ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [11,8,6,1,3,9,11,30,20,18,16,12,10,4,2,17]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>5</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 10<sup>6</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/even-odd-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1609. å¥‡å¶æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-66"><a href="#åŸºæœ¬æ€è·¯-66" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-10">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜ä¸»è¦è€ƒå¯ŸäºŒå‰æ ‘çš„å±‚åºéå†ï¼Œä½ å¯ä»¥å…ˆåšä¸€ä¸‹ <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> å’Œ <a href="https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</a> è¿™ä¸¤é“é¢˜ï¼Œç„¶åå†åšè¿™é“é¢˜ã€‚å…·ä½“æ€è·¯å¯çœ‹è§£æ³•ä»£ç çš„æ³¨é‡Šã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -65"><a href="#è§£æ³•ä»£ç -65" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-10">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isEvenOddTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># è®°å½•å¥‡å¶å±‚æ•°</span>        even <span class="token operator">=</span> <span class="token boolean">True</span>        <span class="token comment"># while å¾ªç¯æ§åˆ¶ä»ä¸Šå‘ä¸‹ä¸€å±‚å±‚éå†</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token comment"># è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¾¿äºåˆ¤æ–­æ˜¯å¦é€’å¢/é€’å‡</span>            prev <span class="token operator">=</span> <span class="token operator">-</span>sys<span class="token punctuation">.</span>maxsize <span class="token keyword">if</span> even <span class="token keyword">else</span> sys<span class="token punctuation">.</span>maxsize            <span class="token comment"># for å¾ªç¯æ§åˆ¶æ¯ä¸€å±‚ä»å·¦å‘å³éå†</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> even<span class="token punctuation">:</span>                    <span class="token comment"># å¶æ•°å±‚</span>                    <span class="token keyword">if</span> prev <span class="token operator">>=</span> cur<span class="token punctuation">.</span>val <span class="token keyword">or</span> cur<span class="token punctuation">.</span>val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                        <span class="token keyword">return</span> <span class="token boolean">False</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token comment"># å¥‡æ•°å±‚</span>                    <span class="token keyword">if</span> prev <span class="token operator">&lt;=</span> cur<span class="token punctuation">.</span>val <span class="token keyword">or</span> cur<span class="token punctuation">.</span>val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                        <span class="token keyword">return</span> <span class="token boolean">False</span>                prev <span class="token operator">=</span> cur<span class="token punctuation">.</span>val                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># å¥‡å¶å±‚æ•°åˆ‡æ¢</span>            even <span class="token operator">=</span> <span class="token keyword">not</span> even        <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-59"><a href="#å¯è§†åŒ–-59" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-i/#%E5%8F%AF%E8%A7%86%E5%8C%96-9">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_even-odd-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_even-odd-tree" src="https://labuladong.online/algo-visualize/leetcode/even-odd-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="919-å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨"><a href="#919-å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨" class="headerlink" title="919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#slug_complete-binary-tree-inserter">919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/complete-binary-tree-inserter/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/complete-binary-tree-inserter/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å®Œå…¨äºŒå‰æ ‘</strong><span>&nbsp;</span>æ˜¯æ¯ä¸€å±‚ï¼ˆé™¤æœ€åä¸€å±‚å¤–ï¼‰éƒ½æ˜¯å®Œå…¨å¡«å……ï¼ˆå³ï¼ŒèŠ‚ç‚¹æ•°è¾¾åˆ°æœ€å¤§ï¼‰çš„ï¼Œå¹¶ä¸”æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å°½å¯èƒ½åœ°é›†ä¸­åœ¨å·¦ä¾§ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå°†ä¸€ä¸ªæ–°èŠ‚ç‚¹æ’å…¥åˆ°ä¸€ä¸ªå®Œæ•´çš„äºŒå‰æ ‘ä¸­ï¼Œå¹¶åœ¨æ’å…¥åä¿æŒå…¶å®Œæ•´ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">CBTInserter</code><span>&nbsp;</span>ç±»:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">CBTInserter(TreeNode root)</code>&nbsp;ä½¿ç”¨å¤´èŠ‚ç‚¹ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;çš„ç»™å®šæ ‘åˆå§‹åŒ–è¯¥æ•°æ®ç»“æ„ï¼›</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">CBTInserter.insert(int v)</code>&nbsp; å‘æ ‘ä¸­æ’å…¥ä¸€ä¸ªå€¼ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val == val</code>çš„æ–°èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">TreeNode</code>ã€‚ä½¿æ ‘ä¿æŒå®Œå…¨äºŒå‰æ ‘çš„çŠ¶æ€ï¼Œ<strong style="font-weight: 600;">å¹¶è¿”å›æ’å…¥èŠ‚ç‚¹</strong>&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">TreeNode</code>&nbsp;<strong style="font-weight: 600;">çš„çˆ¶èŠ‚ç‚¹çš„å€¼</strong>ï¼›</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">CBTInserter.get_root()</code><span>&nbsp;</span>å°†è¿”å›æ ‘çš„å¤´èŠ‚ç‚¹ã€‚</li></ul><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/08/03/lc-treeinsert.jpg" style="max-width: 100%; height: 143px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>["CBTInserter", "insert", "insert", "get_root"][[[1, 2]], [3], [4], []]<strong style="font-weight: 600;">è¾“å‡º</strong>[null, 1, 2, [1, 2, 3, 4]]<p><strong style="font-weight: 600;">è§£é‡Š</strong><br>CBTInserter cBTInserter &#x3D; new CBTInserter([1, 2]);<br>cBTInserter.insert(3);  &#x2F;&#x2F; è¿”å› 1<br>cBTInserter.insert(4);  &#x2F;&#x2F; è¿”å› 2<br>cBTInserter.get_root(); &#x2F;&#x2F; è¿”å› [1, 2, 3, 4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°é‡èŒƒå›´ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 1000]</code>&nbsp;</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 5000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;æ˜¯å®Œå…¨äºŒå‰æ ‘</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= val &lt;= 5000</code>&nbsp;</li><li>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æœ€å¤šè°ƒç”¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">insert</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">get_root</code>&nbsp;æ“ä½œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>4</sup></code>&nbsp;æ¬¡</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/complete-binary-tree-inserter/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 919. å®Œå…¨äºŒå‰æ ‘æ’å…¥å™¨</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-67"><a href="#åŸºæœ¬æ€è·¯-67" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜è€ƒå¯ŸäºŒå‰æ ‘çš„å±‚åºéå†ï¼Œä½ éœ€è¦å…ˆåš <a href="https://leetcode.cn/problems/binary-tree-level-order-traversal">102. äºŒå‰æ ‘çš„å±‚åºéå†</a> å†åšè¿™é“é¢˜ï¼Œç”¨é˜Ÿåˆ—ç»´æŠ¤åº•éƒ¨å¯ä»¥è¿›è¡Œæ’å…¥çš„èŠ‚ç‚¹å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bfs/">ã€ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ I</a></li><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -66"><a href="#è§£æ³•ä»£ç -66" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> queue <span class="token keyword">import</span> Queue<span class="token keyword">class</span> <span class="token class-name">CBTInserter</span><span class="token punctuation">:</span>    <span class="token comment"># è¿™ä¸ªé˜Ÿåˆ—åªè®°å½•å®Œå…¨äºŒå‰æ ‘åº•éƒ¨å¯ä»¥è¿›è¡Œæ’å…¥çš„èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>root <span class="token operator">=</span> root        <span class="token comment"># è¿›è¡Œæ™®é€šçš„ BFSï¼Œç›®çš„æ˜¯æ‰¾åˆ°åº•éƒ¨å¯æ’å…¥çš„èŠ‚ç‚¹</span>        temp <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        temp<span class="token punctuation">.</span>put<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">while</span> <span class="token keyword">not</span> temp<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            cur <span class="token operator">=</span> temp<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                temp<span class="token punctuation">.</span>put<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                temp<span class="token punctuation">.</span>put<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token comment"># æ‰¾åˆ°å®Œå…¨äºŒå‰æ ‘åº•éƒ¨å¯ä»¥è¿›è¡Œæ’å…¥çš„èŠ‚ç‚¹</span>                self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>cur<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">insert</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        node <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        cur <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token comment"># è¿›è¡Œæ’å…¥</span>        <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            cur<span class="token punctuation">.</span>left <span class="token operator">=</span> node        <span class="token keyword">else</span><span class="token punctuation">:</span>            cur<span class="token punctuation">.</span>right <span class="token operator">=</span> node            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># æ–°èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ä¹Ÿæ˜¯å¯ä»¥æ’å…¥çš„</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        <span class="token keyword">return</span> cur<span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">get_root</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-60"><a href="#å¯è§†åŒ–-60" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_complete-binary-tree-inserter" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_complete-binary-tree-inserter" src="https://labuladong.online/algo-visualize/leetcode/complete-binary-tree-inserter/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="872-å¶å­ç›¸ä¼¼çš„æ ‘"><a href="#872-å¶å­ç›¸ä¼¼çš„æ ‘" class="headerlink" title="872. å¶å­ç›¸ä¼¼çš„æ ‘"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#slug_leaf-similar-trees">872. å¶å­ç›¸ä¼¼çš„æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">872. å¶å­ç›¸ä¼¼çš„æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/leaf-similar-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/leaf-similar-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·è€ƒè™‘ä¸€æ£µäºŒå‰æ ‘ä¸Šæ‰€æœ‰çš„å¶å­ï¼Œè¿™äº›å¶å­çš„å€¼æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ’åˆ—å½¢æˆä¸€ä¸ª&nbsp;<strong style="font-weight: 600;">å¶å€¼åºåˆ—<span>&nbsp;</span></strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/07/16/tree.png" style="max-width: 100%; height: 336px; width: 400px;"></p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»™å®šä¸€æ£µå¶å€¼åºåˆ—ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(6, 7, 4, 9, 8)</code>&nbsp;çš„æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœæœ‰ä¸¤æ£µäºŒå‰æ ‘çš„å¶å€¼åºåˆ—æ˜¯ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬æ˜¯&nbsp;<em>å¶ç›¸ä¼¼&nbsp;</em>çš„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœç»™å®šçš„ä¸¤ä¸ªæ ¹ç»“ç‚¹åˆ†åˆ«ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root1</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root2</code>&nbsp;çš„æ ‘æ˜¯å¶ç›¸ä¼¼çš„ï¼Œåˆ™è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>ï¼›å¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/03/leaf-similar-1.jpg" style="max-width: 100%; height: 237px; width: 600px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [3,5,1,6,2,9,8,null,null,7,4], root2 = [3,5,1,6,7,4,2,null,null,null,null,null,null,9,8]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/03/leaf-similar-2.jpg" style="max-width: 100%; height: 110px; width: 300px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [1,2,3], root2 = [1,3,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»™å®šçš„ä¸¤æ£µæ ‘ç»“ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 200]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li>ç»™å®šçš„ä¸¤æ£µæ ‘ä¸Šçš„å€¼åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 200]</code><span>&nbsp;</span>èŒƒå›´å†…</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/leaf-similar-trees/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 872. å¶å­ç›¸ä¼¼çš„æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-68"><a href="#åŸºæœ¬æ€è·¯-68" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>æœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯éå†ä¸¤ä¸ªäºŒå‰æ ‘ï¼ŒæŠŠæ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½å–å‡ºæ¥ï¼Œç„¶åä¸€ä¸ªä¸ªå¯¹æ¯”ã€‚ç¨å¾®æœ‰ç‚¹æŠ€å·§æ€§çš„è§£æ³•å°±æ˜¯æŠŠé€’å½’æ”¹æˆæ ˆè¿­ä»£çš„å½¢å¼ã€‚</p><p>ä½ çœ‹è¿™ä¸ª <code>next</code> æ–¹æ³•ï¼Œå®ƒå’ŒäºŒå‰æ ‘çš„é€’å½’éå†æ¡†æ¶å¾ˆåƒï¼Œåªä¸è¿‡æŠŠé€’å½’å‡½æ•°æ”¹æˆäº†æ ˆæ“ä½œï¼›å®ƒå’Œå±‚åºéå†çš„æ¡†æ¶ä¹Ÿå¾ˆåƒï¼Œåªä¸è¿‡æŠŠé˜Ÿåˆ—æ¢æˆäº†æ ˆï¼Œæ˜¯ä¸æ˜¯æŒºæœ‰æ„æ€çš„ï¼Ÿè¿™ä¸ªè§£æ³•ç›¸å½“äºå°±æ˜¯ç”¨æ ˆæ¨¡æ‹Ÿäº†é€’å½’ï¼Œå¯¹è¿™æ£µäºŒå‰æ ‘è¿›è¡Œå‰åºéå†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -67"><a href="#è§£æ³•ä»£ç -67" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">leafSimilar</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        it1 <span class="token operator">=</span> LeafIterator<span class="token punctuation">(</span>root1<span class="token punctuation">)</span>        it2 <span class="token operator">=</span> LeafIterator<span class="token punctuation">(</span>root2<span class="token punctuation">)</span>        <span class="token comment"># é€ä¸€å¯¹æ¯”å¶å­èŠ‚ç‚¹</span>        <span class="token keyword">while</span> it1<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> it2<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> it1<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>val <span class="token operator">!=</span> it2<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>val<span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># æœ€ååº”è¯¥éƒ½å®Œæˆéå†</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> it1<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> it2<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># ä¸€ä¸ªç”ŸæˆäºŒå‰æ ‘å¶å­èŠ‚ç‚¹çš„è¿­ä»£å™¨</span><span class="token keyword">class</span> <span class="token class-name">LeafIterator</span><span class="token punctuation">:</span>    <span class="token comment"># æ¨¡æ‹Ÿé€’å½’è¿‡ç¨‹</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stk<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stk<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>            cur <span class="token operator">=</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token comment"># å‘ç°ä¸€ä¸ªå¶å­ç»“ç‚¹</span>                <span class="token keyword">return</span> cur            <span class="token comment"># å…ˆå…¥æ ˆ root.right</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">None</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Tip</p><p>å¦‚æœè®©ä½ ä»äºŒå‰æ ‘ä¸­çš„éæ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿå…¶å®å¯ä»¥ç”¨ map è®°å½•å­èŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„æ˜ å°„ï¼Œä»è€ŒæŠŠäºŒå‰æ ‘è½¬åŒ–æˆä¸€å¹…å›¾ï¼Œç„¶åå†ç¼–å†™ç®—æ³•ã€‚</p><h2 id="863-äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º-K-çš„ç»“ç‚¹"><a href="#863-äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º-K-çš„ç»“ç‚¹" class="headerlink" title="863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#slug_all-nodes-distance-k-in-binary-tree">863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/all-nodes-distance-k-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/all-nodes-distance-k-in-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ˆå…·æœ‰æ ¹ç»“ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>ï¼‰ï¼Œ&nbsp;ä¸€ä¸ªç›®æ ‡ç»“ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;ï¼Œå’Œä¸€ä¸ªæ•´æ•°å€¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code>&nbsp;ï¼Œè¿”å›åˆ°ç›®æ ‡ç»“ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code><span>&nbsp;</span>è·ç¦»ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„æ•°ç»„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç­”æ¡ˆå¯ä»¥ä»¥<span>&nbsp;</span><strong style="font-weight: 600;">ä»»ä½•é¡ºåº</strong><span>&nbsp;</span>è¿”å›ã€‚</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2018/06/28/sketch0.png" style="max-width: 100%; height: 429px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,5,1,6,2,0,8,null,null,7,4], target = 5, k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[7,4,1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ‰€æ±‚ç»“ç‚¹ä¸ºä¸ç›®æ ‡ç»“ç‚¹ï¼ˆå€¼ä¸º 5ï¼‰è·ç¦»ä¸º 2 çš„ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º 7ï¼Œ4ï¼Œä»¥åŠ 1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [1], target = 1, k = 3<strong style="font-weight: 600;">è¾“å‡º:</strong> []</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 500]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 500</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>&nbsp;ä¸­æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong></li><li>ç›®æ ‡ç»“ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;æ˜¯æ ‘ä¸Šçš„ç»“ç‚¹ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= k &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/all-nodes-distance-k-in-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-69"><a href="#åŸºæœ¬æ€è·¯-69" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜å¸¸è§„çš„è§£æ³•å°±æ˜¯æŠŠäºŒå‰æ ‘å˜æˆä¸€å¹…ã€Œå›¾ã€ï¼Œç„¶ååœ¨å›¾ä¸­ç”¨ BFS ç®—æ³•æ±‚è·ç¦» <code>target</code> èŠ‚ç‚¹ <code>k</code> æ­¥çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p><p>å…³äº BFS ç®—æ³•çš„åŸç†ï¼Œè§ <a href="https://labuladong.online/algo/essential-technique/bfs-framework/">BFS ç®—æ³•æ ¸å¿ƒæ¡†æ¶å¥—è·¯</a>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bfs/">ã€ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ I</a></li><li><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/">ã€ç»ƒä¹ ã€‘è¿ç”¨å±‚åºéå†è§£é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -68"><a href="#è§£æ³•ä»£ç -68" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è®°å½•çˆ¶èŠ‚ç‚¹ï¼šnode.val -> parentNode</span>    <span class="token comment"># é¢˜ç›®è¯´äº†æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ node.val ä»£è¡¨ TreeNode</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">distanceK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> target<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>        <span class="token comment"># å¼€å§‹ä» target èŠ‚ç‚¹æ–½æ”¾ BFS ç®—æ³•ï¼Œæ‰¾åˆ°è·ç¦»ä¸º k çš„èŠ‚ç‚¹</span>        <span class="token keyword">from</span> collections <span class="token keyword">import</span> deque        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        visited <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>target<span class="token punctuation">)</span>        visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>target<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># è®°å½•ç¦» target çš„è·ç¦»</span>        dist <span class="token operator">=</span> <span class="token number">0</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> dist <span class="token operator">==</span> k<span class="token punctuation">:</span>                    <span class="token comment"># æ‰¾åˆ°è·ç¦»èµ·ç‚¹ target è·ç¦»ä¸º k çš„èŠ‚ç‚¹</span>                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token comment"># å‘çˆ¶èŠ‚ç‚¹ã€å·¦å³å­èŠ‚ç‚¹æ‰©æ•£</span>                parentNode <span class="token operator">=</span> self<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">if</span> parentNode <span class="token keyword">and</span> parentNode<span class="token punctuation">.</span>val <span class="token keyword">not</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>                    visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>parentNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>parentNode<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left <span class="token keyword">and</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val <span class="token keyword">not</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>                    visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right <span class="token keyword">and</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val <span class="token keyword">not</span> <span class="token keyword">in</span> visited<span class="token punctuation">:</span>                    visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># å‘å¤–æ‰©å±•ä¸€åœˆ</span>            dist <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> parentNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>parent<span class="token punctuation">[</span>root<span class="token punctuation">.</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> parentNode        <span class="token comment"># äºŒå‰æ ‘é€’å½’æ¡†æ¶</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> root<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-61"><a href="#å¯è§†åŒ–-61" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/binary-tree-level-ii/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_all-nodes-distance-k-in-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_all-nodes-distance-k-in-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/all-nodes-distance-k-in-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/closest-leaf-in-a-binary-tree">742. äºŒå‰æ ‘æœ€è¿‘çš„å¶èŠ‚ç‚¹ ğŸŸ </a></li></ul><h1 id="ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜-I"><a href="#ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜-I" class="headerlink" title="ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I"></a>ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</h1><h2 id="99-æ¢å¤äºŒå‰æœç´¢æ ‘"><a href="#99-æ¢å¤äºŒå‰æœç´¢æ ‘" class="headerlink" title="99. æ¢å¤äºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_recover-binary-search-tree">99. æ¢å¤äºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">99. æ¢å¤äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/recover-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/recover-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¯¥æ ‘ä¸­çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ°å¥½</strong><span>&nbsp;</span>ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼è¢«é”™è¯¯åœ°äº¤æ¢ã€‚<em>è¯·åœ¨ä¸æ”¹å˜å…¶ç»“æ„çš„æƒ…å†µä¸‹ï¼Œæ¢å¤è¿™æ£µæ ‘&nbsp;</em>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/28/recover1.jpg" style="max-width: 100%; width: 300px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,3,null,null,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,1,null,null,2]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>3 ä¸èƒ½æ˜¯ 1 çš„å·¦å­©å­ï¼Œå› ä¸º 3 &gt; 1 ã€‚äº¤æ¢ 1 å’Œ 3 ä½¿äºŒå‰æœç´¢æ ‘æœ‰æ•ˆã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/28/recover2.jpg" style="max-width: 100%; height: 208px; width: 400px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,1,4,null,null,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,1,4,null,null,3]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>2 ä¸èƒ½åœ¨ 3 çš„å³å­æ ‘ä¸­ï¼Œå› ä¸º 2 &lt; 3 ã€‚äº¤æ¢ 2 å’Œ 3 ä½¿äºŒå‰æœç´¢æ ‘æœ‰æ•ˆã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸ŠèŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[2, 1000]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 2<sup>31</sup><span>&nbsp;</span>- 1</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½¿ç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(n)</code><span>&nbsp;</span>ç©ºé—´å¤æ‚åº¦çš„è§£æ³•å¾ˆå®¹æ˜“å®ç°ã€‚ä½ èƒ½æƒ³å‡ºä¸€ä¸ªåªä½¿ç”¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(1)</code><span>&nbsp;</span>ç©ºé—´çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/recover-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 99. æ¢å¤äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-70"><a href="#åŸºæœ¬æ€è·¯-70" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>å¾—ç›ŠäºäºŒå‰æœç´¢æ ‘å·¦å°å³å¤§çš„ç‰¹æ€§ï¼Œä¸€ä¸ªé‡è¦æ€§è´¨æ˜¯ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ç»“æœæœ‰åºã€‚</p><p>é¢˜ç›®è¯´æœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼åäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸­åºéå†ç»“æœä¸å†æ˜¯æœ‰åºçš„ï¼Œæœ‰ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®åäº†ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬åœ¨ä¸­åºéå†çš„æ—¶å€™æ‰¾åˆ°ç ´åæœ‰åºæ€§çš„è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œäº¤æ¢å®ƒä»¬å³å¯ã€‚</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1.jpg" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -69"><a href="#è§£æ³•ä»£ç -69" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># åˆ†åˆ«è®°å½•è¿™ä¸¤ä¸ªè¢«äº¤æ¢çš„èŠ‚ç‚¹</span>    first <span class="token operator">=</span> <span class="token boolean">None</span>    second <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token comment"># åˆ¤æ–­ä¸­åºéå†çš„æœ‰åºæ€§</span>    prev <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">recoverTree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>inorderTraverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        temp <span class="token operator">=</span> self<span class="token punctuation">.</span>first<span class="token punctuation">.</span>val        self<span class="token punctuation">.</span>first<span class="token punctuation">.</span>val <span class="token operator">=</span> self<span class="token punctuation">.</span>second<span class="token punctuation">.</span>val        self<span class="token punctuation">.</span>second<span class="token punctuation">.</span>val <span class="token operator">=</span> temp    <span class="token keyword">def</span> <span class="token function">inorderTraverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>inorderTraverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token comment"># ä¸­åºä»£ç ä½ç½®ï¼Œæ‰¾å‡ºé‚£ä¸¤ä¸ªèŠ‚ç‚¹</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token comment"># root ä¸ç¬¦åˆæœ‰åºæ€§</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>first <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token comment"># ç¬¬ä¸€ä¸ªé”™ä½èŠ‚ç‚¹æ˜¯ prev</span>                self<span class="token punctuation">.</span>first <span class="token operator">=</span> self<span class="token punctuation">.</span>prev            <span class="token comment"># ç¬¬äºŒä¸ªé”™ä½èŠ‚ç‚¹æ˜¯ root</span>            self<span class="token punctuation">.</span>second <span class="token operator">=</span> root        self<span class="token punctuation">.</span>prev <span class="token operator">=</span> root        self<span class="token punctuation">.</span>inorderTraverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-62"><a href="#å¯è§†åŒ–-62" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_recover-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_recover-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/recover-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="669-ä¿®å‰ªäºŒå‰æœç´¢æ ‘"><a href="#669-ä¿®å‰ªäºŒå‰æœç´¢æ ‘" class="headerlink" title="669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_trim-a-binary-search-tree">669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/trim-a-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/trim-a-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ äºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼ŒåŒæ—¶ç»™å®šæœ€å°è¾¹ç•Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">low</code><span>&nbsp;</span>å’Œæœ€å¤§è¾¹ç•Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">high</code>ã€‚é€šè¿‡ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œä½¿å¾—æ‰€æœ‰èŠ‚ç‚¹çš„å€¼åœ¨<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[low, high]</code>ä¸­ã€‚ä¿®å‰ªæ ‘<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åº”è¯¥</strong>&nbsp;æ”¹å˜ä¿ç•™åœ¨æ ‘ä¸­çš„å…ƒç´ çš„ç›¸å¯¹ç»“æ„ (å³ï¼Œå¦‚æœæ²¡æœ‰è¢«ç§»é™¤ï¼ŒåŸæœ‰çš„çˆ¶ä»£å­ä»£å…³ç³»éƒ½åº”å½“ä¿ç•™)ã€‚ å¯ä»¥è¯æ˜ï¼Œå­˜åœ¨&nbsp;<strong style="font-weight: 600;">å”¯ä¸€çš„ç­”æ¡ˆ</strong>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ‰€ä»¥ç»“æœåº”å½“è¿”å›ä¿®å‰ªå¥½çš„äºŒå‰æœç´¢æ ‘çš„æ–°çš„æ ¹èŠ‚ç‚¹ã€‚æ³¨æ„ï¼Œæ ¹èŠ‚ç‚¹å¯èƒ½ä¼šæ ¹æ®ç»™å®šçš„è¾¹ç•Œå‘ç”Ÿæ”¹å˜ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/09/trim1.jpg" style="max-width: 100%; height: 126px; width: 450px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,2], low = 1, high = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/09/trim2.jpg" style="max-width: 100%; height: 277px; width: 450px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,0,4,null,2,null,null,1], low = 1, high = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,2,null,1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>4</sup></code></li><li>æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">å”¯ä¸€</strong><span>&nbsp;</span>çš„</li><li>é¢˜ç›®æ•°æ®ä¿è¯è¾“å…¥æ˜¯ä¸€æ£µæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= low &lt;= high &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/trim-a-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-71"><a href="#åŸºæœ¬æ€è·¯-71" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>æ˜ç¡®äº†é€’å½’å‡½æ•°çš„å®šä¹‰ä¹‹åè¿›è¡Œæ€è€ƒï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„å€¼æ²¡æœ‰è½åœ¨ <code>[lo, hi]</code> ä¸­ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><p>1ã€<strong><code>root.val &lt; lo</code>ï¼Œè¿™ç§æƒ…å†µä¸‹ <code>root</code> èŠ‚ç‚¹æœ¬èº«å’Œ <code>root</code> çš„å·¦å­æ ‘å…¨éƒ½æ˜¯å°äº <code>lo</code> çš„ï¼Œéƒ½éœ€è¦è¢«å‰ªæ‰</strong>ã€‚</p><p>2ã€<strong><code>root.val &gt; hi</code>ï¼Œè¿™ç§æƒ…å†µä¸‹ <code>root</code> èŠ‚ç‚¹æœ¬èº«å’Œ <code>root</code> çš„å³å­æ ‘å…¨éƒ½æ˜¯å¤§äº <code>hi</code> çš„ï¼Œéƒ½éœ€è¦è¢«å‰ªæ‰</strong>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -70"><a href="#è§£æ³•ä»£ç -70" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šåˆ é™¤ BST ä¸­å°äº low å’Œå¤§äº high çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿”å›ç»“æœ BST</span>    <span class="token keyword">def</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> low<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> high<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> low<span class="token punctuation">:</span>            <span class="token comment"># ç›´æ¥è¿”å› root.right</span>            <span class="token comment"># ç­‰äºåˆ é™¤ root ä»¥åŠ root çš„å·¦å­æ ‘</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>trimBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> high<span class="token punctuation">:</span>            <span class="token comment"># ç›´æ¥è¿”å› root.left</span>            <span class="token comment"># ç­‰äºåˆ é™¤ root ä»¥åŠ root çš„å³å­æ ‘</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>trimBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token comment"># é—­åŒºé—´ [lo, hi] å†…çš„èŠ‚ç‚¹ä»€ä¹ˆéƒ½ä¸åš</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>trimBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>trimBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-63"><a href="#å¯è§†åŒ–-63" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_trim-a-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_trim-a-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/trim-a-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/split-bst">776. æ‹†åˆ†äºŒå‰æœç´¢æ ‘ ğŸŸ </a></li></ul><h2 id="671-äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹"><a href="#671-äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹" class="headerlink" title="671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_second-minimum-node-in-a-binary-tree">671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/second-minimum-node-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/second-minimum-node-in-a-binary-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªéç©ºç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯æ­£æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡åªèƒ½ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2</code>&nbsp;æˆ–&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å€¼ç­‰äºä¸¤ä¸ªå­èŠ‚ç‚¹ä¸­è¾ƒå°çš„ä¸€ä¸ªã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ›´æ­£å¼åœ°è¯´ï¼Œå³&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root.val = min(root.left.val, root.right.val)</code><span>&nbsp;</span>æ€»æˆç«‹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºè¿™æ ·çš„ä¸€ä¸ªäºŒå‰æ ‘ï¼Œä½ éœ€è¦è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„&nbsp;<strong style="font-weight: 600;">ç¬¬äºŒå°çš„å€¼<span>&nbsp;</span></strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœç¬¬äºŒå°çš„å€¼ä¸å­˜åœ¨çš„è¯ï¼Œè¾“å‡º -1<span>&nbsp;</span><strong style="font-weight: 600;">ã€‚</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/15/smbt1.jpg" style="max-width: 100%; height: 210px; width: 300px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,2,5,null,null,5,7]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å°çš„å€¼æ˜¯ 2 ï¼Œç¬¬äºŒå°çš„å€¼æ˜¯ 5 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/15/smbt2.jpg" style="max-width: 100%; height: 113px; width: 200px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,2,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>-1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å°çš„å€¼æ˜¯ 2, ä½†æ˜¯ä¸å­˜åœ¨ç¬¬äºŒå°çš„å€¼ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 25]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 2<sup>31</sup><span>&nbsp;</span>- 1</code></li><li>å¯¹äºæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root.val == min(root.left.val, root.right.val)</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/second-minimum-node-in-a-binary-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-72"><a href="#åŸºæœ¬æ€è·¯-72" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>è¿™é¢˜å¾ˆæœ‰æ„æ€ï¼ŒæŒ‰ç…§è¿™æ£µäºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ— ç–‘æ˜¯æœ€å°çš„é‚£ä¸ªå…ƒç´ ï¼Œä½†é—®é¢˜æ˜¯ç¬¬äºŒå°çš„é‚£ä¸ªå…ƒç´ åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><p>å¦‚æœæ ¹èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„å€¼ä¸åŒï¼Œæ ¹èŠ‚ç‚¹çš„å€¼å°±æ˜¯è¾ƒå°çš„é‚£ä¸ªèŠ‚ç‚¹ï¼ˆå‡è®¾æ˜¯å·¦å­èŠ‚ç‚¹ï¼‰çš„å€¼ï¼Œé‚£ä¹ˆè¾ƒå¤§çš„é‚£ä¸ªèŠ‚ç‚¹ï¼ˆå³å­èŠ‚ç‚¹ï¼‰çš„å€¼æ˜¯ä¸æ˜¯å°±ä¸€å®šæ˜¯ç¬¬äºŒå°çš„é‚£ä¸ªå…ƒç´ ï¼Ÿ</p><p>ä¸ä¸€å®šï¼Œç¬¬äºŒå°çš„å€¼ä¹Ÿå¯èƒ½åœ¨å·¦å­æ ‘ä¸­ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ˜¯å·¦å­æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/671_1.png" alt="img"></p><p>ç±»ä¼¼çš„é“ç†ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ç›¸åŒï¼Œé‚£ä¹ˆéœ€è¦æŠŠå·¦å³å­æ ‘çš„ç¬¬äºŒå°å…ƒç´ è®¡ç®—å‡ºæ¥ï¼Œæ¯”è¾ƒå…¶ä¸­è¾ƒå°çš„å…ƒç´ ï¼Œä½œä¸ºæ•´æ£µæ ‘çš„ç¬¬äºŒå°å…ƒç´ ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/671_2.png" alt="img"></p><p>å¦‚ä½•è®¡ç®—å­æ ‘ä¸­çš„ç¬¬äºŒå°å…ƒç´ ï¼Ÿå‡½æ•° <code>findSecondMinimumValue</code> å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œé€’å½’è°ƒç”¨å­æ ‘å³å¯ç®—å‡ºæ¥ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -71"><a href="#è§£æ³•ä»£ç -71" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›è¿™æ£µäºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹å€¼</span>    <span class="token keyword">def</span> <span class="token function">findSecondMinimumValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token comment"># å·¦å³å­èŠ‚ç‚¹ä¸­ä¸åŒäº root.val çš„é‚£ä¸ªå€¼å¯èƒ½æ˜¯ç¬¬äºŒå°çš„å€¼</span>        left<span class="token punctuation">,</span> right <span class="token operator">=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val<span class="token punctuation">,</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val        <span class="token comment"># å¦‚æœå·¦å³å­èŠ‚ç‚¹éƒ½ç­‰äº root.valï¼Œåˆ™å»å·¦å³å­æ ‘é€’å½’å¯»æ‰¾ç¬¬äºŒå°çš„å€¼</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            left <span class="token operator">=</span> self<span class="token punctuation">.</span>findSecondMinimumValue<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val<span class="token punctuation">:</span>            right <span class="token operator">=</span> self<span class="token punctuation">.</span>findSecondMinimumValue<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> right        <span class="token keyword">if</span> right <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> left        <span class="token comment"># å¦‚æœå·¦å³å­æ ‘éƒ½æ‰¾åˆ°ä¸€ä¸ªç¬¬äºŒå°çš„å€¼ï¼Œæ›´å°çš„é‚£ä¸ªæ˜¯æ•´æ£µæ ‘çš„ç¬¬äºŒå°å…ƒç´ </span>        <span class="token keyword">return</span> <span class="token builtin">min</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-64"><a href="#å¯è§†åŒ–-64" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_second-minimum-node-in-a-binary-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_second-minimum-node-in-a-binary-tree" src="https://labuladong.online/algo-visualize/leetcode/second-minimum-node-in-a-binary-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="501-äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°"><a href="#501-äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°" class="headerlink" title="501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_find-mode-in-binary-search-tree">501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/find-mode-in-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/find-mode-in-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå«é‡å¤å€¼çš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œæ‰¾å‡ºå¹¶è¿”å› BST ä¸­çš„æ‰€æœ‰<span>&nbsp;</span><a href="https://baike.baidu.com/item/%E4%BC%97%E6%95%B0/44796" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">ä¼—æ•°</a>ï¼ˆå³ï¼Œå‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœæ ‘ä¸­æœ‰ä¸æ­¢ä¸€ä¸ªä¼—æ•°ï¼Œå¯ä»¥æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„é¡ºåº</strong><span>&nbsp;</span>è¿”å›ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å‡å®š BST æ»¡è¶³å¦‚ä¸‹å®šä¹‰ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ç»“ç‚¹å·¦å­æ ‘ä¸­æ‰€å«èŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">å°äºç­‰äº</strong><span>&nbsp;</span>å½“å‰èŠ‚ç‚¹çš„å€¼</li><li>ç»“ç‚¹å³å­æ ‘ä¸­æ‰€å«èŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">å¤§äºç­‰äº</strong><span>&nbsp;</span>å½“å‰èŠ‚ç‚¹çš„å€¼</li><li>å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/11/mode-tree.jpg" style="max-width: 100%; width: 142px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,2,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–çš„ç©ºé—´å—ï¼Ÿï¼ˆå‡è®¾ç”±é€’å½’äº§ç”Ÿçš„éšå¼è°ƒç”¨æ ˆçš„å¼€é”€ä¸è¢«è®¡ç®—åœ¨å†…ï¼‰</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-mode-in-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-73"><a href="#åŸºæœ¬æ€è·¯-73" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>BST çš„ä¸­åºéå†æœ‰åºï¼Œåœ¨ä¸­åºéå†çš„ä½ç½®åšä¸€äº›åˆ¤æ–­é€»è¾‘å’Œæ“ä½œæœ‰åºæ•°ç»„å·®ä¸å¤šï¼Œå¾ˆå®¹æ˜“æ‰¾å‡ºä¼—æ•°ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -72"><a href="#è§£æ³•ä»£ç -72" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token comment"># å½“å‰å…ƒç´ çš„é‡å¤æ¬¡æ•°</span>        self<span class="token punctuation">.</span>curCount <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># å…¨å±€çš„æœ€é•¿ç›¸åŒåºåˆ—é•¿åº¦</span>        self<span class="token punctuation">.</span>maxCount <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">findMode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># æ‰§è¡Œä¸­åºéå†</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>mode    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token comment"># ä¸­åºéå†ä½ç½®</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>prev <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># åˆå§‹åŒ–</span>            self<span class="token punctuation">.</span>curCount <span class="token operator">=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>maxCount <span class="token operator">=</span> <span class="token number">1</span>            self<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> self<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>val<span class="token punctuation">:</span>                <span class="token comment"># root.val é‡å¤çš„æƒ…å†µ</span>                self<span class="token punctuation">.</span>curCount <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token keyword">if</span> self<span class="token punctuation">.</span>curCount <span class="token operator">==</span> self<span class="token punctuation">.</span>maxCount<span class="token punctuation">:</span>                    <span class="token comment"># root.val æ˜¯ä¼—æ•°</span>                    self<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>curCount <span class="token operator">></span> self<span class="token punctuation">.</span>maxCount<span class="token punctuation">:</span>                    <span class="token comment"># æ›´æ–°ä¼—æ•°</span>                    self<span class="token punctuation">.</span>mode <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>                    self<span class="token punctuation">.</span>maxCount <span class="token operator">=</span> self<span class="token punctuation">.</span>curCount                    self<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># root.val ä¸é‡å¤çš„æƒ…å†µ</span>                self<span class="token punctuation">.</span>curCount <span class="token operator">=</span> <span class="token number">1</span>                <span class="token keyword">if</span> self<span class="token punctuation">.</span>curCount <span class="token operator">==</span> self<span class="token punctuation">.</span>maxCount<span class="token punctuation">:</span>                    self<span class="token punctuation">.</span>mode<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        <span class="token comment"># åˆ«å¿˜äº†æ›´æ–° prev</span>        self<span class="token punctuation">.</span>prev <span class="token operator">=</span> root        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-65"><a href="#å¯è§†åŒ–-65" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_find-mode-in-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_find-mode-in-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/find-mode-in-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="530-äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®"><a href="#530-äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®" class="headerlink" title="530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_minimum-absolute-difference-in-bst">530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/minimum-absolute-difference-in-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/minimum-absolute-difference-in-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œè¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">æ ‘ä¸­ä»»æ„ä¸¤ä¸åŒèŠ‚ç‚¹å€¼ä¹‹é—´çš„æœ€å°å·®å€¼</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å·®å€¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå…¶æ•°å€¼ç­‰äºä¸¤å€¼ä¹‹å·®çš„ç»å¯¹å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/05/bst1.jpg" style="max-width: 100%; width: 292px; height: 301px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,2,6,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/05/bst2.jpg" style="max-width: 100%; width: 282px; height: 301px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,48,null,null,12,49]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[2, 10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ 783<span>&nbsp;</span><a href="https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/" class="" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">https://leetcode-cn.com/problems/minimum-distance-between-bst-nodes/</a><span>&nbsp;</span>ç›¸åŒ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/minimum-absolute-difference-in-bst/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-74"><a href="#åŸºæœ¬æ€è·¯-74" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œéå†ã€çš„æ€ç»´ã€‚</p><p>è®°ä½ï¼Œçœ‹åˆ°ä¸€æ£µ BSTï¼Œä½ å°±æŠŠå®ƒç†è§£æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„å°±è¡Œäº†ï¼Œåªæ˜¯éå†æ–¹å¼ä¸åŒç½¢äº†ã€‚æ‰€ä»¥è¿™é“é¢˜çš„æ€è·¯å°±å¾ˆç®€å•ï¼Œç”¨ä¸­åºéå†éå†ä¸€é BST çš„æ‰€æœ‰èŠ‚ç‚¹å¾—åˆ°æœ‰åºç»“æœï¼Œç„¶ååœ¨éå†è¿‡ç¨‹ä¸­è®¡ç®—æœ€å°å·®å€¼å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -73"><a href="#è§£æ³•ä»£ç -73" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">getMinimumDifference</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token comment"># éå†å‡½æ•°</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        <span class="token comment"># ä¸­åºéå†ä½ç½®</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>prev <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>res<span class="token punctuation">,</span> root<span class="token punctuation">.</span>val <span class="token operator">-</span> self<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>prev <span class="token operator">=</span> root        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-66"><a href="#å¯è§†åŒ–-66" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_minimum-absolute-difference-in-bst" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_minimum-absolute-difference-in-bst" src="https://labuladong.online/algo-visualize/leetcode/minimum-absolute-difference-in-bst/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/minimum-distance-between-bst-nodes">783. äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹æœ€å°è·ç¦» ğŸŸ¢</a></li></ul><h2 id="653-ä¸¤æ•°ä¹‹å’Œ-IV-è¾“å…¥-BST"><a href="#653-ä¸¤æ•°ä¹‹å’Œ-IV-è¾“å…¥-BST" class="headerlink" title="653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_two-sum-iv-input-is-a-bst">653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/two-sum-iv-input-is-a-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/two-sum-iv-input-is-a-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>å’Œä¸€ä¸ªç›®æ ‡ç»“æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code>ï¼Œå¦‚æœäºŒå‰æœç´¢æ ‘ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ ä¸”å®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡ç»“æœï¼Œåˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/21/sum_tree_1.jpg" style="max-width: 100%; height: 229px; width: 400px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [5,3,6,2,4,null,7], k = 9<strong style="font-weight: 600;">è¾“å‡º:</strong> true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/09/21/sum_tree_2.jpg" style="max-width: 100%; height: 229px; width: 400px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [5,3,6,2,4,null,7], k = 28<strong style="font-weight: 600;">è¾“å‡º:</strong> false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯&nbsp;&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>.</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>4</sup></code></li><li>é¢˜ç›®æ•°æ®ä¿è¯ï¼Œè¾“å…¥çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>æ˜¯ä¸€æ£µ<span>&nbsp;</span><strong style="font-weight: 600;">æœ‰æ•ˆ</strong><span>&nbsp;</span>çš„äºŒå‰æœç´¢æ ‘</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= k &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/two-sum-iv-input-is-a-bst/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-75"><a href="#åŸºæœ¬æ€è·¯-75" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜çš„æ€è·¯è›®å¤šçš„ï¼Œæˆ‘ä»¬å°±åˆ©ç”¨ BST ä¸­åºéå†æœ‰åºè¿™ä¸ªæ€§è´¨å¤–åŠ  <a href="https://labuladong.online/algo/practice-in-action/nsum/">ä¸€ä¸ªå‡½æ•°ç§’æ€ nSum é—®é¢˜</a> ä¸­çš„åŒæŒ‡é’ˆæ€è·¯æ¥è§£å†³å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -74"><a href="#è§£æ³•ä»£ç -74" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">findTarget</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># è½¬åŒ–æˆæœ‰åºæ•°ç»„</span>        arr <span class="token operator">=</span> self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># æœ‰åºæ•°ç»„ä¸­çš„å·¦å³åŒæŒ‡é’ˆ</span>        i<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token keyword">while</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">:</span>            sum_val <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>            <span class="token keyword">if</span> sum_val <span class="token operator">&lt;</span> k<span class="token punctuation">:</span>                <span class="token comment"># sum è°ƒå¤§ä¸€ç‚¹</span>                i <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">elif</span> sum_val <span class="token operator">></span> k<span class="token punctuation">:</span>                <span class="token comment"># sum è°ƒå°ä¸€ç‚¹</span>                j <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token comment"># è¿”å›ä¸­åºéå†ç»“æœ</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        res<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span>        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        res<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-67"><a href="#å¯è§†åŒ–-67" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-5">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_two-sum-iv-input-is-a-bst" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_two-sum-iv-input-is-a-bst" src="https://labuladong.online/algo-visualize/leetcode/two-sum-iv-input-is-a-bst/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/opLdQZ">å‰‘æŒ‡ Offer II 056. äºŒå‰æœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å’Œ ğŸŸ¢</a></li></ul><h2 id="1008-å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘"><a href="#1008-å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘" class="headerlink" title="1008. å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst1/#slug_construct-binary-search-tree-from-preorder-traversal">1008. å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1008. å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/construct-binary-search-tree-from-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/construct-binary-search-tree-from-preorder-traversal/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ƒè¡¨ç¤ºBST(å³<span>&nbsp;</span><strong style="font-weight: 600;">äºŒå‰æœç´¢æ ‘</strong><span>&nbsp;</span>)çš„<span>&nbsp;</span><strong style="font-weight: 600;">å…ˆ</strong><strong style="font-weight: 600;">åºéå†</strong><span>&nbsp;</span>ï¼Œæ„é€ æ ‘å¹¶è¿”å›å…¶æ ¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>å¯¹äºç»™å®šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ€»æ˜¯æœ‰å¯èƒ½æ‰¾åˆ°å…·æœ‰ç»™å®šéœ€æ±‚çš„äºŒå‰æœç´¢æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">äºŒå‰æœç´¢æ ‘</strong><span>&nbsp;</span>æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ï¼Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.left</code>&nbsp;çš„ä»»ä½•åä»£çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼å°äº</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>&nbsp;,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.right</code>&nbsp;çš„ä»»ä½•åä»£çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼å¤§äº</strong><span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">äºŒå‰æ ‘çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‰åºéå†</strong><span>&nbsp;</span>é¦–å…ˆæ˜¾ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œç„¶åéå†<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.left</code>ï¼Œæœ€åéå†<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.right</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2019/03/06/1266.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>preorder = [8,5,1,7,10,12]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[8,5,10,1,7,null,12]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> preorder = [1,3]<strong style="font-weight: 600;">è¾“å‡º:</strong> [1,null,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder.length &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= preorder[i]&nbsp;&lt;= 10^8</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">preorder</code><span>&nbsp;</span>ä¸­çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/construct-binary-search-tree-from-preorder-traversal/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1008. å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-76"><a href="#åŸºæœ¬æ€è·¯-76" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´ã€‚</p><p>å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘çš„èŠ±å¼æ„é€ </a> å’Œ <a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/">äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</a> è¯´è¿‡ï¼Œç”ŸæˆäºŒå‰æ ‘çš„é¢˜ç›®ï¼Œæ— éå°±æ˜¯å…ˆç”Ÿæˆæ ¹èŠ‚ç‚¹ï¼Œç„¶åé€’å½’ç”Ÿæˆå·¦å³å­æ ‘ï¼Œæœ€åæŠŠæ ¹èŠ‚ç‚¹å’Œå·¦å³å­æ ‘è¿æ¥èµ·æ¥ã€‚<strong>å…·ä½“åŒºåˆ«åœ¨äºä½ å¦‚ä½•æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œå¦‚ä½•åˆ’åˆ†å·¦å³å­æ ‘</strong>ã€‚</p><p>æ ¹æ®å‰åºéå†çš„ç‰¹ç‚¹æ˜¯ï¼Œæ ¹èŠ‚ç‚¹åœ¨ç¬¬ä¸€ä½ï¼Œåé¢æ¥ç€å·¦å­æ ‘å’Œå³å­æ ‘ï¼›BST çš„ç‰¹ç‚¹ï¼Œå·¦å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å°ï¼Œå³å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§ã€‚</p><p>æ‰€ä»¥å¦‚ä½•æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Ÿå‰åºéå†çš„ç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚</p><p>å¦‚ä½•æ‰¾åˆ°å·¦å³å­æ ‘ï¼Ÿæ¯”æ ¹èŠ‚ç‚¹å°çš„å°±æ˜¯å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼Œæ¯”æ ¹èŠ‚ç‚¹å¤§çš„å°±æ˜¯å³å­æ ‘çš„èŠ‚ç‚¹ã€‚</p><p>æœ€åï¼Œç¡®å®šæ¸…æ¥š <code>build</code> å‡½æ•°çš„å®šä¹‰ï¼Œåˆ©ç”¨è¿™ä¸ªå‡½æ•°é€’å½’ç”Ÿæˆ BST å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst1/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ I</a></li></ul><h3 id="è§£æ³•ä»£ç -75"><a href="#è§£æ³•ä»£ç -75" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">bstFromPreorder</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preorder<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šå°† preorder[start..end] åŒºé—´å†…çš„å…ƒç´ ç”Ÿæˆ BSTï¼Œå¹¶è¿”å›æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> preorder<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> start <span class="token operator">></span> end<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># æ ¹æ®å‰åºéå†çš„ç‰¹ç‚¹ï¼Œæ ¹èŠ‚ç‚¹åœ¨ç¬¬ä¸€ä½ï¼Œåé¢æ¥ç€å·¦å­æ ‘å’Œå³å­æ ‘</span>        rootVal <span class="token operator">=</span> preorder<span class="token punctuation">[</span>start<span class="token punctuation">]</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>rootVal<span class="token punctuation">)</span>        <span class="token comment"># æ ¹æ® BST çš„ç‰¹ç‚¹ï¼Œå·¦å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å°ï¼Œå³å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§</span>        <span class="token comment"># p å°±æ˜¯å·¦å³å­æ ‘çš„åˆ†ç•Œç‚¹</span>        p <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token number">1</span>        <span class="token keyword">while</span> p <span class="token operator">&lt;=</span> end <span class="token keyword">and</span> preorder<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rootVal<span class="token punctuation">:</span>            p <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># [start+1, p-1] åŒºé—´å†…æ˜¯å·¦å­æ ‘å…ƒç´ </span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># [p, end] åŒºé—´å†…æ˜¯å³å­æ ‘å…ƒç´ </span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>preorder<span class="token punctuation">,</span> p<span class="token punctuation">,</span> end<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-68"><a href="#å¯è§†åŒ–-68" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst1/#%E5%8F%AF%E8%A7%86%E5%8C%96-6">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_construct-binary-search-tree-from-preorder-traversal" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_construct-binary-search-tree-from-preorder-traversal" src="https://labuladong.online/algo-visualize/leetcode/construct-binary-search-tree-from-preorder-traversal/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/verify-preorder-sequence-in-binary-search-tree">255. éªŒè¯å‰åºéå†åºåˆ—äºŒå‰æœç´¢æ ‘ ğŸŸ </a></li></ul><h2 id="108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><a href="#108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_convert-sorted-array-to-binary-search-tree">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ï¼Œå…¶ä¸­å…ƒç´ å·²ç»æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">å‡åº</strong><span>&nbsp;</span>æ’åˆ—ï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºä¸€æ£µ<span>&nbsp;</span><span data-keyword="height-balanced">å¹³è¡¡</span><span>&nbsp;</span>äºŒå‰æœç´¢æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/18/btree1.jpg" style="max-width: 100%; width: 302px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [-10,-3,0,5,9]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0,-3,9,-10,null,5]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>[0,-10,5,null,-3,null,9] ä¹Ÿå°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆï¼š<img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/18/btree2.jpg" style="max-width: 100%; width: 302px; height: 222px;"></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/18/btree.jpg" style="max-width: 100%; width: 342px; height: 142px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>[1,null,3] å’Œ [3,1] éƒ½æ˜¯é«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼é€’å¢</strong><span>&nbsp;</span>é¡ºåºæ’åˆ—</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-77"><a href="#åŸºæœ¬æ€è·¯-77" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘æ€»ç»“ç¯‡</a> è¯´è¿‡äºŒå‰æ ‘çš„é€’å½’åˆ†ä¸ºã€Œéå†ã€å’Œã€Œåˆ†è§£é—®é¢˜ã€ä¸¤ç§æ€ç»´æ¨¡å¼ï¼Œè¿™é“é¢˜éœ€è¦ç”¨åˆ°ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´æ¨¡å¼ã€‚</p><p>äºŒå‰æ ‘çš„æ„å»ºé—®é¢˜éµå¾ªå›ºå®šçš„å¥—è·¯ï¼Œæ„é€ æ•´æ£µæ ‘å¯ä»¥åˆ†è§£æˆï¼šå…ˆæ„é€ æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ„å»ºå·¦å³å­æ ‘ã€‚</p><p>ä¸€ä¸ªæœ‰åºæ•°ç»„å¯¹äº BST æ¥è¯´å°±æ˜¯ä¸­åºéå†ç»“æœï¼Œæ ¹èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­å¿ƒï¼Œæ•°ç»„å·¦ä¾§æ˜¯å·¦å­æ ‘å…ƒç´ ï¼Œå³ä¾§æ˜¯å³å­æ ‘å…ƒç´ ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -76"><a href="#è§£æ³•ä»£ç -76" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># å°†é—­åŒºé—´ [left, right] ä¸­çš„å…ƒç´ è½¬åŒ–æˆ BSTï¼Œè¿”å›æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> left <span class="token operator">></span> right<span class="token punctuation">:</span>            <span class="token comment"># åŒºé—´ä¸ºç©º</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># æ„é€ æ ¹èŠ‚ç‚¹</span>        <span class="token comment"># BST èŠ‚ç‚¹å·¦å°å³å¤§ï¼Œä¸­é—´çš„å…ƒç´ å°±æ˜¯æ ¹èŠ‚ç‚¹</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># é€’å½’æ„å»ºå·¦å­æ ‘</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># é€’å½’æ„é€ å³å­æ ‘</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-69"><a href="#å¯è§†åŒ–-69" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_convert-sorted-array-to-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_convert-sorted-array-to-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/convert-sorted-array-to-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/convert-sorted-list-to-binary-search-tree">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/balance-a-binary-search-tree">1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡ ğŸŸ </a></li></ul><h2 id="1382-å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡"><a href="#1382-å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡" class="headerlink" title="1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡"></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_balance-a-binary-search-tree">1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/balance-a-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/balance-a-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·ä½ è¿”å›ä¸€æ£µ&nbsp;<strong style="font-weight: 600;">å¹³è¡¡å</strong>&nbsp;çš„äºŒå‰æœç´¢æ ‘ï¼Œæ–°ç”Ÿæˆçš„æ ‘åº”è¯¥ä¸åŸæ¥çš„æ ‘æœ‰ç€ç›¸åŒçš„èŠ‚ç‚¹å€¼ã€‚å¦‚æœæœ‰å¤šç§æ„é€ æ–¹æ³•ï¼Œè¯·ä½ è¿”å›ä»»æ„ä¸€ç§ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸€æ£µäºŒå‰æœç´¢æ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>ï¼Œæˆ‘ä»¬å°±ç§°è¿™æ£µäºŒå‰æœç´¢æ ‘æ˜¯&nbsp;<strong style="font-weight: 600;">å¹³è¡¡çš„</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/08/10/balance1-tree.jpg" style="max-width: 100%; height: 319px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,null,2,null,3,null,4,null,null]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,1,3,null,null,null,4]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¿™ä¸æ˜¯å”¯ä¸€çš„æ­£ç¡®ç­”æ¡ˆï¼Œ[3,1,4,null,2,null,null] ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¡Œçš„æ„é€ æ–¹æ¡ˆã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/08/10/balanced2-tree.jpg" style="max-width: 100%; height: 145px; width: 224px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [2,1,3]<strong style="font-weight: 600;">è¾“å‡º:</strong> [2,1,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘èŠ‚ç‚¹çš„æ•°ç›®åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code>&nbsp;èŒƒå›´å†…ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/balance-a-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1382. å°†äºŒå‰æœç´¢æ ‘å˜å¹³è¡¡</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-78"><a href="#åŸºæœ¬æ€è·¯-78" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜å¯éš¾å¯ç®€å•ï¼Œå¦‚æœè¦éš¾ï¼Œå°±æ˜¯çº¢é»‘æ ‘å·¦æ—‹å³æ—‹é‚£ä¸€å¥—ï¼Œä¸è¿‡çœŸçš„æ²¡å¿…è¦è¿™ä¹ˆæã€‚</p><p>æˆ‘ä»¬ç®€å•ç‚¹ï¼Œå°±æ˜¯ç”¨ä¸­åºéå†è·å– BST çš„æœ‰åºç»“æœï¼Œç„¶åç”¨ <a href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a> çš„è§£æ³•ä»£ç ï¼Œå°†è¿™ä¸ªæœ‰åºæ•°ç»„è½¬åŒ–æˆå¹³è¡¡ BSTã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -77"><a href="#è§£æ³•ä»£ç -77" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">balanceBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token comment"># ä¸­åºéå†è·å–æœ‰åºæ•°ç»„</span>        nums <span class="token operator">=</span> self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token comment"># ä»æœ‰åºæ•°ç»„æ„å»º BST</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># è¿”å›ä¸­åºéå†ç»“æœ</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">list</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> res        res<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span>        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>        res<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res    <span class="token comment"># BST æ„é€ å‡½æ•°ï¼Œè§ 108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">></span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-70"><a href="#å¯è§†åŒ–-70" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_balance-a-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_balance-a-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/balance-a-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"><a href="#449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘" class="headerlink" title="449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_serialize-and-deserialize-bst">449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/serialize-and-deserialize-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/serialize-and-deserialize-bst/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åºåˆ—åŒ–æ˜¯å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºä¸€ç³»åˆ—ä½çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ç¼“å†²åŒºä¸­ï¼Œæˆ–é€šè¿‡ç½‘ç»œè¿æ¥é“¾è·¯ä¼ è¾“ï¼Œä»¥ä¾¿ç¨ååœ¨åŒä¸€ä¸ªæˆ–å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­é‡å»ºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–<strong style="font-weight: 600;"><span>&nbsp;</span>äºŒå‰æœç´¢æ ‘</strong><span>&nbsp;</span>ã€‚ å¯¹åºåˆ—åŒ–/ååºåˆ—åŒ–ç®—æ³•çš„å·¥ä½œæ–¹å¼æ²¡æœ‰é™åˆ¶ã€‚ æ‚¨åªéœ€ç¡®ä¿äºŒå‰æœç´¢æ ‘å¯ä»¥åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥å°†è¯¥å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºæœ€åˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¼–ç çš„å­—ç¬¦ä¸²åº”å°½å¯èƒ½ç´§å‡‘ã€‚</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,1,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = []<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>4</sup></code></li><li>é¢˜ç›®æ•°æ®<span>&nbsp;</span><strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>è¾“å…¥çš„æ ‘æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/serialize-and-deserialize-bst/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-79"><a href="#åŸºæœ¬æ€è·¯-79" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>åœ¨åšæœ¬é¢˜ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆçœ‹å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/">äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ä¸åŒæ–¹å¼</a>ï¼Œç„¶åå°±å¯ä»¥å¾ˆå®¹æ˜“ç†è§£æœ¬é¢˜çš„æ€è·¯äº†ã€‚</p><p>äºŒå‰æ ‘çš„æ„é€ ç®—æ³•é€šç”¨æ€è·¯å¾ˆç®€å•ï¼Œæ— éå°±æ˜¯æ„é€ æ ¹èŠ‚ç‚¹ï¼Œç„¶åé€’å½’æ„é€ å·¦å³å­æ ‘ï¼Œæœ€åæŠŠå®ƒä»¬æ¥èµ·æ¥ï¼Œ<strong>å…³é”®åœ¨äºå¦‚ä½•æ‰¾åˆ°æ ¹èŠ‚ç‚¹å’Œå·¦å³å­æ ‘çš„èŠ‚ç‚¹ï¼Œä¸åŒçš„åºåˆ—åŒ–æ–¹æ³•ï¼Œæ‰¾æ ¹èŠ‚ç‚¹çš„æ–¹å¼ä¹Ÿä¸åŒ</strong>ã€‚</p><p>æœ¬é¢˜å½“ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶ <a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</a> çš„ä»£ç è¿‡æ¥ï¼Œä½†æ˜¯æ˜¾ç„¶æ²¡æœ‰åˆ©ç”¨åˆ° BST å·¦å°å³å¤§çš„ç‰¹æ€§ï¼Œå¤æ‚åº¦ä¼šæ›´é«˜ã€‚</p><p>å¯¹æ¯” 297 é¢˜æ™®é€šäºŒå‰æ ‘çš„åºåˆ—åŒ–ï¼Œåˆ©ç”¨ BST å·¦å°å³å¤§çš„ç‰¹æ€§ä¸»è¦å¯ä»¥é¿å…åºåˆ—åŒ–ç©ºæŒ‡é’ˆï¼Œåˆ©ç”¨ <code>min, max</code> è¾¹ç•Œæ¥åˆ’å®šä¸€æ£µå­æ ‘çš„è¾¹ç•Œï¼Œä»è€Œæå‡ç®—æ³•æ•ˆç‡ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -78"><a href="#è§£æ³•ä»£ç -78" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    <span class="token comment"># åˆ†éš”ç¬¦ï¼ŒåŒºåˆ†æ¯ä¸ªèŠ‚ç‚¹çš„å€¼</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    <span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        sb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>sb<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">_serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># å‰åºéå†ä½ç½®è¿›è¡Œåºåˆ—åŒ–</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># è½¬åŒ–æˆå‰åºéå†ç»“æœ</span>        inorder <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">for</span> s <span class="token keyword">in</span> data<span class="token punctuation">.</span>split<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span> <span class="token keyword">if</span> s<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>inorder<span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šå°† nodes ä¸­å€¼åœ¨é—­åŒºé—´ [min, max] çš„èŠ‚ç‚¹æ„é€ æˆä¸€æ£µ BST</span>    <span class="token keyword">def</span> <span class="token function">_deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nodes<span class="token punctuation">,</span> min_val<span class="token punctuation">,</span> max_val<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> nodes<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å‰åºéå†ä½ç½®è¿›è¡Œååºåˆ—åŒ–</span>        <span class="token comment"># å‰åºéå†ç»“æœç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹</span>        root_val <span class="token operator">=</span> nodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> root_val <span class="token operator">></span> max_val <span class="token keyword">or</span> root_val <span class="token operator">&lt;</span> min_val<span class="token punctuation">:</span>            <span class="token comment"># è¶…è¿‡é—­åŒºé—´ [min, max]ï¼Œåˆ™è¿”å›ç©ºæŒ‡é’ˆ</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        nodes<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”Ÿæˆ root èŠ‚ç‚¹</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>root_val<span class="token punctuation">)</span>        <span class="token comment"># æ„å»ºå·¦å³å­æ ‘</span>        <span class="token comment"># BST å·¦å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œå³å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹å¤§</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> min_val<span class="token punctuation">,</span> root_val<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> root_val<span class="token punctuation">,</span> max_val<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠ€å·§äºŒ</p><p>å¦‚æœè¾“å…¥çš„ä¸æ˜¯æœ‰åºæ•°ç»„ï¼Œè€Œæ˜¯æœ‰åºé“¾è¡¨ï¼Œåº”è¯¥æ€ä¹ˆæ„é€  BST å‘¢ï¼Ÿ</p><h2 id="109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"><a href="#109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘" class="headerlink" title="109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_convert-sorted-list-to-binary-search-tree">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/convert-sorted-list-to-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ &nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code>&nbsp;ï¼Œå…¶ä¸­çš„å…ƒç´ <span>&nbsp;</span><strong style="font-weight: 600;">æŒ‰å‡åºæ’åº</strong><span>&nbsp;</span>ï¼Œå°†å…¶è½¬æ¢ä¸º<span>&nbsp;</span><span data-keyword="height-balanced">å¹³è¡¡</span><span>&nbsp;</span>äºŒå‰æœç´¢æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2020/08/17/linked.jpg" style="max-width: 100%; height: 388px; width: 500px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> head = [-10,-3,0,5,9]<strong style="font-weight: 600;">è¾“å‡º:</strong> [0,-3,9,-10,null,5]<strong style="font-weight: 600;">è§£é‡Š:</strong> ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯[0ï¼Œ-3,9ï¼Œ-10,null,5]ï¼Œå®ƒè¡¨ç¤ºæ‰€ç¤ºçš„é«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> head = []<strong style="font-weight: 600;">è¾“å‡º:</strong> []</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code>&nbsp;ä¸­çš„èŠ‚ç‚¹æ•°åœ¨<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 2 * 10<sup>4</sup>]</code>&nbsp;èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/convert-sorted-list-to-binary-search-tree/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-80"><a href="#åŸºæœ¬æ€è·¯-80" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>é“¾è¡¨å’Œæ•°ç»„ç›¸æ¯”çš„ä¸€ä¸ªå…³é”®å·®å¼‚æ˜¯æ— æ³•é€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œæ‰€ä»¥è¿™é¢˜æœ‰å‡ ä¸ªæ€è·¯ï¼š</p><p>1ã€æŠŠé“¾è¡¨è½¬åŒ–æˆæ•°ç»„ï¼Œç„¶åç›´æ¥å¤ç”¨ <a href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a> çš„è§£æ³•ã€‚</p><p>2ã€ç¨å¾®æ”¹å†™ <a href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a> çš„è§£æ³•ï¼Œç”¨ <a href="https://labuladong.online/algo/essential-technique/linked-list-skills-summary/">å•é“¾è¡¨çš„å…­å¤§è§£é¢˜å¥—è·¯</a> è¯´åˆ°çš„åŒæŒ‡é’ˆæ–¹æ³•è·å–é“¾è¡¨çš„ä¸­ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ç•¥é«˜ä¸€äº›ã€‚</p><p>3ã€å¦‚æœæ·±åˆ»ç†è§£äºŒå‰æ ‘ç®—æ³•ï¼Œå¯ä»¥åˆ©ç”¨ä¸­åºéå†çš„ç‰¹ç‚¹å†™å‡ºæœ€ä¼˜åŒ–çš„è§£æ³•ã€‚</p><p>æˆ‘æŠŠç¬¬ 2 å’Œç¬¬ 3 ç§è§£æ³•å†™ä¸€ä¸‹ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -79"><a href="#è§£æ³•ä»£ç -79" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># è§£æ³•ä¸‰ã€é€šè¿‡ä¸­åºéå†ç‰¹ç‚¹å†™å‡ºçš„è§£æ³•</span>    <span class="token keyword">def</span> <span class="token function">sortedListToBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">inorderBuild</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>            <span class="token keyword">if</span> left <span class="token operator">></span> right<span class="token punctuation">:</span>                <span class="token keyword">return</span> <span class="token boolean">None</span>            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>            <span class="token comment"># æ„é€ å·¦å­æ ‘</span>            leftTree <span class="token operator">=</span> inorderBuild<span class="token punctuation">(</span>left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>            <span class="token comment"># æ„é€ æ ¹èŠ‚ç‚¹</span>            root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>cur <span class="token operator">=</span> self<span class="token punctuation">.</span>cur<span class="token punctuation">.</span><span class="token builtin">next</span>            <span class="token comment"># æ„é€ å³å­æ ‘</span>            rightTree <span class="token operator">=</span> inorderBuild<span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>            <span class="token comment"># å°†å·¦å³å­æ ‘æ¥åˆ°æ ¹èŠ‚ç‚¹ä¸Š</span>            root<span class="token punctuation">.</span>left <span class="token operator">=</span> leftTree            root<span class="token punctuation">.</span>right <span class="token operator">=</span> rightTree            <span class="token keyword">return</span> root        <span class="token builtin">len</span> <span class="token operator">=</span> <span class="token number">0</span>        p <span class="token operator">=</span> head        <span class="token keyword">while</span> p<span class="token punctuation">:</span>            <span class="token builtin">len</span> <span class="token operator">+=</span> <span class="token number">1</span>            p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token builtin">next</span>        self<span class="token punctuation">.</span>cur <span class="token operator">=</span> head        <span class="token keyword">return</span> inorderBuild<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># è§£æ³•äºŒã€é€šè¿‡æ‰¾é“¾è¡¨ä¸­ç‚¹çš„æ–¹å¼å†™å‡ºçš„è§£æ³•</span>    <span class="token keyword">def</span> <span class="token function">sortedListToBST_2</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> end<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>            <span class="token keyword">if</span> begin <span class="token operator">==</span> end<span class="token punctuation">:</span>                <span class="token comment"># å› ä¸ºæ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œæ‰€ä»¥ç°åœ¨å·²ç»æˆç©ºé›†äº†</span>                <span class="token keyword">return</span> <span class="token boolean">None</span>            mid <span class="token operator">=</span> getMid<span class="token punctuation">(</span>begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span>            root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>mid<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            root<span class="token punctuation">.</span>left <span class="token operator">=</span> build<span class="token punctuation">(</span>begin<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>            root<span class="token punctuation">.</span>right <span class="token operator">=</span> build<span class="token punctuation">(</span>mid<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>            <span class="token keyword">return</span> root        <span class="token keyword">def</span> <span class="token function">getMid</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> end<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ListNode<span class="token punctuation">:</span>            slow<span class="token punctuation">,</span> fast <span class="token operator">=</span> begin<span class="token punctuation">,</span> begin            <span class="token keyword">while</span> fast <span class="token operator">!=</span> end <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">!=</span> end<span class="token punctuation">:</span>                slow <span class="token operator">=</span> slow<span class="token punctuation">.</span><span class="token builtin">next</span>                fast <span class="token operator">=</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>            <span class="token keyword">return</span> slow        <span class="token keyword">return</span> build<span class="token punctuation">(</span>head<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-71"><a href="#å¯è§†åŒ–-71" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_convert-sorted-list-to-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_convert-sorted-list-to-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/convert-sorted-list-to-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>Tip</p><p>æœ€åè¿˜æœ‰ä¸€äº›å¸¸è€ƒçš„å¥—è·¯é¢˜å‹ï¼Œè®°ä½å°±å¥½äº†ã€‚</p><h2 id="173-äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨"><a href="#173-äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨" class="headerlink" title="173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨"></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_binary-search-tree-iterator">173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/binary-search-tree-iterator/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/binary-search-tree-iterator/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div>å®ç°ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è¿­ä»£å™¨ç±»<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">BSTIterator</code><span>&nbsp;</span>ï¼Œè¡¨ç¤ºä¸€ä¸ªæŒ‰ä¸­åºéå†äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„è¿­ä»£å™¨ï¼š<div class="original__bRMd"><div><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">BSTIterator(TreeNode root)</code><span>&nbsp;</span>åˆå§‹åŒ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">BSTIterator</code><span>&nbsp;</span>ç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚BST çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ä¼šä½œä¸ºæ„é€ å‡½æ•°çš„ä¸€éƒ¨åˆ†ç»™å‡ºã€‚æŒ‡é’ˆåº”åˆå§‹åŒ–ä¸ºä¸€ä¸ªä¸å­˜åœ¨äº BST ä¸­çš„æ•°å­—ï¼Œä¸”è¯¥æ•°å­—å°äº BST ä¸­çš„ä»»ä½•å…ƒç´ ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean hasNext()</code><span>&nbsp;</span>å¦‚æœå‘æŒ‡é’ˆå³ä¾§éå†å­˜åœ¨æ•°å­—ï¼Œåˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›å¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int next()</code>å°†æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œç„¶åè¿”å›æŒ‡é’ˆå¤„çš„æ•°å­—ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;">æ³¨æ„ï¼ŒæŒ‡é’ˆåˆå§‹åŒ–ä¸ºä¸€ä¸ªä¸å­˜åœ¨äº BST ä¸­çš„æ•°å­—ï¼Œæ‰€ä»¥å¯¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next()</code><span>&nbsp;</span>çš„é¦–æ¬¡è°ƒç”¨å°†è¿”å› BST ä¸­çš„æœ€å°å…ƒç´ ã€‚</p></div></div><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ å¯ä»¥å‡è®¾<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next()</code><span>&nbsp;</span>è°ƒç”¨æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next()</code><span>&nbsp;</span>æ—¶ï¼ŒBST çš„ä¸­åºéå†ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªä¸‹ä¸€ä¸ªæ•°å­—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2018/12/25/bst-tree.png" style="max-width: 100%; width: 189px; height: 178px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>["BSTIterator", "next", "next", "hasNext", "next", "hasNext", "next", "hasNext", "next", "hasNext"][[[7, 3, 15, null, null, 9, 20]], [], [], [], [], [], [], [], [], []]<strong style="font-weight: 600;">è¾“å‡º</strong>[null, 3, 7, true, 9, true, 15, true, 20, false]<p><strong style="font-weight: 600;">è§£é‡Š</strong><br>BSTIterator bSTIterator &#x3D; new BSTIterator([7, 3, 15, null, null, 9, 20]);<br>bSTIterator.next();    &#x2F;&#x2F; è¿”å› 3<br>bSTIterator.next();    &#x2F;&#x2F; è¿”å› 7<br>bSTIterator.hasNext(); &#x2F;&#x2F; è¿”å› True<br>bSTIterator.next();    &#x2F;&#x2F; è¿”å› 9<br>bSTIterator.hasNext(); &#x2F;&#x2F; è¿”å› True<br>bSTIterator.next();    &#x2F;&#x2F; è¿”å› 15<br>bSTIterator.hasNext(); &#x2F;&#x2F; è¿”å› True<br>bSTIterator.next();    &#x2F;&#x2F; è¿”å› 20<br>bSTIterator.hasNext(); &#x2F;&#x2F; è¿”å› False<br></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>5</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>6</sup></code></li><li>æœ€å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>5</sup></code><span>&nbsp;</span>æ¬¡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">hasNext</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next</code><span>&nbsp;</span>æ“ä½œ</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next()</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">hasNext()</code><span>&nbsp;</span>æ“ä½œå‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(1)</code><span>&nbsp;</span>ï¼Œå¹¶ä½¿ç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(h)</code><span>&nbsp;</span>å†…å­˜ã€‚å…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">h</code><span>&nbsp;</span>æ˜¯æ ‘çš„é«˜åº¦ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/binary-search-tree-iterator/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-81"><a href="#åŸºæœ¬æ€è·¯-81" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>åˆ©ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’å¯¹ BST è¿›è¡Œä¸­åºéå†å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å¥—è·¯é¢˜å‹ï¼Œä½ è®°ä½å°±å¥½äº†ï¼Œå…³é”®åœ¨äºç†è§£ <code>pushLeftBranch</code> å‡½æ•°ï¼Œæ·±åˆ»ç†è§£äºŒå‰æ ‘é€’å½’éå†çš„è¿‡ç¨‹ï¼š</p><p><img src="/2025/08/03/er-cha-shu-suan-fa-xi-ti/1.gif" alt="img"></p><p>å¦å¤–ï¼Œæˆ‘è¿˜æ€»ç»“äº†ä¸€å¥—äºŒå‰æ ‘å„ç§éå†é¡ºåºé€šç”¨çš„é€’å½’è½¬è¿­ä»£ä»£ç æ¡†æ¶ï¼Œè¯¦è§ <a href="https://labuladong.online/algo/data-structure/iterative-traversal-binary-tree/">äºŒå‰æ ‘é€šç”¨è¿­ä»£æ¡†æ¶</a>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -80"><a href="#è§£æ³•ä»£ç -80" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">BSTIterator</span><span class="token punctuation">:</span>    <span class="token comment"># æ¨¡æ‹Ÿé€’å½’æ ˆ</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>pushLeftBranch<span class="token punctuation">(</span>root<span class="token punctuation">)</span>    <span class="token comment"># å·¦ä¾§æ ‘æä¸€æ’¸åˆ°åº•</span>    <span class="token keyword">def</span> <span class="token function">pushLeftBranch</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> p <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>p<span class="token punctuation">)</span>            p <span class="token operator">=</span> p<span class="token punctuation">.</span>left    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        p <span class="token operator">=</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>pushLeftBranch<span class="token punctuation">(</span>p<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> p<span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stk<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/two-sum-bsts">1214. æŸ¥æ‰¾ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¹‹å’Œ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/all-elements-in-two-binary-search-trees">1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´  ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/kTOapQ">å‰‘æŒ‡ Offer II 055. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨ ğŸŸ </a></li></ul><h2 id="1305-ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ "><a href="#1305-ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ " class="headerlink" title="1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/bst2/#slug_all-elements-in-two-binary-search-trees">1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/all-elements-in-two-binary-search-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/all-elements-in-two-binary-search-trees/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ &nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root2</code>&nbsp;è¿™ä¸¤æ£µäºŒå‰æœç´¢æ ‘ã€‚è¯·ä½ è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«&nbsp;<strong style="font-weight: 600;">ä¸¤æ£µæ ‘&nbsp;</strong>ä¸­çš„æ‰€æœ‰æ•´æ•°å¹¶æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">å‡åº</strong><span>&nbsp;</span>æ’åºã€‚.</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/12/29/q2-e1.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [2,1,4], root2 = [1,0,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0,1,1,2,3,4]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/12/29/q2-e5-.png" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root1 = [1,null,8], root2 = [8,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,1,8,8]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ¯æ£µæ ‘çš„èŠ‚ç‚¹æ•°åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 5000]</code><span>&nbsp;</span>èŒƒå›´å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/all-elements-in-two-binary-search-trees/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-82"><a href="#åŸºæœ¬æ€è·¯-82" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>ä½ å¯ä»¥ç›´æ¥ä¸­åºéå†ä¸¤ä¸ª BST å¾—åˆ°ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œç„¶åæŠŠè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶ï¼Œè¿™ä¸ªæ€è·¯ç®€å•ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¼šé«˜ä¸€äº›ã€‚</p><p>æ¯”è¾ƒå¥½çš„åŠæ³•æ˜¯ç”¨ <a href="https://leetcode.cn/problems/binary-search-tree-iterator">173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</a> ä¸­å®ç°çš„ BST è¿­ä»£å™¨ï¼Œç„¶åç±»ä¼¼æˆ‘ä»¬è§£å†³ <a href="https://leetcode.cn/problems/merge-two-sorted-lists">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a> ä¸­çš„é€»è¾‘æ“ä½œè¿™ä¸¤ä¸ªè¿­ä»£å™¨ï¼Œè·å¾—åˆå¹¶çš„æœ‰åºç»“æœã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/bst2/">ã€ç»ƒä¹ ã€‘äºŒå‰æœç´¢æ ‘ç»å…¸ä¾‹é¢˜ II</a></li></ul><h3 id="è§£æ³•ä»£ç -81"><a href="#è§£æ³•ä»£ç -81" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/bst2/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">getAllElements</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root1<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> root2<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token comment"># BST æœ‰åºè¿­ä»£å™¨</span>        t1 <span class="token operator">=</span> BSTIterator<span class="token punctuation">(</span>root1<span class="token punctuation">)</span>        t2 <span class="token operator">=</span> BSTIterator<span class="token punctuation">(</span>root2<span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># ç±»ä¼¼åˆå¹¶æœ‰åºé“¾è¡¨çš„ç®—æ³•é€»è¾‘</span>        <span class="token keyword">while</span> t1<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> t2<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> t1<span class="token punctuation">.</span>peek<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> t2<span class="token punctuation">.</span>peek<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>t2<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># å¦‚æœæœ‰ä¸€æ£µ BST è¿˜å‰©å…ƒç´ ï¼Œæ·»åŠ åˆ°æœ€å</span>        <span class="token keyword">while</span> t1<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> t2<span class="token punctuation">.</span>hasNext<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>t2<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token comment"># BST æœ‰åºè¿­ä»£å™¨</span><span class="token keyword">class</span> <span class="token class-name">BSTIterator</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>pushLeftBranch<span class="token punctuation">(</span>root<span class="token punctuation">)</span>    <span class="token comment"># å·¦ä¾§æ ‘æä¸€æ’¸åˆ°åº•</span>    <span class="token keyword">def</span> <span class="token function">pushLeftBranch</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> p<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> p<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>p<span class="token punctuation">)</span>            p <span class="token operator">=</span> p<span class="token punctuation">.</span>left    <span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">next</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        p <span class="token operator">=</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>pushLeftBranch<span class="token punctuation">(</span>p<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> p<span class="token punctuation">.</span>val    <span class="token keyword">def</span> <span class="token function">hasNext</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>stk<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> äºŒå‰æ ‘ç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æœç´¢æ ‘</title>
      <link href="/2025/08/03/er-cha-sou-suo-shu/"/>
      <url>/2025/08/03/er-cha-sou-suo-shu/</url>
      
        <content type="html"><![CDATA[<h1 id="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰"><a href="#äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰" class="headerlink" title="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰"></a>äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</h1><p>æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜</p><table><thead><tr><th align="center">LeetCode</th><th align="center">åŠ›æ‰£</th><th align="center">éš¾åº¦</th></tr></thead><tbody><tr><td align="center"><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/">95. Unique Binary Search Trees II</a></td><td align="center"><a href="https://leetcode.cn/problems/unique-binary-search-trees-ii/">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a></td><td align="center">ğŸŸ </td></tr><tr><td align="center"><a href="https://leetcode.com/problems/unique-binary-search-trees/">96. Unique Binary Search Trees</a></td><td align="center"><a href="https://leetcode.cn/problems/unique-binary-search-trees/">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></td><td align="center">ğŸŸ </td></tr></tbody></table><p>å‰ç½®çŸ¥è¯†</p><p>é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘ç»“æ„åŸºç¡€</a></li><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘çš„ DFS&#x2F;BFS éå†</a></li></ul><p>ä¹‹å‰å†™äº†ä¸¤ç¯‡æ‰‹æŠŠæ‰‹åˆ· BST ç®—æ³•é¢˜çš„æ–‡ç« ï¼Œ<a href="https://labuladong.online/algo/data-structure/bst-part1/">ç¬¬ä¸€ç¯‡</a> è®²äº†ä¸­åºéå†å¯¹ BST çš„é‡è¦æ„ä¹‰ï¼Œ<a href="https://labuladong.online/algo/data-structure/bst-part2/">ç¬¬äºŒç¯‡</a> å†™äº† BST çš„åŸºæœ¬æ“ä½œã€‚</p><p>æœ¬æ–‡å°±æ¥å†™æ‰‹æŠŠæ‰‹åˆ· BST ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡ï¼Œå¾ªåºæ¸è¿›åœ°è®²ä¸¤é“é¢˜ï¼Œå¦‚ä½•è®¡ç®—æ‰€æœ‰æœ‰æ•ˆ BSTã€‚</p><p>ç¬¬ä¸€é“é¢˜æ˜¯åŠ›æ‰£ç¬¬ 96 é¢˜ã€Œ<a href="https://leetcode.cn/problems/unique-binary-search-trees/">ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/unique-binary-search-trees/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/unique-binary-search-trees/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼Œæ±‚æ°ç”±<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>äº’ä¸ç›¸åŒçš„<span>&nbsp;</span><strong style="font-weight: 600;">äºŒå‰æœç´¢æ ‘</strong><span>&nbsp;</span>æœ‰å¤šå°‘ç§ï¼Ÿè¿”å›æ»¡è¶³é¢˜æ„çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/uniquebstn3.jpg" style="max-width: 100%; width: 600px; height: 148px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 19</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/unique-binary-search-trees/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">numTrees</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å°±æ˜¯ä¸€ä¸ªæ­£å®—çš„ç©·ä¸¾é—®é¢˜ï¼Œé‚£ä¹ˆä»€ä¹ˆæ–¹å¼èƒ½å¤Ÿæ­£ç¡®åœ°ç©·ä¸¾æœ‰æ•ˆ BST çš„æ•°é‡å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å‰æ–‡è¯´è¿‡ï¼Œä¸è¦å°çœ‹ã€Œç©·ä¸¾ã€ï¼Œè¿™æ˜¯ä¸€ä»¶çœ‹èµ·æ¥ç®€å•ä½†æ˜¯æ¯”è¾ƒæœ‰æŠ€æœ¯å«é‡çš„äº‹æƒ…ï¼Œé—®é¢˜çš„å…³é”®å°±æ˜¯ä¸èƒ½æ•°æ¼ï¼Œä¹Ÿä¸èƒ½æ•°å¤šï¼Œä½ å’‹æ•´ï¼Ÿ</p><p>ä¹‹å‰ <a href="https://labuladong.online/algo/data-structure/binary-tree-part1/">æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç¬¬ä¸€æœŸ</a> è¯´è¿‡ï¼ŒäºŒå‰æ ‘ç®—æ³•çš„å…³é”®å°±åœ¨äºæ˜ç¡®æ ¹èŠ‚ç‚¹éœ€è¦åšä»€ä¹ˆï¼Œå…¶å® BST ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ ¸å¿ƒæ€è·¯ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ç»™ç®—æ³•è¾“å…¥ <code>n = 5</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨ <code>&#123;1,2,3,4,5&#125;</code> è¿™äº›æ•°å­—å»æ„é€  BSTã€‚</p><p>é¦–å…ˆï¼Œè¿™æ£µ BST çš„æ ¹èŠ‚ç‚¹æ€»å…±æœ‰å‡ ç§æƒ…å†µï¼Ÿ</p><p>æ˜¾ç„¶æœ‰ 5 ç§æƒ…å†µå¯¹å§ï¼Œå› ä¸ºæ¯ä¸ªæ•°å­—éƒ½å¯ä»¥ä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚</p><p>æ¯”å¦‚è¯´æˆ‘ä»¬å›ºå®š <code>3</code> ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œè¿™ä¸ªå‰æä¸‹èƒ½æœ‰å‡ ç§ä¸åŒçš„ BST å‘¢ï¼Ÿ</p><p>æ ¹æ® BST çš„ç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å°ï¼Œå³å­æ ‘çš„å€¼éƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§ã€‚</p><p>æ‰€ä»¥å¦‚æœå›ºå®š <code>3</code> ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘èŠ‚ç‚¹å°±æ˜¯ <code>&#123;1,2&#125;</code> çš„ç»„åˆï¼Œå³å­æ ‘å°±æ˜¯ <code>&#123;4,5&#125;</code> çš„ç»„åˆã€‚</p><p><strong>å·¦å­æ ‘çš„ç»„åˆæ•°å’Œå³å­æ ‘çš„ç»„åˆæ•°ä¹˜ç§¯</strong>å°±æ˜¯ <code>3</code> ä½œä¸ºæ ¹èŠ‚ç‚¹æ—¶çš„ BST ä¸ªæ•°ã€‚</p><p><img src="/2025/08/03/er-cha-sou-suo-shu/1.jpeg" alt="img"></p><p>æˆ‘ä»¬è¿™æ˜¯è¯´äº† <code>3</code> ä¸ºæ ¹èŠ‚ç‚¹è¿™ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå…¶å®å…¶ä»–çš„èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>é‚£ä½ å¯èƒ½ä¼šé—®ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€çœ¼çœ‹å‡º <code>&#123;1,2&#125;</code> å’Œ <code>&#123;4,5&#125;</code> æœ‰å‡ ç§ç»„åˆï¼Œä½†æ˜¯æ€ä¹ˆè®©ç®—æ³•è¿›è¡Œè®¡ç®—å‘¢ï¼Ÿ</p><p>å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦é€’å½’å°±è¡Œäº†ï¼Œæˆ‘ä»¬å¯ä»¥å†™è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šé—­åŒºé—´ [lo, hi] çš„æ•°å­—èƒ½ç»„æˆ count(lo, hi) ç§ BST</span><span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ ¹æ®è¿™ä¸ªå‡½æ•°çš„å®šä¹‰ï¼Œç»“åˆåˆšæ‰çš„åˆ†æï¼Œå¯ä»¥å†™å‡ºä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">numTrees</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># è®¡ç®—é—­åŒºé—´ [1, n] ç»„æˆçš„ BST ä¸ªæ•°</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    <span class="token comment"># è®¡ç®—é—­åŒºé—´ [lo, hi] ç»„æˆçš„ BST ä¸ªæ•°</span>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> lo <span class="token operator">></span> hi<span class="token punctuation">:</span>             <span class="token keyword">return</span> <span class="token number">1</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># i çš„å€¼ä½œä¸ºæ ¹èŠ‚ç‚¹ root</span>            left <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>lo<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>            right <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>            <span class="token comment"># å·¦å³å­æ ‘çš„ç»„åˆæ•°ä¹˜ç§¯æ˜¯ BST çš„æ€»æ•°</span>            res <span class="token operator">+=</span> left <span class="token operator">*</span> right        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ base caseï¼Œæ˜¾ç„¶å½“ <code>lo &gt; hi</code> é—­åŒºé—´ <code>[lo, hi]</code> è‚¯å®šæ˜¯ä¸ªç©ºåŒºé—´ï¼Œä¹Ÿå°±å¯¹åº”ç€ç©ºèŠ‚ç‚¹ nullï¼Œè™½ç„¶æ˜¯ç©ºèŠ‚ç‚¹ï¼Œä½†æ˜¯ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µï¼Œæ‰€ä»¥è¦è¿”å› 1 è€Œä¸èƒ½è¿”å› 0ã€‚</p><p>è¿™æ ·ï¼Œé¢˜ç›®çš„è¦æ±‚å·²ç»å®ç°äº†ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦éå¸¸é«˜ï¼Œè‚¯å®šå­˜åœ¨é‡å å­é—®é¢˜ã€‚</p><p>å‰æ–‡åŠ¨æ€è§„åˆ’ç›¸å…³çš„é—®é¢˜å¤šæ¬¡è®²è¿‡æ¶ˆé™¤é‡å å­é—®é¢˜çš„æ–¹æ³•ï¼Œæ— éå°±æ˜¯åŠ ä¸€ä¸ªå¤‡å¿˜å½•ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å¤‡å¿˜å½•</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>memo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">numTrees</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># å¤‡å¿˜å½•çš„å€¼åˆå§‹åŒ–ä¸º 0</span>        self<span class="token punctuation">.</span>memo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šè¿”å› [lo, hi] èŒƒå›´å†…æ„é€ çš„ä¸åŒ BST çš„æ•°é‡</span>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token number">1</span>        <span class="token comment"># æŸ¥å¤‡å¿˜å½•</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">[</span>hi<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">[</span>hi<span class="token punctuation">]</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> mid <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            left <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>lo<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>            right <span class="token operator">=</span> self<span class="token punctuation">.</span>count<span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>            res <span class="token operator">+=</span> left <span class="token operator">*</span> right        <span class="token comment"># å°†ç»“æœå­˜å…¥å¤‡å¿˜å½•</span>        self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">[</span>hi<span class="token punctuation">]</span> <span class="token operator">=</span> res        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_unique-binary-search-trees" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_unique-binary-search-trees" src="https://labuladong.online/algo-visualize/leetcode/unique-binary-search-trees/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><details data-v-ee1a9bd0="" id="div_unique-binary-search-trees" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_unique-binary-search-trees" src="https://labuladong.online/algo-visualize/leetcode/unique-binary-search-trees/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™æ ·ï¼Œè¿™é“é¢˜å°±å®Œå…¨è§£å†³äº†ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚æœç»™ä¸€ä¸ªè¿›é˜¶é¢˜ç›®ï¼Œä¸æ­¢è®©ä½ è®¡ç®—æœ‰å‡ ä¸ªä¸åŒçš„ BSTï¼Œè€Œæ˜¯è¦ä½ æ„å»ºå‡ºæ‰€æœ‰æœ‰æ•ˆçš„ BSTï¼Œå¦‚ä½•å®ç°è¿™ä¸ªç®—æ³•å‘¢ï¼Ÿ</p><p>è¿™é“é¢˜å°±æ˜¯åŠ›æ‰£ç¬¬ 95 é¢˜ã€Œ<a href="https://leetcode.cn/problems/unique-binary-search-trees-ii/">ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a>ã€ï¼Œè®©ä½ æ„å»ºæ‰€æœ‰ BSTï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/unique-binary-search-trees-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼Œè¯·ä½ ç”Ÿæˆå¹¶è¿”å›æ‰€æœ‰ç”±<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹ç»„æˆä¸”èŠ‚ç‚¹å€¼ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>äº’ä¸ç›¸åŒçš„ä¸åŒ<span>&nbsp;</span><strong style="font-weight: 600;">äºŒå‰æœç´¢æ ‘</strong><em><span>&nbsp;</span></em>ã€‚å¯ä»¥æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„é¡ºåº</strong><span>&nbsp;</span>è¿”å›ç­”æ¡ˆã€‚</p><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/18/uniquebstn3.jpg" style="max-width: 100%; width: 600px; height: 148px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1,null,2,null,3],[1,null,3,2],[2,1,3],[3,1,null,null,2],[3,2,null,1]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>n = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[[1]]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 8</code></li></ul></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/unique-binary-search-trees-ii/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a>ã€‚</strong></details><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">List<span class="token operator">&lt;</span>TreeNode<span class="token operator">></span> generateTrees<span class="token punctuation">(</span><span class="token builtin">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ˜ç™½äº†ä¸Šé“é¢˜æ„é€ æœ‰æ•ˆ BST çš„æ–¹æ³•ï¼Œè¿™é“é¢˜çš„æ€è·¯ä¹Ÿæ˜¯ä¸€æ ·çš„</strong>ï¼š</p><p>1ã€ç©·ä¸¾ <code>root</code> èŠ‚ç‚¹çš„æ‰€æœ‰å¯èƒ½ã€‚</p><p>2ã€é€’å½’æ„é€ å‡ºå·¦å³å­æ ‘çš„æ‰€æœ‰æœ‰æ•ˆ BSTã€‚</p><p>3ã€ç»™ <code>root</code> èŠ‚ç‚¹ç©·ä¸¾æ‰€æœ‰å·¦å³å­æ ‘çš„ç»„åˆã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">generateTrees</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># æ„é€ é—­åŒºé—´ [1, n] ç»„æˆçš„ BST </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>    <span class="token comment"># æ„é€ é—­åŒºé—´ [lo, hi] ç»„æˆçš„ BST </span>    <span class="token keyword">def</span> <span class="token function">build</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>TreeNode<span class="token punctuation">]</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> lo <span class="token operator">></span> hi<span class="token punctuation">:</span>            <span class="token comment"># è¿™é‡Œéœ€è¦è£…ä¸€ä¸ª null å…ƒç´ ï¼Œè¿™æ ·æ‰èƒ½è®©ä¸‹é¢çš„ä¸¤ä¸ªå†…å±‚ for å¾ªç¯éƒ½èƒ½è¿›å…¥ï¼Œæ­£ç¡®åœ°åˆ›å»ºå‡ºå¶å­èŠ‚ç‚¹</span>            <span class="token comment"># ä¸¾ä¾‹æ¥è¯´å§ï¼Œä»€ä¹ˆæ—¶å€™ä¼šè¿›åˆ°è¿™ä¸ª if è¯­å¥ï¼Ÿå½“ä½ åˆ›å»ºå¶å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¯¹å§ã€‚</span>            <span class="token comment"># é‚£ä¹ˆå¦‚æœä½ è¿™é‡Œä¸åŠ  nullï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨ï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…å±‚ä¸¤ä¸ª for å¾ªç¯éƒ½æ— æ³•è¿›å…¥        </span>            <span class="token comment"># ä½ çš„é‚£ä¸ªå¶å­èŠ‚ç‚¹å°±æ²¡æœ‰åˆ›å»ºå‡ºæ¥ï¼Œçœ‹åˆ°äº†å—ï¼Ÿæ‰€ä»¥è¿™é‡Œè¦åŠ ä¸€ä¸ª nullï¼Œç¡®ä¿ä¸‹é¢èƒ½æŠŠå¶å­èŠ‚ç‚¹åšå‡ºæ¥</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> res        <span class="token comment"># 1ã€ç©·ä¸¾ root èŠ‚ç‚¹çš„æ‰€æœ‰å¯èƒ½ã€‚</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> hi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># 2ã€é€’å½’æ„é€ å‡ºå·¦å³å­æ ‘çš„æ‰€æœ‰æœ‰æ•ˆ BSTã€‚</span>            leftTree <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>lo<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>            rightTree <span class="token operator">=</span> self<span class="token punctuation">.</span>build<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>            <span class="token comment"># 3ã€ç»™ root èŠ‚ç‚¹ç©·ä¸¾æ‰€æœ‰å·¦å³å­æ ‘çš„ç»„åˆã€‚</span>            <span class="token keyword">for</span> left <span class="token keyword">in</span> leftTree<span class="token punctuation">:</span>                <span class="token keyword">for</span> right <span class="token keyword">in</span> rightTree<span class="token punctuation">:</span>                    <span class="token comment"># i ä½œä¸ºæ ¹èŠ‚ç‚¹ root çš„å€¼</span>                    root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span>i<span class="token punctuation">)</span>                    root<span class="token punctuation">.</span>left <span class="token operator">=</span> left                    root<span class="token punctuation">.</span>right <span class="token operator">=</span> right                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_unique-binary-search-trees-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_unique-binary-search-trees-ii" src="https://labuladong.online/algo-visualize/leetcode/unique-binary-search-trees-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><details data-v-ee1a9bd0="" id="div_unique-binary-search-trees-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_unique-binary-search-trees-ii" src="https://labuladong.online/algo-visualize/leetcode/unique-binary-search-trees-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™æ ·ï¼Œä¸¤é“é¢˜éƒ½è§£å†³äº†ã€‚</p><p>æœ¬æ–‡å°±åˆ°è¿™é‡Œï¼Œæ›´å¤šç»å…¸çš„äºŒå‰æ ‘ä¹ é¢˜ä»¥åŠé€’å½’æ€ç»´çš„è®­ç»ƒï¼Œè¯·å‚è§äºŒå‰æ ‘ç« èŠ‚ä¸­çš„ <a href="https://labuladong.online/algo/problem-set/bst1/">é€’å½’ä¸“é¡¹ç»ƒä¹ </a></p><h1 id="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆååºç¯‡ï¼‰"><a href="#äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆååºç¯‡ï¼‰" class="headerlink" title="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆååºç¯‡ï¼‰"></a>äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆååºç¯‡ï¼‰</h1><p>æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜</p><table><thead><tr><th align="center">LeetCode</th><th align="center">åŠ›æ‰£</th><th align="center">éš¾åº¦</th></tr></thead><tbody><tr><td align="center"><a href="https://leetcode.com/problems/maximum-sum-bst-in-binary-tree/">1373. Maximum Sum BST in Binary Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/maximum-sum-bst-in-binary-tree/">1373. äºŒå‰æœç´¢å­æ ‘çš„æœ€å¤§é”®å€¼å’Œ</a></td><td align="center">ğŸ”´</td></tr></tbody></table><p>å‰ç½®çŸ¥è¯†</p><p>é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘ç»“æ„åŸºç¡€</a></li><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘çš„ DFS&#x2F;BFS éå†</a></li><li><a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆçº²é¢†ç¯‡ï¼‰</a></li></ul><p>æœ¬æ–‡æ˜¯æ‰¿æ¥ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆçº²é¢†ç¯‡ï¼‰</a> çš„ç¬¬äº”ç¯‡æ–‡ç« ï¼Œä¸»è¦è®²äºŒå‰æ ‘ååºä½ç½®çš„å¦™ç”¨ï¼Œå¤è¿°ä¸‹å‰æ–‡å…³äºååºéå†çš„æè¿°ï¼š</p><blockquote><p>å‰åºä½ç½®çš„ä»£ç åªèƒ½ä»å‡½æ•°å‚æ•°ä¸­è·å–çˆ¶èŠ‚ç‚¹ä¼ é€’æ¥çš„æ•°æ®ï¼Œè€Œååºä½ç½®çš„ä»£ç ä¸ä»…å¯ä»¥è·å–å‚æ•°æ•°æ®ï¼Œè¿˜å¯ä»¥è·å–åˆ°å­æ ‘é€šè¿‡å‡½æ•°è¿”å›å€¼ä¼ é€’å›æ¥çš„æ•°æ®ã€‚</p><p><strong>é‚£ä¹ˆæ¢å¥è¯è¯´ï¼Œä¸€æ—¦ä½ å‘ç°é¢˜ç›®å’Œå­æ ‘æœ‰å…³ï¼Œé‚£å¤§æ¦‚ç‡è¦ç»™å‡½æ•°è®¾ç½®åˆç†çš„å®šä¹‰å’Œè¿”å›å€¼ï¼Œåœ¨ååºä½ç½®å†™ä»£ç äº†</strong>ã€‚</p></blockquote><p>å…¶å®äºŒå‰æ ‘çš„é¢˜ç›®çœŸçš„ä¸éš¾ï¼Œæ— éå°±æ˜¯å‰ä¸­ååºéå†æ¡†æ¶æ¥å›å€’å˜›ï¼Œåªè¦ä½ æŠŠä¸€ä¸ªèŠ‚ç‚¹è¯¥åšçš„äº‹æƒ…å®‰æ’å¥½ï¼Œå‰©ä¸‹çš„æŠ›ç»™é€’å½’æ¡†æ¶å³å¯ã€‚</p><p>ä½†æ˜¯å¯¹äºæœ‰çš„é¢˜ç›®ï¼Œä¸åŒçš„éå†é¡ºåºæ—¶é—´å¤æ‚åº¦ä¸åŒã€‚å°¤å…¶æ˜¯è¿™ä¸ªååºä½ç½®çš„ä»£ç ï¼Œæœ‰æ—¶å€™å¯ä»¥å¤§å¹…æå‡ç®—æ³•æ•ˆç‡ã€‚</p><p>æˆ‘ä»¬å†çœ‹çœ‹ååºéå†çš„ä»£ç æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># ååºä»£ç çš„ä½ç½®</span>    <span class="token comment"># åœ¨è¿™é‡Œå¤„ç†å½“å‰èŠ‚ç‚¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹è¿™ä¸ªä»£ç æ¡†æ¶ï¼Œä½ è¯´ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åœ¨ååºä½ç½®å†™ä»£ç å‘¢ï¼Ÿ</p><p><strong>å¦‚æœå½“å‰èŠ‚ç‚¹è¦åšçš„äº‹æƒ…éœ€è¦é€šè¿‡å·¦å³å­æ ‘çš„è®¡ç®—ç»“æœæ¨å¯¼å‡ºæ¥ï¼Œå°±è¦ç”¨åˆ°ååºéå†</strong>ã€‚</p><p>ä¸‹é¢å°±è®²ä¸€ä¸ªç»å…¸çš„ç®—æ³•é—®é¢˜ï¼Œå¯ä»¥ç›´è§‚åœ°ä½“ä¼šåˆ°ååºä½ç½®çš„å¦™ç”¨ã€‚è¿™æ˜¯åŠ›æ‰£ç¬¬ 1373 é¢˜ã€Œ<a href="https://leetcode.cn/problems/maximum-sum-bst-in-binary-tree/">äºŒå‰æœç´¢å­æ ‘çš„æœ€å¤§é”®å€¼å’Œ</a>ã€ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">maxSumBST</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a><a href="https://labuladong.online/algo/data-structure/bst-part4/#%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90">é¢˜ç›®åˆ†æ</a></h2><p>é¢˜ç›®ä¼šç»™ä½ è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œè¿™æ£µäºŒå‰æ ‘çš„å­æ ‘ä¸­å¯èƒ½åŒ…å«<strong>äºŒå‰æœç´¢æ ‘</strong>å¯¹å§ï¼Œè¯·ä½ æ‰¾åˆ°<strong>èŠ‚ç‚¹ä¹‹å’Œæœ€å¤§çš„</strong>é‚£æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¿”å›å®ƒçš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p><p>äºŒå‰æœç´¢æ ‘ï¼ˆç®€å†™ä½œ BSTï¼‰çš„æ€§è´¨è¯¦è§åŸºç¡€çŸ¥è¯†ç« èŠ‚ <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘åŸºç¡€</a>ï¼Œç®€å•è¯´å°±æ˜¯ã€Œå·¦å°å³å¤§ã€ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæ•´æ£µå·¦å­æ ‘éƒ½æ¯”è¯¥èŠ‚ç‚¹çš„å€¼å°ï¼Œæ•´æ£µå³å­æ ‘éƒ½æ¯”è¯¥èŠ‚ç‚¹çš„å€¼å¤§ã€‚</p><p>æ¯”å¦‚é¢˜ç›®ç»™äº†è¿™ä¸ªä¾‹å­ï¼š</p><p><img src="/2025/08/03/er-cha-sou-suo-shu/1.png" alt="img"></p><p>å¦‚æœè¾“å…¥è¿™æ£µäºŒå‰æ ‘ï¼Œç®—æ³•åº”è¯¥è¿”å› 20ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­ç»¿åœˆçš„é‚£æ£µå­æ ‘çš„èŠ‚ç‚¹å€¼ä¹‹å’Œï¼Œå› ä¸ºå®ƒæ˜¯ä¸€æ£µ BSTï¼Œä¸”èŠ‚ç‚¹ä¹‹å’Œæœ€å¤§ã€‚</p><p>é‚£æœ‰çš„è¯»è€…å¯èƒ½ä¼šé—®ï¼Œè¾“å…¥çš„æ˜¯ä¸€æ£µæ™®é€šäºŒå‰æ ‘ï¼Œæœ‰æ²¡æœ‰å¯èƒ½å…¶ä¸­ä¸å­˜åœ¨ BSTï¼Ÿ</p><p>ä¸ä¼šçš„ï¼Œå› ä¸ºæŒ‰ç…§ BST çš„å®šä¹‰ï¼Œä»»ä½•ä¸€ä¸ªå•ç‹¬çš„èŠ‚ç‚¹è‚¯å®šæ˜¯ BSTï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå†ä¸æµï¼ŒäºŒå‰æ ‘æœ€ä¸‹é¢çš„å¶å­èŠ‚ç‚¹è‚¯å®šéƒ½æ˜¯ BSTã€‚</p><p>æ¯”å¦‚è¯´å¦‚æœè¾“å…¥ä¸‹é¢è¿™æ£µäºŒå‰æ ‘ï¼š</p><p><img src="/2025/08/03/er-cha-sou-suo-shu/2.png" alt="img"></p><p>ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ <code>1</code> å’Œ <code>2</code> å°±æ˜¯ BSTï¼Œæ¯”è¾ƒä¸€ä¸‹èŠ‚ç‚¹ä¹‹å’Œï¼Œç®—æ³•åº”è¯¥è¿”å› 2ã€‚</p><p>å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œé¢˜ç›®åº”è¯¥è§£é‡Šåœ°å¾ˆæ¸…æ¥šäº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™é“é¢˜åº”è¯¥æ€ä¹ˆåšã€‚</p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a><a href="https://labuladong.online/algo/data-structure/bst-part4/#%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90">æ€è·¯åˆ†æ</a></h2><p>åˆšæ‰è¯´äº†ï¼Œ<strong>äºŒå‰æ ‘ç›¸å…³é¢˜ç›®æœ€æ ¸å¿ƒçš„æ€è·¯æ˜¯æ˜ç¡®å½“å‰èŠ‚ç‚¹éœ€è¦åšçš„äº‹æƒ…æ˜¯ä»€ä¹ˆ</strong>ã€‚</p><p><strong>é‚£ä¹ˆæˆ‘ä»¬æƒ³è®¡ç®—å­æ ‘ä¸­ BST çš„æœ€å¤§å’Œï¼Œç«™åœ¨å½“å‰èŠ‚ç‚¹çš„è§†è§’ï¼Œéœ€è¦åšä»€ä¹ˆå‘¢</strong>ï¼Ÿ</p><p>1ã€æˆ‘è‚¯å®šå¾—çŸ¥é“å·¦å³å­æ ‘æ˜¯ä¸æ˜¯åˆæ³•çš„ BSTï¼Œå¦‚æœä¸‹é¢çš„è¿™ä¿©å„¿å­æœ‰ä¸€ä¸ªä¸æ˜¯ BSTï¼Œä»¥æˆ‘ä¸ºæ ¹çš„è¿™æ£µæ ‘è‚¯å®šä¸ä¼šæ˜¯ BSTï¼Œå¯¹å§ã€‚</p><p>2ã€å¦‚æœå·¦å³å­æ ‘éƒ½æ˜¯åˆæ³•çš„ BSTï¼Œæˆ‘å¾—ç…ç…å·¦å³å­æ ‘åŠ ä¸Šè‡ªå·±è¿˜æ˜¯ä¸æ˜¯åˆæ³•çš„ BST äº†ã€‚å› ä¸ºæŒ‰ç…§ BST çš„å®šä¹‰ï¼Œå½“å‰èŠ‚ç‚¹çš„å€¼åº”è¯¥å¤§äºå·¦å­æ ‘çš„æœ€å¤§å€¼ï¼Œå°äºå³å­æ ‘çš„æœ€å°å€¼ï¼Œå¦åˆ™å°±ç ´åäº† BST çš„æ€§è´¨ã€‚</p><p>3ã€å› ä¸ºé¢˜ç›®è¦è®¡ç®—æœ€å¤§çš„èŠ‚ç‚¹ä¹‹å’Œï¼Œå¦‚æœå·¦å³å­æ ‘åŠ ä¸Šæˆ‘è‡ªå·±è¿˜æ˜¯ä¸€æ£µåˆæ³•çš„ BSTï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥æˆ‘ä¸ºæ ¹çš„æ•´æ£µæ ‘æ˜¯ä¸€æ£µ BSTï¼Œé‚£æˆ‘éœ€è¦çŸ¥é“æˆ‘ä»¬è¿™æ£µ BST çš„æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œæ˜¯å¤šå°‘ï¼Œæ–¹ä¾¿å’Œåˆ«çš„ BST äº‰ä¸ªé«˜ä¸‹ï¼Œå¯¹å§ã€‚</p><p><strong>æ ¹æ®ä»¥ä¸Šä¸‰ç‚¹ï¼Œç«™åœ¨å½“å‰èŠ‚ç‚¹çš„è§†è§’ï¼Œéœ€è¦çŸ¥é“ä»¥ä¸‹å…·ä½“ä¿¡æ¯</strong>ï¼š</p><p>1ã€å·¦å³å­æ ‘æ˜¯å¦æ˜¯ BSTã€‚</p><p>2ã€å·¦å­æ ‘çš„æœ€å¤§å€¼å’Œå³å­æ ‘çš„æœ€å°å€¼ã€‚</p><p>3ã€å·¦å³å­æ ‘çš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p><p>åªæœ‰çŸ¥é“äº†è¿™å‡ ä¸ªå€¼ï¼Œæˆ‘ä»¬æ‰èƒ½æ»¡è¶³é¢˜ç›®çš„è¦æ±‚ï¼Œç°åœ¨å¯ä»¥å°è¯•ç”¨ä¼ªç å†™å‡ºç®—æ³•çš„å¤§è‡´é€»è¾‘ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å…¨å±€å˜é‡ï¼Œè®°å½• BST æœ€å¤§èŠ‚ç‚¹ä¹‹å’Œ</span>        self<span class="token punctuation">.</span>maxSum <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">maxSumBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxSum    <span class="token comment"># éå†äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token comment"># ******* å‰åºä½ç½® *******</span>        <span class="token comment"># åˆ¤æ–­å·¦å³å­æ ‘æ˜¯ä¸æ˜¯ BST</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>isBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># è®¡ç®—å·¦å­æ ‘çš„æœ€å¤§å€¼å’Œå³å­æ ‘çš„æœ€å°å€¼</span>            leftMax <span class="token operator">=</span> self<span class="token punctuation">.</span>findMax<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>            rightMin <span class="token operator">=</span> self<span class="token punctuation">.</span>findMin<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># åˆ¤æ–­ä»¥ root èŠ‚ç‚¹ä¸ºæ ¹çš„æ ‘æ˜¯ä¸æ˜¯ BST</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> leftMax <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> rightMin<span class="token punctuation">:</span>                <span class="token comment"># å¦‚æœæ¡ä»¶éƒ½ç¬¦åˆï¼Œè®¡ç®—å½“å‰ BST çš„èŠ‚ç‚¹ä¹‹å’Œ</span>                leftSum <span class="token operator">=</span> self<span class="token punctuation">.</span>findSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                rightSum <span class="token operator">=</span> self<span class="token punctuation">.</span>findSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>                rootSum <span class="token operator">=</span> leftSum <span class="token operator">+</span> rightSum <span class="token operator">+</span> root<span class="token punctuation">.</span>val                <span class="token comment"># è®¡ç®— BST èŠ‚ç‚¹çš„æœ€å¤§å’Œ</span>                self<span class="token punctuation">.</span>maxSum <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maxSum<span class="token punctuation">,</span> rootSum<span class="token punctuation">)</span>        <span class="token comment"># **************************</span>        <span class="token comment"># äºŒå‰æ ‘éå†æ¡†æ¶ï¼Œéå†å­æ ‘èŠ‚ç‚¹</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘çš„æœ€å¤§å€¼</span>    <span class="token keyword">def</span> <span class="token function">findMax</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘çš„æœ€å°å€¼</span>    <span class="token keyword">def</span> <span class="token function">findMin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘çš„èŠ‚ç‚¹å’Œ</span>    <span class="token keyword">def</span> <span class="token function">findSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># åˆ¤æ–­ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘æ˜¯å¦æ˜¯ BST</span>    <span class="token keyword">def</span> <span class="token function">isBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªä»£ç é€»è¾‘åº”è¯¥æ˜¯ä¸éš¾ç†è§£çš„ï¼Œä»£ç åœ¨å‰åºéå†çš„ä½ç½®æŠŠä¹‹å‰çš„åˆ†æéƒ½å®ç°äº†ä¸€éã€‚</p><p>å…¶ä¸­æœ‰å››ä¸ªè¾…åŠ©å‡½æ•°æ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸å…·ä½“å®ç°äº†ï¼Œå…¶ä¸­åªæœ‰åˆ¤æ–­åˆæ³• BST çš„å‡½æ•°ç¨æœ‰æŠ€æœ¯å«é‡ï¼Œå‰æ–‡ <a href="https://labuladong.online/algo/data-structure/bst-part2/">äºŒå‰æœç´¢æ ‘æ“ä½œé›†é”¦</a> å†™è¿‡ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚</p><p><strong>ç¨ä½œåˆ†æå°±ä¼šå‘ç°ï¼Œè¿™å‡ ä¸ªè¾…åŠ©å‡½æ•°éƒ½æ˜¯é€’å½’å‡½æ•°ï¼Œéƒ½è¦éå†è¾“å…¥çš„äºŒå‰æ ‘ï¼Œå¤–åŠ  <code>traverse</code> å‡½æ•°æœ¬èº«çš„é€’å½’ï¼Œå¯ä»¥è¯´æ˜¯é€’å½’ä¸ŠåŠ é€’å½’ï¼Œæ‰€ä»¥è¿™ä¸ªè§£æ³•çš„å¤æ‚åº¦æ˜¯éå¸¸é«˜çš„</strong>ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæ¯ä¸€ä¸ªè¾…åŠ©æ–¹æ³•éƒ½æ˜¯äºŒå‰æ ‘éå†å‡½æ•°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(N)<em>O</em>(<em>N</em>)ï¼Œè€Œ <code>traverse</code> éå†æ¡†æ¶ä¼šåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æŠŠè¿™äº›è¾…åŠ©å‡½æ•°è°ƒç”¨ä¸€éï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N2)<em>O</em>(<em>N</em>2)ã€‚</p><p>ä½†æ˜¯æ ¹æ®åˆšæ‰çš„åˆ†æï¼Œåƒ <code>leftMax</code>ã€<code>rootSum</code> è¿™äº›å˜é‡åˆéƒ½å¾—ç®—å‡ºæ¥ï¼Œå¦åˆ™æ— æ³•å®Œæˆé¢˜ç›®çš„è¦æ±‚ã€‚</p><h2 id="æ€è·¯ä¼˜åŒ–"><a href="#æ€è·¯ä¼˜åŒ–" class="headerlink" title="æ€è·¯ä¼˜åŒ–"></a><a href="https://labuladong.online/algo/data-structure/bst-part4/#%E6%80%9D%E8%B7%AF%E4%BC%98%E5%8C%96">æ€è·¯ä¼˜åŒ–</a></h2><p>æˆ‘ä»¬å¸Œæœ›æ—¢ç®—å‡ºè¿™äº›å˜é‡ï¼Œåˆé¿å…è¾…åŠ©å‡½æ•°å¸¦æ¥çš„é¢å¤–å¤æ‚åº¦ï¼Œé±¼å’Œç†ŠæŒå…¨éƒ½è¦ï¼Œå¯ä»¥åšåˆ°å—ï¼Ÿ</p><p>å…¶å®æ˜¯å¯ä»¥çš„ï¼Œ<strong>åªè¦æŠŠå‰åºéå†å˜æˆååºéå†ï¼Œè®© <code>traverse</code> å‡½æ•°æŠŠè¾…åŠ©å‡½æ•°åšçš„äº‹æƒ…é¡ºä¾¿åšæ‰</strong>ã€‚</p><p>ä½ ä»”ç»†æƒ³æƒ³ï¼Œå¦‚æœæˆ‘çŸ¥é“äº†æˆ‘çš„å·¦å³å­æ ‘çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆæŠŠæˆ‘çš„å€¼å’Œå®ƒä»¬æ¯”è¾ƒä¸€ä¸‹ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºä»¥æˆ‘ä¸ºæ ¹çš„è¿™æ•´æ£µäºŒå‰æ ‘çš„æœ€å¤§å€¼ã€‚æ ¹æœ¬æ²¡å¿…è¦å†éå†ä¸€éæ‰€æœ‰èŠ‚ç‚¹ï¼Œå¯¹å§ï¼Ÿæ±‚æœ€å°èŠ‚ç‚¹çš„å€¼å’ŒèŠ‚ç‚¹çš„å’Œä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</p><p>è¿™å°±æ˜¯æˆ‘åœ¨å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">æ‰‹æŠŠæ‰‹å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆçº²é¢†ç¯‡ï¼‰</a> æ‰€è®²çš„ååºéå†ä½ç½®çš„å¦™ç”¨ã€‚</p><p>å½“ç„¶ï¼Œæ­£å¦‚å‰æ–‡æ‰€è®²ï¼Œå¦‚æœè¦åˆ©ç”¨å‡½æ•°çš„è¿”å›å€¼ï¼Œå°±ä¸å»ºè®®ä½¿ç”¨ <code>traverse</code> è¿™ä¸ªå‡½æ•°åäº†ï¼Œæˆ‘ä»¬æƒ³è®¡ç®—æœ€å¤§å€¼ã€æœ€å°å€¼å’Œæ‰€æœ‰èŠ‚ç‚¹ä¹‹å’Œï¼Œä¸å¦¨å«è¿™ä¸ªå‡½æ•° <code>findMaxMinSum</code> å¥½äº†ã€‚</p><p>å…¶ä»–ä»£ç ä¸å˜ï¼Œæˆ‘ä»¬è®© <code>findMaxMinSum</code> å‡½æ•°åšä¸€äº›è®¡ç®—ä»»åŠ¡ï¼Œè¿”å›ä¸€ä¸ªå¤§å°ä¸º 4 çš„ int æ•°ç»„ï¼Œæˆ‘ä»¬æš‚ä¸”ç§°å®ƒä¸º <code>res</code>ï¼Œå…¶ä¸­ï¼š</p><p><code>res[0]</code> è®°å½•ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘æ˜¯å¦æ˜¯ BSTï¼Œè‹¥ä¸º 1 åˆ™è¯´æ˜æ˜¯ BSTï¼Œè‹¥ä¸º 0 åˆ™è¯´æ˜ä¸æ˜¯ BSTï¼›</p><p><code>res[1]</code> è®°å½•ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘æ‰€æœ‰èŠ‚ç‚¹ä¸­çš„æœ€å°å€¼ï¼›</p><p><code>res[2]</code> è®°å½•ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘æ‰€æœ‰èŠ‚ç‚¹ä¸­çš„æœ€å¤§å€¼ï¼›</p><p><code>res[3]</code> è®°å½•ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘æ‰€æœ‰èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p><p>å¯¹äºå½“å‰èŠ‚ç‚¹ï¼Œå¦‚æœåˆ†åˆ«å¯¹å·¦å³å­æ ‘è®¡ç®—å‡ºäº†è¿™ 4 ä¸ªå€¼ï¼Œåªéœ€è¦ç®€å•çš„è¿ç®—ï¼Œå°±å¯ä»¥æ¨å¯¼å‡ºä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘çš„è¿™ 4 ä¸ªå€¼ï¼Œé¿å…äº†é‡å¤éå†ã€‚</p><p>ç›´æ¥çœ‹ä»£ç å®ç°å§ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½• BST æœ€å¤§èŠ‚ç‚¹ä¹‹å’Œ</span>        self<span class="token punctuation">.</span>maxSum <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">maxSumBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>findMaxMinSum<span class="token punctuation">(</span>root<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxSum    <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘çš„æœ€å¤§å€¼ã€æœ€å°å€¼ã€èŠ‚ç‚¹å’Œ</span>    <span class="token keyword">def</span> <span class="token function">findMaxMinSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>                <span class="token comment"># é€’å½’è®¡ç®—å·¦å³å­æ ‘</span>        left <span class="token operator">=</span> self<span class="token punctuation">.</span>findMaxMinSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>        right <span class="token operator">=</span> self<span class="token punctuation">.</span>findMaxMinSum<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ******* ååºä½ç½® *******</span>        <span class="token comment"># é€šè¿‡ left å’Œ right æ¨å¯¼è¿”å›å€¼</span>        <span class="token comment"># å¹¶ä¸”æ­£ç¡®æ›´æ–° maxSum å˜é‡</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> left<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> right<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘æ˜¯ BST</span>            res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>            <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„è¿™æ£µ BST çš„æœ€å°å€¼</span>            res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>left<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„è¿™æ£µ BST çš„æœ€å¤§å€¼</span>            res<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>right<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># è®¡ç®—ä»¥ root ä¸ºæ ¹çš„è¿™æ£µ BST æ‰€æœ‰èŠ‚ç‚¹ä¹‹å’Œ</span>            res<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> right<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> root<span class="token punctuation">.</span>val            <span class="token comment"># æ›´æ–°å…¨å±€å˜é‡</span>            self<span class="token punctuation">.</span>maxSum <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maxSum<span class="token punctuation">,</span> res<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># ä»¥ root ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸æ˜¯ BST</span>            res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>            <span class="token comment"># å…¶ä»–çš„å€¼éƒ½æ²¡å¿…è¦è®¡ç®—äº†ï¼Œå› ä¸ºç”¨ä¸åˆ°</span>                    <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ï¼Œè¿™é“é¢˜å°±è§£å†³äº†ï¼Œ<code>findMaxMinSum</code> å‡½æ•°åœ¨éå†äºŒå‰æ ‘çš„åŒæ—¶é¡ºä¾¿æŠŠä¹‹å‰è¾…åŠ©å‡½æ•°åšçš„äº‹æƒ…éƒ½åšäº†ï¼Œé¿å…äº†åœ¨é€’å½’å‡½æ•°ä¸­è°ƒç”¨é€’å½’å‡½æ•°ï¼Œæ—¶é—´å¤æ‚åº¦åªæœ‰ O(N)ã€‚</p><h2 id="æœ€åæ€»ç»“"><a href="#æœ€åæ€»ç»“" class="headerlink" title="æœ€åæ€»ç»“"></a><a href="https://labuladong.online/algo/data-structure/bst-part4/#%E6%9C%80%E5%90%8E%E6%80%BB%E7%BB%93">æœ€åæ€»ç»“</a></h2><p>ä½ çœ‹ï¼Œè¿™å°±æ˜¯ååºéå†çš„å¦™ç”¨ï¼Œç›¸å¯¹å‰åºéå†çš„è§£æ³•ï¼Œç°åœ¨çš„è§£æ³•ä¸ä»…æ•ˆç‡é«˜ï¼Œè€Œä¸”ä»£ç é‡å°‘ï¼Œæ¯”è¾ƒä¼˜ç¾ã€‚</p><p>è¿™ä¸ªä¼˜åŒ–å±äºå‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/algorithm-summary/">ç®—æ³•çš„æœ¬è´¨</a> ä¸­æåˆ°çš„ã€Œå¦‚ä½•èªæ˜çš„ç©·ä¸¾ã€çš„èŒƒç•´ã€‚</p><p>é‚£å¯èƒ½æœ‰è¯»è€…é—®ï¼Œååºéå†è¿™ä¹ˆå¥½ï¼Œæ˜¯ä¸æ˜¯å°±åº”è¯¥å°½å¯èƒ½å¤šç”¨ååºéå†ï¼Ÿ</p><p>ä¸æ˜¯ï¼Œä¸»è¦æ˜¯çœ‹é¢˜ç›®ï¼Œçœ‹ä½ è¿™ä¸ªé—®é¢˜é€‚åˆã€Œéå†ã€çš„æ€è·¯è¿˜æ˜¯ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€è·¯ã€‚ä¸ºä»€ä¹ˆè¿™é“é¢˜ç”¨ååºéå†æœ‰å¥‡æ•ˆå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦çš„è¿™äº›å˜é‡å…¨éƒ½å¯ä»¥é€šè¿‡å­é—®é¢˜çš„ç»“æœæ¨åˆ°å‡ºæ¥ï¼Œé€‚åˆç”¨ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€è·¯æ±‚è§£ã€‚</p><p>ä½ è®¡ç®—ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¹‹å’Œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å·¦å³å­æ ‘çš„å’ŒåŠ ä¸Š <code>root.val</code> è®¡ç®—å‡ºæ¥ï¼Ÿ</p><p>ä½ è®¡ç®—ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å·¦å³å­æ ‘çš„æœ€å¤§å€¼&#x2F;æœ€å°å€¼å’Œ <code>root.val</code> æ¯”è¾ƒå‡ºæ¥ï¼Ÿ</p><p>ä½ åˆ¤æ–­ä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘æ˜¯ä¸æ˜¯ BSTï¼Œæ˜¯ä¸æ˜¯å¾—å…ˆåˆ¤æ–­å·¦å³å­æ ‘æ˜¯ä¸æ˜¯ BSTï¼Ÿæ˜¯ä¸æ˜¯è¿˜å¾—çœ‹çœ‹å·¦å³å­æ ‘çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Ÿ</p><p>é‚£ä¹ˆå……åˆ†åˆ©ç”¨å­é—®é¢˜çš„ç­”æ¡ˆï¼Œå½“ç„¶è¦æ¯”æ¯æ¬¡éƒ½å‚»ä¹ä¹éå†æ‰€æœ‰èŠ‚ç‚¹è¦é«˜æ•ˆã€‚</p><p><strong>ä»¥æˆ‘çš„åˆ·é¢˜ç»éªŒï¼Œæˆ‘ä»¬è¦å°½å¯èƒ½é¿å…é€’å½’å‡½æ•°ä¸­è°ƒç”¨å…¶ä»–é€’å½’å‡½æ•°</strong>ï¼Œå¦‚æœå‡ºç°è¿™ç§æƒ…å†µï¼Œå¤§æ¦‚ç‡æ˜¯ä»£ç å®ç°æœ‰ç‘•ç–µï¼Œå¯ä»¥è¿›è¡Œç±»ä¼¼æœ¬æ–‡çš„ä¼˜åŒ–æ¥é¿å…é€’å½’å¥—é€’å½’ã€‚</p><p>æœ¬æ–‡å°±åˆ°è¿™é‡Œï¼Œæ›´å¤šç»å…¸çš„äºŒå‰æ ‘ä¹ é¢˜ä»¥åŠé€’å½’æ€ç»´çš„è®­ç»ƒï¼Œè¯·å‚è§äºŒå‰æ ‘ç« èŠ‚ä¸­çš„ <a href="https://labuladong.online/algo/intro/binary-tree-practice/">é€’å½’ä¸“é¡¹ç»ƒä¹ </a>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äºŒå‰æ ‘ç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåˆ†æ”¯ç®¡ç†åŠå›¾ç‰‡æ˜¾ç¤º</title>
      <link href="/2025/07/25/hexo-fen-zhi-guan-li-ji-tu-pian-xian-shi/"/>
      <url>/2025/07/25/hexo-fen-zhi-guan-li-ji-tu-pian-xian-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="Hexo-åˆ†æ”¯"><a href="#Hexo-åˆ†æ”¯" class="headerlink" title="Hexo åˆ†æ”¯"></a>Hexo åˆ†æ”¯</h2><p>åœ¨ä½¿ç”¨ Hexo æ­å»º GitHub Page åšå®¢æ—¶ï¼Œé€šå¸¸ä¼šé‡åˆ°å¦‚ä½•ä¿å­˜ Hexo ç¯å¢ƒå’Œåšå®¢æºç çš„é—®é¢˜ã€‚ä¸€ä¸ªå¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ GitHub åˆ†æ”¯æ¥ç®¡ç†ä¸åŒçš„å†…å®¹ã€‚</p><h3 id="åˆ›å»ºå’Œç®¡ç†åˆ†æ”¯"><a href="#åˆ›å»ºå’Œç®¡ç†åˆ†æ”¯" class="headerlink" title="åˆ›å»ºå’Œç®¡ç†åˆ†æ”¯"></a>åˆ›å»ºå’Œç®¡ç†åˆ†æ”¯</h3><p>é¦–å…ˆï¼Œåœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œä¾‹å¦‚ <em><code>username.github.io</code></em>ã€‚ç„¶åï¼Œåœ¨è¯¥ä»“åº“ä¸‹åˆ›å»ºä¸¤ä¸ªåˆ†æ”¯ï¼š<em><code>master</code></em> å’Œ <em><code>hexo</code></em>ã€‚å…¶ä¸­ï¼Œ<em><code>master</code></em> åˆ†æ”¯ç”¨äºä¿å­˜ <code>Hexo</code> ç”Ÿæˆçš„é™æ€ HTML æ–‡ä»¶ï¼Œè€Œ <em><code>hexo</code></em> åˆ†æ”¯ç”¨äºä¿å­˜ <code>Hexo</code> ç¯å¢ƒå’Œåšå®¢çš„ Markdown æºç ã€‚</p><h3 id="åˆå§‹åŒ–-Hexo-ç¯å¢ƒ"><a href="#åˆå§‹åŒ–-Hexo-ç¯å¢ƒ" class="headerlink" title="åˆå§‹åŒ– Hexo ç¯å¢ƒ"></a>åˆå§‹åŒ– Hexo ç¯å¢ƒ</h3><p>åœ¨æœ¬åœ°å…‹éš†ä»“åº“åï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆå§‹åŒ– Hexo ç¯å¢ƒï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexohexo init<span class="token function">npm</span> <span class="token function">install</span><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ç€ï¼Œé…ç½® Hexo çš„ <em>_config.yml</em> æ–‡ä»¶ä¸­çš„ <em>deploy</em> å‚æ•°ï¼Œå°†åˆ†æ”¯è®¾ç½®ä¸º <em>master</em>ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span><span class="token key atrule">type</span><span class="token punctuation">:</span> git<span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>username/username.github.io.git<span class="token key atrule">branch</span><span class="token punctuation">:</span> master<span class="token comment"># ç°åœ¨GitHubå·²ç»é»˜è®¤ä¸»åˆ†æ”¯ä¸ºmain</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æäº¤å’Œéƒ¨ç½²"><a href="#æäº¤å’Œéƒ¨ç½²" class="headerlink" title="æäº¤å’Œéƒ¨ç½²"></a>æäº¤å’Œéƒ¨ç½²</h3><p>æ¯æ¬¡ä¿®æ”¹æˆ–æ–°å¢åšæ–‡åï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†åšå®¢æºç æäº¤åˆ° <em><code>hexo</code></em> åˆ†æ”¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"æ›´æ–°åšå®¢"</span><span class="token function">git</span> push origin hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åï¼Œæ‰§è¡Œ <em><code>hexo generate -d</code></em> å‘½ä»¤ç”Ÿæˆç½‘ç«™å¹¶éƒ¨ç½²åˆ° GitHub ä¸Šçš„ <em>master</em> åˆ†æ”¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo generate <span class="token parameter variable">-d</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ—¥å¸¸æ“ä½œ"><a href="#æ—¥å¸¸æ“ä½œ" class="headerlink" title="æ—¥å¸¸æ“ä½œ"></a>æ—¥å¸¸æ“ä½œ</h3><p>åœ¨å®Œæˆåˆå§‹é…ç½®åï¼Œæ—¥å¸¸æ“ä½œåªéœ€é‡å¤ä¸Šè¿°æäº¤å’Œéƒ¨ç½²æ­¥éª¤å³å¯ã€‚åœ¨æœ¬åœ°ä¿®æ”¹åšå®¢å†…å®¹åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å°†æ”¹åŠ¨æ¨é€åˆ° GitHubï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"æ›´æ–°åšå®¢"</span><span class="token function">git</span> push origin hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å‘å¸ƒç½‘ç«™åˆ° <em>master</em> åˆ†æ”¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo generate <span class="token parameter variable">-d</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¤„ç†æœ¬åœ°èµ„æ–™ä¸¢å¤±"><a href="#å¤„ç†æœ¬åœ°èµ„æ–™ä¸¢å¤±" class="headerlink" title="å¤„ç†æœ¬åœ°èµ„æ–™ä¸¢å¤±"></a>å¤„ç†æœ¬åœ°èµ„æ–™ä¸¢å¤±</h3><p>å¦‚æœéœ€è¦åœ¨å…¶ä»–ç”µè„‘ä¸Šä¿®æ”¹åšå®¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¢å¤ç¯å¢ƒï¼š</p><ul><li>å…‹éš†ä»“åº“åˆ°æœ¬åœ°ï¼š</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone git@github.com:username/username.github.io.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>é‡æ–°å®‰è£… Hexo ç¼–è¯‘ç¯å¢ƒï¼š</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo<span class="token function">npm</span> <span class="token function">install</span><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š<em><code>hexo init</code></em> å‘½ä»¤ä¼šåˆå§‹åŒ– Hexo ç¯å¢ƒï¼Œä½†ä¼šæ¸…ç©º <em>.git</em> æ–‡ä»¶å¤¹ï¼Œå¯¼è‡´ç‰ˆæœ¬æ§åˆ¶ä¿¡æ¯ä¸¢å¤±ã€‚å› æ­¤ï¼Œé™¤éç¯å¢ƒæŸåï¼Œå¦åˆ™æ— éœ€è¿è¡Œæ­¤å‘½ä»¤</p><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯ä»¥é«˜æ•ˆåœ°ç®¡ç† Hexo ç¯å¢ƒå’Œåšå®¢æºç ï¼Œç¡®ä¿åšå®¢å†…å®¹çš„å®‰å…¨å’Œå¯ç»´æŠ¤æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå‰æ ‘å¿ƒæ³•ï¼ˆåºåˆ—åŒ–ç¯‡</title>
      <link href="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/"/>
      <url>/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡æ˜¯æ‰¿æ¥ <a href="https://labuladong.online/algo/essential-technique/binary-tree-summary/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆçº²é¢†ç¯‡ï¼‰</a> çš„ç¬¬ä¸‰ç¯‡æ–‡ç« ï¼Œå‰æ–‡ <a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a> å¸¦ä½ å­¦ä¹ äº†äºŒå‰æ ‘æ„é€ æŠ€å·§ï¼Œæœ¬æ–‡åŠ å¤§éš¾åº¦ï¼Œè®©ä½ å¯¹äºŒå‰æ ‘åŒæ—¶è¿›è¡Œã€Œåºåˆ—åŒ–ã€å’Œã€Œååºåˆ—åŒ–ã€ã€‚</p><p>è¦è¯´åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå¾—å…ˆä» JSON æ•°æ®æ ¼å¼è¯´èµ·ã€‚</p><p>JSON çš„è¿ç”¨éå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸å°†ç¼–ç¨‹è¯­è¨€ä¸­çš„ç»“æ„ä½“åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²ï¼Œå­˜å…¥ç¼“å­˜æˆ–è€…é€šè¿‡ç½‘ç»œå‘é€ç»™è¿œç«¯æœåŠ¡ï¼Œæ¶ˆè´¹è€…æ¥å— JSON å­—ç¬¦ä¸²ç„¶åè¿›è¡Œååºåˆ—åŒ–ï¼Œå°±å¯ä»¥å¾—åˆ°åŸå§‹æ•°æ®äº†ã€‚</p><p>è¿™å°±æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç›®çš„ï¼Œä»¥æŸç§ç‰¹å®šæ ¼å¼ç»„ç»‡æ•°æ®ï¼Œä½¿å¾—æ•°æ®å¯ä»¥ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€ã€‚</p><p>é‚£ä¹ˆå‡è®¾ç°åœ¨æœ‰ä¸€æ£µç”¨ Java å®ç°çš„äºŒå‰æ ‘ï¼Œæˆ‘æƒ³æŠŠå®ƒé€šè¿‡æŸäº›æ–¹å¼å­˜å‚¨ä¸‹æ¥ï¼Œç„¶åç”¨ C++ è¯»å–è¿™æ£µå¹¶è¿˜åŸè¿™æ£µäºŒå‰æ ‘çš„ç»“æ„ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™å°±éœ€è¦å¯¹äºŒå‰æ ‘è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–äº†ã€‚</p><h2 id="é›¶ã€å‰-ä¸­-ååºå’ŒäºŒå‰æ ‘çš„å”¯ä¸€æ€§"><a href="#é›¶ã€å‰-ä¸­-ååºå’ŒäºŒå‰æ ‘çš„å”¯ä¸€æ€§" class="headerlink" title="é›¶ã€å‰&#x2F;ä¸­&#x2F;ååºå’ŒäºŒå‰æ ‘çš„å”¯ä¸€æ€§"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E9%9B%B6%E3%80%81%E5%89%8D-%E4%B8%AD-%E5%90%8E%E5%BA%8F%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%94%AF%E4%B8%80%E6%80%A7">é›¶ã€å‰&#x2F;ä¸­&#x2F;ååºå’ŒäºŒå‰æ ‘çš„å”¯ä¸€æ€§</a></h2><p>è°ˆå…·ä½“çš„é¢˜ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š<strong>ä»€ä¹ˆæ ·çš„åºåˆ—åŒ–çš„æ•°æ®å¯ä»¥ååºåˆ—åŒ–å‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘</strong>ï¼Ÿ</p><p>æ¯”å¦‚è¯´ï¼Œå¦‚æœç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ç»“æœï¼Œä½ æ˜¯å¦èƒ½å¤Ÿæ ¹æ®è¿™ä¸ªç»“æœè¿˜åŸå‡ºè¿™æ£µäºŒå‰æ ‘å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¹Ÿè®¸å¯ä»¥ï¼Œä¹Ÿè®¸ä¸å¯ä»¥ï¼Œå…·ä½“è¦çœ‹ä½ ç»™çš„å‰åºéå†ç»“æœæ˜¯å¦åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ã€‚å¦‚æœåŒ…å«äº†ç©ºæŒ‡é’ˆï¼Œé‚£ä¹ˆå°±å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼Œå¦åˆ™å°±ä¸è¡Œã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæˆ‘ç»™ä½ è¿™æ ·ä¸€ä¸ªä¸åŒ…å«ç©ºæŒ‡é’ˆçš„å‰åºéå†ç»“æœ <code>[1,2,3,4,5]</code>ï¼Œé‚£ä¹ˆå¦‚ä¸‹ä¸¤æ£µäºŒå‰æ ‘éƒ½æ˜¯æ»¡è¶³è¿™ä¸ªå‰åºéå†ç»“æœçš„ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/dup-preorder.jpg" alt="img"></p><p>æ‰€ä»¥ç»™å®šä¸åŒ…å«ç©ºæŒ‡é’ˆä¿¡æ¯çš„å‰åºéå†ç»“æœï¼Œæ˜¯ä¸èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘çš„ã€‚</p><p>ä½†å¦‚æœæˆ‘çš„å‰åºéå†ç»“æœåŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘äº†ã€‚æ¯”å¦‚è¯´ç”¨ <code>#</code> è¡¨ç¤ºç©ºæŒ‡é’ˆï¼Œä¸Šå›¾å·¦ä¾§çš„äºŒå‰æ ‘çš„å‰åºéå†ç»“æœå°±æ˜¯ <code>[1,2,3,#,#,4,#,#,5,#,#]</code>ï¼Œä¸Šå›¾å³ä¾§çš„äºŒå‰æ ‘çš„å‰åºéå†ç»“æœå°±æ˜¯ <code>[1,2,#,3,#,#,4,5,#,#,#]</code>ï¼Œå®ƒä¿©å°±åŒºåˆ†å¼€äº†ã€‚</p><p>é‚£ä¹ˆä¼°è®¡å°±æœ‰èªæ˜çš„å°ä¼™ä¼´è¯´äº†ï¼šäºŒå‰æ ‘å¿ƒæ³•äº†ã€‚</p><p>é¦–å…ˆè¦å¤¸ä¸€ä¸‹è¿™ç§ä¸¾ä¸€åä¸‰çš„æ€ç»´ï¼Œä½†å¾ˆä¸å¹¸ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼Œå³ä¾¿ä½ åŒ…å«äº†ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œä¹Ÿåªæœ‰å‰åºå’Œååºçš„éå†ç»“æœæ‰èƒ½å”¯ä¸€è¿˜åŸäºŒå‰æ ‘ï¼Œä¸­åºéå†ç»“æœåšä¸åˆ°ã€‚</p><p>æœ¬æ–‡åé¢ä¼šå…·ä½“æ¢è®¨è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œåªç®€å•è¯´ä¸‹åŸå› ï¼šå› ä¸ºå‰åº&#x2F;ååºéå†çš„ç»“æœä¸­ï¼Œå¯ä»¥ç¡®å®šæ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œè€Œä¸­åºéå†çš„ç»“æœä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„ä½ç½®æ˜¯æ— æ³•ç¡®å®šçš„ã€‚</p><p>æ›´ç›´è§‚çš„ï¼Œæ¯”å¦‚å¦‚ä¸‹ä¸¤æ£µäºŒå‰æ ‘æ˜¾ç„¶æ‹¥æœ‰ä¸åŒçš„ç»“æ„ï¼Œä½†å®ƒä¿©çš„ä¸­åºéå†ç»“æœéƒ½æ˜¯ <code>[#,1,#,1,#]</code>ï¼Œæ— æ³•åŒºåˆ†ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/dup-inorder.jpg" alt="img"></p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ€»ç»“ä¸‹ç»“è®ºï¼Œ<strong>å½“äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„å€¼ä¸å­˜åœ¨é‡å¤æ—¶</strong>ï¼š</p><ol><li><p>å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­<strong>ä¸åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯</strong>ï¼Œä¸”ä½ åªç»™å‡º<strong>ä¸€ç§</strong>éå†é¡ºåºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p></li><li><p>å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­<strong>ä¸åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯</strong>ï¼Œä¸”ä½ ä¼šç»™å‡º<strong>ä¸¤ç§</strong>éå†é¡ºåºï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š</p><p>2.1. å¦‚æœä½ ç»™å‡ºçš„æ˜¯å‰åºå’Œä¸­åºï¼Œæˆ–è€…ååºå’Œä¸­åºï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p><p>2.2. å¦‚æœä½ ç»™å‡ºå‰åºå’Œååºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p></li><li><p>å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­<strong>åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯</strong>ï¼Œä¸”ä½ åªç»™å‡º<strong>ä¸€ç§</strong>éå†é¡ºåºï¼Œä¹Ÿè¦åˆ†ä¸¤ç§æƒ…å†µï¼š</p><p>3.1. å¦‚æœä½ ç»™å‡ºçš„æ˜¯å‰åºæˆ–è€…ååºï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p><p>3.2. å¦‚æœä½ ç»™å‡ºçš„æ˜¯ä¸­åºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚</p></li></ol><p>æˆ‘åœ¨å¼€å¤´æä¸€ä¸‹è¿™äº›æ€»ç»“æ€§çš„è®¤è¯†ï¼Œå¯ä»¥ç†è§£æ€§è®°å¿†ï¼Œä¹‹åä¼šé‡åˆ°ä¸€äº›ç›¸å…³çš„é¢˜ç›®ï¼Œå†å›è¿‡å¤´æ¥çœ‹çœ‹è¿™äº›æ€»ç»“ï¼Œä¼šæœ‰æ›´æ·±çš„ç†è§£ï¼Œä¸‹é¢çœ‹å…·ä½“çš„é¢˜ç›®å§ã€‚</p><h2 id="ä¸€ã€é¢˜ç›®æè¿°"><a href="#ä¸€ã€é¢˜ç›®æè¿°" class="headerlink" title="ä¸€ã€é¢˜ç›®æè¿°"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E4%B8%80%E3%80%81%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0">ä¸€ã€é¢˜ç›®æè¿°</a></h2><p>åŠ›æ‰£ç¬¬ 297 é¢˜ã€Œ<a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/">äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a>ã€å°±æ˜¯ç»™ä½ è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œè¦æ±‚ä½ å®ç°å¦‚ä¸‹ä¸€ä¸ªç±»ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>        <span class="token comment"># æŠŠä¸€æ£µäºŒå‰æ ‘åºåˆ—åŒ–æˆå­—ç¬¦ä¸²</span>    <span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># æŠŠå­—ç¬¦ä¸²ååºåˆ—åŒ–æˆäºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>serialize</code> æ–¹æ³•å°†äºŒå‰æ ‘åºåˆ—åŒ–æˆå­—ç¬¦ä¸²ï¼Œç”¨ <code>deserialize</code> æ–¹æ³•å°†åºåˆ—åŒ–çš„å­—ç¬¦ä¸²ååºåˆ—åŒ–æˆäºŒå‰æ ‘ï¼Œè‡³äºä»¥ä»€ä¹ˆæ ¼å¼åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè¿™ä¸ªå®Œå…¨ç”±ä½ å†³å®šã€‚</p><p>æ¯”å¦‚è¯´è¾“å…¥å¦‚ä¸‹è¿™æ ·ä¸€æ£µäºŒå‰æ ‘ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/1.jpg" alt="img"></p><p><code>serialize</code> æ–¹æ³•ä¹Ÿè®¸ä¼šæŠŠå®ƒåºåˆ—åŒ–æˆå­—ç¬¦ä¸² <code>2,1,#,6,#,#,3,#,#</code>ï¼Œå…¶ä¸­ <code>#</code> è¡¨ç¤º <code>null</code> æŒ‡é’ˆï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªå­—ç¬¦ä¸²å†è¾“å…¥ <code>deserialize</code> æ–¹æ³•ï¼Œä¾ç„¶å¯ä»¥è¿˜åŸå‡ºè¿™æ£µäºŒå‰æ ‘ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šæˆå¯¹å„¿ä½¿ç”¨ï¼Œä½ åªè¦ä¿è¯ä»–ä¿©èƒ½å¤Ÿè‡ªæ´½å°±è¡Œäº†ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼ŒäºŒå‰æ ‘æ˜¯ä¸€ä¸ªäºŒç»´å¹³é¢å†…çš„ç»“æ„ï¼Œè€Œåºåˆ—åŒ–å‡ºæ¥çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªçº¿æ€§çš„ä¸€ç»´ç»“æ„ã€‚<strong>æ‰€è°“çš„åºåˆ—åŒ–ä¸è¿‡å°±æ˜¯æŠŠç»“æ„åŒ–çš„æ•°æ®ã€Œæ‰“å¹³ã€ï¼Œæœ¬è´¨å°±æ˜¯åœ¨è€ƒå¯ŸäºŒå‰æ ‘çš„éå†æ–¹å¼</strong>ã€‚</p><p>äºŒå‰æ ‘çš„éå†æ–¹å¼æœ‰å“ªäº›ï¼Ÿé€’å½’éå†æ–¹å¼æœ‰å‰åºéå†ï¼Œä¸­åºéå†ï¼Œååºéå†ï¼›è¿­ä»£æ–¹å¼ä¸€èˆ¬æ˜¯å±‚çº§éå†ã€‚æœ¬æ–‡å°±æŠŠè¿™äº›æ–¹å¼éƒ½å°è¯•ä¸€éï¼Œæ¥å®ç° <code>serialize</code> æ–¹æ³•å’Œ <code>deserialize</code> æ–¹æ³•ã€‚</p><h2 id="äºŒã€å‰åºéå†è§£æ³•"><a href="#äºŒã€å‰åºéå†è§£æ³•" class="headerlink" title="äºŒã€å‰åºéå†è§£æ³•"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E4%BA%8C%E3%80%81%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%E8%A7%A3%E6%B3%95">äºŒã€å‰åºéå†è§£æ³•</a></h2><p>å‰æ–‡ <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘çš„éå†åŸºç¡€</a> è¯´è¿‡äº†äºŒå‰æ ‘çš„å‡ ç§éå†æ–¹å¼ï¼Œåœ¨å‰åºä½ç½®æ”¶é›†èŠ‚ç‚¹ï¼Œå³å¯è·å¾—å‰åºéå†ç»“æœï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># æš‚ä¸”ç”¨æ•°å­— -1 ä»£è¡¨ç©ºæŒ‡é’ˆ null</span>        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span>    <span class="token comment"># ****** å‰åºä½ç½® ******</span>    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    <span class="token comment"># **********************</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨ <code>traverse</code> å‡½æ•°ä¹‹åï¼Œä½ æ˜¯å¦å¯ä»¥ç«‹å³æƒ³å‡ºè¿™ä¸ª <code>res</code> åˆ—è¡¨ä¸­å…ƒç´ çš„é¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿæ¯”å¦‚å¦‚ä¸‹äºŒå‰æ ‘ï¼ˆ<code>#</code> ä»£è¡¨ç©ºæŒ‡é’ˆ nullï¼‰ï¼Œå¯ä»¥ç›´è§‚çœ‹å‡ºå‰åºéå†åšçš„äº‹æƒ…ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/1.jpeg" alt="img"></p><p>é‚£ä¹ˆ <code>res = [1,2,-1,4,-1,-1,3,-1,-1]</code>ï¼Œè¿™å°±æ˜¯å°†äºŒå‰æ ‘ã€Œæ‰“å¹³ã€åˆ°äº†ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå…¶ä¸­ -1 ä»£è¡¨ nullã€‚</p><p>é‚£ä¹ˆï¼Œå°†äºŒå‰æ ‘æ‰“å¹³åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¹Ÿæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä»£è¡¨åˆ†éš”ç¬¦çš„å­—ç¬¦</span>SEP <span class="token operator">=</span> <span class="token string">","</span><span class="token comment"># ä»£è¡¨ null ç©ºæŒ‡é’ˆçš„å­—ç¬¦</span>NULL <span class="token operator">=</span> <span class="token string">"#"</span><span class="token comment"># ç”¨äºæ‹¼æ¥å­—ç¬¦ä¸²</span>sb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment"># å°†äºŒå‰æ ‘æ‰“å¹³ä¸ºå­—ç¬¦ä¸²</span><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>NULL<span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>        <span class="token keyword">return</span>    <span class="token comment"># ***** å‰åºä½ç½® *****</span>    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>    <span class="token comment"># *******************</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç ä¾ç„¶æ˜¯æ”¶é›†å‰åºéå†ç»“æœï¼Œç”¨ <code>,</code> ä½œä¸ºåˆ†éš”ç¬¦ï¼Œç”¨ <code>#</code> è¡¨ç¤ºç©ºæŒ‡é’ˆ nullï¼Œè°ƒç”¨å®Œ <code>traverse</code> å‡½æ•°åï¼Œ<code>sb</code> ä¸­çš„å­—ç¬¦ä¸²åº”è¯¥æ˜¯ <code>1,2,#,4,#,#,3,#,#,</code>ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å†™å‡ºåºåˆ—åŒ–å‡½æ•° <code>serialize</code> çš„ä»£ç äº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    NULL <span class="token operator">=</span> <span class="token string">"#"</span>    <span class="token comment"># ä¸»å‡½æ•°ï¼Œå°†äºŒå‰æ ‘åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²</span>    <span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        sb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>sb<span class="token punctuation">)</span>    <span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œå°†äºŒå‰æ ‘å­˜å…¥ StringBuilder</span>    <span class="token keyword">def</span> <span class="token function">_serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>NULL<span class="token punctuation">)</span>            sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>            <span class="token keyword">return</span>        <span class="token comment"># ****** å‰åºä½ç½® ********</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>        <span class="token comment"># ***********************</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œæ€è€ƒä¸€ä¸‹å¦‚ä½•å†™ <code>deserialize</code> å‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²åè¿‡æ¥æ„é€ äºŒå‰æ ‘ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆåˆ—è¡¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">data &#x3D; &quot;1,2,#,4,#,#,3,#,#,&quot;nodes &#x3D; data.split(&quot;,&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™æ ·ï¼Œ<code>nodes</code> åˆ—è¡¨å°±æ˜¯äºŒå‰æ ‘çš„å‰åºéå†ç»“æœï¼Œé—®é¢˜è½¬åŒ–ä¸ºï¼šå¦‚ä½•é€šè¿‡äºŒå‰æ ‘çš„å‰åºéå†ç»“æœè¿˜åŸä¸€æ£µäºŒå‰æ ‘ï¼Ÿ</p><p>Tip</p><p>å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">äºŒå‰æ ‘å¿ƒæ³•ï¼ˆæ„é€ ç¯‡ï¼‰</a> è¯´è¿‡ï¼Œè‡³å°‘è¦å¾—åˆ°å‰ã€ä¸­ã€ååºéå†ä¸­çš„ä¸¤ç§äº’ç›¸é…åˆæ‰èƒ½è¿˜åŸäºŒå‰æ ‘ã€‚é‚£æ˜¯å› ä¸ºå‰æ–‡çš„éå†ç»“æœæ²¡æœ‰è®°å½•ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ã€‚è¿™é‡Œçš„ <code>nodes</code> åˆ—è¡¨åŒ…å«äº†ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œæ‰€ä»¥åªä½¿ç”¨ <code>nodes</code> åˆ—è¡¨å°±å¯ä»¥è¿˜åŸäºŒå‰æ ‘ã€‚</p><p>æ ¹æ®æˆ‘ä»¬åˆšæ‰çš„åˆ†æï¼Œ<code>nodes</code> åˆ—è¡¨å°±æ˜¯ä¸€æ£µæ‰“å¹³çš„äºŒå‰æ ‘ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/1.jpeg" alt="img"></p><p>é‚£ä¹ˆï¼Œååºåˆ—åŒ–è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€æ ·ï¼Œ<strong>å…ˆç¡®å®šæ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œç„¶åéµå¾ªå‰åºéå†çš„è§„åˆ™ï¼Œé€’å½’ç”Ÿæˆå·¦å³å­æ ‘å³å¯</strong>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    NULL <span class="token operator">=</span> <span class="token string">"#"</span>    <span class="token comment"># ä¸»å‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºäºŒå‰æ ‘ç»“æ„</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token comment"># å°†å­—ç¬¦ä¸²è½¬åŒ–æˆåˆ—è¡¨</span>        nodes <span class="token operator">=</span> data<span class="token punctuation">.</span>split<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>    <span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œé€šè¿‡ nodes åˆ—è¡¨æ„é€ äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">_deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nodes<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> nodes<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># ****** å‰åºä½ç½® *******</span>        <span class="token comment"># åˆ—è¡¨æœ€å·¦ä¾§å°±æ˜¯æ ¹èŠ‚ç‚¹</span>        first <span class="token operator">=</span> nodes<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> first <span class="token operator">==</span> self<span class="token punctuation">.</span>NULL<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">None</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment"># *********************</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å‘ç°ï¼Œæ ¹æ®æ ‘çš„é€’å½’æ€§è´¨ï¼Œ<code>nodes</code> åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ä¸€æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥åªè¦å°†åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å–å‡ºä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå‰©ä¸‹çš„äº¤ç»™é€’å½’å‡½æ•°å»è§£å†³å³å¯ã€‚</p><h2 id="ä¸‰ã€ååºéå†è§£æ³•"><a href="#ä¸‰ã€ååºéå†è§£æ³•" class="headerlink" title="ä¸‰ã€ååºéå†è§£æ³•"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E4%B8%89%E3%80%81%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E8%A7%A3%E6%B3%95">ä¸‰ã€ååºéå†è§£æ³•</a></h2><p>äºŒå‰æ ‘çš„ååºéå†æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token comment"># ååºä½ç½®çš„ä»£ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜ç™½äº†å‰åºéå†çš„è§£æ³•ï¼Œååºéå†å°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ã€‚<code>serialize</code> åºåˆ—åŒ–æ–¹æ³•éå¸¸å®¹æ˜“å®ç°ï¼Œåªéœ€è¦ç¨å¾®ä¿®æ”¹å‰æ–‡çš„ <code>_serialize</code>è¾…åŠ©æ–¹æ³•å³å¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œå°†äºŒå‰æ ‘å­˜å…¥ StringBuilder</span><span class="token keyword">def</span> <span class="token function">_serialize</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>NULL<span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>        <span class="token keyword">return</span>    _serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>    _serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        <span class="token comment"># ****** ååºä½ç½® ********</span>    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>    <span class="token comment"># ***********************</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬æŠŠå¯¹ <code>StringBuilder</code> çš„æ‹¼æ¥æ“ä½œæ”¾åˆ°äº†ååºéå†çš„ä½ç½®ï¼Œååºéå†å¯¼è‡´ç»“æœçš„é¡ºåºå‘ç”Ÿå˜åŒ–ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/2.jpeg" alt="img"></p><p>å…³é”®ç‚¹åœ¨äºï¼Œå¦‚ä½•å®ç°ååºéå†çš„ <code>deserialize</code> æ–¹æ³•å‘¢ï¼Ÿæ˜¯ä¸æ˜¯ä¹Ÿç®€å•åœ°å°†ååºåˆ—åŒ–çš„å…³é”®ä»£ç æ— è„‘æ”¾åˆ°ååºéå†çš„ä½ç½®å°±è¡Œäº†å‘¢ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œé€šè¿‡ nodes åˆ—è¡¨æ„é€ äºŒå‰æ ‘</span><span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> nodes<span class="token punctuation">:</span>       <span class="token keyword">return</span> <span class="token boolean">None</span>    root<span class="token punctuation">.</span>left <span class="token operator">=</span> deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>    root<span class="token punctuation">.</span>right <span class="token operator">=</span> deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>    <span class="token comment"># ååºä½ç½®</span>    first <span class="token operator">=</span> nodes<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> first <span class="token operator">==</span> <span class="token string">'NULL'</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¾ç„¶ä¸Šè¿°ä»£ç æ˜¯é”™è¯¯çš„ï¼Œå˜é‡éƒ½æ²¡å£°æ˜å‘¢ï¼Œå°±å¼€å§‹ç”¨äº†ï¼Ÿç”Ÿæ¬ç¡¬å¥—è‚¯å®šæ˜¯è¡Œä¸é€šçš„ï¼Œå›æƒ³åˆšæ‰æˆ‘ä»¬å‰åºéå†æ–¹æ³•ä¸­çš„ <code>deserialize</code> æ–¹æ³•ï¼Œç¬¬ä¸€ä»¶äº‹æƒ…åœ¨åšä»€ä¹ˆï¼Ÿ</p><p><strong><code>deserialize</code> æ–¹æ³•é¦–å…ˆå¯»æ‰¾ <code>root</code> èŠ‚ç‚¹çš„å€¼ï¼Œç„¶åé€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹</strong>ã€‚é‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œä¹Ÿåº”è¯¥é¡ºç€è¿™ä¸ªåŸºæœ¬æ€è·¯èµ°ï¼Œååºéå†ä¸­ï¼Œ<code>root</code> èŠ‚ç‚¹çš„å€¼èƒ½ä¸èƒ½æ‰¾åˆ°ï¼Ÿ</p><p>å†çœ‹ä¸€çœ¼åˆšæ‰çš„å›¾ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/2.jpeg" alt="img"></p><p>åœ¨ååºéå†ç»“æœä¸­ï¼Œ<code>root</code> çš„å€¼æ˜¯åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬åº”è¯¥ä»åå¾€å‰å–å‡ºåˆ—è¡¨å…ƒç´ ï¼Œå…ˆç”¨æœ€åä¸€ä¸ªå…ƒç´ æ„é€  <code>root</code>ï¼Œç„¶åé€’å½’è°ƒç”¨ç”Ÿæˆ <code>root</code> çš„å·¦å³å­æ ‘ã€‚</p><p><strong>æ³¨æ„ï¼Œæ ¹æ®ä¸Šå›¾ï¼Œä»åå¾€å‰åœ¨ <code>nodes</code> åˆ—è¡¨ä¸­å–å…ƒç´ ï¼Œä¸€å®šè¦å…ˆæ„é€  <code>root.right</code> å­æ ‘ï¼Œåæ„é€  <code>root.left</code> å­æ ‘</strong>ã€‚</p><p>çœ‹å®Œæ•´ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    NULL <span class="token operator">=</span> <span class="token string">"#"</span>    <span class="token comment"># ä¸»å‡½æ•°ï¼Œå°†äºŒå‰æ ‘åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²</span>    <span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        sb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>sb<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">_serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>NULL<span class="token punctuation">)</span>            sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>            <span class="token keyword">return</span>                self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>_serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>        <span class="token comment"># ****** ååºä½ç½® ********</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>        <span class="token comment"># ***********************</span>    <span class="token comment"># ä¸»å‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºäºŒå‰æ ‘ç»“æ„</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å°†åˆ†å‰²ç»“æœä¸­çš„ç©ºå­—ç¬¦ä¸²è¿‡æ»¤æ‰</span>        nodes <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> data<span class="token punctuation">.</span>split<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">]</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>    <span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œé€šè¿‡ nodes åˆ—è¡¨æ„é€ äºŒå‰æ ‘</span>    <span class="token keyword">def</span> <span class="token function">_deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> nodes <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># ä»åå¾€å‰å–å‡ºå…ƒç´ </span>        last <span class="token operator">=</span> nodes<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token keyword">if</span> last <span class="token operator">==</span> self<span class="token punctuation">.</span>NULL <span class="token keyword">or</span> last <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># å…ˆæ„é€ å³å­æ ‘ï¼Œåæ„é€ å·¦å­æ ‘</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>_deserialize<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡³æ­¤ï¼Œååºéå†å®ç°çš„åºåˆ—åŒ–ã€ååºåˆ—åŒ–æ–¹æ³•ä¹Ÿéƒ½å®ç°äº†ã€‚</p><h2 id="å››ã€ä¸­åºéå†è§£æ³•"><a href="#å››ã€ä¸­åºéå†è§£æ³•" class="headerlink" title="å››ã€ä¸­åºéå†è§£æ³•"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E5%9B%9B%E3%80%81%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E8%A7%A3%E6%B3%95">å››ã€ä¸­åºéå†è§£æ³•</a></h2><p>å…ˆè¯´ç»“è®ºï¼Œä¸­åºéå†çš„æ–¹å¼è¡Œä¸é€šï¼Œå› ä¸ºæ— æ³•å®ç°ååºåˆ—åŒ–æ–¹æ³• <code>deserialize</code>ã€‚</p><p>åºåˆ—åŒ–æ–¹æ³• <code>serialize</code> ä¾ç„¶å®¹æ˜“ï¼Œåªè¦æŠŠè¾…åŠ©å‡½æ•° <code>_serialize</code> ä¸­çš„å­—ç¬¦ä¸²çš„æ‹¼æ¥æ“ä½œæ”¾åˆ°ä¸­åºéå†çš„ä½ç½®å°±è¡Œäº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¾…åŠ©å‡½æ•°ï¼Œå°†äºŒå‰æ ‘å­˜å…¥ StringBuilder</span><span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> <span class="token string">'TreeNode'</span><span class="token punctuation">,</span> sb<span class="token punctuation">:</span> <span class="token string">'List[str]'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>NULL<span class="token punctuation">)</span>        sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>        <span class="token keyword">return</span>    serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> sb<span class="token punctuation">)</span>    <span class="token comment"># ******* ä¸­åºä½ç½® *******</span>    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>    sb<span class="token punctuation">.</span>append<span class="token punctuation">(</span>SEP<span class="token punctuation">)</span>    <span class="token comment"># ***********************</span>    serialize<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> sb<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åˆšæ‰è¯´äº†ï¼Œè¦æƒ³å®ç°ååºåˆ—æ–¹æ³•ï¼Œé¦–å…ˆè¦æ„é€  <code>root</code> èŠ‚ç‚¹ã€‚å‰åºéå†å¾—åˆ°çš„ <code>nodes</code> åˆ—è¡¨ä¸­ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ <code>root</code> èŠ‚ç‚¹çš„å€¼ï¼›ååºéå†å¾—åˆ°çš„ <code>nodes</code> åˆ—è¡¨ä¸­ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯ <code>root</code> èŠ‚ç‚¹çš„å€¼ã€‚</p><p>ä½ çœ‹ä¸Šé¢è¿™æ®µä¸­åºéå†çš„ä»£ç ï¼Œ<code>root</code> çš„å€¼è¢«å¤¹åœ¨ä¸¤æ£µå­æ ‘çš„ä¸­é—´ï¼Œä¹Ÿå°±æ˜¯åœ¨ <code>nodes</code> åˆ—è¡¨çš„ä¸­é—´ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ç¡®åˆ‡çš„ç´¢å¼•ä½ç½®ï¼Œæ‰€ä»¥æ— æ³•æ‰¾åˆ° <code>root</code> èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ— æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚</p><h2 id="äº”ã€å±‚çº§éå†è§£æ³•"><a href="#äº”ã€å±‚çº§éå†è§£æ³•" class="headerlink" title="äº”ã€å±‚çº§éå†è§£æ³•"></a><a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/#%E4%BA%94%E3%80%81%E5%B1%82%E7%BA%A7%E9%81%8D%E5%8E%86%E8%A7%A3%E6%B3%95">äº”ã€å±‚çº§éå†è§£æ³•</a></h2><p>å…ˆå†™å‡º <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘éå†åŸºç¡€</a> ä¸­çš„å±‚çº§éå†ä»£ç æ¡†æ¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—</span>    q <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>        sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># å±‚çº§éå†ä»£ç ä½ç½®</span>            cur <span class="token operator">=</span> q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># *************</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>left<span class="token punctuation">:</span>                q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>            <span class="token keyword">if</span> cur<span class="token punctuation">.</span>right<span class="token punctuation">:</span>                q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸Šè¿°ä»£ç æ˜¯æ ‡å‡†çš„äºŒå‰æ ‘å±‚çº§éå†æ¡†æ¶</strong>ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³æ‰“å°æ¯ä¸€å±‚äºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œé˜Ÿåˆ— <code>q</code> ä¸­ä¸ä¼šå­˜åœ¨ null æŒ‡é’ˆã€‚</p><p>ä¸è¿‡æˆ‘ä»¬åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­æ˜¯éœ€è¦è®°å½•ç©ºæŒ‡é’ˆ null çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæ ‡å‡†çš„å±‚çº§éå†æ¡†æ¶ç•¥ä½œä¿®æ”¹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>         <span class="token keyword">return</span>    <span class="token comment"># åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—</span>    q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>        sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>        <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>            cur <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># å±‚çº§éå†ä»£ç ä½ç½®</span>            <span class="token keyword">if</span> cur <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                 <span class="token keyword">continue</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># **************</span>            q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>            q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ä¹Ÿå¯ä»¥å®Œæˆå±‚çº§éå†ï¼Œåªä¸è¿‡æˆ‘ä»¬æŠŠå¯¹ç©ºæŒ‡é’ˆçš„æ£€éªŒä»ã€Œå°†å…ƒç´ åŠ å…¥é˜Ÿåˆ—ã€çš„æ—¶å€™æ”¹æˆäº†ã€Œä»é˜Ÿåˆ—å–å‡ºå…ƒç´ ã€çš„æ—¶å€™ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å®Œå…¨ä»¿ç…§è¿™ä¸ªæ¡†æ¶å³å¯å†™å‡ºåºåˆ—åŒ–æ–¹æ³•ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    NULL <span class="token operator">=</span> <span class="token string">"#"</span>    <span class="token comment"># å°†äºŒå‰æ ‘åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²</span>    <span class="token keyword">def</span> <span class="token function">serialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">""</span>        <span class="token comment"># åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—</span>        queue <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> queue<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                cur <span class="token operator">=</span> queue<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                <span class="token comment"># å±‚çº§éå†ä»£ç ä½ç½®</span>                <span class="token keyword">if</span> cur <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>NULL<span class="token punctuation">)</span>                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>                    <span class="token keyword">continue</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span>                <span class="token comment"># ***************</span>                queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span>        <span class="token keyword">return</span> Codec<span class="token punctuation">.</span>SEP<span class="token punctuation">.</span>join<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å±‚çº§éå†åºåˆ—åŒ–å¾—å‡ºçš„ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/3.jpeg" alt="img"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ªéç©ºèŠ‚ç‚¹éƒ½ä¼šå¯¹åº”ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œ<strong>é‚£ä¹ˆååºåˆ—åŒ–çš„æ€è·¯ä¹Ÿæ˜¯ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚çº§éå†ï¼ŒåŒæ—¶ç”¨ç´¢å¼• <code>index</code> è®°å½•å¯¹åº”å­èŠ‚ç‚¹çš„ä½ç½®</strong>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">Codec</span><span class="token punctuation">:</span>    SEP <span class="token operator">=</span> <span class="token string">","</span>    NULL <span class="token operator">=</span> <span class="token string">"#"</span>    <span class="token comment"># å°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºäºŒå‰æ ‘ç»“æ„</span>    <span class="token keyword">def</span> <span class="token function">deserialize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> data <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token comment"># å°†åˆ†å‰²ç»“æœä¸­çš„ç©ºå­—ç¬¦ä¸²è¿‡æ»¤æ‰</span>        nodes <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> data<span class="token punctuation">.</span>split<span class="token punctuation">(</span>self<span class="token punctuation">.</span>SEP<span class="token punctuation">)</span> <span class="token keyword">if</span> x<span class="token punctuation">]</span>        <span class="token comment"># ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ root çš„å€¼</span>        root <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># é˜Ÿåˆ— q è®°å½•çˆ¶èŠ‚ç‚¹ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—</span>        q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># index å˜é‡è®°å½•æ­£åœ¨åºåˆ—åŒ–çš„èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®</span>        index <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">while</span> q<span class="token punctuation">:</span>            sz <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">:</span>                parent <span class="token operator">=</span> q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment"># ä¸ºçˆ¶èŠ‚ç‚¹æ„é€ å·¦ä¾§å­èŠ‚ç‚¹</span>                left <span class="token operator">=</span> nodes<span class="token punctuation">[</span>index<span class="token punctuation">]</span>                index <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token keyword">if</span> left <span class="token operator">!=</span> self<span class="token punctuation">.</span>NULL<span class="token punctuation">:</span>                    parent<span class="token punctuation">.</span>left <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">)</span>                <span class="token comment"># ä¸ºçˆ¶èŠ‚ç‚¹æ„é€ å³ä¾§å­èŠ‚ç‚¹</span>                right <span class="token operator">=</span> nodes<span class="token punctuation">[</span>index<span class="token punctuation">]</span>                index <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token keyword">if</span> right <span class="token operator">!=</span> self<span class="token punctuation">.</span>NULL<span class="token punctuation">:</span>                    parent<span class="token punctuation">.</span>right <span class="token operator">=</span> TreeNode<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>                    q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>parent<span class="token punctuation">.</span>right<span class="token punctuation">)</span>                            <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸éš¾å‘ç°ï¼Œè¿™ä¸ªååºåˆ—åŒ–çš„ä»£ç é€»è¾‘ä¹Ÿæ˜¯æ ‡å‡†çš„äºŒå‰æ ‘å±‚çº§éå†çš„ä»£ç è¡ç”Ÿå‡ºæ¥çš„ã€‚æˆ‘ä»¬çš„å‡½æ•°é€šè¿‡ <code>nodes[index]</code> æ¥è®¡ç®—å·¦å³å­èŠ‚ç‚¹ï¼Œæ¥åˆ°çˆ¶èŠ‚ç‚¹ä¸Šå¹¶åŠ å…¥é˜Ÿåˆ—ï¼Œä¸€å±‚ä¸€å±‚åœ°ååºåˆ—åŒ–å‡ºæ¥ä¸€æ£µäºŒå‰æ ‘ã€‚</p><h1 id="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆç‰¹æ€§ç¯‡ï¼‰"><a href="#äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆç‰¹æ€§ç¯‡ï¼‰" class="headerlink" title="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆç‰¹æ€§ç¯‡ï¼‰"></a>äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆç‰¹æ€§ç¯‡ï¼‰</h1><p>æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜</p><table><thead><tr><th align="center">LeetCode</th><th align="center">åŠ›æ‰£</th><th align="center">éš¾åº¦</th></tr></thead><tbody><tr><td align="center"><a href="https://leetcode.com/problems/binary-search-tree-to-greater-sum-tree/">1038. Binary Search Tree to Greater Sum Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/binary-search-tree-to-greater-sum-tree/">1038. ä»äºŒå‰æœç´¢æ ‘åˆ°æ›´å¤§å’Œæ ‘</a></td><td align="center">ğŸŸ </td></tr><tr><td align="center"><a href="https://leetcode.com/problems/kth-smallest-element-in-a-bst/">230. Kth Smallest Element in a BST</a></td><td align="center"><a href="https://leetcode.cn/problems/kth-smallest-element-in-a-bst/">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </a></td><td align="center">ğŸŸ </td></tr><tr><td align="center"><a href="https://leetcode.com/problems/convert-bst-to-greater-tree/">538. Convert BST to Greater Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/convert-bst-to-greater-tree/">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</a></td><td align="center">ğŸŸ </td></tr></tbody></table><p>å‰ç½®çŸ¥è¯†</p><p>é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘ç»“æ„åŸºç¡€</a></li><li><a href="https://labuladong.online/algo/data-structure-basic/binary-tree-traverse-basic/">äºŒå‰æ ‘çš„ DFS&#x2F;BFS éå†</a></li></ul><p>å‰æ–‡æ‰‹æŠŠæ‰‹å¸¦ä½ åˆ·äºŒå‰æ ‘å·²ç»å†™äº† <a href="https://labuladong.online/algo/data-structure/binary-tree-part1/">æ€ç»´ç¯‡</a>ï¼Œ<a href="https://labuladong.online/algo/data-structure/binary-tree-part2/">æ„é€ ç¯‡</a>ï¼Œ<a href="https://labuladong.online/algo/data-structure/binary-tree-part3/">ååºç¯‡</a> å’Œ <a href="https://labuladong.online/algo/data-structure/serialize-and-deserialize-binary-tree/">åºåˆ—åŒ–ç¯‡</a>ã€‚</p><p>ä»Šå¤©å¼€å¯äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼Œåæ–‡ç®€å†™ BSTï¼‰çš„ç³»åˆ—æ–‡ç« ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ åˆ· BSTã€‚</p><p>é¦–å…ˆï¼ŒBST çš„ç‰¹æ€§å¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼ˆè¯¦è§åŸºç¡€çŸ¥è¯†ç« èŠ‚çš„ <a href="https://labuladong.online/algo/data-structure-basic/binary-tree-basic/">äºŒå‰æ ‘åŸºç¡€</a>ï¼‰ï¼š</p><p>1ã€å¯¹äº BST çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ <code>node</code>ï¼Œå·¦å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯” <code>node</code> çš„å€¼è¦å°ï¼Œå³å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯” <code>node</code> çš„å€¼å¤§ã€‚</p><p>2ã€å¯¹äº BST çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ <code>node</code>ï¼Œå®ƒçš„å·¦ä¾§å­æ ‘å’Œå³ä¾§å­æ ‘éƒ½æ˜¯ BSTã€‚</p><p>äºŒå‰æœç´¢æ ‘å¹¶ä¸ç®—å¤æ‚ï¼Œä½†æˆ‘è§‰å¾—å®ƒå¯ä»¥ç®—æ˜¯æ•°æ®ç»“æ„é¢†åŸŸçš„åŠå£æ±Ÿå±±ï¼Œç›´æ¥åŸºäº BST çš„æ•°æ®ç»“æ„æœ‰ AVL æ ‘ï¼Œçº¢é»‘æ ‘ç­‰ç­‰ï¼Œæ‹¥æœ‰äº†è‡ªå¹³è¡¡æ€§è´¨ï¼Œå¯ä»¥æä¾› logN çº§åˆ«çš„å¢åˆ æŸ¥æ”¹æ•ˆç‡ï¼›è¿˜æœ‰ B+ æ ‘ï¼Œçº¿æ®µæ ‘ç­‰ç»“æ„éƒ½æ˜¯åŸºäº BST çš„æ€æƒ³æ¥è®¾è®¡çš„ã€‚</p><p><strong>ä»åšç®—æ³•é¢˜çš„è§’åº¦æ¥çœ‹ BSTï¼Œé™¤äº†å®ƒçš„å®šä¹‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼šBST çš„ä¸­åºéå†ç»“æœæ˜¯æœ‰åºçš„ï¼ˆå‡åºï¼‰</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¾“å…¥ä¸€æ£µ BSTï¼Œä»¥ä¸‹ä»£ç å¯ä»¥å°† BST ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å‡åºæ‰“å°å‡ºæ¥ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span>    <span class="token comment"># ä¸­åºéå†ä»£ç ä½ç½®</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆæ ¹æ®è¿™ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬æ¥åšä¸¤é“ç®—æ³•é¢˜ã€‚</p><h2 id="å¯»æ‰¾ç¬¬-K-å°çš„å…ƒç´ "><a href="#å¯»æ‰¾ç¬¬-K-å°çš„å…ƒç´ " class="headerlink" title="å¯»æ‰¾ç¬¬ K å°çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/data-structure/bst-part1/#%E5%AF%BB%E6%89%BE%E7%AC%AC-k-%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0">å¯»æ‰¾ç¬¬ K å°çš„å…ƒç´ </a></h2><p>è¿™æ˜¯åŠ›æ‰£ç¬¬ 230 é¢˜ã€Œ<a href="https://leetcode.cn/problems/kth-smallest-element-in-a-bst/">äºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ </a>ã€ï¼Œçœ‹ä¸‹é¢˜ç›®ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/kth-smallest-element-in-a-bst/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/kth-smallest-element-in-a-bst/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œå’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªç®—æ³•æŸ¥æ‰¾å…¶ä¸­ç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><strong style="font-weight: 600;">&nbsp;</strong>å°çš„å…ƒç´ ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/28/kthtree1.jpg" style="max-width: 100%; width: 212px; height: 301px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,1,4,null,2], k = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/28/kthtree2.jpg" style="max-width: 100%; width: 382px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,3,6,2,4,null,null,1], k = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= n &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= Node.val &lt;= 10<sup>4</sup></code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ç®—æ³•ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/kth-smallest-element-in-a-bst/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </a>ã€‚</strong></details><p>è¿™ä¸ªéœ€æ±‚å¾ˆå¸¸è§å§ï¼Œä¸€ä¸ªç›´æ¥çš„æ€è·¯å°±æ˜¯å‡åºæ’åºï¼Œç„¶åæ‰¾ç¬¬ <code>k</code> ä¸ªå…ƒç´ å‘—ã€‚BST çš„ä¸­åºéå†å…¶å®å°±æ˜¯å‡åºæ’åºçš„ç»“æœï¼Œæ‰¾ç¬¬ <code>k</code> ä¸ªå…ƒç´ è‚¯å®šä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚</p><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå¯ä»¥ç›´æ¥å†™å‡ºä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•ç»“æœ</span>        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®°å½•å½“å‰å…ƒç´ çš„æ’å</span>        self<span class="token punctuation">.</span>rank <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">kthSmallest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ©ç”¨ BST çš„ä¸­åºéå†ç‰¹æ€§</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">,</span> k<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res    <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span>        <span class="token comment"># ä¸­åºä»£ç ä½ç½®</span>        self<span class="token punctuation">.</span>rank <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> k <span class="token operator">==</span> self<span class="token punctuation">.</span>rank<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°ç¬¬ k å°çš„å…ƒç´ </span>            self<span class="token punctuation">.</span>res <span class="token operator">=</span> root<span class="token punctuation">.</span>val            <span class="token keyword">return</span>        self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_kth-smallest-element-in-a-bst" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_kth-smallest-element-in-a-bst" src="https://labuladong.online/algo-visualize/leetcode/kth-smallest-element-in-a-bst/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™é“é¢˜å°±åšå®Œäº†ï¼Œä¸è¿‡å‘¢ï¼Œè¿˜æ˜¯è¦å¤šè¯´å‡ å¥ï¼Œå› ä¸ºè¿™ä¸ªè§£æ³•å¹¶ä¸æ˜¯æœ€é«˜æ•ˆçš„è§£æ³•ï¼Œè€Œæ˜¯ä»…ä»…é€‚ç”¨äºè¿™é“é¢˜ã€‚</p><p>æˆ‘ä»¬åæ–‡ <a href="https://labuladong.online/algo/practice-in-action/find-median-from-data-stream/">é«˜æ•ˆè®¡ç®—æ•°æ®æµçš„ä¸­ä½æ•°</a> ä¸­å°±æè¿‡ä»Šå¤©çš„è¿™ä¸ªé—®é¢˜ï¼š</p><p>Info</p><p>å¦‚æœè®©ä½ å®ç°ä¸€ä¸ªåœ¨äºŒå‰æœç´¢æ ‘ä¸­é€šè¿‡æ’åè®¡ç®—å¯¹åº”å…ƒç´ çš„æ–¹æ³• <code>select(int k)</code>ï¼Œä½ ä¼šæ€ä¹ˆè®¾è®¡ï¼Ÿ</p><p>å¦‚æœæŒ‰ç…§æˆ‘ä»¬åˆšæ‰è¯´çš„æ–¹æ³•ï¼Œåˆ©ç”¨ã€ŒBST ä¸­åºéå†å°±æ˜¯å‡åºæ’åºç»“æœã€è¿™ä¸ªæ€§è´¨ï¼Œæ¯æ¬¡å¯»æ‰¾ç¬¬ <code>k</code> å°çš„å…ƒç´ éƒ½è¦ä¸­åºéå†ä¸€æ¬¡ï¼Œæœ€åçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)<em>O</em>(<em>N</em>)ï¼Œ<code>N</code> æ˜¯ BST çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>è¦çŸ¥é“ BST æ€§è´¨æ˜¯éå¸¸ç‰›é€¼çš„ï¼Œåƒçº¢é»‘æ ‘è¿™ç§æ”¹è‰¯çš„è‡ªå¹³è¡¡ BSTï¼Œå¢åˆ æŸ¥æ”¹éƒ½æ˜¯ O(logN)<em>O</em>(<em>l<strong>o</strong>g**N</em>) çš„å¤æ‚åº¦ï¼Œè®©ä½ ç®—ä¸€ä¸ªç¬¬ <code>k</code> å°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ç«Ÿç„¶è¦ O(N)<em>O</em>(<em>N</em>)ï¼Œæœ‰ç‚¹ä½æ•ˆäº†ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œè®¡ç®—ç¬¬ <code>k</code> å°å…ƒç´ ï¼Œæœ€å¥½çš„ç®—æ³•è‚¯å®šä¹Ÿæ˜¯å¯¹æ•°çº§åˆ«çš„å¤æ‚åº¦ï¼Œä¸è¿‡è¿™ä¸ªä¾èµ–äº BST èŠ‚ç‚¹è®°å½•çš„ä¿¡æ¯æœ‰å¤šå°‘ã€‚</p><p>æˆ‘ä»¬æƒ³ä¸€ä¸‹ BST çš„æ“ä½œä¸ºä»€ä¹ˆè¿™ä¹ˆé«˜æ•ˆï¼Ÿå°±æ‹¿æœç´¢æŸä¸€ä¸ªå…ƒç´ æ¥è¯´ï¼ŒBST èƒ½å¤Ÿåœ¨å¯¹æ•°æ—¶é—´æ‰¾åˆ°è¯¥å…ƒç´ çš„æ ¹æœ¬åŸå› è¿˜æ˜¯åœ¨ BST çš„å®šä¹‰é‡Œï¼Œå·¦å­æ ‘å°å³å­æ ‘å¤§å˜›ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥é€šè¿‡å¯¹æ¯”è‡ªèº«çš„å€¼åˆ¤æ–­å»å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘æœç´¢ç›®æ ‡å€¼ï¼Œä»è€Œé¿å…äº†å…¨æ ‘éå†ï¼Œè¾¾åˆ°å¯¹æ•°çº§å¤æ‚åº¦ã€‚</p><p>é‚£ä¹ˆå›åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæƒ³æ‰¾åˆ°ç¬¬ <code>k</code> å°çš„å…ƒç´ ï¼Œæˆ–è€…è¯´æ‰¾åˆ°æ’åä¸º <code>k</code> çš„å…ƒç´ ï¼Œå¦‚æœæƒ³è¾¾åˆ°å¯¹æ•°çº§å¤æ‚åº¦ï¼Œå…³é”®ä¹Ÿåœ¨äºæ¯ä¸ªèŠ‚ç‚¹å¾—çŸ¥é“ä»–è‡ªå·±æ’ç¬¬å‡ ã€‚</p><p>æ¯”å¦‚è¯´ä½ è®©æˆ‘æŸ¥æ‰¾æ’åä¸º <code>k</code> çš„å…ƒç´ ï¼Œå½“å‰èŠ‚ç‚¹çŸ¥é“è‡ªå·±æ’åç¬¬ <code>m</code>ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥æ¯”è¾ƒ <code>m</code> å’Œ <code>k</code> çš„å¤§å°ï¼š</p><p>1ã€å¦‚æœ <code>m == k</code>ï¼Œæ˜¾ç„¶å°±æ˜¯æ‰¾åˆ°äº†ç¬¬ <code>k</code> ä¸ªå…ƒç´ ï¼Œè¿”å›å½“å‰èŠ‚ç‚¹å°±è¡Œäº†ã€‚</p><p>2ã€å¦‚æœ <code>k &lt; m</code>ï¼Œé‚£è¯´æ˜æ’åç¬¬ <code>k</code> çš„å…ƒç´ åœ¨å·¦å­æ ‘ï¼Œæ‰€ä»¥å¯ä»¥å»å·¦å­æ ‘æœç´¢ç¬¬ <code>k</code> ä¸ªå…ƒç´ ã€‚</p><p>3ã€å¦‚æœ <code>k &gt; m</code>ï¼Œé‚£è¯´æ˜æ’åç¬¬ <code>k</code> çš„å…ƒç´ åœ¨å³å­æ ‘ï¼Œæ‰€ä»¥å¯ä»¥å»å³å­æ ‘æœç´¢ç¬¬ <code>k - m - 1</code> ä¸ªå…ƒç´ ã€‚</p><p>è¿™æ ·å°±å¯ä»¥å°†æ—¶é—´å¤æ‚åº¦é™åˆ° O(logN)<em>O</em>(<em>l<strong>o</strong>g**N</em>) äº†ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•è®©æ¯ä¸€ä¸ªèŠ‚ç‚¹çŸ¥é“è‡ªå·±çš„æ’åå‘¢ï¼Ÿ</p><p>è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼Œéœ€è¦åœ¨äºŒå‰æ ‘èŠ‚ç‚¹ä¸­ç»´æŠ¤é¢å¤–ä¿¡æ¯ã€‚<strong>æ¯ä¸ªèŠ‚ç‚¹éœ€è¦è®°å½•ï¼Œä»¥è‡ªå·±ä¸ºæ ¹çš„è¿™æ£µäºŒå‰æ ‘æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ <code>TreeNode</code> ä¸­çš„å­—æ®µåº”è¯¥å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">TreeNode</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token comment"># ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„æ ‘çš„èŠ‚ç‚¹æ€»æ•°</span>        self<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">None</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰äº† <code>size</code> å­—æ®µï¼Œå¤–åŠ  BST èŠ‚ç‚¹å·¦å°å³å¤§çš„æ€§è´¨ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ <code>node</code> å°±å¯ä»¥é€šè¿‡ <code>node.left</code> æ¨å¯¼å‡º <code>node</code> çš„æ’åï¼Œä»è€Œåšåˆ°æˆ‘ä»¬åˆšæ‰è¯´åˆ°çš„å¯¹æ•°çº§ç®—æ³•ã€‚</p><p>å½“ç„¶ï¼Œ<code>size</code> å­—æ®µéœ€è¦åœ¨å¢åˆ å…ƒç´ çš„æ—¶å€™éœ€è¦è¢«æ­£ç¡®ç»´æŠ¤ï¼ŒåŠ›æ‰£æä¾›çš„ <code>TreeNode</code> æ˜¯æ²¡æœ‰ <code>size</code> è¿™ä¸ªå­—æ®µçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é“é¢˜å°±åªèƒ½åˆ©ç”¨ BST ä¸­åºéå†çš„ç‰¹æ€§å®ç°äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´åˆ°çš„ä¼˜åŒ–æ€è·¯æ˜¯ BST çš„å¸¸è§æ“ä½œï¼Œè¿˜æ˜¯æœ‰å¿…è¦ç†è§£çš„ã€‚</p><h2 id="BST-è½¬åŒ–ç´¯åŠ æ ‘"><a href="#BST-è½¬åŒ–ç´¯åŠ æ ‘" class="headerlink" title="BST è½¬åŒ–ç´¯åŠ æ ‘"></a><a href="https://labuladong.online/algo/data-structure/bst-part1/#bst-%E8%BD%AC%E5%8C%96%E7%B4%AF%E5%8A%A0%E6%A0%91">BST è½¬åŒ–ç´¯åŠ æ ‘</a></h2><p>åŠ›æ‰£ç¬¬ 538 é¢˜å’Œ 1038 é¢˜éƒ½æ˜¯è¿™é“é¢˜ï¼Œå®Œå…¨ä¸€æ ·ï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬ä¸€å—åšæ‰ã€‚çœ‹ä¸‹é¢˜ç›®ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/convert-bst-to-greater-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/convert-bst-to-greater-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å‡ºäºŒå‰<strong style="font-weight: 600;"><span>&nbsp;</span>æœç´¢<span>&nbsp;</span></strong>æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ‘çš„èŠ‚ç‚¹å€¼å„ä¸ç›¸åŒï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼ˆGreater Sum Treeï¼‰ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node</code>&nbsp;çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">node.val</code>&nbsp;çš„å€¼ä¹‹å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”®<strong style="font-weight: 600;"><span>&nbsp;</span>å°äº<span>&nbsp;</span></strong>èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚</li><li>èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”®<strong style="font-weight: 600;"><span>&nbsp;</span>å¤§äº</strong><span>&nbsp;</span>èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚</li><li>å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong>æœ¬é¢˜å’Œ 1038:&nbsp;<a href="https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/</a><span>&nbsp;</span>ç›¸åŒ</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;"><img alt="" src="https://labuladong.online/algo/images/lc/aliyun-lc-upload/uploads/2019/05/03/tree.png" style="max-width: 100%; height: 364px; width: 534px;"></strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>[4,1,6,0,2,5,7,null,null,null,3,null,null,null,8]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[30,36,21,36,35,26,15,null,null,null,33,null,null,null,8]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [0,null,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,null,1]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [1,0,2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,3,2]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [3,2,4,1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[7,9,4,10]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä»‹äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>4</sup></code><sup>&nbsp;</sup>ä¹‹é—´ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup></code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>4</sup></code>&nbsp;ä¹‹é—´ã€‚</li><li>æ ‘ä¸­çš„æ‰€æœ‰å€¼<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong><span>&nbsp;</span>ã€‚</li><li>ç»™å®šçš„æ ‘ä¸ºäºŒå‰æœç´¢æ ‘ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/convert-bst-to-greater-tree/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</a>ã€‚</strong></details><p>é¢˜ç›®åº”è¯¥ä¸éš¾ç†è§£ï¼Œæ¯”å¦‚å›¾ä¸­çš„èŠ‚ç‚¹ 5ï¼Œè½¬åŒ–æˆç´¯åŠ æ ‘çš„è¯ï¼Œæ¯” 5 å¤§çš„èŠ‚ç‚¹æœ‰ 6ï¼Œ7ï¼Œ8ï¼ŒåŠ ä¸Š 5 æœ¬èº«ï¼Œæ‰€ä»¥ç´¯åŠ æ ‘ä¸Šè¿™ä¸ªèŠ‚ç‚¹çš„å€¼åº”è¯¥æ˜¯ 5+6+7+8&#x3D;26ã€‚</p><p>æˆ‘ä»¬éœ€è¦æŠŠ BST è½¬åŒ–æˆç´¯åŠ æ ‘ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">def convertBST(root: TreeNode) -&gt; TreeNode:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŒ‰ç…§äºŒå‰æ ‘çš„é€šç”¨æ€è·¯ï¼Œéœ€è¦æ€è€ƒæ¯ä¸ªèŠ‚ç‚¹åº”è¯¥åšä»€ä¹ˆï¼Œä½†æ˜¯è¿™é“é¢˜ä¸Šå¾ˆéš¾æƒ³åˆ°ä»€ä¹ˆæ€è·¯ã€‚</p><p>BST çš„æ¯ä¸ªèŠ‚ç‚¹å·¦å°å³å¤§ï¼Œè¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ—¢ç„¶ç´¯åŠ å’Œæ˜¯è®¡ç®—å¤§äºç­‰äºå½“å‰å€¼çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼Œé‚£ä¹ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½å»è®¡ç®—å³å­æ ‘çš„å’Œï¼Œä¸å°±è¡Œäº†å—ï¼Ÿ</p><p>è¿™æ˜¯ä¸è¡Œçš„ã€‚å¯¹äºä¸€ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œç¡®å®å³å­æ ‘éƒ½æ˜¯æ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œä½†é—®é¢˜æ˜¯å®ƒçš„çˆ¶èŠ‚ç‚¹ä¹Ÿå¯èƒ½æ˜¯æ¯”å®ƒå¤§çš„å…ƒç´ å‘€ï¼Ÿè¿™ä¸ªæ²¡æ³•ç¡®å®šçš„ï¼Œæˆ‘ä»¬åˆæ²¡æœ‰è§¦è¾¾çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥äºŒå‰æ ‘çš„é€šç”¨æ€è·¯åœ¨è¿™é‡Œç”¨ä¸äº†ã€‚</p><p><strong>æ­¤è·¯ä¸é€šï¼Œæˆ‘ä»¬ä¸å¦¨æ¢ä¸€ä¸ªæ€è·¯ï¼Œè¿˜æ˜¯åˆ©ç”¨ BST çš„ä¸­åºéå†ç‰¹æ€§</strong>ã€‚</p><p>åˆšæ‰æˆ‘ä»¬è¯´äº† BST çš„ä¸­åºéå†ä»£ç å¯ä»¥å‡åºæ‰“å°èŠ‚ç‚¹çš„å€¼ï¼Œé‚£å¦‚æœæˆ‘æƒ³é™åºæ‰“å°èŠ‚ç‚¹çš„å€¼æ€ä¹ˆåŠï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œåªè¦æŠŠé€’å½’é¡ºåºæ”¹ä¸€ä¸‹ï¼Œå…ˆéå†å³å­æ ‘ï¼Œåéå†å·¦å­æ ‘å°±è¡Œäº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># å…ˆé€’å½’éå†å³å­æ ‘</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>    <span class="token comment"># ä¸­åºéå†ä»£ç ä½ç½®</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span>    <span class="token comment"># åé€’å½’éå†å·¦å­æ ‘</span>    traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿™æ®µä»£ç å¯ä»¥é™åºæ‰“å° BST èŠ‚ç‚¹çš„å€¼ï¼Œå¦‚æœç»´æŠ¤ä¸€ä¸ªå¤–éƒ¨ç´¯åŠ å˜é‡ <code>sum</code>ï¼Œç„¶åæŠŠ <code>sum</code> èµ‹å€¼ç»™ BST ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å°±å°† BST è½¬åŒ–æˆç´¯åŠ æ ‘äº†å—</strong>ï¼Ÿ</p><p>çœ‹ä¸‹ä»£ç å°±æ˜ç™½äº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># è®°å½•ç´¯åŠ å’Œ</span>            self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>                    <span class="token keyword">def</span> <span class="token function">convertBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">)</span>            <span class="token keyword">return</span> root        <span class="token keyword">def</span> <span class="token function">traverse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token keyword">return</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># ç»´æŠ¤ç´¯åŠ å’Œ</span>            self<span class="token punctuation">.</span><span class="token builtin">sum</span> <span class="token operator">+=</span> root<span class="token punctuation">.</span>val            <span class="token comment"># å°† BST è½¬åŒ–æˆç´¯åŠ æ ‘</span>            root<span class="token punctuation">.</span>val <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token builtin">sum</span>            self<span class="token punctuation">.</span>traverse<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_convert-bst-to-greater-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_convert-bst-to-greater-tree" src="https://labuladong.online/algo-visualize/leetcode/convert-bst-to-greater-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™é“é¢˜å°±è§£å†³äº†ï¼Œæ ¸å¿ƒè¿˜æ˜¯ BST çš„ä¸­åºéå†ç‰¹æ€§ï¼Œåªä¸è¿‡æˆ‘ä»¬ä¿®æ”¹äº†é€’å½’é¡ºåºï¼Œé™åºéå† BST çš„å…ƒç´ å€¼ï¼Œä»è€Œå¥‘åˆé¢˜ç›®ç´¯åŠ æ ‘çš„è¦æ±‚ã€‚</p><p>ç®€å•æ€»ç»“ä¸‹å§ï¼ŒBST ç›¸å…³çš„é—®é¢˜ï¼Œè¦ä¹ˆåˆ©ç”¨ BST å·¦å°å³å¤§çš„ç‰¹æ€§æå‡ç®—æ³•æ•ˆç‡ï¼Œè¦ä¹ˆåˆ©ç”¨ä¸­åºéå†çš„ç‰¹æ€§æ»¡è¶³é¢˜ç›®çš„è¦æ±‚ï¼Œä¹Ÿå°±è¿™ä¹ˆäº›äº‹å„¿å§ã€‚</p><h1 id="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆåŸºæ“ç¯‡ï¼‰"><a href="#äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆåŸºæ“ç¯‡ï¼‰" class="headerlink" title="äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆåŸºæ“ç¯‡ï¼‰"></a>äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆåŸºæ“ç¯‡ï¼‰</h1><p>æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜</p><table><thead><tr><th align="center">LeetCode</th><th align="center">åŠ›æ‰£</th><th align="center">éš¾åº¦</th></tr></thead><tbody><tr><td align="center"><a href="https://leetcode.com/problems/delete-node-in-a-bst/">450. Delete Node in a BST</a></td><td align="center"><a href="https://leetcode.cn/problems/delete-node-in-a-bst/">450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a></td><td align="center">ğŸŸ </td></tr><tr><td align="center"><a href="https://leetcode.com/problems/search-in-a-binary-search-tree/">700. Search in a Binary Search Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/search-in-a-binary-search-tree/">700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</a></td><td align="center">ğŸŸ¢</td></tr><tr><td align="center"><a href="https://leetcode.com/problems/insert-into-a-binary-search-tree/">701. Insert into a Binary Search Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a></td><td align="center">ğŸŸ </td></tr><tr><td align="center"><a href="https://leetcode.com/problems/validate-binary-search-tree/">98. Validate Binary Search Tree</a></td><td align="center"><a href="https://leetcode.cn/problems/validate-binary-search-tree/">98. éªŒè¯äºŒå‰æœç´¢æ ‘</a></td><td align="center">ğŸŸ </td></tr></tbody></table><p>æˆ‘ä»¬å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/bst-part1/">äºŒå‰æœç´¢æ ‘å¿ƒæ³•ï¼ˆç‰¹æ€§ç¯‡ï¼‰</a> ä»‹ç»äº† BST çš„åŸºæœ¬ç‰¹æ€§ï¼Œè¿˜åˆ©ç”¨äºŒå‰æœç´¢æ ‘ã€Œä¸­åºéå†æœ‰åºã€çš„ç‰¹æ€§æ¥è§£å†³äº†å‡ é“é¢˜ç›®ï¼Œæœ¬æ–‡æ¥å®ç° BST çš„åŸºç¡€æ“ä½œï¼šåˆ¤æ–­ BST çš„åˆæ³•æ€§ã€å¢ã€åˆ ã€æŸ¥ã€‚å…¶ä¸­ã€Œåˆ ã€å’Œã€Œåˆ¤æ–­åˆæ³•æ€§ã€ç•¥å¾®å¤æ‚ã€‚</p><p>BST çš„åŸºç¡€æ“ä½œä¸»è¦ä¾èµ–ã€Œå·¦å°å³å¤§ã€çš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨äºŒå‰æ ‘ä¸­åšç±»ä¼¼äºŒåˆ†æœç´¢çš„æ“ä½œï¼Œå¯»æ‰¾ä¸€ä¸ªå…ƒç´ çš„æ•ˆç‡å¾ˆé«˜ã€‚æ¯”å¦‚ä¸‹é¢è¿™å°±æ˜¯ä¸€æ£µåˆæ³•çš„äºŒå‰æ ‘ï¼š</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/0.png" alt="img"></p><p>å¯¹äº BST ç›¸å…³çš„é—®é¢˜ï¼Œä½ å¯èƒ½ä¼šç»å¸¸çœ‹åˆ°ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ä»£ç é€»è¾‘ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">BST</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> target<span class="token punctuation">:</span>        <span class="token comment"># æ‰¾åˆ°ç›®æ ‡ï¼Œåšç‚¹ä»€ä¹ˆ</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>        BST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> target<span class="token punctuation">:</span>        BST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªä»£ç æ¡†æ¶å…¶å®å’ŒäºŒå‰æ ‘çš„éå†æ¡†æ¶å·®ä¸å¤šï¼Œæ— éå°±æ˜¯åˆ©ç”¨äº† BST å·¦å°å³å¤§çš„ç‰¹æ€§è€Œå·²ã€‚æ¥ä¸‹æ¥çœ‹ä¸‹ BST è¿™ç§ç»“æ„çš„åŸºç¡€æ“ä½œæ˜¯å¦‚ä½•å®ç°çš„ã€‚</p><h2 id="ä¸€ã€åˆ¤æ–­-BST-çš„åˆæ³•æ€§"><a href="#ä¸€ã€åˆ¤æ–­-BST-çš„åˆæ³•æ€§" class="headerlink" title="ä¸€ã€åˆ¤æ–­ BST çš„åˆæ³•æ€§"></a><a href="https://labuladong.online/algo/data-structure/bst-part2/#%E4%B8%80%E3%80%81%E5%88%A4%E6%96%AD-bst-%E7%9A%84%E5%90%88%E6%B3%95%E6%80%A7">ä¸€ã€åˆ¤æ–­ BST çš„åˆæ³•æ€§</a></h2><p>åŠ›æ‰£ç¬¬ 98 é¢˜ã€Œ<a href="https://leetcode.cn/problems/validate-binary-search-tree/">éªŒè¯äºŒå‰æœç´¢æ ‘</a>ã€å°±æ˜¯è®©ä½ åˆ¤æ–­è¾“å…¥çš„ BST æ˜¯å¦åˆæ³•ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">98. éªŒè¯äºŒå‰æœç´¢æ ‘</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/validate-binary-search-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/validate-binary-search-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code><span>&nbsp;</span>ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æœ‰æ•ˆ</strong><span>&nbsp;</span>äºŒå‰æœç´¢æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹çš„å·¦<span data-keyword="subtree">å­æ ‘</span>åªåŒ…å«<strong style="font-weight: 600;"><span>&nbsp;</span>å°äº<span>&nbsp;</span></strong>å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li><li>èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«<span>&nbsp;</span><strong style="font-weight: 600;">å¤§äº</strong><span>&nbsp;</span>å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li><li>æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/12/01/tree1.jpg" style="max-width: 100%; width: 302px; height: 182px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [2,1,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/12/01/tree2.jpg" style="max-width: 100%; width: 422px; height: 292px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,1,4,null,null,3,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯ 5 ï¼Œä½†æ˜¯å³å­èŠ‚ç‚¹çš„å€¼æ˜¯ 4 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´åœ¨<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 10<sup>4</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup><span>&nbsp;</span>&lt;= Node.val &lt;= 2<sup>31</sup><span>&nbsp;</span>- 1</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/validate-binary-search-tree/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 98. éªŒè¯äºŒå‰æœç´¢æ ‘</a>ã€‚</strong></details><p>æ³¨æ„ï¼Œè¿™é‡Œæ˜¯æœ‰å‘çš„å“¦ã€‚æŒ‰ç…§ BST å·¦å°å³å¤§çš„ç‰¹æ€§ï¼Œæ¯ä¸ªèŠ‚ç‚¹æƒ³è¦åˆ¤æ–­è‡ªå·±æ˜¯å¦æ˜¯åˆæ³•çš„ BST èŠ‚ç‚¹ï¼Œè¦åšçš„äº‹ä¸å°±æ˜¯æ¯”è¾ƒè‡ªå·±å’Œå·¦å³å­©å­å—ï¼Ÿæ„Ÿè§‰åº”è¯¥è¿™æ ·å†™ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">isValidBST</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token comment"># root çš„å·¦è¾¹åº”è¯¥æ›´å°</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>left<span class="token punctuation">.</span>val <span class="token operator">>=</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token comment"># root çš„å³è¾¹åº”è¯¥æ›´å¤§</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>right <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>right<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> root<span class="token punctuation">.</span>val<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token keyword">return</span> isValidBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">and</span> isValidBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯è¿™ä¸ªç®—æ³•å‡ºç°äº†é”™è¯¯ï¼ŒBST çš„æ¯ä¸ªèŠ‚ç‚¹åº”è¯¥è¦å°äºå³è¾¹å­æ ‘çš„<strong>æ‰€æœ‰</strong>èŠ‚ç‚¹ï¼Œä¸‹é¢è¿™ä¸ªäºŒå‰æ ‘æ˜¾ç„¶ä¸æ˜¯ BSTï¼Œå› ä¸ºèŠ‚ç‚¹ <code>7</code> çš„å·¦å­æ ‘ä¸­æœ‰ä¸€ä¸ªèŠ‚ç‚¹ <code>8</code>ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç®—æ³•ä¼šæŠŠå®ƒåˆ¤å®šä¸ºåˆæ³• BSTï¼š</p><p>7418910</p><p><strong>é”™è¯¯çš„åŸå› åœ¨äºï¼Œå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ <code>root</code>ï¼Œä»£ç å€¼æ£€æŸ¥äº†å®ƒçš„å·¦å³å­©å­èŠ‚ç‚¹æ˜¯å¦ç¬¦åˆå·¦å°å³å¤§çš„åŸåˆ™ï¼›ä½†æ˜¯æ ¹æ® BST çš„å®šä¹‰ï¼Œ<code>root</code> çš„æ•´ä¸ªå·¦å­æ ‘éƒ½è¦å°äº <code>root.val</code>ï¼Œæ•´ä¸ªå³å­æ ‘éƒ½è¦å¤§äº <code>root.val</code></strong>ã€‚</p><p>é—®é¢˜æ˜¯ï¼Œå¯¹äºæŸä¸€ä¸ªèŠ‚ç‚¹ <code>root</code>ï¼Œä»–åªèƒ½ç®¡å¾—äº†è‡ªå·±çš„å·¦å³å­èŠ‚ç‚¹ï¼Œæ€ä¹ˆæŠŠ <code>root</code> çš„çº¦æŸä¼ é€’ç»™å·¦å³å­æ ‘å‘¢ï¼Ÿè¯·çœ‹æ­£ç¡®çš„ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isValidBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_isValidBST<span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šè¯¥å‡½æ•°è¿”å› root ä¸ºæ ¹çš„å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ˜¯å¦æ»¡è¶³ max.val > root.val > min.val</span>    <span class="token keyword">def</span> <span class="token function">_isValidBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token comment"># base case</span>        <span class="token keyword">if</span> root <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">True</span>        <span class="token comment"># è‹¥ root.val ä¸ç¬¦åˆ max å’Œ min çš„é™åˆ¶ï¼Œè¯´æ˜ä¸æ˜¯åˆæ³• BST</span>        <span class="token keyword">if</span> <span class="token builtin">min</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;=</span> <span class="token builtin">min</span><span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token keyword">if</span> <span class="token builtin">max</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span> <span class="token keyword">and</span> root<span class="token punctuation">.</span>val <span class="token operator">>=</span> <span class="token builtin">max</span><span class="token punctuation">.</span>val<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># æ ¹æ®å®šä¹‰ï¼Œé™å®šå·¦å­æ ‘çš„æœ€å¤§å€¼æ˜¯ root.valï¼Œå³å­æ ‘çš„æœ€å°å€¼æ˜¯ root.val</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_isValidBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">,</span> root<span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>_isValidBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> root<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_validate-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_validate-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/validate-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æˆ‘ä»¬é€šè¿‡ä½¿ç”¨è¾…åŠ©å‡½æ•°ï¼Œå¢åŠ å‡½æ•°å‚æ•°åˆ—è¡¨ï¼Œåœ¨å‚æ•°ä¸­æºå¸¦é¢å¤–ä¿¡æ¯ï¼Œå°†è¿™ç§çº¦æŸä¼ é€’ç»™å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯äºŒå‰æ ‘ç®—æ³•çš„ä¸€ä¸ªå°æŠ€å·§å§ã€‚</p><h2 id="åœ¨-BST-ä¸­æœç´¢å…ƒç´ "><a href="#åœ¨-BST-ä¸­æœç´¢å…ƒç´ " class="headerlink" title="åœ¨ BST ä¸­æœç´¢å…ƒç´ "></a><a href="https://labuladong.online/algo/data-structure/bst-part2/#%E5%9C%A8-bst-%E4%B8%AD%E6%90%9C%E7%B4%A2%E5%85%83%E7%B4%A0">åœ¨ BST ä¸­æœç´¢å…ƒç´ </a></h2><p>åŠ›æ‰£ç¬¬ 700 é¢˜ã€Œ<a href="https://leetcode.cn/problems/search-in-a-binary-search-tree/">äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</a>ã€å°±æ˜¯è®©ä½ åœ¨ BST ä¸­æœç´¢å€¼ä¸º <code>target</code> çš„èŠ‚ç‚¹ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">searchBST</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ˜¯åœ¨ä¸€æ£µæ™®é€šçš„äºŒå‰æ ‘ä¸­å¯»æ‰¾ï¼Œå¯ä»¥è¿™æ ·å†™ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">searchBST</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> target<span class="token punctuation">:</span>        <span class="token keyword">return</span> root    <span class="token comment"># å½“å‰èŠ‚ç‚¹æ²¡æ‰¾åˆ°å°±é€’å½’åœ°å»å·¦å³å­æ ‘å¯»æ‰¾</span>    left <span class="token operator">=</span> searchBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span>    right <span class="token operator">=</span> searchBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span>    <span class="token keyword">return</span> left <span class="token keyword">if</span> left <span class="token keyword">else</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å†™å®Œå…¨æ­£ç¡®ï¼Œä½†è¿™æ®µä»£ç ç›¸å½“äºç©·ä¸¾äº†æ‰€æœ‰èŠ‚ç‚¹ï¼Œé€‚ç”¨äºæ‰€æœ‰äºŒå‰æ ‘ã€‚é‚£ä¹ˆåº”è¯¥å¦‚ä½•å……åˆ†åˆ©ç”¨ BST çš„ç‰¹æ®Šæ€§ï¼ŒæŠŠã€Œå·¦å°å³å¤§ã€çš„ç‰¹æ€§ç”¨ä¸Šï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œå…¶å®ä¸éœ€è¦é€’å½’åœ°æœç´¢ä¸¤è¾¹ï¼Œç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾æ€æƒ³ï¼Œæ ¹æ® <code>target</code> å’Œ <code>root.val</code> çš„å¤§å°æ¯”è¾ƒï¼Œå°±èƒ½æ’é™¤ä¸€è¾¹ã€‚æˆ‘ä»¬æŠŠä¸Šé¢çš„æ€è·¯ç¨ç¨æ”¹åŠ¨ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„ BST ä¸­æœç´¢å€¼ä¸º target çš„èŠ‚ç‚¹ï¼Œè¿”å›è¯¥èŠ‚ç‚¹</span><span class="token keyword">def</span> <span class="token function">searchBST</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token comment"># å¦‚æœäºŒå‰æ ‘ä¸ºç©ºï¼Œç›´æ¥è¿”å›</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token comment"># å»å·¦å­æ ‘æœç´¢</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> target<span class="token punctuation">:</span>        <span class="token keyword">return</span> searchBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span>    <span class="token comment"># å»å³å­æ ‘æœç´¢</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>        <span class="token keyword">return</span> searchBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span>    <span class="token comment"># å½“å‰èŠ‚ç‚¹å°±æ˜¯ç›®æ ‡å€¼</span>    <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_search-in-a-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_search-in-a-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/search-in-a-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="åœ¨-BST-ä¸­æ’å…¥ä¸€ä¸ªæ•°"><a href="#åœ¨-BST-ä¸­æ’å…¥ä¸€ä¸ªæ•°" class="headerlink" title="åœ¨ BST ä¸­æ’å…¥ä¸€ä¸ªæ•°"></a><a href="https://labuladong.online/algo/data-structure/bst-part2/#%E5%9C%A8-bst-%E4%B8%AD%E6%8F%92%E5%85%A5%E4%B8%80%E4%B8%AA%E6%95%B0">åœ¨ BST ä¸­æ’å…¥ä¸€ä¸ªæ•°</a></h2><p>å¯¹æ•°æ®ç»“æ„çš„æ“ä½œæ— ééå† + è®¿é—®ï¼Œéå†å°±æ˜¯ã€Œæ‰¾ã€ï¼Œè®¿é—®å°±æ˜¯ã€Œæ”¹ã€ã€‚å…·ä½“åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ’å…¥ä¸€ä¸ªæ•°ï¼Œå°±æ˜¯å…ˆæ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œç„¶åè¿›è¡Œæ’å…¥æ“ä½œã€‚</p><p>å› ä¸º BST ä¸€èˆ¬ä¸ä¼šå­˜åœ¨å€¼é‡å¤çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šåœ¨ BST ä¸­æ’å…¥å·²å­˜åœ¨çš„å€¼ã€‚<strong>ä¸‹é¢çš„ä»£ç éƒ½é»˜è®¤ä¸ä¼šå‘ BST ä¸­æ’å…¥å·²å­˜åœ¨çš„å€¼</strong>ã€‚</p><p>ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ€»ç»“äº† BST ä¸­çš„éå†æ¡†æ¶ï¼Œå°±æ˜¯ã€Œæ‰¾ã€çš„é—®é¢˜ã€‚ç›´æ¥å¥—æ¡†æ¶ï¼ŒåŠ ä¸Šã€Œæ”¹ã€çš„æ“ä½œå³å¯ã€‚</p><p><strong>ä¸€æ—¦æ¶‰åŠã€Œæ”¹ã€ï¼Œå°±ç±»ä¼¼äºŒå‰æ ‘çš„æ„é€ é—®é¢˜ï¼Œå‡½æ•°è¦è¿”å› <code>TreeNode</code> ç±»å‹ï¼Œå¹¶ä¸”è¦å¯¹é€’å½’è°ƒç”¨çš„è¿”å›å€¼è¿›è¡Œæ¥æ”¶</strong>ã€‚</p><p>åŠ›æ‰£ç¬¬ 701 é¢˜ã€Œ<a href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/">äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a>ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/insert-into-a-binary-search-tree/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;å’Œè¦æ’å…¥æ ‘ä¸­çš„å€¼&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">value</code>&nbsp;ï¼Œå°†å€¼æ’å…¥äºŒå‰æœç´¢æ ‘ã€‚ è¿”å›æ’å…¥åäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ è¾“å…¥æ•°æ®<span>&nbsp;</span><strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>ï¼Œæ–°å€¼å’ŒåŸå§‹äºŒå‰æœç´¢æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹å€¼éƒ½ä¸åŒã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„</strong>ï¼Œå¯èƒ½å­˜åœ¨å¤šç§æœ‰æ•ˆçš„æ’å…¥æ–¹å¼ï¼Œåªè¦æ ‘åœ¨æ’å…¥åä»ä¿æŒä¸ºäºŒå‰æœç´¢æ ‘å³å¯ã€‚ ä½ å¯ä»¥è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">ä»»æ„æœ‰æ•ˆçš„ç»“æœ</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/05/insertbst.jpg" style="max-width: 100%;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,2,7,1,3], val = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[4,2,7,1,3,5]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å¦ä¸€ä¸ªæ»¡è¶³é¢˜ç›®è¦æ±‚å¯ä»¥é€šè¿‡çš„æ ‘æ˜¯ï¼š<img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/05/bst.jpg" style="max-width: 100%;"></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [40,20,60,10,30,50,70], val = 25<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[40,20,60,10,30,50,70,null,null,25]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [4,2,7,1,3,null,null,null,null,null,null], val = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[4,2,7,1,3,5]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°å°†åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0,&nbsp;10<sup>4</sup>]</code>çš„èŒƒå›´å†…ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>8</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>8</sup></code></li><li>æ‰€æœ‰å€¼&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Node.val</code>&nbsp;æ˜¯&nbsp;<strong style="font-weight: 600;">ç‹¬ä¸€æ— äºŒ</strong>&nbsp;çš„ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>8</sup>&nbsp;&lt;= val &lt;= 10<sup>8</sup></code></li><li><strong style="font-weight: 600;">ä¿è¯</strong>&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code>&nbsp;åœ¨åŸå§‹BSTä¸­ä¸å­˜åœ¨ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a>ã€‚</strong></details><p>ç›´æ¥çœ‹è§£æ³•ä»£ç å§ï¼Œå¯ä»¥ç»“åˆæ³¨é‡Šå’Œå¯è§†åŒ–é¢æ¿çš„æ¥ç†è§£ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„ BST ä¸­æ’å…¥ val èŠ‚ç‚¹ï¼Œè¿”å›æ’å…¥åçš„æ ¹èŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">insertIntoBST</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> root<span class="token punctuation">:</span>            <span class="token comment"># æ‰¾åˆ°ç©ºä½ç½®æ’å…¥æ–°èŠ‚ç‚¹</span>            <span class="token keyword">return</span> TreeNode<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token comment"># å»å³å­æ ‘æ‰¾æ’å…¥ä½ç½®</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> val<span class="token punctuation">:</span>            root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>insertIntoBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span>        <span class="token comment"># å»å·¦å­æ ‘æ‰¾æ’å…¥ä½ç½®</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> val<span class="token punctuation">:</span>            root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>insertIntoBST<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span>        <span class="token comment"># è¿”å› rootï¼Œä¸Šå±‚é€’å½’ä¼šæ¥æ”¶è¿”å›å€¼ä½œä¸ºå­èŠ‚ç‚¹</span>        <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_insert-into-a-binary-search-tree" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_insert-into-a-binary-search-tree" src="https://labuladong.online/algo-visualize/leetcode/insert-into-a-binary-search-tree/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="ä¸‰ã€åœ¨-BST-ä¸­åˆ é™¤ä¸€ä¸ªæ•°"><a href="#ä¸‰ã€åœ¨-BST-ä¸­åˆ é™¤ä¸€ä¸ªæ•°" class="headerlink" title="ä¸‰ã€åœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªæ•°"></a><a href="https://labuladong.online/algo/data-structure/bst-part2/#%E4%B8%89%E3%80%81%E5%9C%A8-bst-%E4%B8%AD%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E6%95%B0">ä¸‰ã€åœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªæ•°</a></h2><p>åŠ›æ‰£ç¬¬ 450 é¢˜ã€Œ<a href="https://leetcode.cn/problems/delete-node-in-a-bst/">åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a>ã€å°±æ˜¯è®©ä½ åœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªå€¼ä¸º <code>key</code> çš„èŠ‚ç‚¹ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/delete-node-in-a-bst/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/delete-node-in-a-bst/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹<span>&nbsp;</span><strong style="font-weight: 600;">root<span>&nbsp;</span></strong>å’Œä¸€ä¸ªå€¼<span>&nbsp;</span><strong style="font-weight: 600;">key</strong>ï¼Œåˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„&nbsp;<strong style="font-weight: 600;">key&nbsp;</strong>å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶ä¿è¯äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ä¸å˜ã€‚è¿”å›äºŒå‰æœç´¢æ ‘ï¼ˆæœ‰å¯èƒ½è¢«æ›´æ–°ï¼‰çš„æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€èˆ¬æ¥è¯´ï¼Œåˆ é™¤èŠ‚ç‚¹å¯åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é¦–å…ˆæ‰¾åˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼›</li><li>å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ é™¤å®ƒã€‚</li></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2020/09/04/del_node_1.jpg" style="max-width: 100%; width: 800px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>root = [5,3,6,2,4,null,7], key = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,4,6,2,null,null,7]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç»™å®šéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹å€¼æ˜¯ 3ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ° 3 è¿™ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤å®ƒã€‚ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ [5,4,6,2,null,null,7], å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¦ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆæ˜¯ [5,2,6,null,4,null,7]ã€‚<img src="https://labuladong.online/algo/images/lc/uploads/2020/09/04/del_node_supp.jpg" style="max-width: 100%; width: 350px;"></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [5,3,6,2,4,null,7], key = 0<strong style="font-weight: 600;">è¾“å‡º:</strong> [5,3,6,2,4,null,7]<strong style="font-weight: 600;">è§£é‡Š:</strong> äºŒå‰æ ‘ä¸åŒ…å«å€¼ä¸º 0 çš„èŠ‚ç‚¹</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> root = [], key = 0<strong style="font-weight: 600;">è¾“å‡º:</strong> []</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>èŠ‚ç‚¹æ•°çš„èŒƒå›´&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[0, 10<sup>4</sup>]</code>.</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= Node.val &lt;= 10<sup>5</sup></code></li><li>èŠ‚ç‚¹å€¼å”¯ä¸€</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">root</code>&nbsp;æ˜¯åˆæ³•çš„äºŒå‰æœç´¢æ ‘</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup>&nbsp;&lt;= key &lt;= 10<sup>5</sup></code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong><span>&nbsp;</span>è¦æ±‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º&nbsp;O(h)ï¼Œh ä¸ºæ ‘çš„é«˜åº¦ã€‚</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/delete-node-in-a-bst/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a>ã€‚</strong></details><p>è¿™ä¸ªé—®é¢˜ç¨å¾®å¤æ‚ï¼Œè·Ÿæ’å…¥æ“ä½œç±»ä¼¼ï¼Œå…ˆã€Œæ‰¾ã€å†ã€Œæ”¹ã€ï¼Œå…ˆæŠŠæ¡†æ¶å†™å‡ºæ¥å†è¯´ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>    <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> key<span class="token punctuation">:</span>        <span class="token comment"># æ‰¾åˆ°å•¦ï¼Œè¿›è¡Œåˆ é™¤</span>    <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> key<span class="token punctuation">:</span>        <span class="token comment"># å»å·¦å­æ ‘æ‰¾</span>        root<span class="token punctuation">.</span>left <span class="token operator">=</span> deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span>    <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> key<span class="token punctuation">:</span>        <span class="token comment"># å»å³å­æ ‘æ‰¾</span>        root<span class="token punctuation">.</span>right <span class="token operator">=</span> deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span>    <span class="token keyword">return</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹äº†ï¼Œæ¯”æ–¹è¯´æ˜¯èŠ‚ç‚¹ <code>A</code>ï¼Œå¦‚ä½•åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ˜¯éš¾ç‚¹ã€‚å› ä¸ºåˆ é™¤èŠ‚ç‚¹çš„åŒæ—¶ä¸èƒ½ç ´å BST çš„æ€§è´¨ã€‚æœ‰ä¸‰ç§æƒ…å†µï¼Œç”¨å›¾ç‰‡æ¥è¯´æ˜ã€‚</p><p><strong>æƒ…å†µ 1</strong>ï¼š<code>A</code> æ°å¥½æ˜¯æœ«ç«¯èŠ‚ç‚¹ï¼Œä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½ä¸ºç©ºï¼Œé‚£ä¹ˆå®ƒå¯ä»¥ç›´æ¥è¢«åˆ é™¤ã€‚</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/bst_deletion_case_1.png" alt="img"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">==</span> null <span class="token operator">&amp;</span><span class="token operator">&amp;</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> null<span class="token punctuation">)</span>    <span class="token keyword">return</span> null<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>æƒ…å†µ 2</strong>ï¼š<code>A</code> åªæœ‰ä¸€ä¸ªéç©ºå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒè¦è®©è¿™ä¸ªå­©å­æ¥æ›¿è‡ªå·±çš„ä½ç½®ã€‚</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/bst_deletion_case_2.png" alt="img"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> æ’é™¤äº†æƒ…å†µ <span class="token number">1</span> ä¹‹å<span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">.</span>right<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>right <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">.</span>left<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>æƒ…å†µ 3</strong>ï¼š<code>A</code> æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œéº»çƒ¦äº†ï¼Œä¸ºäº†ä¸ç ´å BST çš„æ€§è´¨ï¼Œ<code>A</code> å¿…é¡»æ‰¾åˆ°å·¦å­æ ‘ä¸­æœ€å¤§çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…å³å­æ ‘ä¸­æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹æ¥æ¥æ›¿è‡ªå·±ã€‚æˆ‘ä»¬ä»¥ç¬¬äºŒç§æ–¹å¼è®²è§£ã€‚</p><p><img src="/2025/07/24/er-cha-shu-xin-fa-xu-lie-hua-pian/bst_deletion_case_3.png" alt="img"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">!=</span> null <span class="token operator">&amp;</span><span class="token operator">&amp;</span> root<span class="token punctuation">.</span>right <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token operator">//</span> æ‰¾åˆ°å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹    TreeNode minNode <span class="token operator">=</span> getMin<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">//</span> æŠŠ root æ”¹æˆ minNode    root<span class="token punctuation">.</span>val <span class="token operator">=</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">;</span>    <span class="token operator">//</span> è½¬è€Œå»åˆ é™¤ minNode    root<span class="token punctuation">.</span>right <span class="token operator">=</span> deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‰ç§æƒ…å†µåˆ†æå®Œæ¯•ï¼Œå¡«å…¥æ¡†æ¶ï¼Œç®€åŒ–ä¸€ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šåœ¨ä»¥ root ä¸ºæ ¹çš„ BST ä¸­åˆ é™¤å€¼ä¸º key çš„èŠ‚ç‚¹ï¼Œè¿”å›å®Œæˆåˆ é™¤åçš„æ ¹èŠ‚ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> root<span class="token punctuation">:</span> TreeNode<span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> root <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">None</span>        <span class="token keyword">if</span> root<span class="token punctuation">.</span>val <span class="token operator">==</span> key<span class="token punctuation">:</span>            <span class="token comment"># è¿™ä¸¤ä¸ª if æŠŠæƒ…å†µ 1 å’Œ 2 éƒ½æ­£ç¡®å¤„ç†äº†</span>            <span class="token keyword">if</span> root<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> root<span class="token punctuation">.</span>right            <span class="token keyword">if</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                <span class="token keyword">return</span> root<span class="token punctuation">.</span>left            <span class="token comment"># å¤„ç†æƒ…å†µ 3</span>            <span class="token comment"># è·å¾—å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹</span>            minNode <span class="token operator">=</span> self<span class="token punctuation">.</span>getMin<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span>            <span class="token comment"># åˆ é™¤å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹</span>            root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            <span class="token comment"># ç”¨å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹æ›¿æ¢ root èŠ‚ç‚¹</span>            minNode<span class="token punctuation">.</span>left <span class="token operator">=</span> root<span class="token punctuation">.</span>left            minNode<span class="token punctuation">.</span>right <span class="token operator">=</span> root<span class="token punctuation">.</span>right            root <span class="token operator">=</span> minNode        <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">></span> key<span class="token punctuation">:</span>            root<span class="token punctuation">.</span>left <span class="token operator">=</span> self<span class="token punctuation">.</span>deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span>        <span class="token keyword">elif</span> root<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> key<span class="token punctuation">:</span>            root<span class="token punctuation">.</span>right <span class="token operator">=</span> self<span class="token punctuation">.</span>deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span>        <span class="token keyword">return</span> root    <span class="token keyword">def</span> <span class="token function">getMin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> node<span class="token punctuation">:</span> TreeNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> TreeNode<span class="token punctuation">:</span>        <span class="token comment"># BST æœ€å·¦è¾¹çš„å°±æ˜¯æœ€å°çš„</span>        <span class="token keyword">while</span> node<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            node <span class="token operator">=</span> node<span class="token punctuation">.</span>left        <span class="token keyword">return</span> node<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_delete-node-in-a-bst" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 954px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_delete-node-in-a-bst" src="https://labuladong.online/algo-visualize/leetcode/delete-node-in-a-bst/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™æ ·ï¼Œåˆ é™¤æ“ä½œå°±å®Œæˆäº†ã€‚æ³¨æ„ä¸€ä¸‹ï¼Œä¸Šè¿°ä»£ç åœ¨å¤„ç†æƒ…å†µ 3 æ—¶é€šè¿‡ä¸€ç³»åˆ—ç•¥å¾®å¤æ‚çš„é“¾è¡¨æ“ä½œäº¤æ¢ <code>root</code> å’Œ <code>minNode</code> ä¸¤ä¸ªèŠ‚ç‚¹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> å¤„ç†æƒ…å†µ <span class="token number">3</span><span class="token operator">//</span> è·å¾—å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹TreeNode minNode <span class="token operator">=</span> getMin<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">//</span> åˆ é™¤å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹root<span class="token punctuation">.</span>right <span class="token operator">=</span> deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">//</span> ç”¨å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹æ›¿æ¢ root èŠ‚ç‚¹minNode<span class="token punctuation">.</span>left <span class="token operator">=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">;</span>minNode<span class="token punctuation">.</span>right <span class="token operator">=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">;</span>root <span class="token operator">=</span> minNode<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰çš„è¯»è€…å¯èƒ½ä¼šç–‘æƒ‘ï¼Œæ›¿æ¢ <code>root</code> èŠ‚ç‚¹ä¸ºä»€ä¹ˆè¿™ä¹ˆéº»çƒ¦ï¼Œç›´æ¥æ”¹ <code>val</code> å­—æ®µä¸å°±è¡Œäº†ï¼Ÿçœ‹èµ·æ¥è¿˜æ›´ç®€æ´æ˜“æ‡‚ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">//</span> å¤„ç†æƒ…å†µ <span class="token number">3</span><span class="token operator">//</span> è·å¾—å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹TreeNode minNode <span class="token operator">=</span> getMin<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">//</span> åˆ é™¤å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹root<span class="token punctuation">.</span>right <span class="token operator">=</span> deleteNode<span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">//</span> ç”¨å³å­æ ‘æœ€å°çš„èŠ‚ç‚¹æ›¿æ¢ root èŠ‚ç‚¹root<span class="token punctuation">.</span>val <span class="token operator">=</span> minNode<span class="token punctuation">.</span>val<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»…å¯¹äºè¿™é“ç®—æ³•é¢˜æ¥è¯´æ˜¯å¯ä»¥çš„ï¼Œä½†è¿™æ ·æ“ä½œå¹¶ä¸å®Œç¾ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šé€šè¿‡ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼æ¥äº¤æ¢èŠ‚ç‚¹ã€‚å› ä¸ºåœ¨å®é™…åº”ç”¨ä¸­ï¼ŒBST èŠ‚ç‚¹å†…éƒ¨çš„æ•°æ®åŸŸæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œå¯ä»¥éå¸¸å¤æ‚ï¼Œè€Œ BST ä½œä¸ºæ•°æ®ç»“æ„ï¼ˆä¸€ä¸ªå·¥å…·äººï¼‰ï¼Œå…¶æ“ä½œåº”è¯¥å’Œå†…éƒ¨å­˜å‚¨çš„æ•°æ®åŸŸè§£è€¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨æŒ‡é’ˆæ“ä½œæ¥äº¤æ¢èŠ‚ç‚¹ï¼Œæ ¹æœ¬æ²¡å¿…è¦å…³å¿ƒå†…éƒ¨æ•°æ®ã€‚</p><p>æœ€åç®€å•æ€»ç»“ä¸€ä¸‹å§ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ€»ç»“å‡ºäº†å¦‚ä¸‹å‡ ä¸ªæŠ€å·§ï¼š</p><p>1ã€å¦‚æœå½“å‰èŠ‚ç‚¹ä¼šå¯¹ä¸‹é¢çš„å­èŠ‚ç‚¹æœ‰æ•´ä½“å½±å“ï¼Œå¯ä»¥é€šè¿‡è¾…åŠ©å‡½æ•°å¢é•¿å‚æ•°åˆ—è¡¨ï¼Œå€ŸåŠ©å‚æ•°ä¼ é€’ä¿¡æ¯ã€‚</p><p>2ã€æŒæ¡ BST çš„å¢åˆ æŸ¥æ”¹æ–¹æ³•ã€‚</p><p>3ã€é€’å½’ä¿®æ”¹æ•°æ®ç»“æ„æ—¶ï¼Œéœ€è¦å¯¹é€’å½’è°ƒç”¨çš„è¿”å›å€¼è¿›è¡Œæ¥æ”¶ï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„èŠ‚ç‚¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äºŒå‰æ ‘ç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/06/28/pip-pei-zhi/"/>
      <url>/2025/06/28/pip-pei-zhi/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœæƒ³æ°¸ä¹…ä½¿ç”¨æ¸…åé•œåƒï¼Œå¯ä»¥ä¿®æ”¹ pip é…ç½®æ–‡ä»¶ï¼š</p><p><code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</title>
      <link href="/2025/06/14/lian-xi-dan-diao-dui-lie-de-tong-yong-shi-xian-ji-jing-dian-xi-ti/"/>
      <url>/2025/06/14/lian-xi-dan-diao-dui-lie-de-tong-yong-shi-xian-ji-jing-dian-xi-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜"><a href="#ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜" class="headerlink" title="ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜"></a>ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</h1><h2 id="é€šç”¨å®ç°"><a href="#é€šç”¨å®ç°" class="headerlink" title="é€šç”¨å®ç°"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E9%80%9A%E7%94%A8%E5%AE%9E%E7%8E%B0">é€šç”¨å®ç°</a></h2><p>æˆ‘å…ˆæä¾›ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—ç»“æ„çš„é€šç”¨å®ç°ï¼Œè¿™é‡Œæ¶‰åŠ Java çš„æ³›å‹ï¼Œ<code>E</code> å°±ä»£è¡¨ä»»æ„ç±»å‹ï¼Œ<code>E extends Comparable&lt;E&gt;</code> çš„æ„æ€æ˜¯è¿™ä¸ªç±»å‹ <code>E</code> éœ€è¦å®ç° <code>Comparable</code> æ¥å£ï¼Œå³ç±»å‹ <code>E</code> æ˜¯å¯æ¯”è¾ƒçš„ï¼Œæ¯”å¦‚ <code>Integer, String</code> è¿™ç§å®ç°äº† <code>compareTo</code> æ–¹æ³•çš„ç±»å‹ã€‚åŸå› ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºä½ è¦æ±‚é˜Ÿåˆ—ä¸­å…ƒç´ çš„æœ€å€¼å˜›ï¼Œæ‰€ä»¥å…ƒç´ å½“ç„¶å¾—æ˜¯æœ‰å¤§å°ä¹‹åˆ†ï¼ˆå¯æ¯”è¾ƒï¼‰çš„ã€‚</p><p>æˆ‘ä»¬åŸå…ˆçš„ç®€é™‹å®ç°åŒ…å«äº† <code>max</code> æ–¹æ³•çš„å®ç°ï¼Œå…¶åŸç†æ˜¯åœ¨åº•å±‚ç»´æŠ¤äº†ä¸€ä¸ªé˜Ÿåˆ— <code>maxq</code>ï¼Œç»´æŠ¤è¿™ä¸ªé˜Ÿåˆ—ä¸­ä»å°¾éƒ¨åˆ°å¤´éƒ¨çš„å…ƒç´ å•è°ƒé€’å¢ã€‚</p><p>é‚£ä¹ˆå®ç° <code>min</code> æ–¹æ³•ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œå¯ä»¥<strong>åœ¨åº•å±‚å†ç»´æŠ¤ä¸€ä¸ª <code>minq</code> é˜Ÿåˆ—</strong>ï¼Œç»´æŠ¤é˜Ÿåˆ—ä¸­å…ƒç´ ä»å°¾éƒ¨åˆ°å¤´éƒ¨çš„å…ƒç´ å•è°ƒé€’å‡ï¼Œè¿™æ ·å¤´éƒ¨ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æ‰€æœ‰å…ƒç´ ä¸­çš„æœ€å°å€¼äº†ã€‚</p><p>å½“ç„¶ï¼Œç”±äº <code>push</code> æ–¹æ³•åœ¨æ·»åŠ å…ƒç´ çš„åŒæ—¶è¿˜å¯èƒ½ä¼šåˆ é™¤å…ƒç´ ï¼Œæ‰€ä»¥ <code>maxq</code> å’Œ <code>minq</code> ä¸­éƒ½æ²¡æœ‰ä¿å­˜æ‰€æœ‰å…ƒç´ ã€‚å¦‚æœæƒ³å®ç°æ ‡å‡†çš„ <code>pop</code> æ–¹æ³•ä»¥åŠ <code>size</code> æ–¹æ³•ï¼Œ<strong>æˆ‘ä»¬è¿˜å¾—å†é¢å¤–ç»´æŠ¤ä¸€ä¸ªæ ‡å‡†é˜Ÿåˆ— <code>q</code></strong>ï¼Œè¿™ä¸ª <code>q</code> å­˜å‚¨æ‰€æœ‰å­˜åœ¨äºé˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œä¸ç»´æŠ¤å•è°ƒæ€§ã€‚</p><p>ç»¼ä¸Šï¼Œå¯ä»¥å¾—åˆ° <code>MonotonicQueue</code> çš„é€šç”¨å®ç°ï¼Œå…·ä½“é€»è¾‘çœ‹æ³¨é‡Šï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">from</span> typing <span class="token keyword">import</span> TypeVar<span class="token punctuation">,</span> GenericE <span class="token operator">=</span> TypeVar<span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„å®ç°ï¼Œå¯ä»¥é«˜æ•ˆç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">(</span>Generic<span class="token punctuation">[</span>E<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">:</span> E<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> E<span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> E<span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> E<span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">assert</span> deleteVal <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> deleteVal    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé€šç”¨å®ç°å†…éƒ¨ç»´æŠ¤äº†ä¸‰ä¸ªé˜Ÿåˆ—ï¼Œä¸”æ¶‰åŠåˆ° Java çš„æ³›å‹ï¼Œæ‰€ä»¥åœ¨åˆ·é¢˜å¹³å°ä¸Šæ‰§è¡Œçš„æ•ˆç‡ä¸ä¼šé«˜ï¼Œå¦‚æœä½ è¿½æ±‚æ•ˆç‡çš„è¯ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„é¢˜ç›®ç®€åŒ–å•è°ƒé˜Ÿåˆ—çš„å®ç°ï¼Œä»è€Œæå‡æ•ˆç‡ã€‚ä¸‹é¢çœ‹å‡ é“å•è°ƒé˜Ÿåˆ—çš„ç»å…¸åº”ç”¨ã€‚</p><h2 id="å•è°ƒé˜Ÿåˆ—-æ»‘åŠ¨çª—å£"><a href="#å•è°ƒé˜Ÿåˆ—-æ»‘åŠ¨çª—å£" class="headerlink" title="å•è°ƒé˜Ÿåˆ— + æ»‘åŠ¨çª—å£"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3">å•è°ƒé˜Ÿåˆ— + æ»‘åŠ¨çª—å£</a></h2><p>å•è°ƒé˜Ÿåˆ—å¯ä»¥å’Œ <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£</a> ç®—æ³•ç»“åˆï¼Œåœ¨çª—å£æ»‘åŠ¨çš„è¿‡ç¨‹ä¸­å¿«é€Ÿè®¡ç®—çª—å£å†…éƒ¨çš„æœ€å€¼ã€‚</p><hr><h2 id="1438-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"><a href="#1438-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" class="headerlink" title="1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#slug_longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit">1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">limit</code>ï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">limit</code><em><span>&nbsp;</span>ã€‚</em></p><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [8,2,4,7], limit = 4<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2 <strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ‰€æœ‰å­æ•°ç»„å¦‚ä¸‹ï¼š[8] æœ€å¤§ç»å¯¹å·® |8-8| = 0 &lt;= 4.[8,2] æœ€å¤§ç»å¯¹å·® |8-2| = 6 &gt; 4. [8,2,4] æœ€å¤§ç»å¯¹å·® |8-2| = 6 &gt; 4.[8,2,4,7] æœ€å¤§ç»å¯¹å·® |8-2| = 6 &gt; 4.[2] æœ€å¤§ç»å¯¹å·® |2-2| = 0 &lt;= 4.[2,4] æœ€å¤§ç»å¯¹å·® |2-4| = 2 &lt;= 4.[2,4,7] æœ€å¤§ç»å¯¹å·® |2-7| = 5 &gt; 4.[4] æœ€å¤§ç»å¯¹å·® |4-4| = 0 &lt;= 4.[4,7] æœ€å¤§ç»å¯¹å·® |4-7| = 3 &lt;= 4.[7] æœ€å¤§ç»å¯¹å·® |7-7| = 0 &lt;= 4. å› æ­¤ï¼Œæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ä¸º 2 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [10,1,2,4,7,2], limit = 5<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4 <strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„æ˜¯ [2,4,7,2]ï¼Œå…¶æœ€å¤§ç»å¯¹å·® |2-7| = 5 &lt;= 5 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [4,2,2,2,4,4,2,2], limit = 0<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10^5</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums[i] &lt;= 10^9</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= limit &lt;= 10^9</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>å¾ˆæ˜æ˜¾è¿™é“é¢˜éœ€è¦ç”¨åˆ°å‰æ–‡è®²çš„ <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£æŠ€å·§æ ¸å¿ƒæ¡†æ¶è¯¦è§£</a>ï¼š</p><p>å½“çª—å£å†…ç»å¯¹å€¼ä¹‹å·®ä¸è¶…è¿‡ <code>limit</code> æ—¶æ‰©å¤§çª—å£ï¼Œå½“æ–°åŠ å…¥çª—å£çš„å…ƒç´ ä½¿å¾—ç»å¯¹å€¼ä¹‹å·®è¶…è¿‡ <code>limit</code> æ—¶å¼€å§‹æ”¶ç¼©çª—å£ï¼Œçª—å£çš„æœ€å¤§å®½åº¦å³æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ã€‚</p><p>ä½†æœ‰ä¸ªé—®é¢˜ï¼Œå½“çª—å£è¿›æ–°å…ƒç´ æ—¶ï¼Œæˆ‘å¯ä»¥æ›´æ–°çª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œä½†å½“çª—å£æ”¶ç¼©æ—¶ï¼Œå¦‚ä½•æ›´æ–°æœ€å¤§å€¼å’Œæœ€å°å€¼å‘¢ï¼Ÿéš¾é“è¦éå†ä¸€éçª—å£ä¸­çš„æ‰€æœ‰å…ƒç´ å—ï¼Ÿè¿™å°±ç”¨åˆ°å•è°ƒé˜Ÿåˆ—ç»“æ„äº†ï¼Œè¿™é‡Œéœ€è¦ä¸€ä¸ªé€šç”¨çš„ <code>MonotonicQueue</code> ç±»ï¼Œç”¨æ¥é«˜æ•ˆåˆ¤æ–­çª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p><blockquote><p>PSï¼š<code>MonotonicQueue</code> çš„é€šç”¨å®ç°è§ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—è®¾è®¡ä¸å®ç°</a></p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-queue/">ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç "><a href="#è§£æ³•ä»£ç " class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        left <span class="token operator">=</span> <span class="token number">0</span>        right <span class="token operator">=</span> <span class="token number">0</span>        windowSize <span class="token operator">=</span> <span class="token number">0</span>        res <span class="token operator">=</span> <span class="token number">0</span>        window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># æ»‘åŠ¨çª—å£æ¨¡æ¿</span>        <span class="token keyword">while</span> right <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># æ‰©å¤§çª—å£ï¼Œæ›´æ–°çª—å£æœ€å€¼</span>            window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span>            right <span class="token operator">+=</span> <span class="token number">1</span>            windowSize <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">while</span> window<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> window<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> limit<span class="token punctuation">:</span>                <span class="token comment"># ç¼©å°çª—å£ï¼Œæ›´æ–°çª—å£æœ€å€¼</span>                window<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                left <span class="token operator">+=</span> <span class="token number">1</span>                windowSize <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token comment"># åœ¨çª—å£æ”¶ç¼©åˆ¤æ–­å®Œä¹‹åæ‰æ›´æ–°ç­”æ¡ˆ</span>            res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> windowSize<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token comment"># ä¸‹é¢ç»™å‡ºçš„æ˜¯å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œè¿è¡Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ï¼Œä½ å¯ä»¥è‡ªè¡Œç®€åŒ–æå‡é€Ÿåº¦</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„è¯¦ç»†è§£æè§</span><span class="token comment"># https://labuladong.online/algo/problem-set/monotonic-queue/</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> deleteVal    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit" src="https://labuladong.online/algo-visualize/leetcode/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="862-å’Œè‡³å°‘ä¸º-K-çš„æœ€çŸ­å­æ•°ç»„"><a href="#862-å’Œè‡³å°‘ä¸º-K-çš„æœ€çŸ­å­æ•°ç»„" class="headerlink" title="862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#slug_shortest-subarray-with-sum-at-least-k">862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>ï¼Œæ‰¾å‡º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ä¸­å’Œè‡³å°‘ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€çŸ­éç©ºå­æ•°ç»„</strong><span>&nbsp;</span>ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„<span>&nbsp;</span><strong style="font-weight: 600;">å­æ•°ç»„</strong><span>&nbsp;</span>ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å­æ•°ç»„</strong><span>&nbsp;</span>æ˜¯æ•°ç»„ä¸­<span>&nbsp;</span><strong style="font-weight: 600;">è¿ç»­</strong><span>&nbsp;</span>çš„ä¸€éƒ¨åˆ†ã€‚</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1], k = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,2], k = 4<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>-1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [2,-1,2], k = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= 10<sup>9</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜çš„éš¾åº¦æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œéš¾ç‚¹åœ¨äºåŒæ—¶ç»“åˆäº† <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£ç®—æ³•</a>ã€<a href="https://labuladong.online/algo/data-structure/prefix-sum/">å‰ç¼€å’ŒæŠ€å·§</a> å’Œ <a href="https://labuladong.online/algo/data-structure/monotonic-queue/">å•è°ƒé˜Ÿåˆ—</a> å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼Œå»ºè®®ä½ å…ˆç†è§£è¿™ä¸‰ç¯‡æ–‡ç« çš„è¦ä¹‰ï¼Œå¦åˆ™çœ‹ä¸æ‡‚è¿™é¢˜çš„è§£æ³•ã€‚</p><p>é¦–å…ˆï¼Œæƒ³è¦å¿«é€Ÿè®°å½•å­æ•°ç»„çš„å’Œï¼Œéœ€è¦ <a href="https://labuladong.online/algo/data-structure/prefix-sum/">å‰ç¼€å’ŒæŠ€å·§</a> é¢„è®¡ç®—ä¸€ä¸ª <code>preSum</code> æ•°ç»„ï¼Œç„¶ååœ¨è¿™ä¸ª <code>preSum</code> æ•°ç»„ä¸Šæ–½å±• <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£ç®—æ³•</a> å¯»æ‰¾ä¸€ä¸ªå·®å€¼å¤§äºç­‰äº <code>k</code> ä¸”å®½åº¦æœ€å°çš„ã€Œçª—å£ã€ï¼Œè¿™ä¸ªçª—å£çš„å¤§å°å°±æ˜¯é¢˜ç›®æƒ³è¦çš„ç»“æœã€‚</p><p>è¿™é‡Œé¢è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œå½“æ»‘åŠ¨çª—å£æ‰©å¤§æ—¶ï¼Œæ–°è¿›å…¥çª—å£çš„å…ƒç´  <code>preSum[right]</code> éœ€è¦çŸ¥é“çª—å£ä¸­æœ€å°çš„é‚£ä¸ªå…ƒç´ æ˜¯å¤šå°‘ï¼Œå’Œæœ€å°çš„é‚£ä¸ªå…ƒç´ ç›¸å‡æ‰èƒ½å¾—åˆ°å°½å¯èƒ½å¤§çš„å­æ•°ç»„å’Œã€‚</p><p>å¦‚ä½•å¿«é€Ÿåˆ¤æ–­çª—å£ä¸­çš„æœ€å€¼ï¼Ÿè¿™å°±éœ€è¦å•è°ƒé˜Ÿåˆ—ç»“æ„å‡ºé©¬äº†ï¼Œç›´æ¥çœ‹è§£æ³•ä»£ç å§ã€‚</p><blockquote><p>PSï¼š<code>MonotonicQueue</code> çš„é€šç”¨å®ç°è§ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—è®¾è®¡ä¸å®ç°</a></p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-queue/">ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -1"><a href="#è§£æ³•ä»£ç -1" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">shortestSubarray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># çœ‹é¢˜ç›®çš„æ•°æ®èŒƒå›´ï¼Œå‰ç¼€å’Œæ•°ç»„ä¸­å…ƒç´ å¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ç”¨ long ç±»å‹</span>        preSum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        preSum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®¡ç®— nums çš„å‰ç¼€å’Œæ•°ç»„</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> preSum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>        <span class="token comment"># å•è°ƒé˜Ÿåˆ—ç»“æ„è¾…åŠ©æ»‘åŠ¨çª—å£ç®—æ³•</span>        window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>        right <span class="token operator">=</span> <span class="token number">0</span>        left <span class="token operator">=</span> <span class="token number">0</span>        length <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>        <span class="token comment"># å¼€å§‹æ‰§è¡Œæ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶</span>        <span class="token keyword">while</span> right <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># æ‰©å¤§çª—å£ï¼Œå…ƒç´ å…¥é˜Ÿ</span>            window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>preSum<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span>            right <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># è‹¥æ–°è¿›å…¥çª—å£çš„å…ƒç´ å’Œçª—å£ä¸­çš„æœ€å°å€¼ä¹‹å·®å¤§äºç­‰äº kï¼Œ</span>            <span class="token comment"># è¯´æ˜å¾—åˆ°äº†ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œç¼©å°çª—å£ï¼Œä½¿å­æ•°ç»„é•¿åº¦å°½å¯èƒ½å°</span>            <span class="token keyword">while</span> right <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> window<span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> preSum<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">-</span> window<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> k<span class="token punctuation">:</span>                <span class="token comment"># æ›´æ–°ç­”æ¡ˆ</span>                length <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> right <span class="token operator">-</span> left<span class="token punctuation">)</span>                <span class="token comment"># ç¼©å°çª—å£</span>                window<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                left <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> length <span class="token operator">==</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> length<span class="token comment"># ä¸‹é¢ç»™å‡ºçš„æ˜¯å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œè¿è¡Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ï¼Œä½ å¯ä»¥è‡ªè¡Œç®€åŒ–æå‡é€Ÿåº¦</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„è¯¦ç»†è§£æè§</span><span class="token comment"># https://labuladong.online/algo/problem-set/monotonic-queue/</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> deleteVal    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/minimum-size-subarray-sum">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/2VG8Kg">å‰‘æŒ‡ Offer II 008. å’Œå¤§äºç­‰äº target çš„æœ€çŸ­å­æ•°ç»„ ğŸŸ </a></li></ul><hr><h2 id="å•è°ƒé˜Ÿåˆ—-ç¯å½¢æ•°ç»„"><a href="#å•è°ƒé˜Ÿåˆ—-ç¯å½¢æ•°ç»„" class="headerlink" title="å•è°ƒé˜Ÿåˆ— + ç¯å½¢æ•°ç»„"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97-%E7%8E%AF%E5%BD%A2%E6%95%B0%E7%BB%84">å•è°ƒé˜Ÿåˆ— + ç¯å½¢æ•°ç»„</a></h2><p>å•è°ƒé˜Ÿåˆ—è¿˜å¯ä»¥åœ¨ç¯å½¢æ•°ç»„çš„åœºæ™¯ä¸‹æ’ä¸Šç”¨åœºã€‚ä¹‹å‰ <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆåŸç†</a> ä¸­è®²äº†åªè¦æŠŠæ•°ç»„çš„é•¿åº¦ <code>n</code> åŠ å€å°±å¯ä»¥æ¨¡æ‹Ÿç¯å½¢æ•°ç»„ï¼Œä½†å¦‚æœè®©ä½ åœ¨ç¯å½¢æ•°ç»„ä¸­è®¡ç®—å­æ•°ç»„çš„å…ƒç´ å’Œå°±éœ€è¦å•è°ƒé˜Ÿåˆ—è¾…åŠ©äº†ï¼Œå› ä¸ºä½ è¦ä¿è¯å­æ•°ç»„çš„é•¿åº¦ä¸èƒ½è¶…è¿‡ <code>n</code>ã€‚</p><hr><h2 id="918-ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ"><a href="#918-ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ" class="headerlink" title="918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#slug_maximum-sum-circular-subarray">918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-sum-circular-subarray/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-sum-circular-subarray/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>çš„<strong style="font-weight: 600;">ç¯å½¢æ•´æ•°æ•°ç»„</strong>&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code>&nbsp;ï¼Œè¿”å›<em>&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code>&nbsp;çš„éç©º<span>&nbsp;</span><strong style="font-weight: 600;">å­æ•°ç»„</strong><span>&nbsp;</span>çš„æœ€å¤§å¯èƒ½å’Œ&nbsp;</em>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¯å½¢æ•°ç»„</strong><em>&nbsp;</em>æ„å‘³ç€æ•°ç»„çš„æœ«ç«¯å°†ä¼šä¸å¼€å¤´ç›¸è¿å‘ˆç¯çŠ¶ã€‚å½¢å¼ä¸Šï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i]</code><span>&nbsp;</span>çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[(i + 1) % n]</code><span>&nbsp;</span>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i]</code>&nbsp;çš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[(i - 1 + n) % n]</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å­æ•°ç»„</strong><span>&nbsp;</span>æœ€å¤šåªèƒ½åŒ…å«å›ºå®šç¼“å†²åŒº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code>&nbsp;ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ã€‚å½¢å¼ä¸Šï¼Œå¯¹äºå­æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i], nums[i + 1], ..., nums[j]</code>&nbsp;ï¼Œä¸å­˜åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i &lt;= k1, k2 &lt;= j</code>&nbsp;å…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k1 % n == k2 % n</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,-2,3,-2]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»å­æ•°ç»„ [3] å¾—åˆ°æœ€å¤§å’Œ 3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [5,-3,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>10<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»å­æ•°ç»„ [5,5] å¾—åˆ°æœ€å¤§å’Œ 5 + 5 = 10</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [3,-2,2,-3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»å­æ•°ç»„ [3] å’Œ [3,-2,2] éƒ½å¯ä»¥å¾—åˆ°æœ€å¤§å’Œ 3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == nums.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 3 * 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-3 * 10<sup>4</sup>&nbsp;&lt;= nums[i] &lt;= 3 * 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-sum-circular-subarray/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-2"><a href="#åŸºæœ¬æ€è·¯-2" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¯šç„¶ï¼Œè¿™é“é¢˜æœ‰å¾ˆå·§å¦™çš„æ–¹æ³•ï¼Œä½ å¯ä»¥æœç´¢ä¸€ä¸‹ã€ŒKadane ç®—æ³•ã€æ¥è§£å†³è¿™é“é¢˜ã€‚ä¸è¿‡ä¸ºäº†ä¸¾ä¸€åä¸‰åœ°è¿ç”¨æˆ‘ä¹‹å‰è®²è¿‡çš„ç®—æ³•æŠ€å·§ï¼Œæˆ‘å°±ç»“åˆ <a href="https://labuladong.online/algo/data-structure/monotonic-queue/">å•è°ƒé˜Ÿåˆ—ç»“æ„</a> å’Œå‰æ–‡ <a href="https://labuladong.online/algo/data-structure/prefix-sum/">å‰ç¼€å’ŒæŠ€å·§</a> å†™ä¸€ä¸ªæ›´é€šç”¨çš„è§£æ³•ã€‚</p><p>é¦–å…ˆï¼Œè¿™é“é¢˜å’Œ <a href="https://leetcode.cn/problems/maximum-subarray">53. æœ€å¤§å­åºå’Œ</a> éå¸¸ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæœ¬é¢˜çš„æ•°ç»„æ˜¯ç¯å½¢çš„ï¼Œæ‰€ä»¥ä¸Šä¸€é¢˜çš„åŠ¨æ€è§„åˆ’æ€è·¯å’Œå‰ç¼€å’Œæ€è·¯éƒ½ä¸èƒ½ç›´æ¥å¥—ç”¨è¿‡æ¥ã€‚ä¸è¿‡å‰æ–‡ <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆç»“æ„è¯¦è§£</a> ä¸­è®²è¿‡å¤„ç†ç¯å½¢æ•°ç»„çš„æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯æŠŠåŸæ•°ç»„å¤§å°æ‰©å¤§ä¸€å€ï¼Œè¿™æ ·å°±èƒ½æ¨¡æ‹Ÿå‡ºç¯å½¢çš„æ•ˆæœäº†ã€‚</p><p>é‚£ä¹ˆæœ¬é¢˜ä¹Ÿå¯ä»¥æŠŠ <code>nums</code> æ•°ç»„æ‰©å¤§ä¸€å€ï¼Œè®¡ç®—å‰ç¼€å’Œæ•°ç»„ <code>preSum</code>ï¼Œå€ŸåŠ©ä¸€ä¸ªå®šé•¿ä¸º <code>nums.length</code> çš„å•è°ƒé˜Ÿåˆ—æ¥è®¡ç®—ç¯å½¢æ•°ç»„ä¸­çš„æœ€å¤§å­æ•°ç»„å’Œã€‚å…·ä½“å®ç°ç›´æ¥çœ‹ä»£ç å§ã€‚</p><blockquote><p>PSï¼š<code>MonotonicQueue</code> çš„é€šç”¨å®ç°è§ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—è®¾è®¡ä¸å®ç°</a></p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-queue/">ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -2"><a href="#è§£æ³•ä»£ç -2" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxSubarraySumCircular</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># æ¨¡æ‹Ÿç¯çŠ¶çš„ nums æ•°ç»„</span>        preSum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        preSum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®¡ç®—ç¯çŠ¶ nums çš„å‰ç¼€å’Œ</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> preSum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> n<span class="token punctuation">]</span>        <span class="token comment"># è®°å½•ç­”æ¡ˆ</span>        maxSum <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œä»¥ä¾¿æ ¹æ®çª—å£ä¸­çš„æœ€å°å€¼è®¡ç®—æœ€å¤§å­æ•°ç»„å’Œ</span>        window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>        window<span class="token punctuation">.</span>push<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>preSum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            maxSum <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxSum<span class="token punctuation">,</span> preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> window<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># ç»´æŠ¤çª—å£çš„å¤§å°ä¸º nums æ•°ç»„çš„å¤§å°</span>            <span class="token keyword">if</span> window<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> n<span class="token punctuation">:</span>                window<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>preSum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> maxSum<span class="token comment"># ä¸‹é¢ç»™å‡ºçš„æ˜¯å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œè¿è¡Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ï¼Œä½ å¯ä»¥è‡ªè¡Œç®€åŒ–æå‡é€Ÿåº¦</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„è¯¦ç»†è§£æè§</span><span class="token comment"># https://labuladong.online/algo/problem-set/monotonic-queue/</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> deleteVal    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-1"><a href="#å¯è§†åŒ–-1" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_maximum-sum-circular-subarray" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_maximum-sum-circular-subarray" src="https://labuladong.online/algo-visualize/leetcode/maximum-sum-circular-subarray/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><hr><h2 id="å•è°ƒé˜Ÿåˆ—-åŠ¨æ€è§„åˆ’ï¼ˆé€‰å­¦ï¼‰"><a href="#å•è°ƒé˜Ÿåˆ—-åŠ¨æ€è§„åˆ’ï¼ˆé€‰å­¦ï¼‰" class="headerlink" title="å•è°ƒé˜Ÿåˆ— + åŠ¨æ€è§„åˆ’ï¼ˆé€‰å­¦ï¼‰"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E9%80%89%E5%AD%A6">å•è°ƒé˜Ÿåˆ— + åŠ¨æ€è§„åˆ’ï¼ˆé€‰å­¦ï¼‰</a></h2><p>åŠ¨æ€è§„åˆ’å¾ˆå¤šæ—¶å€™ä¼šç”¨åˆ°åµŒå¥— for å¾ªç¯è®¡ç®—æœ€å€¼ï¼Œå¦‚æœæ˜¯è®¡ç®—ä¸€ä¸ªçª—å£ä¸­çš„æœ€å€¼ï¼Œå¯ä»¥åˆ©ç”¨å•è°ƒé˜Ÿåˆ—ç»“æ„ç»´æŠ¤æœ€å€¼ï¼Œä»è€Œæ¶ˆé™¤ä¸€å±‚ for å¾ªç¯ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ã€‚</p><hr><h2 id="1696-è·³è·ƒæ¸¸æˆ-VI"><a href="#1696-è·³è·ƒæ¸¸æˆ-VI" class="headerlink" title="1696. è·³è·ƒæ¸¸æˆ VI"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#slug_jump-game-vi">1696. è·³è·ƒæ¸¸æˆ VI</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1696. è·³è·ƒæ¸¸æˆ VI</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/jump-game-vi/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/jump-game-vi/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">0</strong><span>&nbsp;</span>å¼€å§‹çš„æ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€å¼€å§‹ä½ åœ¨ä¸‹æ ‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>å¤„ã€‚æ¯ä¸€æ­¥ï¼Œä½ æœ€å¤šå¯ä»¥å¾€å‰è·³<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>æ­¥ï¼Œä½†ä½ ä¸èƒ½è·³å‡ºæ•°ç»„çš„è¾¹ç•Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥ä»ä¸‹æ ‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>è·³åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[i + 1ï¼Œ min(n - 1, i + k)]</code><span>&nbsp;</span><strong style="font-weight: 600;">åŒ…å«</strong><span>&nbsp;</span>ä¸¤ä¸ªç«¯ç‚¹çš„ä»»æ„ä½ç½®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ çš„ç›®æ ‡æ˜¯åˆ°è¾¾æ•°ç»„æœ€åä¸€ä¸ªä½ç½®ï¼ˆä¸‹æ ‡ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n - 1</code><span>&nbsp;</span>ï¼‰ï¼Œä½ çš„<span>&nbsp;</span><strong style="font-weight: 600;">å¾—åˆ†</strong><span>&nbsp;</span>ä¸ºç»è¿‡çš„æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä½ èƒ½å¾—åˆ°çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å¤§å¾—åˆ†</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>nums = [<strong style="font-weight: 600;">1</strong>,<strong style="font-weight: 600;">-1</strong>,-2,<strong style="font-weight: 600;">4</strong>,-7,<strong style="font-weight: 600;">3</strong>], k = 2<b>è¾“å‡ºï¼š</b>7<b>è§£é‡Šï¼š</b>ä½ å¯ä»¥é€‰æ‹©å­åºåˆ— [1,-1,4,3] ï¼ˆä¸Šé¢åŠ ç²—çš„æ•°å­—ï¼‰ï¼Œå’Œä¸º 7 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [<strong style="font-weight: 600;">10</strong>,-5,-2,<strong style="font-weight: 600;">4</strong>,0,<strong style="font-weight: 600;">3</strong>], k = 3<b>è¾“å‡ºï¼š</b>17<b>è§£é‡Šï¼š</b>ä½ å¯ä»¥é€‰æ‹©å­åºåˆ— [10,4,3] ï¼ˆä¸Šé¢åŠ ç²—æ•°å­—ï¼‰ï¼Œå’Œä¸º 17 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>nums = [1,-5,-20,4,-1,3,-6,-3], k = 2<b>è¾“å‡ºï¼š</b>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length, k &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>4</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/jump-game-vi/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1696. è·³è·ƒæ¸¸æˆ VI</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-3"><a href="#åŸºæœ¬æ€è·¯-3" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜å’Œ <a href="https://leetcode.cn/problems/constrained-subsequence-sum">1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ</a> éå¸¸åƒï¼š</p><p>1425 é¢˜æ˜¯è®©ä½ æ±‚æœ€å¤§å­åºåˆ—å’Œï¼Œå­åºåˆ—ä¸­æ¯ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„é—´éš”ä¸èƒ½è¶…è¿‡ <code>k</code>ï¼›è¿™é“é¢˜å…¶å®ä¹Ÿæ˜¯è®©ä½ æ±‚å…ƒç´ é—´éš”ä¸è¶…è¿‡ <code>k</code> çš„æœ€å¤§å­åºåˆ—å’Œï¼Œåªä¸è¿‡åˆå¤šäº†äº›é™åˆ¶ï¼Œå³å­åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ <code>nums[0]</code>ï¼Œæœ€åä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ <code>nums[-1]</code>ã€‚</p><p>ä½ å¯ä»¥æƒ³åŠæ³•å¤ç”¨ç¬¬ 1425 é¢˜çš„è§£æ³•ï¼Œä¸è¿‡æˆ‘è¿™é‡ŒæŒ‰ç…§æ ‡å‡†çš„ <a href="https://labuladong.online/algo/essential-technique/dynamic-programming-framework/">åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</a> æ¥é€æ­¥ä¼˜åŒ–ï¼Œæœ€åé€šè¿‡ <a href="https://labuladong.online/algo/data-structure/monotonic-queue/">å•è°ƒé˜Ÿåˆ—ç»“æ„</a> ä¸­ç»™å‡ºçš„å•è°ƒé˜Ÿåˆ—é€šç”¨å®ç°æ¥ä¼˜åŒ–åŠ¨æ€è§„åˆ’è§£æ³•çš„æ•ˆç‡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬é¢˜ä½¿ç”¨æ ‡å‡†çš„åŠ¨æ€è§„åˆ’è§£æ³•ä¹Ÿä¼šè¶…æ—¶ï¼Œè¿™å¹¶ä¸æ˜¯åŠ¨æ€è§„åˆ’çš„é”…ï¼Œè€Œæ˜¯æœ¬é¢˜ç»™çš„æ•°æ®è§„æ¨¡å¤ªå¤§ï¼Œéœ€è¦æ›´å…ˆè¿›çš„æ•°æ®ç»“æ„ï¼ˆå•è°ƒé˜Ÿåˆ—ï¼‰æ¥ä¼˜åŒ–çŠ¶æ€è½¬ç§»çš„æ•ˆç‡ã€‚</p><blockquote><p>PSï¼š<code>MonotonicQueue</code> çš„é€šç”¨å®ç°è§ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—è®¾è®¡ä¸å®ç°</a></p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-queue/">ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -3"><a href="#è§£æ³•ä»£ç -3" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç¬¬ä¸€æ­¥ï¼Œæš´åŠ›é€’å½’è§£æ³•ï¼ˆè¶…æ—¶ï¼‰</span><span class="token keyword">class</span> <span class="token class-name">Solution1</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxResult</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>dp<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šåˆ°è¾¾ nums[p] æ‰€èƒ½è·å¾—çš„æœ€å¤§åˆ†æ•°æ˜¯ dp(nums, p)</span>    <span class="token comment"># èƒ½è·³åˆ° nums[p]ï¼Œå¿…ç„¶æ˜¯ä» nums[p-k..p-1] ä¸­çš„æŸä¸ªä½ç½®è·³æ¥çš„</span>    <span class="token comment"># æ•…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼šdp[p] = max(nums[p-k..p-1]) + nums[p]</span>    <span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> p <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> p <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token comment"># å®ç°çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span>        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> self<span class="token punctuation">.</span>dp<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">-</span> i<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span>        res <span class="token operator">+=</span> nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span>        <span class="token keyword">return</span> res<span class="token comment"># ç¬¬äºŒæ­¥ï¼Œå¸¦å¤‡å¿˜å½•çš„é€’å½’è§£æ³•ï¼ˆè¶…æ—¶ï¼‰</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token comment"># å¤‡å¿˜å½•</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>memo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">maxResult</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>memo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># å¤‡å¿˜å½•åˆå§‹åŒ–ä¸ºæœ€å°å€¼</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>dp<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span>    <span class="token comment"># å®šä¹‰ï¼šåˆ°è¾¾ nums[p] æ‰€èƒ½è·å¾—çš„æœ€å¤§åˆ†æ•°æ˜¯ dp(nums, p)</span>    <span class="token keyword">def</span> <span class="token function">dp</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> p <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> p <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token comment"># æŸ¥å¤‡å¿˜å½•ï¼Œé¿å…å†—ä½™è®¡ç®—</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span>        <span class="token comment"># å®ç°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œç»“æœå­˜å…¥å¤‡å¿˜å½•</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>dp<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">-</span> i<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">+=</span> nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>memo<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token comment"># ç¬¬ä¸‰æ­¥ï¼Œè‡ªé¡¶å‘ä¸‹çš„é€’å½’æ”¹ä¸ºè‡ªåº•å‘ä¸Šçš„è¿­ä»£è§£æ³•ï¼ˆè¶…æ—¶ï¼‰</span><span class="token keyword">class</span> <span class="token class-name">Solution3</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxResult</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># å®šä¹‰ï¼šåˆ°è¾¾ nums[p] çš„æœ€å¤§åˆ†æ•°ä¸º dp[p]</span>        dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># dp æ•°ç»„åˆå§‹åŒ–ä¸ºæœ€å°å€¼</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token comment"># çŠ¶æ€è½¬ç§»</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> p <span class="token operator">-</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>                    <span class="token keyword">continue</span>                dp<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>p <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">)</span>            dp<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">+=</span> nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># ç¬¬å››æ­¥ï¼Œåˆ©ç”¨å•è°ƒé˜Ÿåˆ—ç»“æ„æ¶ˆé™¤å†…å±‚å¾ªç¯ï¼ˆé€šè¿‡ï¼‰</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxResult</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å®šä¹‰ï¼šåˆ°è¾¾ nums[p] çš„æœ€å¤§åˆ†æ•°ä¸º dp[p]</span>        dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># dp æ•°ç»„åˆå§‹åŒ–ä¸ºæœ€å°å€¼</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># çŠ¶æ€è½¬ç§»</span>        <span class="token keyword">for</span> p <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            dp<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>p<span class="token punctuation">]</span>            <span class="token comment"># ç»´æŠ¤çª—å£è£…ç€ dp[p-1..p-k]</span>            <span class="token keyword">if</span> window<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> k<span class="token punctuation">:</span>                window<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>dp<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># ä¸‹é¢ç»™å‡ºçš„æ˜¯å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œè¿è¡Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ï¼Œä½ å¯ä»¥è‡ªè¡Œç®€åŒ–æå‡é€Ÿåº¦</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„è¯¦ç»†è§£æè§</span><span class="token comment"># https://labuladong.online/algo/problem-set/monotonic-queue/</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-2"><a href="#å¯è§†åŒ–-2" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_jump-game-vi" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_jump-game-vi" src="https://labuladong.online/algo-visualize/leetcode/jump-game-vi/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1425-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ"><a href="#1425-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ" class="headerlink" title="1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#slug_constrained-subsequence-sum">1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/constrained-subsequence-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/constrained-subsequence-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code>&nbsp;å’Œä¸€ä¸ªæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code>&nbsp;ï¼Œè¯·ä½ è¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">éç©º</strong>&nbsp;å­åºåˆ—å…ƒç´ å’Œçš„æœ€å¤§å€¼ï¼Œå­åºåˆ—éœ€è¦æ»¡è¶³ï¼šå­åºåˆ—ä¸­æ¯ä¸¤ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">ç›¸é‚»</strong>&nbsp;çš„æ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[i]</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums[j]</code>&nbsp;ï¼Œå®ƒä»¬åœ¨åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code>&nbsp;æ»¡è¶³&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i &lt; j</code>&nbsp;ä¸”<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j - i &lt;= k</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ•°ç»„çš„å­åºåˆ—å®šä¹‰ä¸ºï¼šå°†æ•°ç»„ä¸­çš„è‹¥å¹²ä¸ªæ•°å­—åˆ é™¤ï¼ˆå¯ä»¥åˆ é™¤ 0 ä¸ªæ•°å­—ï¼‰ï¼Œå‰©ä¸‹çš„æ•°å­—æŒ‰ç…§åŸæœ¬çš„é¡ºåºæ’å¸ƒã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [10,2,-10,5,20], k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>37<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­åºåˆ—ä¸º [10, 2, 5, 20] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [-1,-2,-3], k = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>-1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­åºåˆ—å¿…é¡»æ˜¯éç©ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æœ€å¤§çš„æ•°å­—ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [10,-2,-10,-5,20], k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>23<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­åºåˆ—ä¸º [10, -2, -5, 20] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= nums.length &lt;= 10^5</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10^4&nbsp;&lt;= nums[i] &lt;= 10^4</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/constrained-subsequence-sum/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-4"><a href="#åŸºæœ¬æ€è·¯-4" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å¦‚æœä½ çœ‹è¿‡åæ–‡ <a href="https://labuladong.online/algo/dynamic-programming/longest-increasing-subsequence/">æœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜è¯¦è§£</a>ï¼Œé‚£ä¹ˆè¿™é“é¢˜çš„æ€è·¯åº”è¯¥æ˜¯å¾ˆç®€å•çš„ï¼š</p><p><strong>è®¾è®¡ä¸€ä¸ª <code>dp</code> æ•°ç»„ï¼Œ<code>dp[i]</code> è¡¨ç¤ºä»¥ <code>nums[i]</code> ä¸ºç»“å°¾çš„æœ€å¤§å­åºåˆ—ä¹‹å’Œï¼Œç„¶åé¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ <code>max(dp[..])</code></strong>ã€‚</p><p>ç”±äºé¢˜ç›®è¯´ä¸¤ä¸ªåºåˆ—ä¹‹é—´çš„é—´éš”ä¸èƒ½è¶…è¿‡ <code>k</code>ï¼Œæ‰€ä»¥ <code>dp[i]</code> çš„å€¼å°±å¯ä»¥æ ¹æ® <code>dp[i-k..i-1]</code> çš„å€¼æ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆçŠ¶æ€è½¬ç§»é€»è¾‘å°±æ˜¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> maxVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        maxVal <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxVal<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> maxVal <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æƒ³åˆ°è¿™ä¸€æ­¥å…¶å®å·²ç»å¯ä»¥å†™å‡ºåŠ¨æ€è§„åˆ’è§£æ³•ä»£ç äº†ï¼Œä½†ç”±äºæµ‹è¯•æ•°æ®çš„è§„æ¨¡è¾ƒå¤§ï¼Œè¿™ä¸ª <code>O(KN)</code> çš„ç®—æ³•ä¼šè¶…æ—¶ã€‚</p><p>æˆ‘ä»¬æ³¨æ„åˆ°å†…å±‚çš„ for å¾ªç¯å®é™…ä¸Šå°±æ˜¯åœ¨è®¡ç®— <code>dp[i-k..i-1]</code> çš„æœ€å¤§å€¼ï¼Œéšç€ <code>i</code> çš„å¢åŠ ï¼Œ<code>dp[i-k..i-1]</code> å°±åƒä¸€ä¸ªæ»‘åŠ¨å‰è¿›çš„çª—å£ï¼Œè¿™ä¸ªåœºæ™¯ä¸éœ€è¦å‚»ä¹ä¹ç”¨ for å¾ªç¯éå†æ±‚æœ€å€¼ï¼Œå‰æ–‡è®²åˆ°çš„ <a href="https://labuladong.online/algo/data-structure/monotonic-queue/">å•è°ƒé˜Ÿåˆ—</a> å¯ä»¥é«˜æ•ˆå®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œå°†æ•´ä¸ªç®—æ³•çš„å¤æ‚åº¦é™ä½åˆ° <code>O(N)</code>ã€‚</p><p>æˆ‘å°†ç»™å‡ºç»è¿‡å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„è§£æ³•ä»£ç å’Œæœªç»ä¼˜åŒ–çš„è§£æ³•ä»£ç ï¼Œæ³¨æ„å•è°ƒé˜Ÿåˆ—åœ¨å…¶ä¸­èµ·åˆ°çš„ä½œç”¨ã€‚</p><blockquote><p>PSï¼š<code>MonotonicQueue</code> çš„é€šç”¨å®ç°è§ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—è®¾è®¡ä¸å®ç°</a></p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-queue/">ã€ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -4"><a href="#è§£æ³•ä»£ç -4" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç»è¿‡å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„åŠ¨æ€è§„åˆ’è§£æ³•</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">constrainedSubsetSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># å®šä¹‰ï¼šdp[i] è¡¨ç¤ºä»¥ nums[i] ç»“å°¾çš„å­åºåˆ—çš„æœ€å¤§å’Œ</span>        dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token comment"># å•è°ƒé˜Ÿåˆ—è¾…åŠ©è®¡ç®— dp[i-k..i-1] çš„æœ€å¤§å€¼</span>        window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>        window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># ç»´æŠ¤æ»‘åŠ¨çª—å£çš„å¤§å°ä¸º k</span>            <span class="token keyword">if</span> window<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> k<span class="token punctuation">:</span>                window<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            window<span class="token punctuation">.</span>push<span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token comment"># dp æ•°ç»„ä¸­çš„æœ€å¤§å€¼å°±æ˜¯ç»“æœ</span>        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span class="token comment"># ä¸‹é¢ç»™å‡ºçš„æ˜¯å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œè¿è¡Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ï¼Œä½ å¯ä»¥è‡ªè¡Œç®€åŒ–æå‡é€Ÿåº¦</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„è¯¦ç»†è§£æè§</span><span class="token comment"># https://labuladong.online/algo/problem-set/monotonic-queue/</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token comment"># å¸¸è§„é˜Ÿåˆ—ï¼Œå­˜å‚¨æ‰€æœ‰å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ é™åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å¤§å€¼</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># å…ƒç´ å‡åºæ’åˆ—çš„å•è°ƒé˜Ÿåˆ—ï¼Œå¤´éƒ¨æ˜¯æœ€å°å€¼</span>        self<span class="token punctuation">.</span>minq <span class="token operator">=</span> collections<span class="token punctuation">.</span>deque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ç»´æŠ¤å¸¸è§„é˜Ÿåˆ—ï¼Œç›´æ¥åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ maxqï¼Œå°†å°äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>maxq <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minqï¼Œå°†å¤§äº elem çš„å…ƒç´ å…¨éƒ¨åˆ é™¤</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>minq <span class="token keyword">and</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> elem<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>elem<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># maxq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># minq çš„å¤´éƒ¨æ˜¯æœ€å¤§å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»æ ‡å‡†é˜Ÿåˆ—å¤´éƒ¨å¼¹å‡ºéœ€è¦åˆ é™¤çš„å…ƒç´ </span>        deleteVal <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç”±äº push çš„æ—¶å€™ä¼šåˆ é™¤å…ƒç´ ï¼ŒdeleteVal å¯èƒ½å·²ç»è¢«åˆ æ‰äº†</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> deleteVal <span class="token operator">==</span> self<span class="token punctuation">.</span>minq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>minq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> deleteVal    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ—çš„å¤§å°å³æ˜¯å½“å‰é˜Ÿåˆ—çš„å¤§å°</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span class="token comment"># æœªç»ä¼˜åŒ–çš„åŠ¨æ€è§„åˆ’è§£æ³•ï¼Œè¶…æ—¶</span><span class="token keyword">class</span> <span class="token class-name">Solution2</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">constrainedSubsetSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token comment"># å®šä¹‰ï¼šdp[i] è¡¨ç¤ºä»¥ nums[i] ç»“å°¾çš„å­åºåˆ—çš„æœ€å¤§å’Œ</span>        dp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># base caseï¼Œä»¥ nums[0] ç»“å°¾çš„å­åºåˆ—åªæœ‰å®ƒæœ¬èº«</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token comment"># çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            maxVal <span class="token operator">=</span> <span class="token number">0</span>            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> i <span class="token operator">-</span> j <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>                    <span class="token keyword">continue</span>                maxVal <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>maxVal<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># dp[i] çš„å€¼å¯ä»¥æ ¹æ® dp[i-k..i-1] çš„æœ€å¤§å€¼æ¨å¯¼å‡ºæ¥</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> maxVal <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token comment"># dp æ•°ç»„ä¸­çš„æœ€å¤§å€¼å°±æ˜¯ç»“æœ</span>        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>            res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜</title>
      <link href="/2025/06/14/dan-diao-dui-lie-jie-gou-jie-jue-hua-dong-chuang-kou-wen-ti/"/>
      <url>/2025/06/14/dan-diao-dui-lie-jie-gou-jie-jue-hua-dong-chuang-kou-wen-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜"><a href="#å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜" class="headerlink" title="å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜"></a>å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜</h1><p>å‰æ–‡ç”¨ <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆè§£å†³ä¸‰é“ç®—æ³•é—®é¢˜</a> ä»‹ç»äº†å•è°ƒæ ˆè¿™ç§ç‰¹æ®Šæ•°æ®ç»“æ„ï¼Œæœ¬æ–‡å†™ä¸€ä¸ªç±»ä¼¼çš„æ•°æ®ç»“æ„ã€Œå•è°ƒé˜Ÿåˆ—ã€ã€‚</p><p>ä¹Ÿè®¸è¿™ç§æ•°æ®ç»“æ„çš„åå­—ä½ æ²¡å¬è¿‡ï¼Œå…¶å®æ²¡å•¥éš¾çš„ï¼Œå°±æ˜¯ä¸€ä¸ªã€Œé˜Ÿåˆ—ã€ï¼Œåªæ˜¯ä½¿ç”¨äº†ä¸€ç‚¹å·§å¦™çš„æ–¹æ³•ï¼Œä½¿å¾—é˜Ÿåˆ—ä¸­çš„å…ƒç´ å…¨éƒ½æ˜¯å•è°ƒé€’å¢ï¼ˆæˆ–é€’å‡ï¼‰çš„ã€‚</p><p>ä¸ºå•¥è¦å‘æ˜ã€Œå•è°ƒé˜Ÿåˆ—ã€è¿™ç§ç»“æ„å‘¢ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³ä¸‹é¢è¿™ä¸ªåœºæ™¯ï¼š</p><p><strong>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>window</code>ï¼Œå·²çŸ¥å…¶æœ€å€¼ä¸º <code>A</code>ï¼Œå¦‚æœç»™ <code>window</code> ä¸­æ·»åŠ ä¸€ä¸ªæ•° <code>B</code>ï¼Œé‚£ä¹ˆæ¯”è¾ƒä¸€ä¸‹ <code>A</code> å’Œ <code>B</code> å°±å¯ä»¥ç«‹å³ç®—å‡ºæ–°çš„æœ€å€¼ï¼›ä½†å¦‚æœè¦ä» <code>window</code> æ•°ç»„ä¸­å‡å°‘ä¸€ä¸ªæ•°ï¼Œå°±ä¸èƒ½ç›´æ¥å¾—åˆ°æœ€å€¼äº†ï¼Œå› ä¸ºå¦‚æœå‡å°‘çš„è¿™ä¸ªæ•°æ°å¥½æ˜¯ <code>A</code>ï¼Œå°±éœ€è¦éå† <code>window</code> ä¸­çš„æ‰€æœ‰å…ƒç´ é‡æ–°å¯»æ‰¾æ–°çš„æœ€å€¼</strong>ã€‚</p><p>è¿™ä¸ªåœºæ™¯å¾ˆå¸¸è§ï¼Œä½†ä¸ç”¨å•è°ƒé˜Ÿåˆ—ä¼¼ä¹ä¹Ÿå¯ä»¥ï¼Œæ¯”å¦‚ <a href="https://labuladong.online/algo/data-structure-basic/binary-heap-basic/">ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆäºŒå‰å †ï¼‰</a> å°±æ˜¯ä¸“é—¨ç”¨æ¥åŠ¨æ€å¯»æ‰¾æœ€å€¼çš„ï¼Œæˆ‘åˆ›å»ºä¸€ä¸ªå¤§ï¼ˆå°ï¼‰é¡¶å †ï¼Œä¸å°±å¯ä»¥å¾ˆå¿«æ‹¿åˆ°æœ€å¤§ï¼ˆå°ï¼‰å€¼äº†å—ï¼Ÿ</p><p>å¦‚æœå•çº¯åœ°ç»´æŠ¤æœ€å€¼çš„è¯ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—å¾ˆä¸“ä¸šï¼Œé˜Ÿå¤´å…ƒç´ å°±æ˜¯æœ€å€¼ã€‚ä½†ä¼˜å…ˆçº§é˜Ÿåˆ—æ— æ³•æ»¡è¶³æ ‡å‡†é˜Ÿåˆ—ç»“æ„ã€Œå…ˆè¿›å…ˆå‡ºã€çš„<strong>æ—¶é—´é¡ºåº</strong>ï¼Œå› ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—åº•å±‚åˆ©ç”¨äºŒå‰å †å¯¹å…ƒç´ è¿›è¡ŒåŠ¨æ€æ’åºï¼Œå…ƒç´ çš„å‡ºé˜Ÿé¡ºåºæ˜¯å…ƒç´ çš„å¤§å°é¡ºåºï¼Œå’Œå…¥é˜Ÿçš„å…ˆåé¡ºåºå®Œå…¨æ²¡æœ‰å…³ç³»ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨éœ€è¦ä¸€ç§æ–°çš„é˜Ÿåˆ—ç»“æ„ï¼Œæ—¢èƒ½å¤Ÿç»´æŠ¤é˜Ÿåˆ—å…ƒç´ ã€Œå…ˆè¿›å…ˆå‡ºã€çš„æ—¶é—´é¡ºåºï¼Œåˆèƒ½å¤Ÿæ­£ç¡®ç»´æŠ¤é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å€¼ï¼Œè¿™å°±æ˜¯ã€Œå•è°ƒé˜Ÿåˆ—ã€ç»“æ„ã€‚</p><p>ã€Œå•è°ƒé˜Ÿåˆ—ã€è¿™ä¸ªæ•°æ®ç»“æ„ä¸»è¦ç”¨æ¥è¾…åŠ©è§£å†³æ»‘åŠ¨çª—å£ç›¸å…³çš„é—®é¢˜ï¼Œå‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£æ ¸å¿ƒæ¡†æ¶</a> æŠŠæ»‘åŠ¨çª—å£ç®—æ³•ä½œä¸ºåŒæŒ‡é’ˆæŠ€å·§çš„ä¸€éƒ¨åˆ†è¿›è¡Œäº†è®²è§£ï¼Œä½†æœ‰äº›ç¨å¾®å¤æ‚çš„æ»‘åŠ¨çª—å£é—®é¢˜ä¸èƒ½åªé ä¸¤ä¸ªæŒ‡é’ˆæ¥è§£å†³ï¼Œéœ€è¦ä¸Šæ›´å…ˆè¿›çš„æ•°æ®ç»“æ„ã€‚</p><p>æ¯”æ–¹è¯´ï¼Œä½ æ³¨æ„çœ‹å‰æ–‡ <a href="https://labuladong.online/algo/essential-technique/sliding-window-framework/">æ»‘åŠ¨çª—å£æ ¸å¿ƒæ¡†æ¶</a> è®²çš„å‡ é“é¢˜ç›®ï¼Œæ¯å½“çª—å£æ‰©å¤§ï¼ˆ<code>right++</code>ï¼‰å’Œçª—å£ç¼©å°ï¼ˆ<code>left++</code>ï¼‰æ—¶ï¼Œä½ å•å‡­ç§»å‡ºå’Œç§»å…¥çª—å£çš„å…ƒç´ å³å¯å†³å®šæ˜¯å¦æ›´æ–°ç­”æ¡ˆã€‚</p><p>ä½†æœ¬æ–‡å¼€å¤´è¯´çš„é‚£ä¸ªåˆ¤æ–­ä¸€ä¸ªçª—å£ä¸­æœ€å€¼çš„ä¾‹å­ï¼Œä½ æ— æ³•å•å‡­ç§»å‡ºçª—å£çš„é‚£ä¸ªå…ƒç´ æ›´æ–°çª—å£çš„æœ€å€¼ï¼Œé™¤éé‡æ–°éå†æ‰€æœ‰å…ƒç´ ï¼Œä½†è¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦å°±ä¸Šæ¥äº†ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 239 é¢˜ã€Œ<a href="https://leetcode.cn/problems/sliding-window-maximum/">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a>ã€ï¼Œå°±æ˜¯ä¸€é“æ ‡å‡†çš„æ»‘åŠ¨çª—å£é—®é¢˜ï¼š</p><p>ç»™ä½ è¾“å…¥ä¸€ä¸ªæ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>k</code>ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º <code>k</code> çš„çª—å£åœ¨ <code>nums</code> ä¸Šä»å·¦è‡³å³æ»‘åŠ¨ï¼Œè¯·ä½ è¾“å‡ºæ¯æ¬¡çª—å£ä¸­ <code>k</code> ä¸ªå…ƒç´ çš„æœ€å¤§å€¼ã€‚</p><p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">maxSlidingWindow</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚è¯´åŠ›æ‰£ç»™å‡ºçš„ä¸€ä¸ªç¤ºä¾‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>è§£é‡Šï¼šæ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>               <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span> <span class="token number">1</span>  <span class="token number">3</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span><span class="token punctuation">]</span> <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">7</span>       <span class="token number">6</span> <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span><span class="token punctuation">]</span>      <span class="token number">7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å€ŸåŠ©å•è°ƒé˜Ÿåˆ—ç»“æ„ï¼Œç”¨ O(1)<em>O</em>(1) æ—¶é—´ç®—å‡ºæ¯ä¸ªæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ï¼Œä½¿å¾—æ•´ä¸ªç®—æ³•åœ¨çº¿æ€§æ—¶é—´å®Œæˆã€‚</p><h3 id="ä¸€ã€æ­å»ºè§£é¢˜æ¡†æ¶"><a href="#ä¸€ã€æ­å»ºè§£é¢˜æ¡†æ¶" class="headerlink" title="ä¸€ã€æ­å»ºè§£é¢˜æ¡†æ¶"></a><a href="https://labuladong.online/algo/data-structure/monotonic-queue/#%E4%B8%80%E3%80%81%E6%90%AD%E5%BB%BA%E8%A7%A3%E9%A2%98%E6%A1%86%E6%9E%B6">ä¸€ã€æ­å»ºè§£é¢˜æ¡†æ¶</a></h3><p>åœ¨ä»‹ç»ã€Œå•è°ƒé˜Ÿåˆ—ã€è¿™ç§æ•°æ®ç»“æ„çš„ API ä¹‹å‰ï¼Œå…ˆæ¥å¯¹æ¯”ä¸€ä¸‹ <a href="https://labuladong.online/algo/data-structure-basic/queue-stack-basic/">æ™®é€šçš„é˜Ÿåˆ—</a> çš„æ ‡å‡† API å’Œå•è°ƒé˜Ÿåˆ—å®ç°çš„ APIï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ™®é€šé˜Ÿåˆ—çš„ API</span><span class="token keyword">class</span> <span class="token class-name">Queue</span><span class="token punctuation">:</span>    <span class="token comment"># enqueue æ“ä½œï¼Œåœ¨é˜Ÿå°¾åŠ å…¥å…ƒç´  n</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># dequeue æ“ä½œï¼Œåˆ é™¤é˜Ÿå¤´å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„ API</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token comment"># åœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´  n</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># è¿”å›å½“å‰é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># é˜Ÿå¤´å…ƒç´ å¦‚æœæ˜¯ nï¼Œåˆ é™¤å®ƒ</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“ç„¶ï¼Œå•è°ƒé˜Ÿåˆ—è¿™å‡ ä¸ª API çš„å®ç°æ–¹æ³•è‚¯å®šè·Ÿä¸€èˆ¬çš„ Queue ä¸ä¸€æ ·ï¼Œä¸è¿‡æˆ‘ä»¬æš‚ä¸”ä¸ç®¡ï¼Œè€Œä¸”è®¤ä¸ºè¿™å‡ ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ï¼Œå…ˆæŠŠè¿™é“ã€Œæ»‘åŠ¨çª—å£ã€é—®é¢˜çš„è§£ç­”æ¡†æ¶æ­å‡ºæ¥ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">def</span> <span class="token function">maxSlidingWindow</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    window <span class="token operator">=</span> MonotonicQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> i <span class="token operator">&lt;</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># å…ˆå°†çª—å£å‰ k - 1 å¡«æ»¡</span>            window<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># çª—å£å¼€å§‹å‘å‰æ»‘åŠ¨</span>            <span class="token comment"># ç§»å…¥æ–°å…ƒç´ </span>            window<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># å°†å½“å‰çª—å£ä¸­çš„æœ€å¤§å…ƒç´ è®°å…¥ç»“æœ</span>            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment"># ç§»å‡ºæœ€åçš„å…ƒç´ </span>            window<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å°† List ç±»å‹è½¬åŒ–æˆ int[] æ•°ç»„ä½œä¸ºè¿”å›å€¼</span>    <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/2025/06/14/dan-diao-dui-lie-jie-gou-jie-jue-hua-dong-chuang-kou-wen-ti/1-1749878196844-7.png" alt="img"></p><p>è¿™ä¸ªæ€è·¯å¾ˆç®€å•å§ï¼Œä¸‹é¢æˆ‘ä»¬å¼€å§‹é‡å¤´æˆï¼Œå•è°ƒé˜Ÿåˆ—çš„å®ç°ã€‚</p><h3 id="äºŒã€å®ç°å•è°ƒé˜Ÿåˆ—æ•°æ®ç»“æ„"><a href="#äºŒã€å®ç°å•è°ƒé˜Ÿåˆ—æ•°æ®ç»“æ„" class="headerlink" title="äºŒã€å®ç°å•è°ƒé˜Ÿåˆ—æ•°æ®ç»“æ„"></a><a href="https://labuladong.online/algo/data-structure/monotonic-queue/#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">äºŒã€å®ç°å•è°ƒé˜Ÿåˆ—æ•°æ®ç»“æ„</a></h3><p>è§‚å¯Ÿæ»‘åŠ¨çª—å£çš„è¿‡ç¨‹å°±èƒ½å‘ç°ï¼Œå®ç°ã€Œå•è°ƒé˜Ÿåˆ—ã€å¿…é¡»ä½¿ç”¨ä¸€ç§æ•°æ®ç»“æ„æ”¯æŒåœ¨å¤´éƒ¨å’Œå°¾éƒ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œå¾ˆæ˜æ˜¾ <a href="https://labuladong.online/algo/data-structure-basic/linkedlist-basic/">åŒé“¾è¡¨</a> æ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ã€‚</p><p>ã€Œå•è°ƒé˜Ÿåˆ—ã€çš„æ ¸å¿ƒæ€è·¯å’Œã€Œå•è°ƒæ ˆã€ç±»ä¼¼ï¼Œ<code>push</code> æ–¹æ³•ä¾ç„¶åœ¨é˜Ÿå°¾æ·»åŠ å…ƒç´ ï¼Œä½†æ˜¯è¦æŠŠå‰é¢æ¯”è‡ªå·±å°çš„å…ƒç´ éƒ½åˆ æ‰ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒå¤´éƒ¨å’Œå°¾éƒ¨å¢åˆ å…ƒç´ </span>        <span class="token comment"># ç»´æŠ¤å…¶ä¸­çš„å…ƒç´ è‡ªå°¾éƒ¨åˆ°å¤´éƒ¨å•è°ƒé€’å¢</span>        self<span class="token punctuation">.</span>maxq <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´  nï¼Œç»´æŠ¤ maxq çš„å•è°ƒæ€§è´¨</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># å°†å‰é¢å°äºè‡ªå·±çš„å…ƒç´ éƒ½åˆ é™¤</span>        <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maxq<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥æƒ³è±¡ï¼ŒåŠ å…¥æ•°å­—çš„å¤§å°ä»£è¡¨äººçš„ä½“é‡ï¼Œä½“é‡å¤§çš„ä¼šæŠŠå‰é¢ä½“é‡ä¸è¶³çš„å‹æ‰ï¼Œç›´åˆ°é‡åˆ°æ›´å¤§çš„é‡çº§æ‰åœä½ã€‚</p><p><img src="/2025/06/14/dan-diao-dui-lie-jie-gou-jie-jue-hua-dong-chuang-kou-wen-ti/3-1749878196844-9.png" alt="img"></p><p>å¦‚æœæ¯ä¸ªå…ƒç´ è¢«åŠ å…¥æ—¶éƒ½è¿™æ ·æ“ä½œï¼Œæœ€ç»ˆå•è°ƒé˜Ÿåˆ—ä¸­çš„å…ƒç´ å¤§å°å°±ä¼šä¿æŒä¸€ä¸ª<strong>å•è°ƒé€’å‡</strong>çš„é¡ºåºï¼Œå› æ­¤æˆ‘ä»¬çš„ <code>max</code> æ–¹æ³•å°±å¾ˆå¥½å†™äº†ï¼Œåªè¦æŠŠé˜Ÿå¤´å…ƒç´ è¿”å›å³å¯ï¼›<code>pop</code> æ–¹æ³•ä¹Ÿæ˜¯æ“ä½œé˜Ÿå¤´ï¼Œå¦‚æœé˜Ÿå¤´å…ƒç´ æ˜¯å¾…åˆ é™¤å…ƒç´  <code>n</code>ï¼Œé‚£ä¹ˆå°±åˆ é™¤å®ƒï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token comment"># ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œçœç•¥ä¸Šæ–‡ç»™å‡ºçš„ä»£ç éƒ¨åˆ†...</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># é˜Ÿå¤´çš„å…ƒç´ è‚¯å®šæ˜¯æœ€å¤§çš„</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token operator">==</span> self<span class="token punctuation">.</span>maxq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>maxq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pop</code> æ–¹æ³•ä¹‹æ‰€ä»¥è¦åˆ¤æ–­ <code>n == maxq.getFirst()</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æƒ³åˆ é™¤çš„é˜Ÿå¤´å…ƒç´  <code>n</code> å¯èƒ½å·²ç»åœ¨ <code>push</code> çš„è¿‡ç¨‹ä¸­è¢«ã€Œå‹æ‰ã€äº†ï¼Œå¯èƒ½å·²ç»ä¸å­˜åœ¨äº†ï¼Œè¿™ç§æƒ…å†µå°±ä¸ç”¨åˆ é™¤äº†ï¼š</p><p><img src="/2025/06/14/dan-diao-dui-lie-jie-gou-jie-jue-hua-dong-chuang-kou-wen-ti/2-1749878196844-11.png" alt="img"></p><p>è‡³æ­¤ï¼Œå•è°ƒé˜Ÿåˆ—è®¾è®¡å®Œæ¯•ï¼Œçœ‹ä¸‹å®Œæ•´çš„è§£é¢˜ä»£ç ï¼š</p><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class MonotonicQueue:    def __init__(self):        self.maxq &#x3D; []        def push(self, n):        # å°†å°äº n çš„å…ƒç´ å…¨éƒ¨åˆ é™¤        while self.maxq and self.maxq[-1] &lt; n:             self.maxq.pop()        # ç„¶åå°† n åŠ å…¥å°¾éƒ¨        self.maxq.append(n)        def max(self):        return self.maxq[0]        def pop(self, n):        if n &#x3D;&#x3D; self.maxq[0]:            self.maxq.pop(0)class Solution(object):    def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]:        window &#x3D; MonotonicQueue()        res &#x3D; []                for i in range(len(nums)):            if i &lt; k - 1:                # å…ˆå¡«æ»¡çª—å£çš„å‰ k - 1                window.push(nums[i])            else:                 # çª—å£å‘å‰æ»‘åŠ¨ï¼ŒåŠ å…¥æ–°æ•°å­—                window.push(nums[i])                # è®°å½•å½“å‰çª—å£çš„æœ€å¤§å€¼                res.append(window.max())                # ç§»å‡ºæ—§æ•°å­—                window.pop(nums[i - k + 1])        return res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰ä¸€ç‚¹ç»†èŠ‚é—®é¢˜ä¸è¦å¿½ç•¥ï¼Œåœ¨å®ç° <code>MonotonicQueue</code> æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Java çš„ <code>LinkedList</code>ï¼Œå› ä¸ºé“¾è¡¨ç»“æ„æ”¯æŒåœ¨å¤´éƒ¨å’Œå°¾éƒ¨å¿«é€Ÿå¢åˆ å…ƒç´ ï¼›è€Œåœ¨è§£æ³•ä»£ç ä¸­çš„ <code>res</code> åˆ™ä½¿ç”¨çš„ <code>ArrayList</code> ç»“æ„ï¼Œå› ä¸ºåç»­ä¼šæŒ‰ç…§ç´¢å¼•å–å…ƒç´ ï¼Œæ‰€ä»¥æ•°ç»„ç»“æ„æ›´åˆé€‚ã€‚å…¶ä»–è¯­è¨€çš„å®ç°ä¹Ÿè¦æ³¨æ„è¿™äº›ç»†èŠ‚ã€‚</p><p>å…³äºå•è°ƒé˜Ÿåˆ— API çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¯»è€…å¯èƒ½æœ‰ç–‘æƒ‘ï¼š<code>push</code> æ“ä½œä¸­å«æœ‰ while å¾ªç¯ï¼Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ O(N)<em>O</em>(<em>N</em>) å‘€ï¼Œå†åŠ ä¸Šä¸€å±‚ for å¾ªç¯ï¼Œæœ¬ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯ O(N2)<em>O</em>(<em>N</em>2) æ‰å¯¹å§ï¼Ÿ</p><p>è¿™é‡Œå°±ç”¨åˆ°äº† <a href="https://labuladong.online/algo/essential-technique/complexity-analysis/">ç®—æ³•æ—¶ç©ºå¤æ‚åº¦åˆ†ææŒ‡å—</a> ä¸­è®²åˆ°çš„æ‘Šè¿˜åˆ†æï¼š</p><p>å•ç‹¬çœ‹ <code>push</code> æ“ä½œï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ç¡®å®æ˜¯ O(N)<em>O</em>(<em>N</em>)ï¼Œä½†æ˜¯å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)<em>O</em>(1)ã€‚æˆ‘ä»¬ä¸€èˆ¬ç”¨å¹³å‡å¤æ‚åº¦è€Œä¸æ˜¯æœ€åæ—¶é—´å¤æ‚åº¦æ¥è¡¡é‡ API æ¥å£ï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)<em>O</em>(<em>N</em>)ï¼Œè€Œä¸æ˜¯ O(N2)<em>O</em>(<em>N</em>2)ã€‚</p><p>ä¹Ÿå¯ä»¥è¿™æ ·ä»æ•´ä½“ä¸Šåˆ†æï¼šæ•´ä¸ªç®—æ³•åšçš„äº‹æƒ…å°±æ˜¯æŠŠ <code>nums</code> ä¸­çš„æ¯ä¸ªå…ƒç´ åŠ å…¥å’Œç§»å‡º <code>window</code> <strong>è‡³å¤šä¸€æ¬¡</strong>ï¼Œä¸å¯èƒ½æŠŠåŒä¸€ä¸ªå…ƒç´ å¤šæ¬¡ç§»å…¥ç§»å‡º <code>window</code>ï¼Œæ‰€ä»¥æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)<em>O</em>(<em>N</em>)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦å¾ˆå®¹æ˜“åˆ†æï¼Œå°±æ˜¯çª—å£çš„å¤§å° O(k)<em>O</em>(<em>k</em>)ã€‚</p><h3 id="æ‹“å±•å»¶ä¼¸"><a href="#æ‹“å±•å»¶ä¼¸" class="headerlink" title="æ‹“å±•å»¶ä¼¸"></a><a href="https://labuladong.online/algo/data-structure/monotonic-queue/#%E6%8B%93%E5%B1%95%E5%BB%B6%E4%BC%B8">æ‹“å±•å»¶ä¼¸</a></h3><p>æœ€åï¼Œæˆ‘æå‡ºå‡ ä¸ªé—®é¢˜è¯·å¤§å®¶æ€è€ƒï¼š</p><p>1ã€æœ¬æ–‡ç»™å‡ºçš„ <code>MonotonicQueue</code> ç±»åªå®ç°äº† <code>max</code> æ–¹æ³•ï¼Œä½ æ˜¯å¦èƒ½å¤Ÿå†é¢å¤–æ·»åŠ ä¸€ä¸ª <code>min</code> æ–¹æ³•ï¼Œåœ¨ O(1)<em>O</em>(1) çš„æ—¶é—´è¿”å›é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å°å€¼ï¼Ÿ</p><p>2ã€æœ¬æ–‡ç»™å‡ºçš„ <code>MonotonicQueue</code> ç±»çš„ <code>pop</code> æ–¹æ³•è¿˜éœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸é‚£ä¹ˆä¼˜é›…ï¼Œè€Œä¸”æœ‰æ‚–äºæ ‡å‡†é˜Ÿåˆ—çš„ APIï¼Œè¯·ä½ ä¿®å¤è¿™ä¸ªç¼ºé™·ã€‚</p><p>3ã€è¯·ä½ å®ç° <code>MonotonicQueue</code> ç±»çš„ <code>size</code> æ–¹æ³•ï¼Œè¿”å›å•è°ƒé˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼ˆæ³¨æ„ï¼Œç”±äºæ¯æ¬¡ <code>push</code> æ–¹æ³•éƒ½å¯èƒ½ä»åº•å±‚çš„ <code>q</code> åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´ ï¼Œæ‰€ä»¥ <code>q</code> ä¸­çš„å…ƒç´ ä¸ªæ•°å¹¶ä¸æ˜¯å•è°ƒé˜Ÿåˆ—çš„å…ƒç´ ä¸ªæ•°ï¼‰ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ˜¯å¦èƒ½å¤Ÿå®ç°å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°ï¼Œå¯ä»¥é«˜æ•ˆç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼</span><span class="token keyword">class</span> <span class="token class-name">MonotonicQueue</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> elem<span class="token punctuation">:</span> <span class="token string">'Comparable'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ— APIï¼Œä»é˜Ÿå¤´å¼¹å‡ºå…ƒç´ ï¼Œç¬¦åˆå…ˆè¿›å…ˆå‡ºçš„é¡ºåº</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Comparable'</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># æ ‡å‡†é˜Ÿåˆ— APIï¼Œè¿”å›é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°</span>    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># å•è°ƒé˜Ÿåˆ—ç‰¹æœ‰ APIï¼ŒO(1) æ—¶é—´è®¡ç®—é˜Ÿåˆ—ä¸­å…ƒç´ çš„æœ€å¤§å€¼</span>    <span class="token keyword">def</span> <span class="token function">max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Comparable'</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># å•è°ƒé˜Ÿåˆ—ç‰¹æœ‰ APIï¼ŒO(1) æ—¶é—´è®¡ç®—é˜Ÿåˆ—ä¸­å…ƒç´ çš„æœ€å°å€¼</span>    <span class="token keyword">def</span> <span class="token function">min</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">'Comparable'</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘å°†åœ¨ <a href="https://labuladong.online/algo/problem-set/monotonic-queue/">å•è°ƒé˜Ÿåˆ—é€šç”¨å®ç°åŠåº”ç”¨</a> ä¸­ç»™å‡ºå•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°å’Œç»å…¸ä¹ é¢˜ã€‚æ›´å¤šæ•°æ®ç»“æ„è®¾è®¡ç±»é¢˜ç›®å‚è§ <a href="https://labuladong.online/algo/problem-set/ds-design/">æ•°æ®ç»“æ„è®¾è®¡ç»å…¸ä¹ é¢˜</a>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</title>
      <link href="/2025/06/14/lian-xi-dan-diao-zhan-de-ji-chong-bian-ti-ji-jing-dian-xi-ti/"/>
      <url>/2025/06/14/lian-xi-dan-diao-zhan-de-ji-chong-bian-ti-ji-jing-dian-xi-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="å•è°ƒæ ˆæ¨¡æ¿çš„å˜ä½“"><a href="#å•è°ƒæ ˆæ¨¡æ¿çš„å˜ä½“" class="headerlink" title="å•è°ƒæ ˆæ¨¡æ¿çš„å˜ä½“"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8D%95%E8%B0%83%E6%A0%88%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8F%98%E4%BD%93">å•è°ƒæ ˆæ¨¡æ¿çš„å˜ä½“</a></h2><h3 id="ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ "><a href="#ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ " class="headerlink" title="ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E7%9A%84%E5%85%83%E7%B4%A0">ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ </a></h3><p>ä¸Šç¯‡æ–‡ç«  <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆçš„å®ç°</a> å¸¦ä½ ä½¿ç”¨å•è°ƒæ ˆè§£å†³äº†ã€Œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å®ç°äº†è¿™æ ·ä¸€ä¸ªå‡½æ•°è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextGreaterElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token comment">// å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å› ä¸ºæ˜¯æ±‚ nums[i] åé¢çš„å…ƒç´ ï¼Œæ‰€ä»¥å€’ç€å¾€æ ˆé‡Œæ”¾</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ æ‰ nums[i] åé¢è¾ƒå°çš„å…ƒç´ </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] èº«åçš„æ›´å¤§å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ "><a href="#ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ " class="headerlink" title="ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E6%88%96%E7%9B%B8%E7%AD%89%E7%9A%84%E5%85%83%E7%B4%A0">ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ </a></h3><p>æœ¬æ–‡ç»™å‡ºè¿™ä¸ªé—®é¢˜çš„ä¸€äº›å˜ä½“ï¼Œæ¯”å¦‚è¯´è®©ä½ è®¡ç®— <code>nums[i]</code> çš„ä¸‹ä¸€ä¸ªå¤§äºç­‰äº <code>nums[i]</code> çš„å…ƒç´ æ€ä¹ˆç®—ï¼Ÿæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å…¶å®å¾ˆç®€å•ï¼ŒæŠŠä¸Šé¢è¿™æ®µä»£ç ä¸­ while å¾ªç¯çš„ <code>&lt;=</code> å·æ”¹æˆ <code>&lt;</code> å·å³å¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextGreaterOrEqualElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æŠŠè¿™é‡Œæ”¹æˆ &lt; å·</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] èº«åçš„å¤§äºç­‰äº nums[i] çš„å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ "><a href="#ä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ " class="headerlink" title="ä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0">ä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ </a></h3><p>å†å˜ä¸€å˜ï¼Œå¦‚æœè®©ä½ è®¡ç®— <code>nums[i]</code> çš„ä¸‹ä¸€ä¸ªå°äº <code>nums[i]</code> çš„å…ƒç´ ï¼Œæ€ä¹ˆç®—ï¼Ÿæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¹Ÿå¾ˆç®€å•ï¼ŒæŠŠä¹‹å‰å®ç°çš„ <code>nextGreaterElement</code> ä¸­ while å¾ªç¯çš„ <code>&lt;=</code> æ¡ä»¶æ”¹æˆ <code>&gt;=</code> æ¡ä»¶å³å¯å¾—å‡ºä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å°çš„å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextLessElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token comment">// å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å€’ç€å¾€æ ˆé‡Œæ”¾</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ æ‰ nums[i] åé¢è¾ƒå¤§çš„å…ƒç´ </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] èº«åçš„æ›´å°å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ "><a href="#ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ " class="headerlink" title="ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%B0%8F%E6%88%96%E7%9B%B8%E7%AD%89%E7%9A%84%E5%85%83%E7%B4%A0">ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ </a></h3><p>å¦‚æœè®©ä½ è®¡ç®— <code>nums[i]</code> çš„ä¸‹ä¸€ä¸ªå°äºæˆ–ç­‰äº <code>nums[i]</code> çš„å…ƒç´ ï¼Œæ€ä¹ˆç®—ï¼Ÿæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç±»ä¼¼çš„ï¼ŒæŠŠ <code>nextLessElement</code> å‡½æ•°çš„ while å¾ªç¯ä¸­çš„ <code>&gt;=</code> æ”¹æˆ <code>&gt;</code> å³å¯ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextLessOrEqualElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token comment">// å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å€’ç€å¾€æ ˆé‡Œæ”¾</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ æ‰ nums[i] åé¢è¾ƒå¤§çš„å…ƒç´ </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] èº«åçš„æ›´å°æˆ–ç›¸ç­‰å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ "><a href="#ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ " class="headerlink" title="ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E5%85%83%E7%B4%A0">ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ </a></h3><p>ä¹‹å‰çš„ 4 ä¸ªä¾‹å­éƒ½æ˜¯è®¡ç®— <code>nums[i]</code> çš„ä¸‹ä¸€ä¸ªæ›´å¤§&#x2F;æ›´å°å…ƒç´ ï¼Œç°åœ¨è¯·ä½ è®¡ç®— <code>nums[i]</code> çš„ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œä½ ä¼šä¸ä¼šï¼Ÿæ¯”å¦‚è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ³¨æ„ä¹‹å‰æˆ‘ä»¬çš„ for å¾ªç¯éƒ½æ˜¯ä»æ•°ç»„çš„å°¾éƒ¨å¼€å§‹å¾€æ ˆé‡Œæ·»åŠ å…ƒç´ ï¼Œè¿™æ ·æ ˆé¡¶å…ƒç´ å°±æ˜¯ <code>nums[i]</code> ä¹‹åçš„å…ƒç´ ã€‚æ‰€ä»¥åªè¦æˆ‘ä»¬ä»æ•°ç»„çš„å¤´éƒ¨å¼€å§‹å¾€æ ˆé‡Œæ·»åŠ å…ƒç´ ï¼Œæ ˆé¡¶çš„å…ƒç´ å°±æ˜¯ <code>nums[i]</code> ä¹‹å‰çš„å…ƒç´ ï¼Œå³å¯è®¡ç®— <code>nums[i]</code> çš„ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚</p><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">prevGreaterElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å› ä¸ºæ˜¯æ±‚ nums[i] å‰é¢çš„å…ƒç´ ï¼Œæ‰€ä»¥æ­£ç€å¾€æ ˆé‡Œæ”¾</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ æ‰ nums[i] å‰é¢è¾ƒå°çš„å…ƒç´ </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] å‰é¢çš„æ›´å¤§å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç±»ä¼¼ä¹‹å‰çš„å‡ ç§å®ç°ï¼ŒåŸºäºè¿™ä¸ªå‡½æ•°è¿˜å¯ä»¥æ±‚å‡º <code>nums[i]</code> çš„ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ ã€ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ ã€ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ ï¼Œåªè¦æ”¹ä¸€æ”¹ while å¾ªç¯çš„ç¬¦å·å³å¯ï¼Œä¸‹é¢ä¸€ä¸€åˆ—å‡ºå…·ä½“å®ç°ã€‚</p><h3 id="ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ "><a href="#ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ " class="headerlink" title="ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E6%88%96%E7%9B%B8%E7%AD%89%E7%9A%84%E5%85%83%E7%B4%A0">ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ </a></h3><p>ä¸¾ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">prevGreaterOrEqualElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ³¨æ„ä¸ç­‰å·</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] å‰é¢çš„æ›´å¤§æˆ–ç›¸ç­‰å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ "><a href="#ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ " class="headerlink" title="ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0">ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ </a></h3><p>ä¸¾ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªæ›´å°çš„å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">prevLessElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æŠŠ nums[i] ä¹‹å‰çš„è¾ƒå¤§å…ƒç´ åˆ é™¤</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] å‰é¢çš„æ›´å°å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ "><a href="#ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ " class="headerlink" title="ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%B0%8F%E6%88%96%E7%9B%B8%E7%AD%89%E7%9A%84%E5%85%83%E7%B4%A0">ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ </a></h3><p>ä¸¾ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>è¿”å›ï¼šres <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰å…ƒç´ </span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">prevLessOrEqualElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> stk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ³¨æ„ä¸ç­‰å·</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stk<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] å‰é¢çš„æ›´å°æˆ–ç›¸ç­‰å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stk<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> stk<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        stk<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è‡³æ­¤ï¼Œå•è°ƒæ ˆçš„å‡ ç§æ ‡å‡†æ¨¡æ¿å°±åˆ—ä¸¾å®Œäº†ï¼Œä»–ä»¬ä¹‹é—´æœ‰å¾ˆå¤šå…±æ€§ï¼Œç†è§£æ€§è®°å¿†å°±å¥½ï¼Œä¸ç”¨æ­»è®°ç¡¬èƒŒã€‚åœ¨å®é™…ç®—æ³•é¢˜ä¸­ä¸ä¼šç›´æ¥è€ƒå¯Ÿä½ è¿™äº›æ ‡å‡†åœºæ™¯ï¼Œä½†æ˜¯ç¨åŠ æ€è€ƒå°±å¯ä»¥æŠ½è±¡æˆè¿™äº›æ ‡å‡†åœºæ™¯</strong>ã€‚</p><p>ä¸‹é¢å¸¦å¤§å®¶åšå‡ é“ä¹ é¢˜ç»ƒä¹ ä¸€ä¸‹å•è°ƒæ ˆæ¨¡æ¿çš„ä½¿ç”¨ã€‚</p><h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E4%B9%A0%E9%A2%98">ä¹ é¢˜</a></h2><h2 id="1019-é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹"><a href="#1019-é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹" class="headerlink" title="1019. é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_next-greater-node-in-linked-list">1019. é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1019. é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/next-greater-node-in-linked-list/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/next-greater-node-in-linked-list/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;çš„é“¾è¡¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code></p><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">æ›´å¤§èŠ‚ç‚¹</strong><span>&nbsp;</span>çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰¾åˆ°å®ƒæ—è¾¹çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„å€¼<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼å¤§äº</strong><span>&nbsp;</span>å®ƒçš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">answer</code><span>&nbsp;</span>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">answer[i]</code><span>&nbsp;</span>æ˜¯ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹(<span>&nbsp;</span><strong style="font-weight: 600;">ä»1å¼€å§‹</strong><span>&nbsp;</span>)çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>ä¸ªèŠ‚ç‚¹æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„èŠ‚ç‚¹ï¼Œè®¾ç½®&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">answer[i] = 0</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/08/05/linkedlistnext1.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [2,1,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5,5,0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/uploads/2021/08/05/linkedlistnext2.jpg" style="max-width: 100%;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [2,7,4,3,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[7,0,5,5,0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= Node.val &lt;= 10<sup>9</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/next-greater-node-in-linked-list/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1019. é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜è¾“å…¥çš„æ˜¯ä¸€æ¡å•é“¾è¡¨ï¼Œæˆ‘ä»¬æŠŠå®ƒè½¬åŒ–æˆæ•°ç»„ï¼Œæ–¹ä¾¿ç”¨ç´¢å¼•è®¿é—®å³å¯ç›´æ¥å¥—ç”¨ <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆæ¨¡æ¿</a> ä¸­çš„ <code>nextGreaterElement</code> å‡½æ•°é€»è¾‘ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç "><a href="#è§£æ³•ä»£ç " class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class Solution:    def nextLargerNodes(self, head: ListNode) -&gt; List[int]:        # æŠŠå•é“¾è¡¨è½¬åŒ–æˆæ•°ç»„ï¼Œæ–¹ä¾¿é€šè¿‡ç´¢å¼•è®¿é—®        nums &#x3D; []        p &#x3D; head        while p:            nums.append(p.val)            p &#x3D; p.next                # å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„        res &#x3D; [0] * len(nums)        stk &#x3D; []                # å•è°ƒæ ˆæ¨¡æ¿ï¼Œæ±‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œä»åå¾€å‰éå†        for i in range(len(nums) - 1, -1, -1):            while stk and stk[-1] &lt;&#x3D; nums[i]:                stk.pop()            # æœ¬é¢˜è¦æ±‚æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ—¶è¿”å› 0            res[i] &#x3D; 0 if not stk else stk[-1]            stk.append(nums[i])                return res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_next-greater-node-in-linked-list" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_next-greater-node-in-linked-list" src="https://labuladong.online/algo-visualize/leetcode/next-greater-node-in-linked-list/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1944-é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°"><a href="#1944-é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°" class="headerlink" title="1944. é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_number-of-visible-people-in-a-queue">1944. é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1944. é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/number-of-visible-people-in-a-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/number-of-visible-people-in-a-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;ä¸ªäººæ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œ<strong style="font-weight: 600;">ä»å·¦åˆ°å³</strong>&nbsp;ç¼–å·ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>&nbsp;åˆ°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n - 1</code>&nbsp;ã€‚ç»™ä½ ä»¥ä¸€ä¸ªæ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">heights</code>&nbsp;ï¼Œæ¯ä¸ªæ•´æ•°<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">heights[i]</code>&nbsp;è¡¨ç¤ºç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä¸ªäººçš„é«˜åº¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€ä¸ªäººèƒ½<span>&nbsp;</span><strong style="font-weight: 600;">çœ‹åˆ°</strong><span>&nbsp;</span>ä»–å³è¾¹å¦ä¸€ä¸ªäººçš„æ¡ä»¶æ˜¯è¿™ä¸¤äººä¹‹é—´çš„æ‰€æœ‰äººéƒ½æ¯”ä»–ä»¬ä¸¤äºº<span>&nbsp;</span><strong style="font-weight: 600;">çŸ®</strong>&nbsp;ã€‚æ›´æ­£å¼çš„ï¼Œç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä¸ªäººèƒ½çœ‹åˆ°ç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code>&nbsp;ä¸ªäººçš„æ¡ä»¶æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i &lt; j</code>&nbsp;ä¸”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">min(heights[i], heights[j]) &gt; max(heights[i+1], heights[i+2], ..., heights[j-1])</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code>&nbsp;çš„æ•°ç»„<em>&nbsp;</em><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">answer</code><em>&nbsp;</em>ï¼Œå…¶ä¸­<em>&nbsp;</em><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">answer[i]</code><em>&nbsp;</em>æ˜¯ç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä¸ªäººåœ¨ä»–å³ä¾§é˜Ÿåˆ—ä¸­èƒ½&nbsp;<strong style="font-weight: 600;">çœ‹åˆ°</strong>&nbsp;çš„&nbsp;<strong style="font-weight: 600;">äººæ•°</strong>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/05/29/queue-plane.jpg" style="max-width: 100%; width: 600px; height: 247px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>heights = [10,6,8,5,11,9]<b>è¾“å‡ºï¼š</b>[3,1,2,1,1,0]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¬¬ 0 ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º 1 ï¼Œ2 å’Œ 4 çš„äººã€‚ç¬¬ 1 ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º 2 çš„äººã€‚ç¬¬ 2 ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º 3 å’Œ 4 çš„äººã€‚ç¬¬ 3 ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º 4 çš„äººã€‚ç¬¬ 4 ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º 5 çš„äººã€‚ç¬¬ 5 ä¸ªäººè°ä¹Ÿçœ‹ä¸åˆ°å› ä¸ºä»–å³è¾¹æ²¡äººã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><b>è¾“å…¥ï¼š</b>heights = [5,1,2,3,10]<b>è¾“å‡ºï¼š</b>[4,1,1,1,0]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == heights.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= heights[i] &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">heights</code>&nbsp;ä¸­æ‰€æœ‰æ•°<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong>&nbsp;ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/number-of-visible-people-in-a-queue/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1944. é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜æ˜¾ç„¶è¦ç”¨åˆ° <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆæŠ€å·§</a>ï¼šé å·¦çš„é«˜ä¸ªå­å¯ä»¥æŠŠé å³ç›¸é‚»çš„çŸ®ä¸ªå­éƒ½ã€ŒæŒ¤æ‰ã€ï¼Œç›¸å½“äºè®¡ç®—ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå³ <a href="https://labuladong.online/algo/problem-set/monotonic-stack/">å•è°ƒæ ˆçš„å‡ ç§æ¨¡æ¿å®ç°</a> ä¸­çš„ <code>nextGreaterElement</code> å‡½æ•°ã€‚</p><p>åªä¸è¿‡è¿™é“é¢˜ä¸æ˜¯é—®ä½ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯å¤šå°‘ï¼Œè€Œæ˜¯é—®ä½ å½“å‰å…ƒç´ å’Œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ä¹‹é—´çš„å…ƒç´ ä¸ªæ•°ï¼Œç›´æ¥çœ‹è§£æ³•ä»£ç å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -1"><a href="#è§£æ³•ä»£ç -1" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">canSeePersonsCount</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> heights<span class="token punctuation">)</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># int[] è®°å½• &#123;èº«é«˜ï¼Œå°äºç­‰äºè¯¥èº«é«˜çš„äººæ•°&#125; äºŒå…ƒç»„</span>        stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># è®°å½•å³ä¾§æ¯”è‡ªå·±çŸ®çš„äºº</span>            count <span class="token operator">=</span> <span class="token number">0</span>            <span class="token comment"># å•è°ƒæ ˆæ¨¡æ¿ï¼Œè®¡ç®—ä¸‹ä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰å…ƒç´ ï¼ˆèº«é«˜ï¼‰</span>            <span class="token keyword">while</span> stk <span class="token keyword">and</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> stk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                count <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># ä¸ä»…å¯ä»¥çœ‹åˆ°æ¯”è‡ªå·±çŸ®çš„äººï¼Œå¦‚æœåé¢å­˜åœ¨æ›´é«˜çš„çš„äººï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°è¿™ä¸ªé«˜äºº</span>            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> count <span class="token keyword">if</span> <span class="token keyword">not</span> stk <span class="token keyword">else</span> count <span class="token operator">+</span> <span class="token number">1</span>            stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-1"><a href="#å¯è§†åŒ–-1" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_number-of-visible-people-in-a-queue" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_number-of-visible-people-in-a-queue" src="https://labuladong.online/algo-visualize/leetcode/number-of-visible-people-in-a-queue/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="1475-å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼"><a href="#1475-å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼" class="headerlink" title="1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_final-prices-with-a-special-discount-in-a-shop">1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/final-prices-with-a-special-discount-in-a-shop/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">prices</code>&nbsp;ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">prices[i]</code>&nbsp;æ˜¯å•†åº—é‡Œç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä»¶å•†å“çš„ä»·æ ¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å•†åº—é‡Œæ­£åœ¨è¿›è¡Œä¿ƒé”€æ´»åŠ¨ï¼Œå¦‚æœä½ è¦ä¹°ç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä»¶å•†å“ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¾—åˆ°ä¸<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">prices[j]</code><span>&nbsp;</span>ç›¸ç­‰çš„æŠ˜æ‰£ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code>&nbsp;æ˜¯æ»¡è¶³&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j &gt; i</code>&nbsp;ä¸”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">prices[j] &lt;= prices[i]</code>&nbsp;çš„&nbsp;<strong style="font-weight: 600;">æœ€å°ä¸‹æ ‡</strong>&nbsp;ï¼Œå¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code>&nbsp;ï¼Œä½ å°†æ²¡æœ‰ä»»ä½•æŠ˜æ‰£ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­ç¬¬&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;ä¸ªå…ƒç´ æ˜¯æŠ˜æ‰£åä½ è´­ä¹°å•†å“<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code>&nbsp;æœ€ç»ˆéœ€è¦æ”¯ä»˜çš„ä»·æ ¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>prices = [8,4,6,2,3]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[4,2,4,2,3]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å•†å“ 0 çš„ä»·æ ¼ä¸º price[0]=8 ï¼Œä½ å°†å¾—åˆ° prices[1]=4 çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º 8 - 4 = 4 ã€‚å•†å“ 1 çš„ä»·æ ¼ä¸º price[1]=4 ï¼Œä½ å°†å¾—åˆ° prices[3]=2 çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º 4 - 2 = 2 ã€‚å•†å“ 2 çš„ä»·æ ¼ä¸º price[2]=6 ï¼Œä½ å°†å¾—åˆ° prices[3]=2 çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º 6 - 2 = 4 ã€‚å•†å“ 3 å’Œ 4 éƒ½æ²¡æœ‰æŠ˜æ‰£ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>prices = [1,2,3,4,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2,3,4,5]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€æœ‰å•†å“éƒ½æ²¡æœ‰æŠ˜æ‰£ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>prices = [10,1,1,6]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[9,0,1,6]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= prices.length &lt;= 500</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= prices[i] &lt;= 10^3</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-2"><a href="#åŸºæœ¬æ€è·¯-2" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜å°±ç”¨åˆ°äº† <a href="https://labuladong.online/algo/problem-set/monotonic-stack/">å•è°ƒæ ˆçš„å‡ ç§æ¨¡æ¿å®ç°</a> ä¸­è®²åˆ°çš„ä¸€ä¸ªå•è°ƒæ ˆæ¨¡æ¿ï¼šè®¡ç®—ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´ ã€‚æˆ‘æ˜¯ä¸ºäº†è¿ç”¨æ¨¡æ¿ï¼Œæ‰€ä»¥æŠŠè§£æ³•åˆ†æˆäº†ä¸¤ä¸ªå‡½æ•°ï¼Œæ•ˆç‡å¯èƒ½ä¼šé™ä½ä¸€äº›ï¼Œä½ å®Œå…¨å¯ä»¥ä¼˜åŒ–è¿™ä¸ªè§£æ³•çš„å½¢å¼ï¼Œä½¿ä¹‹æ›´é«˜æ•ˆã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -2"><a href="#è§£æ³•ä»£ç -2" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class Solution:    def finalPrices(self, prices: List[int]) -&gt; List[int]:        n &#x3D; len(prices)        res &#x3D; [0] * n        # ä¸‹ä¸€ä¸ªå°äºç­‰äº price[i] çš„ä»·æ ¼å°±æ˜¯ä¼˜æƒ åˆ¸æŠ˜æ‰£        next_element &#x3D; self.nextLessOrEqualElement(prices)        for i in range(len(prices)):            # å¦‚æœå­˜åœ¨ä¼˜æƒ åˆ¸ï¼Œåˆ™å‡å°‘ç›¸åº”çš„ä»·æ ¼            if next_element[i] !&#x3D; -1:                res[i] &#x3D; prices[i] - next_element[i]            else:                res[i] &#x3D; prices[i]        return res    # å•è°ƒæ ˆæ¨¡æ¿ï¼šè®¡ç®— nums ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å°æˆ–ç›¸ç­‰çš„å…ƒç´     def nextLessOrEqualElement(self, nums: List[int]) -&gt; List[int]:        n &#x3D; len(nums)        # å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„        res &#x3D; [-1] * n        s &#x3D; []        # å€’ç€å¾€æ ˆé‡Œæ”¾        for i in range(n - 1, -1, -1):            # åˆ æ‰ nums[i] åé¢è¾ƒå¤§çš„å…ƒç´             while s and s[-1] &gt; nums[i]:                s.pop()            # ç°åœ¨æ ˆé¡¶å°±æ˜¯ nums[i] èº«åçš„æ›´å°æˆ–ç›¸ç­‰å…ƒç´             res[i] &#x3D; s[-1] if s else -1            s.append(nums[i])        return res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-2"><a href="#å¯è§†åŒ–-2" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_final-prices-with-a-special-discount-in-a-shop" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_final-prices-with-a-special-discount-in-a-shop" src="https://labuladong.online/algo-visualize/leetcode/final-prices-with-a-special-discount-in-a-shop/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦"><a href="#901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦" class="headerlink" title="901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_online-stock-span">901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/online-stock-span/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/online-stock-span/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ä¸ªç®—æ³•æ”¶é›†æŸäº›è‚¡ç¥¨çš„æ¯æ—¥æŠ¥ä»·ï¼Œå¹¶è¿”å›è¯¥è‚¡ç¥¨å½“æ—¥ä»·æ ¼çš„<span>&nbsp;</span><strong style="font-weight: 600;">è·¨åº¦</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å½“æ—¥è‚¡ç¥¨ä»·æ ¼çš„<span>&nbsp;</span><strong style="font-weight: 600;">è·¨åº¦</strong><span>&nbsp;</span>è¢«å®šä¹‰ä¸ºè‚¡ç¥¨ä»·æ ¼å°äºæˆ–ç­‰äºä»Šå¤©ä»·æ ¼çš„æœ€å¤§è¿ç»­æ—¥æ•°ï¼ˆä»ä»Šå¤©å¼€å§‹å¾€å›æ•°ï¼ŒåŒ…æ‹¬ä»Šå¤©ï¼‰ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;">ä¾‹å¦‚ï¼Œå¦‚æœæœªæ¥ 7 å¤©è‚¡ç¥¨çš„ä»·æ ¼æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[100,80,60,70,60,75,85]</code>ï¼Œé‚£ä¹ˆè‚¡ç¥¨è·¨åº¦å°†æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1,1,1,2,1,4,6]</code><span>&nbsp;</span>ã€‚</p></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">StockSpanner</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">StockSpanner()</code><span>&nbsp;</span>åˆå§‹åŒ–ç±»å¯¹è±¡ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int next(int price)</code><span>&nbsp;</span>ç»™å‡ºä»Šå¤©çš„è‚¡ä»·<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">price</code><span>&nbsp;</span>ï¼Œè¿”å›è¯¥è‚¡ç¥¨å½“æ—¥ä»·æ ¼çš„<span>&nbsp;</span><strong style="font-weight: 600;">è·¨åº¦</strong><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>ï¼š["StockSpanner", "next", "next", "next", "next", "next", "next", "next"][[], [100], [80], [60], [70], [60], [75], [85]]<strong style="font-weight: 600;">è¾“å‡º</strong>ï¼š[null, 1, 1, 1, 2, 1, 4, 6]<p><strong style="font-weight: 600;">è§£é‡Šï¼š</strong><br>StockSpanner stockSpanner &#x3D; new StockSpanner();<br>stockSpanner.next(100); &#x2F;&#x2F; è¿”å› 1<br>stockSpanner.next(80);  &#x2F;&#x2F; è¿”å› 1<br>stockSpanner.next(60);  &#x2F;&#x2F; è¿”å› 1<br>stockSpanner.next(70);  &#x2F;&#x2F; è¿”å› 2<br>stockSpanner.next(60);  &#x2F;&#x2F; è¿”å› 1<br>stockSpanner.next(75);  &#x2F;&#x2F; è¿”å› 4 ï¼Œå› ä¸ºæˆªè‡³ä»Šå¤©çš„æœ€å 4 ä¸ªè‚¡ä»· (åŒ…æ‹¬ä»Šå¤©çš„è‚¡ä»· 75) éƒ½å°äºæˆ–ç­‰äºä»Šå¤©çš„è‚¡ä»·ã€‚<br>stockSpanner.next(85);  &#x2F;&#x2F; è¿”å› 6<br></pre>&nbsp;<p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= price &lt;= 10<sup>5</sup></code></li><li>æœ€å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">next</code><span>&nbsp;</span>æ–¹æ³•<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>4</sup></code><span>&nbsp;</span>æ¬¡</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/online-stock-span/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-3"><a href="#åŸºæœ¬æ€è·¯-3" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜æ˜¾ç„¶è¦ç”¨åˆ° <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆæŠ€å·§</a>ï¼šå½“åŠ å…¥ <code>price</code> æ—¶ï¼ŒæŠŠæ‰€æœ‰å°äºç­‰äº <code>price</code> çš„ä»·æ ¼éƒ½ã€ŒæŒ¤æ‰ã€ï¼Œç›¸å½“äºè®¡ç®—å‰ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå³ <a href="https://labuladong.online/algo/problem-set/monotonic-stack/">å•è°ƒæ ˆçš„å‡ ç§æ¨¡æ¿å®ç°</a> ä¸­çš„ <code>prevGreaterElement</code> å‡½æ•°ã€‚</p><p>æ¯”å¦‚å·²ç»å…¥æ ˆçš„ä»·æ ¼åºåˆ—æ˜¯ <code>[40, 30, 20, 10]</code>ï¼Œé‚£ä¹ˆå¦‚æœæ‰§è¡Œ <code>next(25)</code>ï¼Œä»·æ ¼åºåˆ—å˜æˆ <code>[40, 30, 25]</code>ï¼Œ20 å’Œ 10 éƒ½ä¼šè¢«ã€ŒæŒ¤æ‰ã€ï¼Œç®—ä¸Š 25 æœ¬èº«ï¼Œå‡½æ•°è¿”å› 2 + 1 &#x3D; 3ã€‚</p><p><strong>ä½†è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œè¿™ä¸ª 3 åº”è¯¥ä½œä¸ºã€Œæƒé‡ã€å’Œ 25 ä¸€åŒå­˜å‚¨åœ¨æ ˆä¸­</strong>ã€‚å› ä¸ºä¹‹å 25 è¿˜å¯èƒ½è¢«æŒ¤æ‰ï¼Œæ¯”å¦‚è¯´æ‰§è¡Œ <code>next(26)</code>ï¼Œä»·æ ¼åºåˆ—å°±å˜æˆäº† <code>[40, 30, 26]</code>ï¼Œä½†è¿™ç§æƒ…å†µä¸‹ä¹‹å‰çš„ 20 å’Œ 10 æ˜¾ç„¶ä¹Ÿåº”è¯¥è¢«æŒ¤æ‰ï¼Œå‡½æ•°åº”è¯¥è¿”å› 3 + 1 &#x3D; 4ã€‚å…·ä½“è§£æ³•çœ‹ä»£ç å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -3"><a href="#è§£æ³•ä»£ç -3" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class StockSpanner:    # int[] è®°å½• &#123;ä»·æ ¼ï¼Œå°äºç­‰äºè¯¥ä»·æ ¼çš„å¤©æ•°&#125; äºŒå…ƒç»„    def __init__(self):        self.stk &#x3D; []    def next(self, price: int) -&gt; int:        # ç®—ä¸Šå½“å¤©        count &#x3D; 1        # å•è°ƒæ ˆæ¨¡æ¿        while self.stk and price &gt;&#x3D; self.stk[-1][0]:            # æŒ¤æ‰ä»·æ ¼ä½äº price çš„è®°å½•            prev &#x3D; self.stk.pop()            # è®¡ç®—å°äºç­‰äº price çš„å¤©æ•°            count +&#x3D; prev[1]        self.stk.append([price, count])        return count<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="402-ç§»æ‰-K-ä½æ•°å­—"><a href="#402-ç§»æ‰-K-ä½æ•°å­—" class="headerlink" title="402. ç§»æ‰ K ä½æ•°å­—"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_remove-k-digits">402. ç§»æ‰ K ä½æ•°å­—</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">402. ç§»æ‰ K ä½æ•°å­—</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/remove-k-digits/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/remove-k-digits/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">num</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><em><span>&nbsp;</span></em>ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚è¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¿™ä¸ªæœ€å°çš„æ•°å­—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1 ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>num = "1432219", k = 3<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"1219"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2 ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>num = "10200", k = 1<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"200"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç§»æ‰é¦–ä½çš„ 1 å‰©ä¸‹çš„æ•°å­—ä¸º 200. æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3 ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>num = "10", k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"0"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯ 0 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= num.length &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">num</code><span>&nbsp;</span>ä»…ç”±è‹¥å¹²ä½æ•°å­—ï¼ˆ0 - 9ï¼‰ç»„æˆ</li><li>é™¤äº†<span>&nbsp;</span><strong style="font-weight: 600;">0</strong><span>&nbsp;</span>æœ¬èº«ä¹‹å¤–ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">num</code><span>&nbsp;</span>ä¸å«ä»»ä½•å‰å¯¼é›¶</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/remove-k-digits/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 402. ç§»æ‰ K ä½æ•°å­—</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-4"><a href="#åŸºæœ¬æ€è·¯-4" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>å¦‚æœæƒ³è®©ç»“æœå°½å¯èƒ½å°ï¼Œé‚£ä¹ˆæ¸…é™¤æ•°å­—åˆ†ä¸¤æ­¥ï¼š</p><p>1ã€å…ˆåˆ é™¤ <code>num</code> ä¸­çš„è‹¥å¹²æ•°å­—ï¼Œä½¿å¾— <code>num</code> ä»å·¦åˆ°å³æ¯ä¸€ä½éƒ½å•è°ƒé€’å¢ã€‚æ¯”å¦‚ <code>14329</code> è½¬åŒ–æˆ <code>129</code>ï¼Œè¿™éœ€è¦ä½¿ç”¨åˆ° <a href="https://labuladong.online/algo/data-structure/monotonic-stack/">å•è°ƒæ ˆæŠ€å·§</a>ã€‚</p><p>2ã€<code>num</code> ä¸­çš„æ¯ä¸€ä½å˜æˆå•è°ƒé€’å¢çš„ä¹‹åï¼Œå¦‚æœ <code>k</code> è¿˜å¤§äº 0ï¼ˆè¿˜å¯ä»¥ç»§ç»­åˆ é™¤ï¼‰çš„è¯ï¼Œåˆ™åˆ é™¤å°¾éƒ¨çš„æ•°å­—ï¼Œæ¯”å¦‚ <code>129</code> åˆ é™¤æˆ <code>12</code>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -4"><a href="#è§£æ³•ä»£ç -4" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class Solution:    def removeKdigits(self, num: str, k: int) -&gt; str:        stk &#x3D; []        for c in num:            # å•è°ƒæ ˆä»£ç æ¨¡æ¿            while stk and k &gt; 0 and c &lt; stk[-1]:                stk.pop()                k -&#x3D; 1            # é˜²æ­¢ 0 ä½œä¸ºæ•°å­—çš„å¼€å¤´            if not stk and c &#x3D;&#x3D; &#39;0&#39;:                continue            stk.append(c)        # æ­¤æ—¶æ ˆä¸­å…ƒç´ å•è°ƒé€’å¢ï¼Œè‹¥ k è¿˜æ²¡ç”¨å®Œçš„è¯åˆ æ‰æ ˆé¡¶å…ƒç´         final_stack &#x3D; stk[:-k] if k else stk        # å°†æ ˆä¸­å­—ç¬¦è½¬åŒ–æˆå­—ç¬¦ä¸²        # å‡ºæ ˆé¡ºåºå’Œå­—ç¬¦ä¸²é¡ºåºæ˜¯åçš„        result &#x3D; &#39;&#39;.join(final_stack).lstrip(&#39;0&#39;)        # è‹¥æœ€åæ²¡å‰©ä¸‹æ•°å­—ï¼Œå°±æ˜¯ 0        return result if result else &#39;0&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-3"><a href="#å¯è§†åŒ–-3" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_remove-k-digits" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_remove-k-digits" src="https://labuladong.online/algo-visualize/leetcode/remove-k-digits/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="853-è½¦é˜Ÿ"><a href="#853-è½¦é˜Ÿ" class="headerlink" title="853. è½¦é˜Ÿ"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_car-fleet">853. è½¦é˜Ÿ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">853. è½¦é˜Ÿ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/car-fleet/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/car-fleet/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨ä¸€æ¡å•è¡Œé“ä¸Šï¼Œæœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>è¾†è½¦å¼€å¾€åŒä¸€ç›®çš„åœ°ã€‚ç›®çš„åœ°æ˜¯å‡ è‹±é‡Œä»¥å¤–çš„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">position</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">speed</code>&nbsp;ï¼Œé•¿åº¦éƒ½æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">position[i]</code>&nbsp;æ˜¯ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>è¾†è½¦çš„ä½ç½®ï¼Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">speed[i]</code>&nbsp;æ˜¯ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>è¾†è½¦çš„é€Ÿåº¦(å•ä½æ˜¯è‹±é‡Œ/å°æ—¶)ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸€è¾†è½¦æ°¸è¿œä¸ä¼šè¶…è¿‡å‰é¢çš„å¦ä¸€è¾†è½¦ï¼Œä½†å®ƒå¯ä»¥è¿½ä¸Šå»ï¼Œå¹¶ä»¥è¾ƒæ…¢è½¦çš„é€Ÿåº¦åœ¨å¦ä¸€è¾†è½¦æ—è¾¹è¡Œé©¶ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è½¦é˜Ÿ<span>&nbsp;</span></strong>æ˜¯æŒ‡å¹¶æ’è¡Œé©¶çš„ä¸€è¾†æˆ–å‡ è¾†æ±½è½¦ã€‚è½¦é˜Ÿçš„é€Ÿåº¦æ˜¯è½¦é˜Ÿä¸­<span>&nbsp;</span><strong style="font-weight: 600;">æœ€æ…¢</strong><span>&nbsp;</span>çš„è½¦çš„é€Ÿåº¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å³ä¾¿ä¸€è¾†è½¦åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code><span>&nbsp;</span>æ‰èµ¶ä¸Šäº†ä¸€ä¸ªè½¦é˜Ÿï¼Œå®ƒä»¬ä»ç„¶ä¼šè¢«è§†ä½œæ˜¯åŒä¸€ä¸ªè½¦é˜Ÿã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›åˆ°è¾¾ç›®çš„åœ°çš„è½¦é˜Ÿæ•°é‡ ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><div class="example-block"><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å…¥ï¼š</b>target = 12, position = [10,8,0,5,3], speed = [2,4,1,1,3]</span></p><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å‡ºï¼š</b>3</span></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è§£é‡Šï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä» 10ï¼ˆé€Ÿåº¦ä¸º 2ï¼‰å’Œ 8ï¼ˆé€Ÿåº¦ä¸º 4ï¼‰å¼€å§‹çš„è½¦ä¼šç»„æˆä¸€ä¸ªè½¦é˜Ÿï¼Œå®ƒä»¬åœ¨ 12 ç›¸é‡ã€‚è½¦é˜Ÿåœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>&nbsp;å½¢æˆã€‚</li><li>ä» 0ï¼ˆé€Ÿåº¦ä¸º 1ï¼‰å¼€å§‹çš„è½¦ä¸ä¼šè¿½ä¸Šå…¶å®ƒä»»ä½•è½¦ï¼Œæ‰€ä»¥å®ƒè‡ªå·±æ˜¯ä¸€ä¸ªè½¦é˜Ÿã€‚</li><li>ä» 5ï¼ˆé€Ÿåº¦ä¸º 1ï¼‰ å’Œ 3ï¼ˆé€Ÿåº¦ä¸º 3ï¼‰å¼€å§‹çš„è½¦ç»„æˆä¸€ä¸ªè½¦é˜Ÿï¼Œåœ¨ 6 ç›¸é‡ã€‚è½¦é˜Ÿä»¥é€Ÿåº¦ 1 ç§»åŠ¨ç›´åˆ°å®ƒåˆ°è¾¾&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>ã€‚</li></ul></div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><div class="example-block"><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å…¥ï¼š</b></span><span class="example-io">target = 10, position = [3], speed = [3]</span></p><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å‡ºï¼š</b></span><span class="example-io">1</span></p><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è§£é‡Šï¼š</strong></p>åªæœ‰ä¸€è¾†è½¦ï¼Œå› æ­¤åªæœ‰ä¸€ä¸ªè½¦é˜Ÿã€‚</div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><div class="example-block"><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å…¥ï¼š</b></span><span class="example-io">target = 100, position = [0,2,4], speed = [4,2,1]</span></p><p style="line-height: 1.6; overflow-wrap: break-word;"><span class="example-io"><b>è¾“å‡ºï¼š</b></span><span class="example-io">1</span></p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è§£é‡Šï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä» 0ï¼ˆé€Ÿåº¦ä¸º 4ï¼‰ å’Œ 2ï¼ˆé€Ÿåº¦ä¸º 2ï¼‰å¼€å§‹çš„è½¦ç»„æˆä¸€ä¸ªè½¦é˜Ÿï¼Œåœ¨ 4&nbsp;ç›¸é‡ã€‚ä» 4 å¼€å§‹çš„è½¦ï¼ˆé€Ÿåº¦ä¸º 1ï¼‰ç§»åŠ¨åˆ°äº† 5ã€‚</li><li>ç„¶åï¼Œåœ¨ 4ï¼ˆé€Ÿåº¦ä¸º 2ï¼‰çš„è½¦é˜Ÿå’Œåœ¨ 5ï¼ˆé€Ÿåº¦ä¸º 1ï¼‰çš„è½¦æˆä¸ºä¸€ä¸ªè½¦é˜Ÿï¼Œåœ¨ 6 ç›¸é‡ã€‚è½¦é˜Ÿä»¥é€Ÿåº¦ 1 ç§»åŠ¨ç›´åˆ°å®ƒåˆ°è¾¾&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">target</code>ã€‚</li></ul></div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == position.length == speed.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 10<sup>5</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt; target &lt;= 10<sup>6</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= position[i] &lt; target</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">position</code>&nbsp;ä¸­æ¯ä¸ªå€¼éƒ½<span>&nbsp;</span><strong style="font-weight: 600;">ä¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt; speed[i] &lt;= 10<sup>6</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/car-fleet/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 853. è½¦é˜Ÿ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-5"><a href="#åŸºæœ¬æ€è·¯-5" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜è€ƒå¯Ÿã€Œå•è°ƒæ ˆã€ç»“æ„çš„ä½¿ç”¨ã€‚æ˜¯å¦èƒ½å¤Ÿå½¢æˆè½¦é˜Ÿï¼Œå–å†³äºä¸‹è¿°è§„å¾‹ï¼š</p><p><strong>å¦‚æœè½¦ <code>x</code> æ’åœ¨ è½¦ <code>y</code> åé¢ï¼Œä¸” <code>x</code> åˆ°è¾¾ç»ˆç‚¹æ‰€éœ€æ—¶é—´æ¯” <code>y</code> å°‘ï¼Œåˆ™ <code>x</code> å¿…ç„¶ä¼šè¢« <code>y</code> å¡ä½ï¼Œå½¢æˆè½¦é˜Ÿ</strong>ã€‚</p><p>æ‰€ä»¥æœ¬é¢˜çš„æ€è·¯æ˜¯å…ˆæ ¹æ®æ¯è¾†è½¦çš„èµ·å§‹ä½ç½® <code>position</code> æ’åºï¼Œç„¶åè®¡ç®—å‡ºæ—¶é—´æ•°ç»„ <code>time</code>ã€‚</p><p>å‡è®¾è®¡ç®—å‡ºçš„ <code>time</code> æ•°ç»„ä¸º <code>[12, 3, 7, 1, 2]</code>ï¼Œé‚£ä¹ˆè§‚å¯Ÿæ•°ç»„çš„å•è°ƒæ€§å˜åŒ–ï¼Œæœ€åè‚¯å®šä¼šå½¢æˆä¸‰ä¸ªè½¦é˜Ÿï¼Œä»–ä»¬åˆ°è¾¾ç»ˆç‚¹çš„æ—¶é—´åˆ†åˆ«æ˜¯ 12, 7, 2ã€‚</p><p>å¯ä»¥åˆ©ç”¨å•è°ƒæ ˆç»“æ„æ¨¡æ‹Ÿå¾—å‡ºç»“æœï¼Œä¸è¿‡æ•ˆç‡ç¨å¾®ä½ä¸€äº›ã€‚ä¹Ÿå¯ä»¥å€’åºéå†æ•°ç»„å¾—å‡ºé€’å¢å­åºåˆ—ï¼Œå­åºåˆ—çš„é•¿åº¦å³ç­”æ¡ˆã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -5"><a href="#è§£æ³•ä»£ç -5" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON">class Solution:    def carFleet(self, target: int, position: List[int], speed: List[int]) -&gt; int:        n &#x3D; len(position)        cars &#x3D; []        for i in range(n):            cars.append([position[i], speed[i]])        # æŒ‰ç…§åˆå§‹ä½ç½®ï¼Œä»å°åˆ°å¤§æ’åº        cars.sort(key&#x3D;lambda x: x[0])        # è®¡ç®—æ¯è¾†è½¦åˆ°è¾¾ç»ˆç‚¹çš„æ—¶é—´        time &#x3D; []        for i in range(n):            car &#x3D; cars[i]            time.append((target - car[0]) &#x2F; car[1])                # ä½¿ç”¨å•è°ƒæ ˆè®¡ç®—è½¦é˜Ÿçš„æ•°é‡        # (This part is commented out in the original Java code, so it&#39;s also commented out here)        # stk &#x3D; []        # for t in time:        #     while stk and t &gt;&#x3D; stk[-1]:        #         stk.pop()        #     stk.append(t)        # return len(stk)        # é¿å…ä½¿ç”¨æ ˆæ¨¡æ‹Ÿï¼Œå€’åºéå†å–é€’å¢åºåˆ—å°±æ˜¯ç­”æ¡ˆ        res &#x3D; 0        max_time &#x3D; 0        for i in range(n - 1, -1, -1):            if time[i] &gt; max_time:                max_time &#x3D; time[i]                res +&#x3D; 1        return res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-4"><a href="#å¯è§†åŒ–-4" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-4">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_car-fleet" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_car-fleet" src="https://labuladong.online/algo-visualize/leetcode/car-fleet/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"><a href="#581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„" class="headerlink" title="581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#slug_shortest-unsorted-continuous-subarray">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/shortest-unsorted-continuous-subarray/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums</code><span>&nbsp;</span>ï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">è¿ç»­å­æ•°ç»„</strong><span>&nbsp;</span>ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€çŸ­</strong><span>&nbsp;</span>å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚</p><div class="original__bRMd"><div><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [2,6,4,8,10,9,15]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä½ åªéœ€è¦å¯¹ [6, 4, 8, 10, 9] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,2,3,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-10<sup>5</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>5</sup></code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(n)</code><span>&nbsp;</span>çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p></div></div></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-6"><a href="#åŸºæœ¬æ€è·¯-6" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p>æœ€ç®€å•çš„è§£æ³•æ˜¯æ’åºï¼Œæ’åºä¹‹åå¾ˆå®¹æ˜“çœ‹å‡ºæ¥å“ªä¸€éƒ¨åˆ†å­æ•°ç»„ä¹±åºäº†ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹å•è°ƒæ ˆçš„è§£æ³•ã€‚</p><p>å•è°ƒé€’å¢æ ˆä¼šç­›é€‰å‡ºé€’å¢çš„å…ƒç´ åºåˆ—ï¼Œæ¢å¥è¯è¯´ï¼Œæ¯åŠ å…¥ä¸€ä¸ªæ–°å…ƒç´  <code>x</code>ï¼Œå°±ä¼šå¼¹å‡ºæ ˆé¡¶å¤§äº <code>x</code> çš„å…¶ä»–å…ƒç´ ï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ å°äº <code>x</code> ä¸ºæ­¢ã€‚</p><p>åè¿‡æ¥ï¼Œå•è°ƒé€’å‡æ ˆä¼šç­›é€‰å‡ºé€’å‡çš„å…ƒç´ åºåˆ—ï¼Œæ¢å¥è¯è¯´ï¼Œæ¯åŠ å…¥ä¸€ä¸ªæ–°å…ƒç´  <code>x</code>ï¼Œå°±ä¼šå¼¹å‡ºæ ˆé¡¶å°äº <code>x</code> çš„å…¶ä»–å…ƒç´ ï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ å¤§äº <code>x</code> ä¸ºæ­¢ã€‚</p><p>ç»¼ä¸Šï¼Œå¦‚æœæ­£åºéå† <code>nums</code>ï¼Œç»´æŠ¤ä¸€ä¸ªé€’å¢æ ˆï¼Œé‚£ä¹ˆå¼¹å‡ºçš„å…ƒç´ å°±æ˜¯ä¹±åºçš„å…ƒç´ ï¼›å¦‚æœåå‘éå† <code>nums</code>ï¼Œç»´æŠ¤ä¸€ä¸ªé€’å‡æ ˆï¼Œé‚£ä¹ˆå¼¹å‡ºçš„å…ƒç´ å°±æ˜¯ä¹±åºçš„å…ƒç´ ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/monotonic-stack/">ã€ç»ƒä¹ ã€‘å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -6"><a href="#è§£æ³•ä»£ç -6" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/monotonic-stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-PYTHON" data-language="PYTHON"><code class="language-PYTHON"># æ’åºè§£æ³•class Solution:    def findUnsortedSubarray(self, nums: List[int]) -&gt; int:        temp &#x3D; sorted(nums)        left &#x3D; float(&#39;inf&#39;)        right &#x3D; float(&#39;-inf&#39;)        for i in range(len(nums)):            if temp[i] !&#x3D; nums[i]:                left &#x3D; i                break        for i in range(len(nums) - 1, -1, -1):            if temp[i] !&#x3D; nums[i]:                right &#x3D; i                break        if left &#x3D;&#x3D; float(&#39;inf&#39;) and right &#x3D;&#x3D; float(&#39;-inf&#39;):            # nums æœ¬æ¥å°±æ˜¯æœ‰åºçš„            return 0        return right - left + 1# å•è°ƒæ ˆè§£æ³•class Solution2:    def findUnsortedSubarray(self, nums: List[int]) -&gt; int:        n &#x3D; len(nums)        left &#x3D; float(&#39;inf&#39;)        right &#x3D; float(&#39;-inf&#39;)        # é€’å¢æ ˆï¼Œå­˜å‚¨å…ƒç´ ç´¢å¼•        incr_stk &#x3D; []        for i in range(n):            while incr_stk and nums[incr_stk[-1]] &gt; nums[i]:                # å¼¹å‡ºçš„å…ƒç´ éƒ½æ˜¯ä¹±åºå…ƒç´ ï¼Œå…¶ä¸­æœ€å°çš„ç´¢å¼•å°±æ˜¯ä¹±åºå­æ•°ç»„çš„å·¦è¾¹ç•Œ                left &#x3D; min(left, incr_stk.pop())            incr_stk.append(i)        # é€’å‡æ ˆï¼Œå­˜å‚¨å…ƒç´ ç´¢å¼•        decr_stk &#x3D; []        for i in range(n - 1, -1, -1):            while decr_stk and nums[decr_stk[-1]] &lt; nums[i]:                # å¼¹å‡ºçš„å…ƒç´ éƒ½æ˜¯ä¹±åºå…ƒç´ ï¼Œå…¶ä¸­æœ€å¤§çš„ç´¢å¼•å°±æ˜¯ä¹±åºå­æ•°ç»„çš„å³è¾¹ç•Œ                right &#x3D; max(right, decr_stk.pop())            decr_stk.append(i)        if left &#x3D;&#x3D; float(&#39;inf&#39;) and right &#x3D;&#x3D; float(&#39;-inf&#39;):            # è¯´æ˜å•è°ƒæ ˆæ²¡æœ‰å¼¹å‡ºä»»ä½•å…ƒç´ ï¼Œå³ nums æœ¬æ¥å°±æ˜¯æœ‰åºçš„            return 0        return right - left + 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•è°ƒæ ˆç®—æ³•æ¨¡æ¿è§£å†³ä¸‰é“ä¾‹é¢˜</title>
      <link href="/2025/06/14/dan-diao-zhan-suan-fa-mo-ban-jie-jue-san-dao-li-ti/"/>
      <url>/2025/06/14/dan-diao-zhan-suan-fa-mo-ban-jie-jue-san-dao-li-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="å•è°ƒæ ˆç®—æ³•æ¨¡æ¿è§£å†³ä¸‰é“ä¾‹é¢˜"><a href="#å•è°ƒæ ˆç®—æ³•æ¨¡æ¿è§£å†³ä¸‰é“ä¾‹é¢˜" class="headerlink" title="å•è°ƒæ ˆç®—æ³•æ¨¡æ¿è§£å†³ä¸‰é“ä¾‹é¢˜"></a>å•è°ƒæ ˆç®—æ³•æ¨¡æ¿è§£å†³ä¸‰é“ä¾‹é¢˜</h1><blockquote><p>æ ˆï¼ˆstackï¼‰æ˜¯å¾ˆç®€å•çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…ˆè¿›åå‡ºçš„é€»è¾‘é¡ºåºï¼Œç¬¦åˆæŸäº›é—®é¢˜çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚è¯´å‡½æ•°è°ƒç”¨æ ˆã€‚å•è°ƒæ ˆå®é™…ä¸Šå°±æ˜¯æ ˆï¼Œåªæ˜¯åˆ©ç”¨äº†ä¸€äº›å·§å¦™çš„é€»è¾‘ï¼Œä½¿å¾—æ¯æ¬¡æ–°å…ƒç´ å…¥æ ˆåï¼Œæ ˆå†…çš„å…ƒç´ éƒ½ä¿æŒæœ‰åºï¼ˆå•è°ƒé€’å¢æˆ–å•è°ƒé€’å‡ï¼‰ã€‚</p><p>å¬èµ·æ¥æœ‰ç‚¹åƒå †ï¼ˆheapï¼‰ï¼Ÿä¸æ˜¯çš„ï¼Œå•è°ƒæ ˆç”¨é€”ä¸å¤ªå¹¿æ³›ï¼Œåªå¤„ç†ä¸€ç±»å…¸å‹çš„é—®é¢˜ï¼Œæ¯”å¦‚ã€Œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€ï¼Œã€Œä¸Šä¸€ä¸ªæ›´å°å…ƒç´ ã€ç­‰ã€‚æœ¬æ–‡è®²è§£å•è°ƒæ ˆçš„ç®—æ³•æ¨¡ç‰ˆè§£å†³ã€Œä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€ç›¸å…³é—®é¢˜ï¼Œå¹¶ä¸”æ¢è®¨å¤„ç†ã€Œå¾ªç¯æ•°ç»„ã€çš„ç­–ç•¥ã€‚</p></blockquote><h2 id="å•è°ƒæ ˆæ¨¡æ¿"><a href="#å•è°ƒæ ˆæ¨¡æ¿" class="headerlink" title="å•è°ƒæ ˆæ¨¡æ¿"></a><a href="https://labuladong.online/algo/data-structure/monotonic-stack/#%E5%8D%95%E8%B0%83%E6%A0%88%E6%A8%A1%E6%9D%BF">å•è°ƒæ ˆæ¨¡æ¿</a></h2><p>ç°åœ¨ç»™ä½ å‡ºè¿™ä¹ˆä¸€é“é¢˜ï¼šè¾“å…¥ä¸€ä¸ªæ•°ç»„ <code>nums</code>ï¼Œè¯·ä½ è¿”å›ä¸€ä¸ªç­‰é•¿çš„ç»“æœæ•°ç»„ï¼Œç»“æœæ•°ç»„ä¸­å¯¹åº”ç´¢å¼•å­˜å‚¨ç€ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤§çš„å…ƒç´ ï¼Œå°±å­˜ -1ã€‚å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calculateGreaterElement</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚è¯´ï¼Œè¾“å…¥ä¸€ä¸ªæ•°ç»„ <code>nums = [2,1,2,4,3]</code>ï¼Œä½ è¿”å›æ•°ç»„ <code>[4,2,4,-1,-1]</code>ã€‚å› ä¸ºç¬¬ä¸€ä¸ª 2 åé¢æ¯” 2 å¤§çš„æ•°æ˜¯ 4; 1 åé¢æ¯” 1 å¤§çš„æ•°æ˜¯ 2ï¼›ç¬¬äºŒä¸ª 2 åé¢æ¯” 2 å¤§çš„æ•°æ˜¯ 4; 4 åé¢æ²¡æœ‰æ¯” 4 å¤§çš„æ•°ï¼Œå¡« -1ï¼›3 åé¢æ²¡æœ‰æ¯” 3 å¤§çš„æ•°ï¼Œå¡« -1ã€‚</p><p>è¿™é“é¢˜çš„æš´åŠ›è§£æ³•å¾ˆå¥½æƒ³åˆ°ï¼Œå°±æ˜¯å¯¹æ¯ä¸ªå…ƒç´ åé¢éƒ½è¿›è¡Œæ‰«æï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ å°±è¡Œäº†ã€‚ä½†æ˜¯æš´åŠ›è§£æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n2)<em>O</em>(<em>n</em>2)ã€‚</p><p>è¿™ä¸ªé—®é¢˜å¯ä»¥è¿™æ ·æŠ½è±¡æ€è€ƒï¼šæŠŠæ•°ç»„çš„å…ƒç´ æƒ³è±¡æˆå¹¶åˆ—ç«™ç«‹çš„äººï¼Œå…ƒç´ å¤§å°æƒ³è±¡æˆäººçš„èº«é«˜ã€‚è¿™äº›äººé¢å¯¹ä½ ç«™æˆä¸€åˆ—ï¼Œå¦‚ä½•æ±‚å…ƒç´ ã€Œ2ã€çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå¦‚æœèƒ½å¤Ÿçœ‹åˆ°å…ƒç´ ã€Œ2ã€ï¼Œé‚£ä¹ˆä»–åé¢å¯è§çš„ç¬¬ä¸€ä¸ªäººå°±æ˜¯ã€Œ2ã€çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå› ä¸ºæ¯”ã€Œ2ã€å°çš„å…ƒç´ èº«é«˜ä¸å¤Ÿï¼Œéƒ½è¢«ã€Œ2ã€æŒ¡ä½äº†ï¼Œç¬¬ä¸€ä¸ªéœ²å‡ºæ¥çš„å°±æ˜¯ç­”æ¡ˆã€‚</p><p><img src="/2025/06/14/dan-diao-zhan-suan-fa-mo-ban-jie-jue-san-dao-li-ti/1.jpeg" alt="img"></p><p>è¿™ä¸ªæƒ…æ™¯å¾ˆå¥½ç†è§£å§ï¼Ÿå¸¦ç€è¿™ä¸ªæŠ½è±¡çš„æƒ…æ™¯ï¼Œå…ˆæ¥çœ‹ä¸‹ä»£ç ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">calculateGreaterElement</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token comment"># å­˜æ”¾ç­”æ¡ˆçš„æ•°ç»„</span>    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>n    s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># å€’ç€å¾€æ ˆé‡Œæ”¾</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ¤å®šä¸ªå­é«˜çŸ®</span>        <span class="token keyword">while</span> s <span class="token keyword">and</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># çŸ®ä¸ªèµ·å¼€ï¼Œåæ­£ä¹Ÿè¢«æŒ¡ç€äº†ã€‚ã€‚ã€‚</span>            s<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># nums[i] èº«åçš„æ›´å¤§å…ƒç´ </span>        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> <span class="token keyword">not</span> s <span class="token keyword">else</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        s<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™å°±æ˜¯å•è°ƒæ ˆè§£å†³é—®é¢˜çš„æ¨¡æ¿ã€‚for å¾ªç¯è¦ä»åå¾€å‰æ‰«æå…ƒç´ ï¼Œå› ä¸ºæˆ‘ä»¬å€ŸåŠ©çš„æ˜¯æ ˆçš„ç»“æ„ï¼Œå€’ç€å…¥æ ˆï¼Œå…¶å®æ˜¯æ­£ç€å‡ºæ ˆã€‚while å¾ªç¯æ˜¯æŠŠä¸¤ä¸ªã€Œä¸ªå­é«˜ã€å…ƒç´ ä¹‹é—´çš„å…ƒç´ æ’é™¤ï¼Œå› ä¸ºä»–ä»¬çš„å­˜åœ¨æ²¡æœ‰æ„ä¹‰ï¼Œå‰é¢æŒ¡ç€ä¸ªã€Œæ›´é«˜ã€çš„å…ƒç´ ï¼Œæ‰€ä»¥ä»–ä»¬ä¸å¯èƒ½è¢«ä½œä¸ºåç»­è¿›æ¥çš„å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ äº†ã€‚</p><p>è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸æ˜¯é‚£ä¹ˆç›´è§‚ï¼Œå¦‚æœä½ çœ‹åˆ° for å¾ªç¯åµŒå¥— while å¾ªç¯ï¼Œå¯èƒ½è®¤ä¸ºè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦ä¹Ÿæ˜¯ O(n2)<em>O</em>(<em>n</em>2)ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦åªæœ‰ O(n)<em>O</em>(<em>n</em>)ã€‚</p><p>åˆ†æå®ƒçš„æ—¶é—´å¤æ‚åº¦ï¼Œè¦ä»æ•´ä½“æ¥çœ‹ï¼šæ€»å…±æœ‰ <code>n</code> ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è¢« <code>push</code> å…¥æ ˆäº†ä¸€æ¬¡ï¼Œè€Œæœ€å¤šä¼šè¢« <code>pop</code> ä¸€æ¬¡ï¼Œæ²¡æœ‰ä»»ä½•å†—ä½™æ“ä½œã€‚æ‰€ä»¥æ€»çš„è®¡ç®—è§„æ¨¡æ˜¯å’Œå…ƒç´ è§„æ¨¡ <code>n</code> æˆæ­£æ¯”çš„ï¼Œä¹Ÿå°±æ˜¯ O(n)<em>O</em>(<em>n</em>) çš„å¤æ‚åº¦ã€‚</p><h2 id="é—®é¢˜å˜å½¢"><a href="#é—®é¢˜å˜å½¢" class="headerlink" title="é—®é¢˜å˜å½¢"></a><a href="https://labuladong.online/algo/data-structure/monotonic-stack/#%E9%97%AE%E9%A2%98%E5%8F%98%E5%BD%A2">é—®é¢˜å˜å½¢</a></h2><p>å•è°ƒæ ˆçš„ä»£ç å®ç°æ¯”è¾ƒç®€å•ï¼Œä¸‹é¢æ¥çœ‹ä¸€äº›å…·ä½“é¢˜ç›®ã€‚</p><h3 id="496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I"><a href="#496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I" class="headerlink" title="496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I"></a><a href="https://labuladong.online/algo/data-structure/monotonic-stack/#_496-%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E5%85%83%E7%B4%A0-i">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a></h3><p>é¦–å…ˆæ¥ä¸€ä¸ªç®€å•çš„å˜å½¢ï¼ŒåŠ›æ‰£ç¬¬ 496 é¢˜ã€Œ<a href="https://leetcode.cn/problems/next-greater-element-i/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/next-greater-element-i/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/next-greater-element-i/" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;"><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1</code>&nbsp;ä¸­æ•°å­—&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code>&nbsp;çš„<span>&nbsp;</span><strong style="font-weight: 600;">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong><span>&nbsp;</span>æ˜¯æŒ‡&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code>&nbsp;åœ¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code><span>&nbsp;</span>ä¸­å¯¹åº”ä½ç½®<span>&nbsp;</span><strong style="font-weight: 600;">å³ä¾§</strong><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">ç¬¬ä¸€ä¸ª</strong><span>&nbsp;</span>æ¯”&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">x</code><strong style="font-weight: 600;">&nbsp;</strong>å¤§çš„å…ƒç´ ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤ä¸ª<strong style="font-weight: 600;"><span>&nbsp;</span>æ²¡æœ‰é‡å¤å…ƒç´ </strong><span>&nbsp;</span>çš„æ•°ç»„&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code><span>&nbsp;</span>ï¼Œä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">0</strong><span>&nbsp;</span>å¼€å§‹è®¡æ•°ï¼Œå…¶ä¸­<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1</code>&nbsp;æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code>&nbsp;çš„å­é›†ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¯¹äºæ¯ä¸ª<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= i &lt; nums1.length</code><span>&nbsp;</span>ï¼Œæ‰¾å‡ºæ»¡è¶³<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1[i] == nums2[j]</code><span>&nbsp;</span>çš„ä¸‹æ ‡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">j</code><span>&nbsp;</span>ï¼Œå¹¶ä¸”åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code><span>&nbsp;</span>ç¡®å®š<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2[j]</code><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong><span>&nbsp;</span>ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆæœ¬æ¬¡æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1.length</code><span>&nbsp;</span>çš„æ•°ç»„<em><span>&nbsp;</span></em><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">ans</code><em><span>&nbsp;</span></em>ä½œä¸ºç­”æ¡ˆï¼Œæ»¡è¶³<em><span>&nbsp;</span></em><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">ans[i]</code><em><span>&nbsp;</span></em>æ˜¯å¦‚ä¸Šæ‰€è¿°çš„<span>&nbsp;</span><strong style="font-weight: 600;">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums1 = [4,1,2], nums2 = [1,3,4,2].<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[-1,3,-1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>nums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š- 4 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,<strong style="font-weight: 600;">4</strong>,2]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚- 1 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<em><strong style="font-weight: 600;">1</strong></em>,3,4,2]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ 3 ã€‚- 2 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,3,4,<em><strong style="font-weight: 600;">2</strong></em>]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums1 = [2,4], nums2 = [1,2,3,4].<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,-1]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>nums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š- 2 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,<em><strong style="font-weight: 600;">2</strong></em>,3,4]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ 3 ã€‚- 4 ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [1,2,3,<em><strong style="font-weight: 600;">4</strong></em>]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -1 ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= nums1.length &lt;= nums2.length &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= nums1[i], nums2[i] &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1</code>å’Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code>ä¸­æ‰€æœ‰æ•´æ•°<span>&nbsp;</span><strong style="font-weight: 600;">äº’ä¸ç›¸åŒ</strong></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums1</code><span>&nbsp;</span>ä¸­çš„æ‰€æœ‰æ•´æ•°åŒæ ·å‡ºç°åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">nums2</code><span>&nbsp;</span>ä¸­</li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">O(nums1.length + nums2.length)</code><span>&nbsp;</span>çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/next-greater-element-i/" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a>ã€‚</strong></details><p>è¿™é“é¢˜ç»™ä½ è¾“å…¥ä¸¤ä¸ªæ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code>ï¼Œè®©ä½ æ±‚ <code>nums1</code> ä¸­çš„å…ƒç´ åœ¨ <code>nums2</code> ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">def</span> <span class="token function">nextGreaterElement</span><span class="token punctuation">(</span>nums1<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums2<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å…¶å®å’ŒæŠŠæˆ‘ä»¬åˆšæ‰çš„ä»£ç æ”¹ä¸€æ”¹å°±å¯ä»¥è§£å†³è¿™é“é¢˜äº†ï¼Œå› ä¸ºé¢˜ç›®è¯´ <code>nums1</code> æ˜¯ <code>nums2</code> çš„å­é›†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆæŠŠ <code>nums2</code> ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ç®—å‡ºæ¥å­˜åˆ°ä¸€ä¸ªæ˜ å°„é‡Œï¼Œç„¶åå†è®© <code>nums1</code> ä¸­çš„å…ƒç´ å»æŸ¥è¡¨å³å¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">nextGreaterElement</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums1<span class="token punctuation">,</span> nums2<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½• nums2 ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </span>        greater <span class="token operator">=</span> self<span class="token punctuation">.</span>calculateGreaterElement<span class="token punctuation">(</span>nums2<span class="token punctuation">)</span>        <span class="token comment"># è½¬åŒ–æˆæ˜ å°„ï¼šå…ƒç´  x -> x çš„ä¸‹ä¸€ä¸ªæœ€å¤§å…ƒç´ </span>        greaterMap <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            greaterMap<span class="token punctuation">[</span>nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> greater<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        <span class="token comment"># nums1 æ˜¯ nums2 çš„å­é›†ï¼Œæ‰€ä»¥æ ¹æ® greaterMap å¯ä»¥å¾—åˆ°ç»“æœ</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> greaterMap<span class="token punctuation">[</span>nums1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> res    <span class="token keyword">def</span> <span class="token function">calculateGreaterElement</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è§ä¸Šæ–‡</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_next-greater-element-i" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_next-greater-element-i" src="https://labuladong.online/algo-visualize/leetcode/next-greater-element-i/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h3 id="739-æ¯æ—¥æ¸©åº¦"><a href="#739-æ¯æ—¥æ¸©åº¦" class="headerlink" title="739. æ¯æ—¥æ¸©åº¦"></a><a href="https://labuladong.online/algo/data-structure/monotonic-stack/#_739-%E6%AF%8F%E6%97%A5%E6%B8%A9%E5%BA%A6">739. æ¯æ—¥æ¸©åº¦</a></h3><p>å†çœ‹çœ‹åŠ›æ‰£ç¬¬ 739 é¢˜ã€Œ<a href="https://leetcode.cn/problems/daily-temperatures/">æ¯æ—¥æ¸©åº¦</a>ã€ï¼š</p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>temperatures</code>ï¼Œè¿™ä¸ªæ•°ç»„å­˜æ”¾çš„æ˜¯è¿‘å‡ å¤©çš„å¤©æ°”æ°”æ¸©ï¼Œä½ è¿”å›ä¸€ä¸ªç­‰é•¿çš„æ•°ç»„ï¼Œè®¡ç®—ï¼šå¯¹äºæ¯ä¸€å¤©ï¼Œä½ è¿˜è¦è‡³å°‘ç­‰å¤šå°‘å¤©æ‰èƒ½ç­‰åˆ°ä¸€ä¸ªæ›´æš–å’Œçš„æ°”æ¸©ï¼›å¦‚æœç­‰ä¸åˆ°é‚£ä¸€å¤©ï¼Œå¡« 0ã€‚å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">dailyTemperatures</span><span class="token punctuation">(</span>temperatures<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚è¯´ç»™ä½ è¾“å…¥ <code>temperatures = [73,74,75,71,69,76]</code>ï¼Œä½ è¿”å› <code>[1,1,3,2,1,0]</code>ã€‚å› ä¸ºç¬¬ä¸€å¤© 73 åæ°åº¦ï¼Œç¬¬äºŒå¤© 74 åæ°åº¦ï¼Œæ¯” 73 å¤§ï¼Œæ‰€ä»¥å¯¹äºç¬¬ä¸€å¤©ï¼Œåªè¦ç­‰ä¸€å¤©å°±èƒ½ç­‰åˆ°ä¸€ä¸ªæ›´æš–å’Œçš„æ°”æ¸©ï¼Œåé¢çš„åŒç†ã€‚</p><p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šä¹Ÿæ˜¯æ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œåªä¸è¿‡ç°åœ¨ä¸æ˜¯é—®ä½ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ çš„å€¼æ˜¯å¤šå°‘ï¼Œè€Œæ˜¯é—®ä½ å½“å‰å…ƒç´ è·ç¦»ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ çš„ç´¢å¼•è·ç¦»è€Œå·²ã€‚</p><p>ç›¸åŒçš„æ€è·¯ï¼Œç›´æ¥è°ƒç”¨å•è°ƒæ ˆçš„ç®—æ³•æ¨¡æ¿ï¼Œç¨ä½œæ”¹åŠ¨å°±å¯ä»¥ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">dailyTemperatures</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> temperatures<span class="token punctuation">)</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>temperatures<span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>n        <span class="token comment"># è¿™é‡Œæ”¾å…ƒç´ ç´¢å¼•ï¼Œè€Œä¸æ˜¯å…ƒç´ </span>        s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># å•è°ƒæ ˆæ¨¡æ¿</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">while</span> s <span class="token keyword">and</span> temperatures<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> temperatures<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                s<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># å¾—åˆ°ç´¢å¼•é—´è·</span>            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">if</span> <span class="token keyword">not</span> s <span class="token keyword">else</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> i            <span class="token comment"># å°†ç´¢å¼•å…¥æ ˆï¼Œè€Œä¸æ˜¯å…ƒç´ </span>            s<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å•è°ƒæ ˆè®²è§£å®Œæ¯•ï¼Œä¸‹é¢å¼€å§‹å¦ä¸€ä¸ªé‡ç‚¹ï¼šå¦‚ä½•å¤„ç†ã€Œå¾ªç¯æ•°ç»„ã€ã€‚</p><h2 id="å¦‚ä½•å¤„ç†ç¯å½¢æ•°ç»„"><a href="#å¦‚ä½•å¤„ç†ç¯å½¢æ•°ç»„" class="headerlink" title="å¦‚ä½•å¤„ç†ç¯å½¢æ•°ç»„"></a><a href="https://labuladong.online/algo/data-structure/monotonic-stack/#%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E7%8E%AF%E5%BD%A2%E6%95%B0%E7%BB%84">å¦‚ä½•å¤„ç†ç¯å½¢æ•°ç»„</a></h2><p>åŒæ ·æ˜¯æ±‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œç°åœ¨å‡è®¾ç»™ä½ çš„æ•°ç»„æ˜¯ä¸ªç¯å½¢çš„ï¼Œå¦‚ä½•å¤„ç†ï¼ŸåŠ›æ‰£ç¬¬ 503 é¢˜ã€Œ<a href="https://leetcode.cn/problems/next-greater-element-ii/">ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a>ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼šè¾“å…¥ä¸€ä¸ªã€Œç¯å½¢æ•°ç»„ã€ï¼Œè¯·ä½ è®¡ç®—å…¶ä¸­æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚</p><p>æ¯”å¦‚è¾“å…¥ <code>[2,1,2,4,3]</code>ï¼Œä½ åº”è¯¥è¿”å› <code>[4,2,4,-1,4]</code>ï¼Œå› ä¸ºæ‹¥æœ‰äº†ç¯å½¢å±æ€§ï¼Œ<strong>æœ€åä¸€ä¸ªå…ƒç´  3 ç»•äº†ä¸€åœˆåæ‰¾åˆ°äº†æ¯”è‡ªå·±å¤§çš„å…ƒç´  4</strong>ã€‚</p><p>å¦‚æœä½ çœ‹è¿‡åŸºç¡€çŸ¥è¯†ç« èŠ‚çš„ <a href="https://labuladong.online/algo/data-structure-basic/cycle-array/">ç¯å½¢æ•°ç»„æŠ€å·§</a> åº”è¯¥æ¯”è¾ƒç†Ÿæ‚‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯é€šè¿‡ % è¿ç®—ç¬¦æ±‚æ¨¡ï¼ˆä½™æ•°ï¼‰ï¼Œæ¥æ¨¡æ‹Ÿç¯å½¢ç‰¹æ•ˆï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token comment"># åœ¨ç¯å½¢æ•°ç»„ä¸­è½¬åœˆ</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index <span class="token operator">%</span> n<span class="token punctuation">]</span><span class="token punctuation">)</span>    index <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªé—®é¢˜è‚¯å®šè¿˜æ˜¯è¦ç”¨å•è°ƒæ ˆçš„è§£é¢˜æ¨¡æ¿ï¼Œä½†éš¾ç‚¹åœ¨äºï¼Œæ¯”å¦‚è¾“å…¥æ˜¯ <code>[2,1,2,4,3]</code>ï¼Œå¯¹äºæœ€åä¸€ä¸ªå…ƒç´  3ï¼Œå¦‚ä½•æ‰¾åˆ°å…ƒç´  4 ä½œä¸ºä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚</p><p><strong>å¯¹äºè¿™ç§éœ€æ±‚ï¼Œå¸¸ç”¨å¥—è·¯å°±æ˜¯å°†æ•°ç»„é•¿åº¦ç¿»å€</strong>ï¼š</p><p><img src="/2025/06/14/dan-diao-zhan-suan-fa-mo-ban-jie-jue-san-dao-li-ti/2.jpeg" alt="img"></p><p>è¿™æ ·ï¼Œå…ƒç´  3 å°±å¯ä»¥æ‰¾åˆ°å…ƒç´  4 ä½œä¸ºä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ äº†ï¼Œè€Œä¸”å…¶ä»–çš„å…ƒç´ éƒ½å¯ä»¥è¢«æ­£ç¡®åœ°è®¡ç®—ã€‚</p><p>æœ‰äº†æ€è·¯ï¼Œæœ€ç®€å•çš„å®ç°æ–¹å¼å½“ç„¶å¯ä»¥æŠŠè¿™ä¸ªåŒå€é•¿åº¦çš„æ•°ç»„æ„é€ å‡ºæ¥ï¼Œç„¶åå¥—ç”¨ç®—æ³•æ¨¡æ¿ã€‚ä½†æ˜¯ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ„é€ æ–°æ•°ç»„ï¼Œè€Œæ˜¯åˆ©ç”¨å¾ªç¯æ•°ç»„çš„æŠ€å·§æ¥æ¨¡æ‹Ÿæ•°ç»„é•¿åº¦ç¿»å€çš„æ•ˆæœ</strong>ã€‚ç›´æ¥çœ‹ä»£ç å§ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">nextGreaterElements</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token comment"># ç”¨æ•°ç»„æ¨¡æ‹Ÿæ ˆ</span>        s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># æ•°ç»„é•¿åº¦åŠ å€æ¨¡æ‹Ÿç¯å½¢æ•°ç»„</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># ç´¢å¼• i è¦æ±‚æ¨¡ï¼Œå…¶ä»–çš„å’Œæ¨¡æ¿ä¸€æ ·</span>            <span class="token keyword">while</span> s <span class="token keyword">and</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i <span class="token operator">%</span> n<span class="token punctuation">]</span><span class="token punctuation">:</span>                s<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            res<span class="token punctuation">[</span>i <span class="token operator">%</span> n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> <span class="token keyword">not</span> s <span class="token keyword">else</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            s<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i <span class="token operator">%</span> n<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_next-greater-element-ii" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_next-greater-element-ii" src="https://labuladong.online/algo-visualize/leetcode/next-greater-element-ii/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>è¿™æ ·ï¼Œå°±å¯ä»¥å·§å¦™è§£å†³ç¯å½¢æ•°ç»„çš„é—®é¢˜ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)<em>O</em>(<em>N</em>)ã€‚</p><p>æœ€åæå‡ºä¸€äº›é—®é¢˜å§ï¼Œæœ¬æ–‡æä¾›çš„å•è°ƒæ ˆæ¨¡æ¿æ˜¯ <code>nextGreaterElement</code> å‡½æ•°ï¼Œå¯ä»¥è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œä½†å¦‚æœé¢˜ç›®è®©ä½ è®¡ç®—ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæˆ–è€…è®¡ç®—ä¸Šä¸€ä¸ªæ›´å¤§æˆ–ç›¸ç­‰çš„å…ƒç´ ï¼Œåº”è¯¥å¦‚ä½•ä¿®æ”¹å¯¹åº”çš„æ¨¡æ¿å‘¢ï¼Ÿè€Œä¸”åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé¢˜ç›®ä¸ä¼šç›´æ¥è®©ä½ è®¡ç®—ä¸‹ä¸€ä¸ªï¼ˆä¸Šä¸€ä¸ªï¼‰æ›´å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼Œä½ å¦‚ä½•æŠŠé—®é¢˜è½¬åŒ–æˆå•è°ƒæ ˆç›¸å…³çš„é—®é¢˜å‘¢ï¼Ÿ</p><p>æˆ‘ä¼šåœ¨ <a href="https://labuladong.online/algo/problem-set/monotonic-stack/">å•è°ƒæ ˆçš„å‡ ç§å˜ä½“åŠä¹ é¢˜</a> å¯¹æ¯”å•è°ƒæ ˆçš„å‡ ç§å…¶ä»–å½¢å¼ï¼Œå¹¶åœ¨ ç»™å‡ºå•è°ƒæ ˆçš„ç»å…¸ä¾‹é¢˜ã€‚æ›´å¤šæ•°æ®ç»“æ„è®¾è®¡ç±»é¢˜ç›®å‚è§ <a href="https://labuladong.online/algo/problem-set/ds-design/">æ•°æ®ç»“æ„è®¾è®¡ç»å…¸ä¹ é¢˜</a>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> ç†è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</title>
      <link href="/2025/06/14/lian-xi-dui-lie-de-jing-dian-xi-ti/"/>
      <url>/2025/06/14/lian-xi-dui-lie-de-jing-dian-xi-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜"><a href="#ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜" class="headerlink" title="ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜"></a>ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</h1><h2 id="è€ƒå¯Ÿå…ˆè¿›å…ˆå‡ºæ€§è´¨"><a href="#è€ƒå¯Ÿå…ˆè¿›å…ˆå‡ºæ€§è´¨" class="headerlink" title="è€ƒå¯Ÿå…ˆè¿›å…ˆå‡ºæ€§è´¨"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%80%83%E5%AF%9F%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E6%80%A7%E8%B4%A8">è€ƒå¯Ÿå…ˆè¿›å…ˆå‡ºæ€§è´¨</a></h2><p>é˜Ÿåˆ—å¸¸è§è€ƒç‚¹ä¸»è¦æ˜¯å…ƒç´ ã€Œå…ˆè¿›å…ˆå‡ºã€çš„é¡ºåºç‰¹æ€§ï¼Œæ¯”å¦‚ç»´æŠ¤é˜Ÿåˆ—å†…çš„å…ƒç´ åœ¨ã€Œæ—¶åºä¸Šã€çš„æŸäº›æ€§è´¨ï¼Œä¸‹é¢æ˜¯å‡ é“ä¾‹é¢˜ï¼Œé˜Ÿåˆ—å……å½“ã€Œæ»‘åŠ¨çª—å£ã€çš„ä½œç”¨ã€‚</p><h2 id="933-æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°"><a href="#933-æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°" class="headerlink" title="933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°"></a><a href="https://labuladong.online/algo/problem-set/queue/#slug_number-of-recent-calls">933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/number-of-recent-calls/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/number-of-recent-calls/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">å†™ä¸€ä¸ª&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">RecentCounter</code>&nbsp;ç±»æ¥è®¡ç®—ç‰¹å®šæ—¶é—´èŒƒå›´å†…æœ€è¿‘çš„è¯·æ±‚ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">RecentCounter</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">RecentCounter()</code><span>&nbsp;</span>åˆå§‹åŒ–è®¡æ•°å™¨ï¼Œè¯·æ±‚æ•°ä¸º 0 ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int ping(int t)</code><span>&nbsp;</span>åœ¨æ—¶é—´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code><span>&nbsp;</span>æ·»åŠ ä¸€ä¸ªæ–°è¯·æ±‚ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code><span>&nbsp;</span>è¡¨ç¤ºä»¥æ¯«ç§’ä¸ºå•ä½çš„æŸä¸ªæ—¶é—´ï¼Œå¹¶è¿”å›è¿‡å»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3000</code><span>&nbsp;</span>æ¯«ç§’å†…å‘ç”Ÿçš„æ‰€æœ‰è¯·æ±‚æ•°ï¼ˆåŒ…æ‹¬æ–°è¯·æ±‚ï¼‰ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œè¿”å›åœ¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[t-3000, t]</code><span>&nbsp;</span>å†…å‘ç”Ÿçš„è¯·æ±‚æ•°ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ä¿è¯</strong><span>&nbsp;</span>æ¯æ¬¡å¯¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">ping</code><span>&nbsp;</span>çš„è°ƒç”¨éƒ½ä½¿ç”¨æ¯”ä¹‹å‰æ›´å¤§çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code><span>&nbsp;</span>å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["RecentCounter", "ping", "ping", "ping", "ping"][[], [1], [100], [3001], [3002]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null, 1, 2, 3, 3]<p><strong style="font-weight: 600;">è§£é‡Šï¼š</strong><br>RecentCounter recentCounter &#x3D; new RecentCounter();<br>recentCounter.ping(1);     &#x2F;&#x2F; requests &#x3D; [<strong style="font-weight: 600;">1</strong>]ï¼ŒèŒƒå›´æ˜¯ [-2999,1]ï¼Œè¿”å› 1<br>recentCounter.ping(100);   &#x2F;&#x2F; requests &#x3D; [<strong style="font-weight: 600;">1</strong>, <strong style="font-weight: 600;">100</strong>]ï¼ŒèŒƒå›´æ˜¯ [-2900,100]ï¼Œè¿”å› 2<br>recentCounter.ping(3001);  &#x2F;&#x2F; requests &#x3D; [<strong style="font-weight: 600;">1</strong>, <strong style="font-weight: 600;">100</strong>, <strong style="font-weight: 600;">3001</strong>]ï¼ŒèŒƒå›´æ˜¯ [1,3001]ï¼Œè¿”å› 3<br>recentCounter.ping(3002);  &#x2F;&#x2F; requests &#x3D; [1, <strong style="font-weight: 600;">100</strong>, <strong style="font-weight: 600;">3001</strong>, <strong style="font-weight: 600;">3002</strong>]ï¼ŒèŒƒå›´æ˜¯ [2,3002]ï¼Œè¿”å› 3<br></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= t &lt;= 10<sup>9</sup></code></li><li>ä¿è¯æ¯æ¬¡å¯¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">ping</code><span>&nbsp;</span>è°ƒç”¨æ‰€ä½¿ç”¨çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">t</code><span>&nbsp;</span>å€¼éƒ½<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¥æ ¼é€’å¢</strong></li><li>è‡³å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">ping</code><span>&nbsp;</span>æ–¹æ³•<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">10<sup>4</sup></code><span>&nbsp;</span>æ¬¡</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/number-of-recent-calls/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 933. æœ€è¿‘çš„è¯·æ±‚æ¬¡æ•°</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜å¾ˆç®€å•ï¼Œå’Œ <a href="https://leetcode.cn/problems/moving-average-from-data-stream">346. æ•°æ®æµä¸­çš„ç§»åŠ¨å¹³å‡å€¼</a> æœ‰ç‚¹ç±»ä¼¼ï¼Œè¦æ±‚åŠ¨æ€ç»´æŠ¤é˜Ÿåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/queue/">ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç "><a href="#è§£æ³•ä»£ç " class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> queue <span class="token keyword">import</span> Queue<span class="token keyword">class</span> <span class="token class-name">RecentCounter</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">ping</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> t<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>t<span class="token punctuation">)</span>        <span class="token keyword">while</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> t <span class="token operator">-</span> <span class="token number">3000</span><span class="token punctuation">:</span>            <span class="token comment"># t æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å¯ä»¥ä»é˜Ÿå¤´åˆ é™¤ 3000 æ¯«ç§’ä¹‹å‰çš„è¯·æ±‚</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/design-hit-counter">362. æ•²å‡»è®¡æ•°å™¨ ğŸŸ </a></li><li><a href="https://leetcode.cn/problems/H8086Q">å‰‘æŒ‡ Offer II 042. æœ€è¿‘è¯·æ±‚æ¬¡æ•° ğŸŸ¢</a></li></ul><h2 id="é˜Ÿåˆ—ç›¸å…³çš„è®¾è®¡é¢˜"><a href="#é˜Ÿåˆ—ç›¸å…³çš„è®¾è®¡é¢˜" class="headerlink" title="é˜Ÿåˆ—ç›¸å…³çš„è®¾è®¡é¢˜"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E9%98%9F%E5%88%97%E7%9B%B8%E5%85%B3%E7%9A%84%E8%AE%BE%E8%AE%A1%E9%A2%98">é˜Ÿåˆ—ç›¸å…³çš„è®¾è®¡é¢˜</a></h2><p>é˜Ÿåˆ—ç›¸å…³çš„è®¾è®¡é¢˜ä¹Ÿæ˜¯ä¸€å¤§é‡ç‚¹ï¼Œä½†ä¸ç®—å¾ˆéš¾ï¼Œä¸‹é¢æ˜¯å‡ é“ä¾‹é¢˜ã€‚</p><h2 id="622-è®¾è®¡å¾ªç¯é˜Ÿåˆ—"><a href="#622-è®¾è®¡å¾ªç¯é˜Ÿåˆ—" class="headerlink" title="622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—"></a><a href="https://labuladong.online/algo/problem-set/queue/#slug_design-circular-queue">622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/design-circular-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/design-circular-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä½ çš„å¾ªç¯é˜Ÿåˆ—å®ç°ã€‚ å¾ªç¯é˜Ÿåˆ—æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…¶æ“ä½œè¡¨ç°åŸºäº FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¹¶ä¸”é˜Ÿå°¾è¢«è¿æ¥åœ¨é˜Ÿé¦–ä¹‹åä»¥å½¢æˆä¸€ä¸ªå¾ªç¯ã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œç¯å½¢ç¼“å†²å™¨â€ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å¾ªç¯é˜Ÿåˆ—çš„ä¸€ä¸ªå¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªé˜Ÿåˆ—ä¹‹å‰ç”¨è¿‡çš„ç©ºé—´ã€‚åœ¨ä¸€ä¸ªæ™®é€šé˜Ÿåˆ—é‡Œï¼Œä¸€æ—¦ä¸€ä¸ªé˜Ÿåˆ—æ»¡äº†ï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ’å…¥ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå³ä½¿åœ¨é˜Ÿåˆ—å‰é¢ä»æœ‰ç©ºé—´ã€‚ä½†æ˜¯ä½¿ç”¨å¾ªç¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬èƒ½ä½¿ç”¨è¿™äº›ç©ºé—´å»å­˜å‚¨æ–°çš„å€¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ çš„å®ç°åº”è¯¥æ”¯æŒå¦‚ä¸‹æ“ä½œï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MyCircularQueue(k)</code>: æ„é€ å™¨ï¼Œè®¾ç½®é˜Ÿåˆ—é•¿åº¦ä¸º k ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Front</code>: ä»é˜Ÿé¦–è·å–å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1 ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">Rear</code>: è·å–é˜Ÿå°¾å…ƒç´ ã€‚å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1 ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">enQueue(value)</code>: å‘å¾ªç¯é˜Ÿåˆ—æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæˆåŠŸæ’å…¥åˆ™è¿”å›çœŸã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">deQueue()</code>: ä»å¾ªç¯é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæˆåŠŸåˆ é™¤åˆ™è¿”å›çœŸã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">isEmpty()</code>: æ£€æŸ¥å¾ªç¯é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">isFull()</code>: æ£€æŸ¥å¾ªç¯é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">MyCircularQueue circularQueue = new MyCircularQueue(3); // è®¾ç½®é•¿åº¦ä¸º 3circularQueue.enQueue(1); &nbsp;// è¿”å› truecircularQueue.enQueue(2); &nbsp;// è¿”å› truecircularQueue.enQueue(3); &nbsp;// è¿”å› truecircularQueue.enQueue(4); &nbsp;// è¿”å› falseï¼Œé˜Ÿåˆ—å·²æ»¡circularQueue.Rear(); &nbsp;// è¿”å› 3circularQueue.isFull(); &nbsp;// è¿”å› truecircularQueue.deQueue(); &nbsp;// è¿”å› truecircularQueue.enQueue(4); &nbsp;// è¿”å› truecircularQueue.Rear(); &nbsp;// è¿”å› 4</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ‰€æœ‰çš„å€¼éƒ½åœ¨ 0&nbsp;è‡³ 1000 çš„èŒƒå›´å†…ï¼›</li><li>æ“ä½œæ•°å°†åœ¨ 1 è‡³ 1000 çš„èŒƒå›´å†…ï¼›</li><li>è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„é˜Ÿåˆ—åº“ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/design-circular-queue/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯æ™®é€šé˜Ÿåˆ—çš„å®ç°ï¼Œåº•å±‚å¯ä»¥ç”¨é“¾è¡¨æˆ–æ•°ç»„å®ç°ï¼Œç”¨é“¾è¡¨å®ç°æ¯”è¾ƒç®€å•ï¼Œç”¨æ•°ç»„çš„è¯è¦ç”¨åˆ°ç¯å½¢æ•°ç»„çš„æŠ€å·§ã€‚å…·ä½“å¯ä»¥å‚è§ <a href="https://labuladong.online/algo/data-structure-basic/linked-queue-stack/">ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—&#x2F;æ ˆ</a> å’Œ <a href="https://labuladong.online/algo/data-structure-basic/array-queue-stack/">ç”¨æ•°ç»„å®ç°ç¯å½¢é˜Ÿåˆ—</a> ä¸¤ç¯‡æ–‡ç« ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/queue/">ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -1"><a href="#è§£æ³•ä»£ç -1" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token comment"># åº•å±‚ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—</span><span class="token keyword">class</span> <span class="token class-name">ArrayQueue</span><span class="token punctuation">:</span>    INIT_CAP <span class="token operator">=</span> <span class="token number">2</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> init_cap<span class="token operator">=</span>INIT_CAP<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> init_cap        self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># ä¸ä¼ å‚æ•°ï¼Œé»˜è®¤å¤§å°ä¸º INIT_CAP</span>    <span class="token comment"># Initializer with default capacity</span>    <span class="token comment"># å¢</span>    <span class="token keyword">def</span> <span class="token function">enqueue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>self<span class="token punctuation">.</span>size <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> e        self<span class="token punctuation">.</span>last <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>size <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># åˆ </span>    <span class="token keyword">def</span> <span class="token function">dequeue</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Queue underflow'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">4</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span>        old_val <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>first <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> old_val    <span class="token keyword">def</span> <span class="token function">resize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_cap<span class="token punctuation">)</span><span class="token punctuation">:</span>        temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> new_cap        <span class="token comment"># first ----- last</span>        <span class="token comment"># --- last    first ---</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>            temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>first <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>last <span class="token operator">=</span> self<span class="token punctuation">.</span>size        self<span class="token punctuation">.</span>data <span class="token operator">=</span> temp    <span class="token comment"># æŸ¥</span>    <span class="token keyword">def</span> <span class="token function">peek_first</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Queue underflow'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">peek_last</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Queue underflow'</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>size    <span class="token keyword">def</span> <span class="token function">is_empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token keyword">class</span> <span class="token class-name">MyCircularQueue</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> ArrayQueue<span class="token punctuation">(</span>k<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>max_cap <span class="token operator">=</span> k    <span class="token keyword">def</span> <span class="token function">enQueue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>size <span class="token operator">==</span> self<span class="token punctuation">.</span>max_cap<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>enqueue<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">def</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">def</span> <span class="token function">Front</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>peek_first<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">Rear</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>peek_last<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>is_empty<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">isFull</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>size <span class="token operator">==</span> self<span class="token punctuation">.</span>max_cap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="641-è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—"><a href="#641-è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—" class="headerlink" title="641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—"></a><a href="https://labuladong.online/algo/problem-set/queue/#slug_design-circular-deque">641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/design-circular-deque/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/design-circular-deque/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡å®ç°åŒç«¯é˜Ÿåˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MyCircularDeque</code><span>&nbsp;</span>ç±»:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MyCircularDeque(int k)</code>&nbsp;ï¼šæ„é€ å‡½æ•°,åŒç«¯é˜Ÿåˆ—æœ€å¤§ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean insertFront()</code>ï¼šå°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åŒç«¯é˜Ÿåˆ—å¤´éƒ¨ã€‚ å¦‚æœæ“ä½œæˆåŠŸè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean insertLast()</code>&nbsp;ï¼šå°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åŒç«¯é˜Ÿåˆ—å°¾éƒ¨ã€‚å¦‚æœæ“ä½œæˆåŠŸè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean deleteFront()</code>&nbsp;ï¼šä»åŒç«¯é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚ å¦‚æœæ“ä½œæˆåŠŸè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean deleteLast()</code>&nbsp;ï¼šä»åŒç«¯é˜Ÿåˆ—å°¾éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæ“ä½œæˆåŠŸè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int getFront()</code>&nbsp;)ï¼šä»åŒç«¯é˜Ÿåˆ—å¤´éƒ¨è·å¾—ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœåŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code>&nbsp;ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int getRear()</code>&nbsp;ï¼šè·å¾—åŒç«¯é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚&nbsp;å¦‚æœåŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean isEmpty()</code>&nbsp;ï¼šè‹¥åŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>&nbsp;ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean isFull()</code>&nbsp;ï¼šè‹¥åŒç«¯é˜Ÿåˆ—æ»¡äº†ï¼Œåˆ™è¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code>&nbsp;ï¼Œå¦åˆ™è¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥</strong>["MyCircularDeque", "insertLast", "insertLast", "insertFront", "insertFront", "getRear", "isFull", "deleteLast", "insertFront", "getFront"][[3], [1], [2], [3], [4], [], [], [], [4], []]<strong style="font-weight: 600;">è¾“å‡º</strong>[null, true, true, true, false, 2, true, true, true, 4]<p><strong style="font-weight: 600;">è§£é‡Š</strong><br>MyCircularDeque circularDeque &#x3D; new MycircularDeque(3); &#x2F;&#x2F; è®¾ç½®å®¹é‡å¤§å°ä¸º3<br>circularDeque.insertLast(1);        &#x2F;&#x2F; è¿”å› true<br>circularDeque.insertLast(2);        &#x2F;&#x2F; è¿”å› true<br>circularDeque.insertFront(3);        &#x2F;&#x2F; è¿”å› true<br>circularDeque.insertFront(4);        &#x2F;&#x2F; å·²ç»æ»¡äº†ï¼Œè¿”å› false<br>circularDeque.getRear();  &#x2F;&#x2F; è¿”å› 2<br>circularDeque.isFull();        &#x2F;&#x2F; è¿”å› true<br>circularDeque.deleteLast();        &#x2F;&#x2F; è¿”å› true<br>circularDeque.insertFront(4);        &#x2F;&#x2F; è¿”å› true<br>circularDeque.getFront();&#x2F;&#x2F; è¿”å› 4<br>&nbsp;</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= k &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= value &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">insertFront</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">insertLast</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">deleteFront</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">deleteLast</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">getFront</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">getRear</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">isEmpty</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">isFull</code>&nbsp; è°ƒç”¨æ¬¡æ•°ä¸å¤§äº&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2000</code>&nbsp;æ¬¡</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/design-circular-deque/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ—</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-2"><a href="#åŸºæœ¬æ€è·¯-2" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯åŒç«¯é˜Ÿåˆ—çš„å®ç°ï¼Œåº•å±‚å¯ä»¥ç”¨é“¾è¡¨æˆ–æ•°ç»„å®ç°ï¼Œç”¨é“¾è¡¨å®ç°æ¯”è¾ƒç®€å•ï¼Œç”¨æ•°ç»„çš„è¯è¦ç”¨åˆ° <a href="https://labuladong.online/algo/data-structure-basic/cycle-array/">ç¯å½¢æ•°ç»„</a> çš„æŠ€å·§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/queue/">ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -2"><a href="#è§£æ³•ä»£ç -2" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyArrayDeque</span><span class="token punctuation">:</span>    INIT_CAP <span class="token operator">=</span> <span class="token number">2</span>    <span class="token comment"># ä¸ä¼ å‚æ•°ï¼Œé»˜è®¤å¤§å°ä¸º INIT_CAP</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> init_cap<span class="token operator">=</span>INIT_CAP<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> init_cap        <span class="token comment"># last æ˜¯ä¸‹ä¸€æ¬¡åº”è¯¥æ·»åŠ å…ƒç´ çš„ç´¢å¼•</span>        <span class="token comment"># first----last, [first, last)</span>        <span class="token comment"># æ¯”å¦‚ first = 1ï¼Œlast = 3ï¼Œsize = 2</span>        self<span class="token punctuation">.</span>first <span class="token operator">=</span> self<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># ä»å¤´éƒ¨è·å–å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">getFirst</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">"getFirst from empty deque"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span>    <span class="token comment"># ä»å°¾éƒ¨è·å–å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">getLast</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">"getLast from empty deque"</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment"># ä»å¤´éƒ¨æ’å…¥å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">addFirst</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>self<span class="token punctuation">.</span>size <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token comment"># æƒ…å†µä¸€ï¼šfirst----last</span>        <span class="token comment"># æƒ…å†µäºŒï¼š---last  first---</span>        <span class="token comment"># å·¦ç§» firstï¼Œæ‰€ä»¥ first == 0 æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µ</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>first <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> e        self<span class="token punctuation">.</span>size <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># ä»å°¾éƒ¨æ’å…¥å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">addLast</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>self<span class="token punctuation">.</span>size <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token comment"># æ’å…¥å…ƒç´ </span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> e        self<span class="token punctuation">.</span>last <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>size <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token comment"># ä»å¤´éƒ¨åˆ é™¤å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">removeFirst</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">"removeFirst from empty deque"</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">4</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span>        old_val <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>first <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> old_val    <span class="token comment"># ä»å°¾éƒ¨åˆ é™¤å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">removeLast</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> IndexError<span class="token punctuation">(</span><span class="token string">"removeLast from empty deque"</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">4</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token comment"># æƒ…å†µä¸€ï¼šfirst----last</span>        <span class="token comment"># æƒ…å†µäºŒï¼š---last  first---</span>        <span class="token comment"># å·¦ç§» lastï¼Œå½“ last == 0 çš„æ—¶å€™æ˜¯ç‰¹æ®Šæƒ…å†µ</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>last <span class="token operator">-=</span> <span class="token number">1</span>        old_val <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last<span class="token punctuation">]</span>        <span class="token comment"># åˆ é™¤å…ƒç´ </span>        self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>        self<span class="token punctuation">.</span>size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> old_val    <span class="token keyword">def</span> <span class="token function">getSize</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>size    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">resize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> new_cap<span class="token punctuation">)</span><span class="token punctuation">:</span>        temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span> <span class="token operator">*</span> new_cap        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>            temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>first <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>        self<span class="token punctuation">.</span>last <span class="token operator">=</span> self<span class="token punctuation">.</span>size        self<span class="token punctuation">.</span>data <span class="token operator">=</span> temp<span class="token keyword">class</span> <span class="token class-name">MyCircularDeque</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>cap <span class="token operator">=</span> k        self<span class="token punctuation">.</span><span class="token builtin">list</span> <span class="token operator">=</span> MyArrayDeque<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Adds an item at the front of Deque. Return true if the operation is successful.</span>    <span class="token keyword">def</span> <span class="token function">insertFront</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>getSize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cap<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>addFirst<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token comment"># Adds an item at the rear of Deque. Return true if the operation is successful.</span>    <span class="token keyword">def</span> <span class="token function">insertLast</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>getSize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cap<span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>addLast<span class="token punctuation">(</span>value<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token comment"># Deletes an item from the front of Deque. Return true if the operation is successful.</span>    <span class="token keyword">def</span> <span class="token function">deleteFront</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>removeFirst<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token comment"># Deletes an item from the rear of Deque. Return true if the operation is successful.</span>    <span class="token keyword">def</span> <span class="token function">deleteLast</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>        self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>removeLast<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token comment"># Get the front item from the deque.</span>    <span class="token keyword">def</span> <span class="token function">getFront</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>getFirst<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Get the last item from the deque.</span>    <span class="token keyword">def</span> <span class="token function">getRear</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>getLast<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Checks whether the circular deque is empty or not.</span>    <span class="token keyword">def</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># Checks whether the circular deque is full or not.</span>    <span class="token keyword">def</span> <span class="token function">isFull</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>getSize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1670-è®¾è®¡å‰ä¸­åé˜Ÿåˆ—"><a href="#1670-è®¾è®¡å‰ä¸­åé˜Ÿåˆ—" class="headerlink" title="1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—"></a><a href="https://labuladong.online/algo/problem-set/queue/#slug_design-front-middle-back-queue">1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/design-front-middle-back-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/design-front-middle-back-queue/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è®¾è®¡ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ”¯æŒåœ¨å‰ï¼Œä¸­ï¼Œåä¸‰ä¸ªä½ç½®çš„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code><span>&nbsp;</span>æ“ä½œã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ å®Œæˆ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FrontMiddleBack</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FrontMiddleBack()</code><span>&nbsp;</span>åˆå§‹åŒ–é˜Ÿåˆ—ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void pushFront(int val)</code><span>&nbsp;</span>å°†<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>æ·»åŠ åˆ°é˜Ÿåˆ—çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å‰é¢</strong><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void pushMiddle(int val)</code><span>&nbsp;</span>å°†<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>æ·»åŠ åˆ°é˜Ÿåˆ—çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ­£ä¸­é—´</strong><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void pushBack(int val)</code><span>&nbsp;</span>å°†<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code><span>&nbsp;</span>æ·»åŠ åˆ°é˜Ÿé‡Œçš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€åé¢</strong><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int popFront()</code><span>&nbsp;</span>å°†<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å‰é¢</strong><span>&nbsp;</span>çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int popMiddle()</code><span>&nbsp;</span>å°†<span>&nbsp;</span><b>æ­£ä¸­é—´</b><span>&nbsp;</span>çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int popBack()</code><span>&nbsp;</span>å°†<span>&nbsp;</span><strong style="font-weight: 600;">æœ€åé¢</strong><span>&nbsp;</span>çš„å…ƒç´ ä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶è¿”å›å€¼ï¼Œå¦‚æœåˆ é™¤ä¹‹å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-1</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·æ³¨æ„å½“æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">ä¸¤ä¸ª</strong><span>&nbsp;</span>ä¸­é—´ä½ç½®çš„æ—¶å€™ï¼Œé€‰æ‹©é å‰é¢çš„ä½ç½®è¿›è¡Œæ“ä½œã€‚æ¯”æ–¹è¯´ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å°†<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">6</code><span>&nbsp;</span>æ·»åŠ åˆ°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2, 3, 4, 5]</code><span>&nbsp;</span>çš„ä¸­é—´ä½ç½®ï¼Œç»“æœæ•°ç»„ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2,<span>&nbsp;</span><strong style="font-weight: 600;">6</strong>, 3, 4, 5]</code><span>&nbsp;</span>ã€‚</li><li>ä»<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2,<span>&nbsp;</span><strong style="font-weight: 600;">3</strong>, 4, 5, 6]</code><span>&nbsp;</span>çš„ä¸­é—´ä½ç½®å¼¹å‡ºå…ƒç´ ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3</code><span>&nbsp;</span>ï¼Œæ•°ç»„å˜ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 2, 4, 5, 6]</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["FrontMiddleBackQueue", "pushFront", "pushBack", "pushMiddle", "pushMiddle", "popFront", "popMiddle", "popMiddle", "popBack", "popFront"][[], [1], [2], [3], [4], [], [], [], [], []]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null, null, null, null, null, 1, 3, 4, 2, -1]<p><strong style="font-weight: 600;">è§£é‡Šï¼š</strong><br>FrontMiddleBackQueue q &#x3D; new FrontMiddleBackQueue();<br>q.pushFront(1);   &#x2F;&#x2F; [<strong style="font-weight: 600;">1</strong>]<br>q.pushBack(2);    &#x2F;&#x2F; [1, <strong style="font-weight: 600;">2</strong>]<br>q.pushMiddle(3);  &#x2F;&#x2F; [1, <strong style="font-weight: 600;">3</strong>, 2]<br>q.pushMiddle(4);  &#x2F;&#x2F; [1, <strong style="font-weight: 600;">4</strong>, 3, 2]<br>q.popFront();     &#x2F;&#x2F; è¿”å› 1 -&gt; [4, 3, 2]<br>q.popMiddle();    &#x2F;&#x2F; è¿”å› 3 -&gt; [4, 2]<br>q.popMiddle();    &#x2F;&#x2F; è¿”å› 4 -&gt; [2]<br>q.popBack();      &#x2F;&#x2F; è¿”å› 2 -&gt; []<br>q.popFront();     &#x2F;&#x2F; è¿”å› -1 -&gt; [] ï¼ˆé˜Ÿåˆ—ä¸ºç©ºï¼‰<br></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= val &lt;= 10<sup>9</sup></code></li><li>æœ€å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1000</code><span>&nbsp;</span>æ¬¡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pushFront</code>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pushMiddle</code>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pushBack</code>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">popFront</code>ï¼Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">popMiddle</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">popBack</code><span>&nbsp;</span>ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/design-front-middle-back-queue/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-3"><a href="#åŸºæœ¬æ€è·¯-3" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜æœ‰ç‚¹éš¾åº¦ï¼Œä¸»è¦æ˜¯ç»†èŠ‚ä¸å¥½æŠŠæ§ã€‚å¸¸è§„çš„é˜Ÿåˆ—åªèƒ½åœ¨é¦–å°¾è¿›è¡Œæ“ä½œï¼Œæƒ³åœ¨ä¸­é—´æ“ä½œé˜Ÿåˆ—ï¼Œéœ€è¦åœ¨åº•å±‚æŠŠé˜Ÿåˆ—åˆ‡åˆ†æˆ <code>left, right</code> ä¸¤ä¸ªåˆ—è¡¨ï¼Œä½†è¿™é‡Œçš„ç»†èŠ‚é—®é¢˜å°±æ˜¯å…ƒç´ ä¸ºå¥‡æ•°æ—¶ä¸¤ä¸ªé“¾è¡¨ä¸­å…ƒç´ çš„åˆ†é…é—®é¢˜ã€‚</p><p>ç›´æ¥çœ‹ä»£ç å§ï¼Œæ³¨é‡Šå¾ˆè¯¦ç»†ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/ds-design/">ã€ç»ƒä¹ ã€‘æ›´å¤šç»å…¸è®¾è®¡ä¹ é¢˜</a></li><li><a href="https://labuladong.online/algo/problem-set/queue/">ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -3"><a href="#è§£æ³•ä»£ç -3" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">FrontMiddleBackQueue</span><span class="token punctuation">:</span>    <span class="token comment"># ç”¨ä¸¤ä¸ªåˆ—è¡¨è¡¨ç¤ºé˜Ÿåˆ—çš„å·¦å³ä¸¤éƒ¨åˆ†ï¼Œä¸€éä»ä¸­é—´æ“ä½œå…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>left <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>right <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤å·¦è¾¹å°‘å³è¾¹å¤šçš„çŠ¶æ€ï¼Œæ¯æ¬¡å¢åˆ å…ƒç´ ä¹‹åéƒ½è¦æ‰§è¡Œä¸€æ¬¡</span>    <span class="token keyword">def</span> <span class="token function">balance</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># å³è¾¹æœ€å¤šæ¯”å·¦è¾¹å¤šä¸€ä¸ªå…ƒç´ </span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># å³è¾¹å¤šï¼ŒåŒ€ä¸€ä¸ªç»™å·¦è¾¹</span>            self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># å·¦è¾¹å¤šï¼ŒåŒ€ä¸€ä¸ªç»™å³è¾¹</span>            self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">pushFront</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">pushMiddle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœæœ‰å¶æ•°ä¸ªå…ƒç´ æ—¶ï¼ŒpushMiddle ä¼˜å…ˆå‘å³è¾¹æ·»åŠ </span>            self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">pushBack</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">def</span> <span class="token function">popFront</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœåªæœ‰ 1 ä¸ªå…ƒç´ ï¼ŒpopFront çš„æ—¶å€™ï¼Œè¦å»å³è¾¹åˆ é™¤</span>            <span class="token keyword">return</span> self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        e <span class="token operator">=</span> self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> e        <span class="token keyword">def</span> <span class="token function">popMiddle</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            e <span class="token operator">=</span> self<span class="token punctuation">.</span>left<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœæœ‰å¥‡æ•°ä¸ªå…ƒç´ æ—¶ï¼ŒpopMiddle ä¼˜å…ˆä»å³è¾¹åˆ é™¤</span>            e <span class="token operator">=</span> self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> e        <span class="token keyword">def</span> <span class="token function">popBack</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>        e <span class="token operator">=</span> self<span class="token punctuation">.</span>right<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>balance<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> e        <span class="token keyword">def</span> <span class="token function">size</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2073-ä¹°ç¥¨éœ€è¦çš„æ—¶é—´"><a href="#2073-ä¹°ç¥¨éœ€è¦çš„æ—¶é—´" class="headerlink" title="2073. ä¹°ç¥¨éœ€è¦çš„æ—¶é—´"></a><a href="https://labuladong.online/algo/problem-set/queue/#slug_time-needed-to-buy-tickets">2073. ä¹°ç¥¨éœ€è¦çš„æ—¶é—´</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">2073. ä¹°ç¥¨éœ€è¦çš„æ—¶é—´</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/time-needed-to-buy-tickets/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/time-needed-to-buy-tickets/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ä¸ªäººå‰æ¥æ’é˜Ÿä¹°ç¥¨ï¼Œå…¶ä¸­ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code><span>&nbsp;</span>äººç«™åœ¨é˜Ÿä¼<span>&nbsp;</span><strong style="font-weight: 600;">æœ€å‰æ–¹</strong><span>&nbsp;</span>ï¼Œç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(n - 1)</code><span>&nbsp;</span>äººç«™åœ¨é˜Ÿä¼<span>&nbsp;</span><strong style="font-weight: 600;">æœ€åæ–¹</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">0</strong><span>&nbsp;</span>å¼€å§‹çš„æ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tickets</code><span>&nbsp;</span>ï¼Œæ•°ç»„é•¿åº¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n</code><span>&nbsp;</span>ï¼Œå…¶ä¸­ç¬¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">i</code><span>&nbsp;</span>äººæƒ³è¦è´­ä¹°çš„ç¥¨æ•°ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tickets[i]</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ¯ä¸ªäººä¹°ç¥¨éƒ½éœ€è¦ç”¨æ‰<span>&nbsp;</span><strong style="font-weight: 600;">æ°å¥½ 1 ç§’</strong><span>&nbsp;</span>ã€‚ä¸€ä¸ªäºº<span>&nbsp;</span><strong style="font-weight: 600;">ä¸€æ¬¡åªèƒ½ä¹°ä¸€å¼ ç¥¨</strong><span>&nbsp;</span>ï¼Œå¦‚æœéœ€è¦è´­ä¹°æ›´å¤šç¥¨ï¼Œä»–å¿…é¡»èµ°åˆ°&nbsp;<span>&nbsp;</span><strong style="font-weight: 600;">é˜Ÿå°¾</strong><span>&nbsp;</span>é‡æ–°æ’é˜Ÿï¼ˆ<strong style="font-weight: 600;">ç¬é—´<span>&nbsp;</span></strong>å‘ç”Ÿï¼Œä¸è®¡æ—¶é—´ï¼‰ã€‚å¦‚æœä¸€ä¸ªäººæ²¡æœ‰å‰©ä¸‹éœ€è¦ä¹°çš„ç¥¨ï¼Œé‚£ä»–å°†ä¼š<span>&nbsp;</span><strong style="font-weight: 600;">ç¦»å¼€</strong><span>&nbsp;</span>é˜Ÿä¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ä½äºä½ç½®<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">k</code>ï¼ˆä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">0</strong><span>&nbsp;</span>å¼€å§‹ï¼‰çš„äººå®Œæˆä¹°ç¥¨éœ€è¦çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tickets = [2,3,2], k = 2<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>6<strong style="font-weight: 600;">è§£é‡Šï¼š</strong> - ç¬¬ä¸€è½®ï¼Œé˜Ÿä¼ä¸­çš„æ¯ä¸ªäººéƒ½ä¹°åˆ°ä¸€å¼ ç¥¨ï¼Œé˜Ÿä¼å˜ä¸º [1, 2, 1] ã€‚- ç¬¬äºŒè½®ï¼Œé˜Ÿä¼ä¸­çš„æ¯ä¸ªéƒ½åˆéƒ½ä¹°åˆ°ä¸€å¼ ç¥¨ï¼Œé˜Ÿä¼å˜ä¸º [0, 1, 0] ã€‚ä½ç½® 2 çš„äººæˆåŠŸä¹°åˆ° 2 å¼ ç¥¨ï¼Œç”¨æ‰ 3 + 3 = 6 ç§’ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tickets = [5,1,1,1], k = 0<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>8<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>- ç¬¬ä¸€è½®ï¼Œé˜Ÿä¼ä¸­çš„æ¯ä¸ªäººéƒ½ä¹°åˆ°ä¸€å¼ ç¥¨ï¼Œé˜Ÿä¼å˜ä¸º [4, 0, 0, 0] ã€‚- æ¥ä¸‹æ¥çš„ 4 è½®ï¼Œåªæœ‰ä½ç½® 0 çš„äººåœ¨ä¹°ç¥¨ã€‚ä½ç½® 0 çš„äººæˆåŠŸä¹°åˆ° 5 å¼ ç¥¨ï¼Œç”¨æ‰ 4 + 1 + 1 + 1 + 1 = 8 ç§’ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">n == tickets.length</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= n &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= tickets[i] &lt;= 100</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= k &lt; n</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/time-needed-to-buy-tickets/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 2073. ä¹°ç¥¨éœ€è¦çš„æ—¶é—´</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-4"><a href="#åŸºæœ¬æ€è·¯-4" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/queue/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>æ—¢ç„¶æ˜¯æ’é˜Ÿé—®é¢˜ï¼Œä½ ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¨¡æ‹Ÿæ•´ä¸ªä¹°ç¥¨è¿‡ç¨‹ï¼Œç„¶åæ•°ä¸€æ•°è¿‡äº†å¤šå°‘ç§’å°±è¡Œäº†ï¼Œä¸è¿‡æ—¶é—´ç©ºé—´å¤æ‚åº¦å°±é«˜äº†ã€‚</p><p>ç¨å¾®æ€è€ƒä¸€ä¸‹å¯ä»¥æƒ³åˆ°æ›´é«˜æ•ˆçš„æ–¹å¼ï¼š</p><p>é¦–å…ˆï¼Œç¬¬ <code>k</code> ä¸ªäººç¦»å¼€çš„æ—¶é—´ï¼Œå…¶å®å°±æ˜¯ä»å¼€å§‹åˆ°è¿™ä¸ªäººä¹°å®Œç¥¨ä¹‹åï¼Œå–å‡ºçš„æ€»ç¥¨æ•°ã€‚</p><p>é‚£ä¹ˆç¬¬ <code>k</code> ä¸ªäººä¹°å®Œç¥¨ä¹‹åï¼Œæ€»å…±å–äº†å¤šå°‘ç¥¨å‘¢ï¼Ÿ</p><p>æ’åœ¨ <code>k</code> ä¹‹å‰çš„äººæœ€å¤šä¹°äº† <code>tickets[k]</code> å¼ ç¥¨ï¼›è€Œæ’åœ¨ <code>k</code> ä¹‹åçš„äººæœ€å¤šä¹°äº† <code>tickets[k] - 1</code> å¼ ç¥¨ã€‚ä¸ºä»€ä¹ˆè¯´ã€Œæœ€å¤šã€å‘¢ï¼Œå› ä¸ºæœ‰çš„äººå¯èƒ½éœ€è¦çš„ç¥¨æ¯”è¾ƒå°‘ï¼Œä¹°å®Œå°±ç›´æ¥èµ°äº†ã€‚</p><p>ç»¼ä¸Šï¼Œæ€è·¯å°±å‡ºæ¥äº†ï¼Œçœ‹ä»£ç ç†è§£å§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/queue/">ã€ç»ƒä¹ ã€‘é˜Ÿåˆ—çš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -4"><a href="#è§£æ³•ä»£ç -4" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/queue/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">timeRequiredToBuy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tickets<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>tickets<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">:</span>                <span class="token comment"># å‰é¢çš„äººæœ€å¤šä¹°äº† tickets[k] å¼ ç¥¨</span>                res <span class="token operator">+=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>tickets<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> tickets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># åé¢çš„äººæœ€å¤šä¹°äº† tickets[k] - 1 å¼ ç¥¨</span>                res <span class="token operator">+=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>tickets<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> tickets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç»ƒä¹ ã€‘æ‹¬å·ç±»é—®é¢˜æ±‡æ€»</title>
      <link href="/2025/06/14/lian-xi-gua-hao-lei-wen-ti-hui-zong/"/>
      <url>/2025/06/14/lian-xi-gua-hao-lei-wen-ti-hui-zong/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç»ƒä¹ ã€‘æ‹¬å·ç±»é—®é¢˜æ±‡æ€»"><a href="#ã€ç»ƒä¹ ã€‘æ‹¬å·ç±»é—®é¢˜æ±‡æ€»" class="headerlink" title="ã€ç»ƒä¹ ã€‘æ‹¬å·ç±»é—®é¢˜æ±‡æ€»"></a>ã€ç»ƒä¹ ã€‘æ‹¬å·ç±»é—®é¢˜æ±‡æ€»</h1><h2 id="20-æœ‰æ•ˆçš„æ‹¬å·"><a href="#20-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="20. æœ‰æ•ˆçš„æ‹¬å·"></a><a href="https://labuladong.online/algo/problem-set/parentheses/#_20-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7">20. æœ‰æ•ˆçš„æ‹¬å·</a></h2><p>å¯¹æ‹¬å·çš„æœ‰æ•ˆæ€§åˆ¤æ–­å¤šæ¬¡åœ¨ç¬”è¯•ä¸­å‡ºç°ï¼Œç°å®ä¸­ä¹Ÿå¾ˆå¸¸è§ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å†™çš„ä»£ç ï¼Œç¼–è¾‘å™¨ä¼šæ£€æŸ¥æ‹¬å·æ˜¯å¦æ­£ç¡®é—­åˆã€‚è€Œä¸”æˆ‘ä»¬çš„ä»£ç å¯èƒ½ä¼šåŒ…å«ä¸‰ç§æ‹¬å· <code>[]()&#123;&#125;</code>ï¼Œåˆ¤æ–­èµ·æ¥æœ‰ä¸€ç‚¹éš¾åº¦ã€‚</p><p>æ¥çœ‹ä¸€çœ‹åŠ›æ‰£ç¬¬ 20 é¢˜ã€Œ<a href="https://leetcode.cn/problems/valid-parentheses/">æœ‰æ•ˆçš„æ‹¬å·</a>ã€ï¼Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å« <code>[]()&#123;&#125;</code> å…­ç§æ‹¬å·ï¼Œè¯·ä½ åˆ¤æ–­è¿™ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„æ‹¬å·æ˜¯å¦æœ‰æ•ˆï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">20. æœ‰æ•ˆçš„æ‹¬å·</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/valid-parentheses/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/valid-parentheses/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">')'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'&#123;'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'&#125;'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'['</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">']'</code>&nbsp;çš„å­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚</li><li>å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚</li><li>æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚</li></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "()"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "()[]{}"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "(]"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= s.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>ä»…ç”±æ‹¬å·<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'()[]&#123;&#125;'</code><span>&nbsp;</span>ç»„æˆ</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/valid-parentheses/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 20. æœ‰æ•ˆçš„æ‹¬å·</a>ã€‚</strong></details><p>è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé™ä½éš¾åº¦ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œ<strong>å¦‚æœåªæœ‰ä¸€ç§æ‹¬å· <code>()</code></strong>ï¼Œåº”è¯¥å¦‚ä½•åˆ¤æ–­å­—ç¬¦ä¸²ç»„æˆçš„æ‹¬å·æ˜¯å¦æœ‰æ•ˆå‘¢ï¼Ÿ</p><p>å‡è®¾å­—ç¬¦ä¸²ä¸­åªæœ‰åœ†æ‹¬å·ï¼Œå¦‚æœæƒ³è®©æ‹¬å·å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œé‚£ä¹ˆå¿…é¡»åšåˆ°ï¼š</p><p><strong>æ¯ä¸ªå³æ‹¬å· <code>)</code> çš„å·¦è¾¹å¿…é¡»æœ‰ä¸€ä¸ªå·¦æ‹¬å· <code>(</code> å’Œå®ƒåŒ¹é…</strong>ã€‚</p><p>æ¯”å¦‚è¯´å­—ç¬¦ä¸² <code>()))((</code> ä¸­ï¼Œä¸­é—´çš„ä¸¤ä¸ªå³æ‹¬å·<strong>å·¦è¾¹</strong>å°±æ²¡æœ‰å·¦æ‹¬å·åŒ¹é…ï¼Œæ‰€ä»¥è¿™ä¸ªæ‹¬å·ç»„åˆæ˜¯æ— æ•ˆçš„ã€‚</p><p>é‚£ä¹ˆæ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºç®—æ³•ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å¾…åŒ¹é…çš„å·¦æ‹¬å·æ•°é‡</span>    left <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token builtin">str</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">:</span>            left <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># é‡åˆ°å³æ‹¬å·</span>            left <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># å³æ‹¬å·å¤ªå¤š</span>        <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token comment"># æ˜¯å¦æ‰€æœ‰çš„å·¦æ‹¬å·éƒ½è¢«åŒ¹é…äº†</span>    <span class="token keyword">return</span> left <span class="token operator">==</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœåªæœ‰åœ†æ‹¬å·ï¼Œè¿™æ ·å°±èƒ½æ­£ç¡®åˆ¤æ–­æœ‰æ•ˆæ€§ã€‚å¯¹äºä¸‰ç§æ‹¬å·çš„æƒ…å†µï¼Œæˆ‘ä¸€å¼€å§‹æƒ³æ¨¡ä»¿è¿™ä¸ªæ€è·¯ï¼Œå®šä¹‰ä¸‰ä¸ªå˜é‡ <code>left1</code>ï¼Œ<code>left2</code>ï¼Œ<code>left3</code> åˆ†åˆ«å¤„ç†æ¯ç§æ‹¬å·ï¼Œè™½ç„¶è¦å¤šå†™ä¸å°‘ if else åˆ†æ”¯ï¼Œä½†æ˜¯ä¼¼ä¹å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p>ä½†å®é™…ä¸Šç›´æ¥ç…§æ¬è¿™ç§æ€è·¯æ˜¯ä¸è¡Œçš„ï¼Œæ¯”å¦‚è¯´åªæœ‰ä¸€ä¸ªæ‹¬å·çš„æƒ…å†µä¸‹ <code>(())</code> æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯å¤šç§æ‹¬å·çš„æƒ…å†µä¸‹ï¼Œ <code>[(])</code> æ˜¾ç„¶æ˜¯æ— æ•ˆçš„ã€‚</p><p>ä»…ä»…è®°å½•æ¯ç§å·¦æ‹¬å·å‡ºç°çš„æ¬¡æ•°å·²ç»ä¸èƒ½åšå‡ºæ­£ç¡®åˆ¤æ–­äº†ï¼Œæˆ‘ä»¬è¦åŠ å¤§å­˜å‚¨çš„ä¿¡æ¯é‡ï¼Œå¯ä»¥åˆ©ç”¨æ ˆæ¥æ¨¡ä»¿ç±»ä¼¼çš„æ€è·¯ã€‚æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¤„ç†æ‹¬å·é—®é¢˜çš„æ—¶å€™å°¤å…¶æœ‰ç”¨ã€‚</p><p>æˆ‘ä»¬è¿™é“é¢˜å°±ç”¨ä¸€ä¸ªåä¸º <code>left</code> çš„æ ˆä»£æ›¿ä¹‹å‰æ€è·¯ä¸­çš„ <code>left</code> å˜é‡ï¼Œ<strong>é‡åˆ°å·¦æ‹¬å·å°±å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·å°±å»æ ˆä¸­å¯»æ‰¾æœ€è¿‘çš„å·¦æ‹¬å·ï¼Œçœ‹æ˜¯å¦åŒ¹é…</strong>ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isValid</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> c <span class="token keyword">in</span> <span class="token string">'(&#123;['</span><span class="token punctuation">:</span>                <span class="token comment"># å­—ç¬¦ c æ˜¯å·¦æ‹¬å·ï¼Œå…¥æ ˆ</span>                left<span class="token punctuation">.</span>append<span class="token punctuation">(</span>c<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># å­—ç¬¦ c æ˜¯å³æ‹¬å·</span>                <span class="token keyword">if</span> left <span class="token keyword">and</span> self<span class="token punctuation">.</span>leftOf<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">==</span> left<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                    left<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token comment"># å’Œæœ€è¿‘çš„å·¦æ‹¬å·ä¸åŒ¹é…</span>                    <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># æ˜¯å¦æ‰€æœ‰çš„å·¦æ‹¬å·éƒ½è¢«åŒ¹é…äº†</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> left    <span class="token keyword">def</span> <span class="token function">leftOf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">'&#125;'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'&#123;'</span>        <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'('</span>        <span class="token keyword">return</span> <span class="token string">'['</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><details data-v-ee1a9bd0="" id="div_valid-parentheses" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_valid-parentheses" src="https://labuladong.online/algo-visualize/leetcode/valid-parentheses/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p>æ¥ä¸‹æ¥è®²å¦å¤–ä¸¤ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œå¦‚ä½•é€šè¿‡æœ€å°çš„æ’å…¥æ¬¡æ•°å°†æ‹¬å·å˜æˆæœ‰æ•ˆçš„ï¼Ÿ</p><h2 id="921-ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°æ·»åŠ "><a href="#921-ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°æ·»åŠ " class="headerlink" title="921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°æ·»åŠ "></a><a href="https://labuladong.online/algo/problem-set/parentheses/#_921-%E4%BD%BF%E6%8B%AC%E5%8F%B7%E6%9C%89%E6%95%88%E7%9A%84%E6%9C%80%E5%B0%8F%E6%B7%BB%E5%8A%A0">921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°æ·»åŠ </a></h2><p>å…ˆæ¥ä¸ªç®€å•çš„ï¼ŒåŠ›æ‰£ç¬¬ 921 é¢˜ã€Œ<a href="https://leetcode.cn/problems/minimum-add-to-make-parentheses-valid/">ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/minimum-add-to-make-parentheses-valid/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/minimum-add-to-make-parentheses-valid/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">åªæœ‰æ»¡è¶³ä¸‹é¢å‡ ç‚¹ä¹‹ä¸€ï¼Œæ‹¬å·å­—ç¬¦ä¸²æ‰æ˜¯æœ‰æ•ˆçš„ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å®ƒæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li><li>å®ƒå¯ä»¥è¢«å†™æˆ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">AB</code>&nbsp;ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">A</code>&nbsp;ä¸&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">B</code>&nbsp;è¿æ¥ï¼‰, å…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">A</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">B</code>&nbsp;éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li><li>å®ƒå¯ä»¥è¢«å†™ä½œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">(A)</code>ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">A</code>&nbsp;æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>ï¼Œåœ¨æ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ éƒ½å¯ä»¥åœ¨å­—ç¬¦ä¸²çš„ä»»ä½•ä½ç½®æ’å…¥ä¸€ä¸ªæ‹¬å·</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¾‹å¦‚ï¼Œå¦‚æœ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s = "()))"</code><span>&nbsp;</span>ï¼Œä½ å¯ä»¥æ’å…¥ä¸€ä¸ªå¼€å§‹æ‹¬å·ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"(()))"</code><span>&nbsp;</span>æˆ–ç»“æŸæ‹¬å·ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"())))"</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›<span>&nbsp;</span><em>ä¸ºä½¿ç»“æœå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>æœ‰æ•ˆè€Œå¿…é¡»æ·»åŠ çš„æœ€å°‘æ‹¬å·æ•°</em>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "())"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "((("<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= s.length &lt;= 1000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>åªåŒ…å«&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">')'</code>&nbsp;å­—ç¬¦ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/minimum-add-to-make-parentheses-valid/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </a>ã€‚</strong></details><p>è¿™å…¶å®å’Œå‰æ–‡çš„åˆ¤æ–­æ‹¬å·æœ‰æ•ˆæ€§éå¸¸ç±»ä¼¼ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä»£ç ï¼š</p><p>è¿™æ®µä»£ç å°±æ˜¯æœ€ç»ˆè§£æ³•ï¼Œ<strong>æ ¸å¿ƒæ€è·¯æ˜¯ä»¥å·¦æ‹¬å·ä¸ºåŸºå‡†ï¼Œé€šè¿‡ç»´æŠ¤å¯¹å³æ‹¬å·çš„éœ€æ±‚æ•° <code>need</code>ï¼Œæ¥è®¡ç®—æœ€å°çš„æ’å…¥æ¬¡æ•°</strong>ã€‚éœ€è¦æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼š</p><p><strong>1ã€å½“ <code>need == -1</code> çš„æ—¶å€™æ„å‘³ç€ä»€ä¹ˆ</strong>ï¼Ÿ</p><p>å› ä¸ºåªæœ‰é‡åˆ°å³æ‹¬å· <code>)</code> çš„æ—¶å€™æ‰ä¼š <code>need--</code>ï¼Œ<code>need == -1</code> æ„å‘³ç€å³æ‹¬å·å¤ªå¤šäº†ï¼Œæ‰€ä»¥éœ€è¦æ’å…¥å·¦æ‹¬å·ã€‚</p><p>æ¯”å¦‚è¯´ <code>s = &quot;))&quot;</code> è¿™ç§æƒ…å†µï¼Œéœ€è¦æ’å…¥ 2 ä¸ªå·¦æ‹¬å·ï¼Œä½¿å¾— <code>s</code> å˜æˆ <code>&quot;()()&quot;</code>ï¼Œæ‰æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ‹¬å·ä¸²ã€‚</p><p><strong>2ã€ç®—æ³•ä¸ºä»€ä¹ˆè¿”å› <code>res + need</code></strong>ï¼Ÿ</p><p>å› ä¸º <code>res</code> è®°å½•çš„å·¦æ‹¬å·çš„æ’å…¥æ¬¡æ•°ï¼Œ<code>need</code> è®°å½•äº†å³æ‹¬å·çš„éœ€æ±‚ï¼Œå½“ for å¾ªç¯ç»“æŸåï¼Œè‹¥ <code>need</code> ä¸ä¸º 0ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€å³æ‹¬å·è¿˜ä¸å¤Ÿï¼Œéœ€è¦æ’å…¥ã€‚</p><p>æ¯”å¦‚è¯´ <code>s = &quot;))(&quot;</code> è¿™ç§æƒ…å†µï¼Œæ’å…¥ 2 ä¸ªå·¦æ‹¬å·ä¹‹åï¼Œè¿˜è¦å†æ’å…¥ 1 ä¸ªå³æ‹¬å·ï¼Œä½¿å¾— <code>s</code> å˜æˆ <code>&quot;()()()&quot;</code>ï¼Œæ‰æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ‹¬å·ä¸²ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯è¿™é“é¢˜çš„æ€è·¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€é“è¿›é˜¶é¢˜ç›®ï¼Œå¦‚æœå·¦å³æ‹¬å·ä¸æ˜¯ 1:1 é…å¯¹ï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><h2 id="1541-å¹³è¡¡æ‹¬å·ä¸²çš„æœ€å°‘æ’å…¥"><a href="#1541-å¹³è¡¡æ‹¬å·ä¸²çš„æœ€å°‘æ’å…¥" class="headerlink" title="1541. å¹³è¡¡æ‹¬å·ä¸²çš„æœ€å°‘æ’å…¥"></a><a href="https://labuladong.online/algo/problem-set/parentheses/#_1541-%E5%B9%B3%E8%A1%A1%E6%8B%AC%E5%8F%B7%E4%B8%B2%E7%9A%84%E6%9C%80%E5%B0%91%E6%8F%92%E5%85%A5">1541. å¹³è¡¡æ‹¬å·ä¸²çš„æœ€å°‘æ’å…¥</a></h2><p>è¿™æ˜¯åŠ›æ‰£ç¬¬ 1541 é¢˜ã€Œ<a href="https://leetcode.cn/problems/minimum-insertions-to-balance-a-parentheses-string/">å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•°</a>ã€ï¼š</p><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">1541. å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•°</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/minimum-insertions-to-balance-a-parentheses-string/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/minimum-insertions-to-balance-a-parentheses-string/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸²&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;ï¼Œå®ƒåªåŒ…å«å­—ç¬¦&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">')'</code>&nbsp;ã€‚ä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸²è¢«ç§°ä¸ºå¹³è¡¡çš„å½“å®ƒæ»¡è¶³ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä»»ä½•å·¦æ‹¬å·&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code>&nbsp;å¿…é¡»å¯¹åº”ä¸¤ä¸ªè¿ç»­çš„å³æ‹¬å·&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'))'</code>&nbsp;ã€‚</li><li>å·¦æ‹¬å·&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code>&nbsp;å¿…é¡»åœ¨å¯¹åº”çš„è¿ç»­ä¸¤ä¸ªå³æ‹¬å·&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'))'</code>&nbsp;ä¹‹å‰ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">æ¯”æ–¹è¯´&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"())"</code>ï¼Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"())(())))"</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"(())())))"</code>&nbsp;éƒ½æ˜¯å¹³è¡¡çš„ï¼Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">")()"</code>ï¼Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"()))"</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"(()))"</code>&nbsp;éƒ½æ˜¯ä¸å¹³è¡¡çš„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ å¯ä»¥åœ¨ä»»æ„ä½ç½®æ’å…¥å­—ç¬¦ '(' å’Œ ')' ä½¿å­—ç¬¦ä¸²å¹³è¡¡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›è®©<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;å¹³è¡¡çš„æœ€å°‘æ’å…¥æ¬¡æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "(()))"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>1<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ç¬¬äºŒä¸ªå·¦æ‹¬å·æœ‰ä¸ä¹‹åŒ¹é…çš„ä¸¤ä¸ªå³æ‹¬å·ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå·¦æ‹¬å·åªæœ‰ä¸€ä¸ªå³æ‹¬å·ã€‚æˆ‘ä»¬éœ€è¦åœ¨å­—ç¬¦ä¸²ç»“å°¾é¢å¤–å¢åŠ ä¸€ä¸ª ')' ä½¿å­—ç¬¦ä¸²å˜æˆå¹³è¡¡å­—ç¬¦ä¸² "(())))" ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "())"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­—ç¬¦ä¸²å·²ç»å¹³è¡¡äº†ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "))())("<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ·»åŠ  '(' å»åŒ¹é…æœ€å¼€å¤´çš„ '))' ï¼Œç„¶åæ·»åŠ  '))' å»åŒ¹é…æœ€åä¸€ä¸ª '(' ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "(((((("<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>12<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ·»åŠ  12 ä¸ª ')' å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 5ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = ")))))))"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åœ¨å­—ç¬¦ä¸²å¼€å¤´æ·»åŠ  4 ä¸ª '(' å¹¶åœ¨ç»“å°¾æ·»åŠ  1 ä¸ª ')' ï¼Œå­—ç¬¦ä¸²å˜æˆå¹³è¡¡å­—ç¬¦ä¸² "(((())))))))" ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= s.length &lt;= 10^5</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code>&nbsp;åªåŒ…å«&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">')'</code>&nbsp;ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/minimum-insertions-to-balance-a-parentheses-string/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1541. å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•°</a>ã€‚</strong></details><p>ç°åœ¨å‡è®¾ 1 ä¸ªå·¦æ‹¬å·éœ€è¦åŒ¹é… 2 ä¸ªå³æ‹¬å·æ‰å«åšæœ‰æ•ˆçš„æ‹¬å·ç»„åˆï¼Œé‚£ä¹ˆç»™ä½ è¾“å…¥ä¸€ä¸ªæ‹¬å·ä¸² <code>s</code>ï¼Œè¯·é—®ä½ å¦‚ä½•è®¡ç®—ä½¿å¾— <code>s</code> æœ‰æ•ˆçš„æœ€å°æ’å…¥æ¬¡æ•°å‘¢ï¼Ÿ</p><p><strong>æ ¸å¿ƒæ€è·¯è¿˜æ˜¯å’Œåˆšæ‰ä¸€æ ·ï¼Œé€šè¿‡ä¸€ä¸ª <code>need</code> å˜é‡è®°å½•å¯¹å³æ‹¬å·çš„éœ€æ±‚æ•°ï¼Œæ ¹æ® <code>need</code> çš„å˜åŒ–æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ’å…¥</strong>ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬æŒ‰ç…§åˆšæ‰çš„æ€è·¯æ­£ç¡®ç»´æŠ¤ <code>need</code> å˜é‡ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">minInsertions</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>     <span class="token comment"># need è®°å½•éœ€å³æ‹¬å·çš„éœ€æ±‚é‡</span>    res <span class="token operator">=</span> <span class="token number">0</span>     need <span class="token operator">=</span> <span class="token number">0</span>     <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä¸€ä¸ªå·¦æ‹¬å·å¯¹åº”ä¸¤ä¸ªå³æ‹¬å·</span>        <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">:</span>             need <span class="token operator">+=</span> <span class="token number">2</span>         <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">:</span>             need <span class="token operator">-=</span> <span class="token number">1</span>     <span class="token keyword">return</span> res <span class="token operator">+</span> need<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æƒ³ä¸€æƒ³ï¼Œå½“ <code>need</code> ä¸ºä»€ä¹ˆå€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šéœ€è¦è¿›è¡Œæ’å…¥ï¼Ÿ</p><p><strong>é¦–å…ˆï¼Œç±»ä¼¼ç¬¬ä¸€é¢˜ï¼Œå½“ <code>need == -1</code> æ—¶ï¼Œæ„å‘³ç€æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå¤šä½™çš„å³æ‹¬å·ï¼Œæ˜¾ç„¶éœ€è¦æ’å…¥ä¸€ä¸ªå·¦æ‹¬å·</strong>ã€‚</p><p>æ¯”å¦‚è¯´å½“ <code>s = &quot;)&quot;</code>ï¼Œæˆ‘ä»¬è‚¯å®šéœ€è¦æ’å…¥ä¸€ä¸ªå·¦æ‹¬å·è®© <code>s = &quot;()&quot;</code>ï¼Œä½†æ˜¯ç”±äºä¸€ä¸ªå·¦æ‹¬å·éœ€è¦ä¸¤ä¸ªå³æ‹¬å·ï¼Œæ‰€ä»¥å¯¹å³æ‹¬å·çš„éœ€æ±‚é‡å˜ä¸º 1ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    need<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token comment">// è¯´æ˜å³æ‹¬å·å¤ªå¤šäº†</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>need <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// éœ€è¦æ’å…¥ä¸€ä¸ªå·¦æ‹¬å·</span>        res<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token comment">// åŒæ—¶ï¼Œå¯¹å³æ‹¬å·çš„éœ€æ±‚å˜ä¸º 1</span>        need <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å¦å¤–ï¼Œå½“é‡åˆ°å·¦æ‹¬å·æ—¶ï¼Œè‹¥å¯¹å³æ‹¬å·çš„éœ€æ±‚é‡ä¸ºå¥‡æ•°ï¼Œéœ€è¦æ’å…¥ 1 ä¸ªå³æ‹¬å·</strong>ã€‚å› ä¸ºä¸€ä¸ªå·¦æ‹¬å·éœ€è¦ä¸¤ä¸ªå³æ‹¬å·å˜›ï¼Œå³æ‹¬å·çš„éœ€æ±‚å¿…é¡»æ˜¯å¶æ•°ï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ˜¯æœ¬é¢˜çš„éš¾ç‚¹ã€‚</p><p>æ‰€ä»¥é‡åˆ°å·¦æ‹¬å·æ—¶è¦åšå¦‚ä¸‹åˆ¤æ–­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'('</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    need <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>need <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ’å…¥ä¸€ä¸ªå³æ‹¬å·</span>        res<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token comment">// å¯¹å³æ‹¬å·çš„éœ€æ±‚å‡ä¸€</span>        need<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºæ­£ç¡®çš„ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">minInsertions</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># need è®°å½•éœ€å³æ‹¬å·çš„éœ€æ±‚é‡</span>        res <span class="token operator">=</span> <span class="token number">0</span>        need <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># ä¸€ä¸ªå·¦æ‹¬å·å¯¹åº”ä¸¤ä¸ªå³æ‹¬å·</span>            <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">:</span>                need <span class="token operator">+=</span> <span class="token number">2</span>                <span class="token keyword">if</span> need <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                    <span class="token comment"># æ’å…¥ä¸€ä¸ªå³æ‹¬å·</span>                    res <span class="token operator">+=</span> <span class="token number">1</span>                    need <span class="token operator">-=</span> <span class="token number">1</span>            <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">:</span>                need <span class="token operator">-=</span> <span class="token number">1</span>                <span class="token comment"># è¯´æ˜å³æ‹¬å·å¤ªå¤šäº†</span>                <span class="token keyword">if</span> need <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>                    <span class="token comment"># éœ€è¦æ’å…¥ä¸€ä¸ªå·¦æ‹¬å·</span>                    res <span class="token operator">+=</span> <span class="token number">1</span>                    <span class="token comment"># åŒæ—¶ï¼Œå¯¹å³æ‹¬å·çš„éœ€æ±‚å˜ä¸º 1</span>                    need <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res <span class="token operator">+</span> need<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/2025/06/14/lian-xi-gua-hao-lei-wen-ti-hui-zong/5.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</title>
      <link href="/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/"/>
      <url>/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜"><a href="#ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜" class="headerlink" title="ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜"></a>ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</h1><h2 id="è€ƒå¯Ÿå…ˆè¿›åå‡ºæ€§è´¨"><a href="#è€ƒå¯Ÿå…ˆè¿›åå‡ºæ€§è´¨" class="headerlink" title="è€ƒå¯Ÿå…ˆè¿›åå‡ºæ€§è´¨"></a>è€ƒå¯Ÿå…ˆè¿›åå‡ºæ€§è´¨</h2><p>å¯¹äºæ ˆè¿™ç§æ•°æ®ç»“æ„çš„è€ƒå¯Ÿï¼Œä¸»è¦è€ƒå¯Ÿå…ˆè¿›åå‡ºç‰¹ç‚¹çš„è¿ç”¨ï¼Œæ¯”å¦‚è¡¨è¾¾å¼è¿ç®—ã€æ‹¬å·åˆæ³•æ€§æ£€æµ‹ç­‰é—®é¢˜ï¼Œä¸‹é¢åˆ—å‡ºå‡ ä¸ªä½¿ç”¨æ ˆçš„ç»å…¸åœºæ™¯ã€‚</p><h2 id="71-ç®€åŒ–è·¯å¾„"><a href="#71-ç®€åŒ–è·¯å¾„" class="headerlink" title="71. ç®€åŒ–è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_simplify-path">71. ç®€åŒ–è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">71. ç®€åŒ–è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/simplify-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/simplify-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">path</code><span>&nbsp;</span>ï¼Œè¡¨ç¤ºæŒ‡å‘æŸä¸€æ–‡ä»¶æˆ–ç›®å½•çš„ Unix é£æ ¼<span>&nbsp;</span><strong style="font-weight: 600;">ç»å¯¹è·¯å¾„<span>&nbsp;</span></strong>ï¼ˆä»¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>å¼€å¤´ï¼‰ï¼Œè¯·ä½ å°†å…¶è½¬åŒ–ä¸ºæ›´åŠ ç®€æ´çš„è§„èŒƒè·¯å¾„ã€‚</p><p class="MachineTrans-lang-zh-CN" style="line-height: 1.6; overflow-wrap: break-word;">åœ¨ Unix é£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">.</code>ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ï¼›æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">..</code>ï¼‰ è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ï¼›ä¸¤è€…éƒ½å¯ä»¥æ˜¯å¤æ‚ç›¸å¯¹è·¯å¾„çš„ç»„æˆéƒ¨åˆ†ã€‚ä»»æ„å¤šä¸ªè¿ç»­çš„æ–œæ ï¼ˆå³ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'//'</code>ï¼‰éƒ½è¢«è§†ä¸ºå•ä¸ªæ–œæ <span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>ã€‚ å¯¹äºæ­¤é—®é¢˜ï¼Œä»»ä½•å…¶ä»–æ ¼å¼çš„ç‚¹ï¼ˆä¾‹å¦‚ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'...'</code>ï¼‰å‡è¢«è§†ä¸ºæ–‡ä»¶/ç›®å½•åç§°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·æ³¨æ„ï¼Œè¿”å›çš„<span>&nbsp;</span><strong style="font-weight: 600;">è§„èŒƒè·¯å¾„</strong><span>&nbsp;</span>å¿…é¡»éµå¾ªä¸‹è¿°æ ¼å¼ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å§‹ç»ˆä»¥æ–œæ <span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>å¼€å¤´ã€‚</li><li>ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ <span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>ã€‚</li><li>æœ€åä¸€ä¸ªç›®å½•åï¼ˆå¦‚æœå­˜åœ¨ï¼‰<strong style="font-weight: 600;">ä¸èƒ½<span>&nbsp;</span></strong>ä»¥<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>ç»“å°¾ã€‚</li><li>æ­¤å¤–ï¼Œè·¯å¾„ä»…åŒ…å«ä»æ ¹ç›®å½•åˆ°ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ä¸Šçš„ç›®å½•ï¼ˆå³ï¼Œä¸å«<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'.'</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'..'</code>ï¼‰ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›ç®€åŒ–åå¾—åˆ°çš„<span>&nbsp;</span><strong style="font-weight: 600;">è§„èŒƒè·¯å¾„</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>path = "/home/"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"/home"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ³¨æ„ï¼Œæœ€åä¸€ä¸ªç›®å½•ååé¢æ²¡æœ‰æ–œæ ã€‚ </pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>path = "/../"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"/"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä»æ ¹ç›®å½•å‘ä¸Šä¸€çº§æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºæ ¹ç›®å½•æ˜¯ä½ å¯ä»¥åˆ°è¾¾çš„æœ€é«˜çº§ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>path = "/home//foo/"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"/home/foo"<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>path = "/a/./b/../../c/"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"/c"</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= path.length &lt;= 3000</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">path</code><span>&nbsp;</span>ç”±è‹±æ–‡å­—æ¯ï¼Œæ•°å­—ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'.'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'_'</code><span>&nbsp;</span>ç»„æˆã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">path</code><span>&nbsp;</span>æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ Unix é£æ ¼ç»å¯¹è·¯å¾„ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/simplify-path/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 71. ç®€åŒ–è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜æ¯”è¾ƒç®€å•ï¼Œåˆ©ç”¨æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§å¤„ç†ä¸Šçº§ç›®å½• <code>..</code>ï¼Œæœ€åç»„è£…åŒ–ç®€åçš„è·¯å¾„å³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç "><a href="#è§£æ³•ä»£ç " class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">simplifyPath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> path<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        parts <span class="token operator">=</span> path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>        stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># å€ŸåŠ©æ ˆè®¡ç®—æœ€ç»ˆçš„æ–‡ä»¶å¤¹è·¯å¾„</span>        <span class="token keyword">for</span> part <span class="token keyword">in</span> parts<span class="token punctuation">:</span>            <span class="token keyword">if</span> part <span class="token operator">==</span> <span class="token string">""</span> <span class="token keyword">or</span> part <span class="token operator">==</span> <span class="token string">"."</span><span class="token punctuation">:</span>                <span class="token keyword">continue</span>            <span class="token keyword">if</span> part <span class="token operator">==</span> <span class="token string">".."</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> stk<span class="token punctuation">:</span>                    stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span>            stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>part<span class="token punctuation">)</span>        <span class="token comment"># æ ˆä¸­å­˜å‚¨çš„æ–‡ä»¶å¤¹ç»„æˆè·¯å¾„</span>        res <span class="token operator">=</span> <span class="token string">""</span>        <span class="token keyword">while</span> stk<span class="token punctuation">:</span>            res <span class="token operator">=</span> <span class="token string">"/"</span> <span class="token operator">+</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> res        <span class="token keyword">return</span> res <span class="token keyword">if</span> res <span class="token keyword">else</span> <span class="token string">"/"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%8F%AF%E8%A7%86%E5%8C%96">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_simplify-path" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_simplify-path" src="https://labuladong.online/algo-visualize/leetcode/simplify-path/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="143-é‡æ’é“¾è¡¨"><a href="#143-é‡æ’é“¾è¡¨" class="headerlink" title="143. é‡æ’é“¾è¡¨"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_reorder-list">143. é‡æ’é“¾è¡¨</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">143. é‡æ’é“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/reorder-list/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/reorder-list/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªå•é“¾è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">L</code><em><span>&nbsp;</span></em>çš„å¤´èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">head</code><span>&nbsp;</span>ï¼Œå•é“¾è¡¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">L</code><span>&nbsp;</span>è¡¨ç¤ºä¸ºï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">L<sub>0</sub> â†’ L<sub>1</sub> â†’ â€¦ â†’ L<sub>n - 1</sub> â†’ L<sub>n</sub></pre><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">L<sub>0</sub> â†’ L<sub>n</sub> â†’ L<sub>1</sub> â†’ L<sub>n - 1</sub> â†’ L<sub>2</sub> â†’ L<sub>n - 2</sub> â†’ â€¦</pre><p style="line-height: 1.6; overflow-wrap: break-word;">ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/1626420311-PkUiGI-image.png" style="max-width: 100%; width: 240px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,4,2,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/1626420320-YUiulT-image.png" style="max-width: 100%; width: 320px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4,5]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,5,2,4,3]</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨çš„é•¿åº¦èŒƒå›´ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[1, 5 * 10<sup>4</sup>]</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= node.val &lt;= 1000</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/reorder-list/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 143. é‡æ’é“¾è¡¨</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1">åŸºæœ¬æ€è·¯</a></h3><p>è¿™é¢˜çš„éš¾ç‚¹åœ¨äºï¼šä¸€ä¸ªå•é“¾è¡¨åªèƒ½ä»å¤´éƒ¨å‘å°¾éƒ¨éå†èŠ‚ç‚¹ï¼Œæ— æ³•ä»å°¾éƒ¨å¼€å§‹å‘å¤´éƒ¨éå†èŠ‚ç‚¹ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ã€Œæ ˆã€å…ˆè¿›åå‡ºçš„ç»“æ„ç‰¹ç‚¹ï¼ŒæŒ‰ä»å¤´åˆ°å°¾çš„é¡ºåºè®©é“¾è¡¨èŠ‚ç‚¹å…¥æ ˆï¼Œé‚£ä¹ˆå‡ºæ ˆé¡ºåºå°±æ˜¯åè¿‡æ¥ä»å°¾åˆ°å¤´äº†ã€‚</p><p>æœ‰äº†è¿™ä¸ªæ ˆï¼Œç®—æ³•çš„å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">ListNode p <span class="token operator">=</span> head<span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token operator">//</span> é“¾è¡¨å°¾éƒ¨çš„èŠ‚ç‚¹    ListNode lastNode <span class="token operator">=</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">//</span> æŒ‰é¢˜ç›®è¦æ±‚æ‹¼æ¥    ListNode <span class="token builtin">next</span> <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> lastNode<span class="token punctuation">;</span>    lastNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">;</span>    p <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“ç„¶ï¼Œå¤„ç†å•é“¾è¡¨æ—¶ç»†èŠ‚é—®é¢˜æ¯”è¾ƒå¤šï¼Œæ³¨æ„æ“ä½œæŒ‡é’ˆæ—¶çš„é¡ºåºï¼Œé¿å…æ“ä½œå¤±è¯¯å½¢æˆç¯å½¢é“¾è¡¨ï¼Œç›´æ¥çœ‹æˆ‘çš„ä»£ç æ³¨é‡Šå§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -1"><a href="#è§£æ³•ä»£ç -1" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-1">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">reorderList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># å…ˆæŠŠæ‰€æœ‰èŠ‚ç‚¹è£…è¿›æ ˆé‡Œï¼Œå¾—åˆ°å€’åºç»“æœ</span>        p <span class="token operator">=</span> head        <span class="token keyword">while</span> p <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>p<span class="token punctuation">)</span>            p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token builtin">next</span>        p <span class="token operator">=</span> head        <span class="token keyword">while</span> p <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># é“¾è¡¨å°¾éƒ¨çš„èŠ‚ç‚¹</span>            lastNode <span class="token operator">=</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token builtin">next</span> <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token builtin">next</span>            <span class="token keyword">if</span> lastNode <span class="token operator">==</span> <span class="token builtin">next</span> <span class="token keyword">or</span> lastNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">==</span> <span class="token builtin">next</span><span class="token punctuation">:</span>                <span class="token comment"># ç»“æŸæ¡ä»¶ï¼Œé“¾è¡¨èŠ‚ç‚¹æ•°ä¸ºå¥‡æ•°æˆ–å¶æ•°æ—¶å‡é€‚ç”¨</span>                lastNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>                <span class="token keyword">break</span>            p<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> lastNode            lastNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token builtin">next</span>            p <span class="token operator">=</span> <span class="token builtin">next</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-1"><a href="#å¯è§†åŒ–-1" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-1">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_reorder-list" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_reorder-list" src="https://labuladong.online/algo-visualize/leetcode/reorder-list/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/LGjMqU">å‰‘æŒ‡ Offer II 026. é‡æ’é“¾è¡¨ ğŸŸ </a></li></ul><h2 id="20-æœ‰æ•ˆçš„æ‹¬å·"><a href="#20-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="20. æœ‰æ•ˆçš„æ‹¬å·"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_valid-parentheses">20. æœ‰æ•ˆçš„æ‹¬å·</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">20. æœ‰æ•ˆçš„æ‹¬å·</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/valid-parentheses/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/valid-parentheses/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'('</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">')'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'&#123;'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'&#125;'</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'['</code>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">']'</code>&nbsp;çš„å­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚</li><li>å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚</li><li>æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚</li></ol><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "()"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "()[]{}"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "(]"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= s.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">s</code><span>&nbsp;</span>ä»…ç”±æ‹¬å·<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'()[]&#123;&#125;'</code><span>&nbsp;</span>ç»„æˆ</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/valid-parentheses/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 20. æœ‰æ•ˆçš„æ‹¬å·</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-2"><a href="#åŸºæœ¬æ€è·¯-2" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-2">åŸºæœ¬æ€è·¯</a></h3><p>æ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå¤„ç†æ‹¬å·é—®é¢˜çš„æ—¶å€™å°¤å…¶æœ‰ç”¨ã€‚</p><p>æ‹¬å·çš„æœ‰æ•ˆæ€§åˆ¤æ–­åœ¨ç¬”è¯•ä¸­å’Œç°å®ä¸­éƒ½å¾ˆå¸¸è§ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å†™çš„ä»£ç ï¼Œç¼–è¾‘å™¨ä¼šæ£€æŸ¥æ‹¬å·æ˜¯å¦æ­£ç¡®é—­åˆã€‚è€Œä¸”æˆ‘ä»¬çš„ä»£ç å¯èƒ½ä¼šåŒ…å«ä¸‰ç§æ‹¬å· <code>[]()&#123;&#125;</code>ï¼Œåˆ¤æ–­èµ·æ¥æœ‰ä¸€ç‚¹éš¾åº¦ã€‚</p><p>è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé™ä½éš¾åº¦ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œ<strong>å¦‚æœåªæœ‰ä¸€ç§æ‹¬å· <code>()</code></strong>ï¼Œåº”è¯¥å¦‚ä½•åˆ¤æ–­å­—ç¬¦ä¸²ç»„æˆçš„æ‹¬å·æ˜¯å¦æœ‰æ•ˆå‘¢ï¼Ÿ</p><p>å‡è®¾å­—ç¬¦ä¸²ä¸­åªæœ‰åœ†æ‹¬å·ï¼Œå¦‚æœæƒ³è®©æ‹¬å·å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œé‚£ä¹ˆå¿…é¡»åšåˆ°ï¼š</p><p><strong>æ¯ä¸ªå³æ‹¬å· <code>)</code> çš„å·¦è¾¹å¿…é¡»æœ‰ä¸€ä¸ªå·¦æ‹¬å· <code>(</code> å’Œå®ƒåŒ¹é…</strong>ã€‚</p><p>æ¯”å¦‚è¯´å­—ç¬¦ä¸² <code>()))((</code> ä¸­ï¼Œä¸­é—´çš„ä¸¤ä¸ªå³æ‹¬å·<strong>å·¦è¾¹</strong>å°±æ²¡æœ‰å·¦æ‹¬å·åŒ¹é…ï¼Œæ‰€ä»¥è¿™ä¸ªæ‹¬å·ç»„åˆæ˜¯æ— æ•ˆçš„ã€‚</p><p>é‚£ä¹ˆæ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºç®—æ³•ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å¾…åŒ¹é…çš„å·¦æ‹¬å·æ•°é‡</span>    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'('</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            left<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// é‡åˆ°å³æ‹¬å·</span>            left<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// å³æ‹¬å·å¤ªå¤š</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ˜¯å¦æ‰€æœ‰çš„å·¦æ‹¬å·éƒ½è¢«åŒ¹é…äº†</span>    <span class="token keyword">return</span> left <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœåªæœ‰åœ†æ‹¬å·ï¼Œè¿™æ ·å°±èƒ½æ­£ç¡®åˆ¤æ–­æœ‰æ•ˆæ€§ã€‚å¯¹äºä¸‰ç§æ‹¬å·çš„æƒ…å†µï¼Œæˆ‘ä¸€å¼€å§‹æƒ³æ¨¡ä»¿è¿™ä¸ªæ€è·¯ï¼Œå®šä¹‰ä¸‰ä¸ªå˜é‡ <code>left1</code>ï¼Œ<code>left2</code>ï¼Œ<code>left3</code> åˆ†åˆ«å¤„ç†æ¯ç§æ‹¬å·ï¼Œè™½ç„¶è¦å¤šå†™ä¸å°‘ if else åˆ†æ”¯ï¼Œä½†æ˜¯ä¼¼ä¹å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p>ä½†å®é™…ä¸Šç›´æ¥ç…§æ¬è¿™ç§æ€è·¯æ˜¯ä¸è¡Œçš„ï¼Œæ¯”å¦‚è¯´åªæœ‰ä¸€ä¸ªæ‹¬å·çš„æƒ…å†µä¸‹ <code>(())</code> æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯å¤šç§æ‹¬å·çš„æƒ…å†µä¸‹ï¼Œ <code>[(])</code> æ˜¾ç„¶æ˜¯æ— æ•ˆçš„ã€‚</p><p>ä»…ä»…è®°å½•æ¯ç§å·¦æ‹¬å·å‡ºç°çš„æ¬¡æ•°å·²ç»ä¸èƒ½åšå‡ºæ­£ç¡®åˆ¤æ–­äº†ï¼Œæˆ‘ä»¬è¦åŠ å¤§å­˜å‚¨çš„ä¿¡æ¯é‡ï¼Œå¯ä»¥åˆ©ç”¨æ ˆæ¥æ¨¡ä»¿ç±»ä¼¼çš„æ€è·¯ã€‚</p><p>æˆ‘ä»¬è¿™é“é¢˜å°±ç”¨ä¸€ä¸ªåä¸º <code>left</code> çš„æ ˆä»£æ›¿ä¹‹å‰æ€è·¯ä¸­çš„ <code>left</code> å˜é‡ï¼Œ<strong>é‡åˆ°å·¦æ‹¬å·å°±å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·å°±å»æ ˆä¸­å¯»æ‰¾æœ€è¿‘çš„å·¦æ‹¬å·ï¼Œçœ‹æ˜¯å¦åŒ¹é…</strong>ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -2"><a href="#è§£æ³•ä»£ç -2" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-2">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">isValid</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> c <span class="token keyword">in</span> <span class="token string">'(&#123;['</span><span class="token punctuation">:</span>                <span class="token comment"># å­—ç¬¦ c æ˜¯å·¦æ‹¬å·ï¼Œå…¥æ ˆ</span>                left<span class="token punctuation">.</span>append<span class="token punctuation">(</span>c<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># å­—ç¬¦ c æ˜¯å³æ‹¬å·</span>                <span class="token keyword">if</span> left <span class="token keyword">and</span> self<span class="token punctuation">.</span>leftOf<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">==</span> left<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                    left<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token comment"># å’Œæœ€è¿‘çš„å·¦æ‹¬å·ä¸åŒ¹é…</span>                    <span class="token keyword">return</span> <span class="token boolean">False</span>        <span class="token comment"># æ˜¯å¦æ‰€æœ‰çš„å·¦æ‹¬å·éƒ½è¢«åŒ¹é…äº†</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> left    <span class="token keyword">def</span> <span class="token function">leftOf</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">'&#125;'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'&#123;'</span>        <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">'('</span>        <span class="token keyword">return</span> <span class="token string">'['</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-2"><a href="#å¯è§†åŒ–-2" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-2">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_valid-parentheses" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_valid-parentheses" src="https://labuladong.online/algo-visualize/leetcode/valid-parentheses/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><h2 id="150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"><a href="#150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_evaluate-reverse-polish-notation">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tokens</code><span>&nbsp;</span>ï¼Œè¡¨ç¤ºä¸€ä¸ªæ ¹æ®&nbsp;<a href="https://baike.baidu.com/item/%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F/128437" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">é€†æ³¢å…°è¡¨ç¤ºæ³•</a><span>&nbsp;</span>è¡¨ç¤ºçš„ç®—æœ¯è¡¨è¾¾å¼ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è®¡ç®—è¯¥è¡¨è¾¾å¼ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¡¨è¾¾å¼å€¼çš„æ•´æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æœ‰æ•ˆçš„ç®—ç¬¦ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'+'</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'-'</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'*'</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>ã€‚</li><li>æ¯ä¸ªæ“ä½œæ•°ï¼ˆè¿ç®—å¯¹è±¡ï¼‰éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–è€…å¦ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</li><li>ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„é™¤æ³•æ€»æ˜¯<span>&nbsp;</span><strong style="font-weight: 600;">å‘é›¶æˆªæ–­</strong><span>&nbsp;</span>ã€‚</li><li>è¡¨è¾¾å¼ä¸­ä¸å«é™¤é›¶è¿ç®—ã€‚</li><li>è¾“å…¥æ˜¯ä¸€ä¸ªæ ¹æ®é€†æ³¢å…°è¡¨ç¤ºæ³•è¡¨ç¤ºçš„ç®—æœ¯è¡¨è¾¾å¼ã€‚</li><li>ç­”æ¡ˆåŠæ‰€æœ‰ä¸­é—´è®¡ç®—ç»“æœå¯ä»¥ç”¨<span>&nbsp;</span><strong style="font-weight: 600;">32 ä½</strong><span>&nbsp;</span>æ•´æ•°è¡¨ç¤ºã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tokens = ["2","1","+","3","*"]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>9<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š((2 + 1) * 3) = 9</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tokens = ["4","13","5","/","+"]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>6<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š(4 + (13 / 5)) = 6</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>tokens = ["10","6","9","3","+","-11","*","/","*","17","+","5","+"]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>22<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5= ((10 * (6 / (12 * -11))) + 17) + 5= ((10 * (6 / -132)) + 17) + 5= ((10 * 0) + 17) + 5= (0 + 17) + 5= 17 + 5= 22</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= tokens.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">tokens[i]</code>&nbsp;æ˜¯ä¸€ä¸ªç®—ç¬¦ï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"+"</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"-"</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"*"</code><span>&nbsp;</span>æˆ–<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"/"</code>ï¼‰ï¼Œæˆ–æ˜¯åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">[-200, 200]</code><span>&nbsp;</span>å†…çš„ä¸€ä¸ªæ•´æ•°</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">é€†æ³¢å…°è¡¨è¾¾å¼ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;">é€†æ³¢å…°è¡¨è¾¾å¼æ˜¯ä¸€ç§åç¼€è¡¨è¾¾å¼ï¼Œæ‰€è°“åç¼€å°±æ˜¯æŒ‡ç®—ç¬¦å†™åœ¨åé¢ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å¹³å¸¸ä½¿ç”¨çš„ç®—å¼åˆ™æ˜¯ä¸€ç§ä¸­ç¼€è¡¨è¾¾å¼ï¼Œå¦‚<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">( 1 + 2 ) * ( 3 + 4 )</code><span>&nbsp;</span>ã€‚</li><li>è¯¥ç®—å¼çš„é€†æ³¢å…°è¡¨è¾¾å¼å†™æ³•ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">( ( 1 2 + ) ( 3 4 + ) * )</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">é€†æ³¢å…°è¡¨è¾¾å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªä¼˜ç‚¹ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å»æ‰æ‹¬å·åè¡¨è¾¾å¼æ— æ­§ä¹‰ï¼Œä¸Šå¼å³ä¾¿å†™æˆ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 2 + 3 4 + *<span>&nbsp;</span></code>ä¹Ÿå¯ä»¥ä¾æ®æ¬¡åºè®¡ç®—å‡ºæ­£ç¡®ç»“æœã€‚</li><li>é€‚åˆç”¨æ ˆæ“ä½œè¿ç®—ï¼šé‡åˆ°æ•°å­—åˆ™å…¥æ ˆï¼›é‡åˆ°ç®—ç¬¦åˆ™å–å‡ºæ ˆé¡¶ä¸¤ä¸ªæ•°å­—è¿›è¡Œè®¡ç®—ï¼Œå¹¶å°†ç»“æœå‹å…¥æ ˆä¸­</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-3"><a href="#åŸºæœ¬æ€è·¯-3" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-3">åŸºæœ¬æ€è·¯</a></h3><p>é€†æ³¢å…°è¡¨è¾¾å¼å‘æ˜å‡ºæ¥å°±æ˜¯ä¸ºäº†æ–¹ä¾¿è®¡ç®—æœºè¿ç”¨ã€Œæ ˆã€è¿›è¡Œè¡¨è¾¾å¼è¿ç®—çš„ï¼Œå…¶è¿ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><p>æŒ‰é¡ºåºéå†é€†æ³¢å…°è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦ï¼Œå¦‚æœæ˜¯æ•°å­—ï¼Œåˆ™æ”¾å…¥æ ˆï¼›å¦‚æœæ˜¯è¿ç®—ç¬¦ï¼Œåˆ™å°†æ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ æ‹¿å‡ºæ¥è¿›è¡Œè¿ç®—ï¼Œå†å°†ç»“æœæ”¾å…¥æ ˆã€‚å¯¹äºå‡æ³•å’Œé™¤æ³•ï¼Œè¿ç®—é¡ºåºåˆ«æåäº†ï¼Œæ ˆé¡¶ç¬¬äºŒä¸ªæ•°æ˜¯è¢«é™¤ï¼ˆå‡ï¼‰æ•°ã€‚</p><p>æ‰€ä»¥è¿™é¢˜å¾ˆç®€å•ï¼Œç›´æ¥æŒ‰ç…§è¿ç®—è§„åˆ™å€ŸåŠ©æ ˆè®¡ç®—è¡¨è¾¾å¼ç»“æœå³å¯ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -3"><a href="#è§£æ³•ä»£ç -3" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-3">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">evalRPN</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tokens<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> token <span class="token keyword">in</span> tokens<span class="token punctuation">:</span>            <span class="token keyword">if</span> token <span class="token keyword">in</span> <span class="token string">"+-*/"</span><span class="token punctuation">:</span>                <span class="token comment"># æ˜¯ä¸ªè¿ç®—ç¬¦ï¼Œä»æ ˆé¡¶æ‹¿å‡ºä¸¤ä¸ªæ•°å­—è¿›è¡Œè¿ç®—ï¼Œè¿ç®—ç»“æœå…¥æ ˆ</span>                a <span class="token operator">=</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                b <span class="token operator">=</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> token <span class="token operator">==</span> <span class="token string">"+"</span><span class="token punctuation">:</span>                    stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>                <span class="token keyword">elif</span> token <span class="token operator">==</span> <span class="token string">"*"</span><span class="token punctuation">:</span>                    stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a <span class="token operator">*</span> b<span class="token punctuation">)</span>                <span class="token comment"># å¯¹äºå‡æ³•å’Œé™¤æ³•ï¼Œé¡ºåºåˆ«æåäº†ï¼Œç¬¬äºŒä¸ªæ•°æ˜¯è¢«é™¤ï¼ˆå‡ï¼‰æ•°</span>                <span class="token keyword">elif</span> token <span class="token operator">==</span> <span class="token string">"-"</span><span class="token punctuation">:</span>                    stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span>                <span class="token keyword">elif</span> token <span class="token operator">==</span> <span class="token string">"/"</span><span class="token punctuation">:</span>                    stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>b <span class="token operator">/</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># Ensure the result is an integer</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token comment"># æ˜¯ä¸ªæ•°å­—ï¼Œç›´æ¥å…¥æ ˆå³å¯</span>                stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># æœ€åæ ˆä¸­å‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œå³æ˜¯è®¡ç®—ç»“æœ</span>        <span class="token keyword">return</span> stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯è§†åŒ–-3"><a href="#å¯è§†åŒ–-3" class="headerlink" title="å¯è§†åŒ–"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%8F%AF%E8%A7%86%E5%8C%96-3">å¯è§†åŒ–</a></h3><details data-v-ee1a9bd0="" id="div_evaluate-reverse-polish-notation" class="hint-container details" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1rem 0px 0px; border-radius: 0.5rem; margin: 1.3em 0px;"><summary data-v-ee1a9bd0="" style="position: relative; margin: -1rem 0px 0px; padding-block: 1em; padding-inline: 2.3em 1.5em; list-style: none; font-size: large; cursor: pointer; display: flex; align-items: center;"><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="m4.415 18.167l7.17-7.17l1.414 1.414l-7.17 7.17z" opacity="0.3"></path><path data-v-ee1a9bd0="" fill="currentColor" d="m20 7l.94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06l-2.06.94l2.06.94l.94 2.06l.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38l-2.83-2.83c-.2-.19-.45-.29-.71-.29s-.51.1-.71.29L2.29 17.46a.996.996 0 0 0 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42M5.83 19.59l-1.41-1.41L11.59 11L13 12.41zM14.41 11L13 9.59l1.17-1.17l1.41 1.41z"></path></svg>&nbsp;<strong data-v-ee1a9bd0="" style="font-weight: 600;">ç®—æ³•å¯è§†åŒ–é¢æ¿</strong><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" style="margin-left: auto; margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M20 20v1h1v-1zm-4.293-5.707a1 1 0 0 0-1.414 1.414zM19 14v6h2v-6zm1 5h-6v2h6zm.707.293l-5-5l-1.414 1.414l5 5zM4 20H3v1h1zm5.707-4.293a1 1 0 0 0-1.414-1.414zM3 14v6h2v-6zm1 7h6v-2H4zm.707-.293l5-5l-1.414-1.414l-5 5zM20 4h1V3h-1zm-5.707 4.293a1 1 0 0 0 1.414 1.414zM21 10V4h-2v6zm-1-7h-6v2h6zm-.707.293l-5 5l1.414 1.414l5-5zM4 4V3H3v1zm4.293 5.707a1 1 0 0 0 1.414-1.414zM5 10V4H3v6zM4 5h6V3H4zm-.707-.293l5 5l1.414-1.414l-5-5z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" style="margin-right: 10px;"><path data-v-ee1a9bd0="" fill="currentColor" d="M17.65 6.35a7.95 7.95 0 0 0-6.48-2.31c-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20a7.98 7.98 0 0 0 7.21-4.56c.32-.67-.16-1.44-.9-1.44c-.37 0-.72.2-.88.53a5.994 5.994 0 0 1-6.8 3.31c-2.22-.49-4.01-2.3-4.48-4.52A6.002 6.002 0 0 1 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z"></path></svg><svg data-v-ee1a9bd0="" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path data-v-ee1a9bd0="" fill="currentColor" d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"></path></svg></summary><div data-v-ee1a9bd0="" class="resizable" style="width: 780px; max-width: 100%; height: 70vh; min-height: 500px; overflow: hidden; resize: both;"><iframe data-v-ee1a9bd0="" title="algo-visualize panel" allow="clipboard-write; fullscreen;" id="iframe_evaluate-reverse-polish-notation" src="https://labuladong.online/algo-visualize/leetcode/evaluate-reverse-polish-notation/" width="100%" height="100%" loading="lazy" scrolling="auto" frameborder="0" style="overflow: auto;"></iframe></div></details><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/8Zf90G">å‰‘æŒ‡ Offer II 036. åç¼€è¡¨è¾¾å¼ ğŸŸ </a></li></ul><h2 id="225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_implement-stack-using-queues">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/implement-stack-using-queues/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/implement-stack-using-queues/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªåå…¥å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ ˆï¼Œå¹¶æ”¯æŒæ™®é€šæ ˆçš„å…¨éƒ¨å››ç§æ“ä½œï¼ˆ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">empty</code>ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MyStack</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void push(int x)</code><span>&nbsp;</span>å°†å…ƒç´  x å‹å…¥æ ˆé¡¶ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int pop()</code><span>&nbsp;</span>ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int top()</code><span>&nbsp;</span>è¿”å›æ ˆé¡¶å…ƒç´ ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">boolean empty()</code><span>&nbsp;</span>å¦‚æœæ ˆæ˜¯ç©ºçš„ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">false</code><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä½ åªèƒ½ä½¿ç”¨é˜Ÿåˆ—çš„æ ‡å‡†æ“ä½œ â€”â€” ä¹Ÿå°±æ˜¯&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push to back</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">peek/pop from front</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">size</code><span>&nbsp;</span>å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">is empty</code>&nbsp;è¿™äº›æ“ä½œã€‚</li><li>ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿè®¸ä¸æ”¯æŒé˜Ÿåˆ—ã€‚&nbsp;ä½ å¯ä»¥ä½¿ç”¨ list ï¼ˆåˆ—è¡¨ï¼‰æˆ–è€… dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ¥æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—&nbsp;, åªè¦æ˜¯æ ‡å‡†çš„é˜Ÿåˆ—æ“ä½œå³å¯ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["MyStack", "push", "push", "top", "pop", "empty"][[], [1], [2], [], [], []]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null, null, null, 2, 2, false]<p><strong style="font-weight: 600;">è§£é‡Šï¼š</strong><br>MyStack myStack &#x3D; new MyStack();<br>myStack.push(1);<br>myStack.push(2);<br>myStack.top(); &#x2F;&#x2F; è¿”å› 2<br>myStack.pop(); &#x2F;&#x2F; è¿”å› 2<br>myStack.empty(); &#x2F;&#x2F; è¿”å› False<br></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= x &lt;= 9</code></li><li>æœ€å¤šè°ƒç”¨<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">100</code><span>&nbsp;</span>æ¬¡<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">empty</code></li><li>æ¯æ¬¡è°ƒç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code><span>&nbsp;</span>éƒ½ä¿è¯æ ˆä¸ä¸ºç©º</li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ èƒ½å¦ä»…ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥å®ç°æ ˆã€‚</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/implement-stack-using-queues/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-4"><a href="#åŸºæœ¬æ€è·¯-4" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-4">åŸºæœ¬æ€è·¯</a></h3><p>åº•å±‚ç”¨é˜Ÿåˆ—å®ç°æ ˆå°±æ¯”è¾ƒç®€å•ç²—æš´äº†ï¼Œåªéœ€è¦ä¸€ä¸ªé˜Ÿåˆ—ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚</p><p>åº•å±‚é˜Ÿåˆ—åªèƒ½å‘é˜Ÿå°¾æ·»åŠ å…ƒç´ ï¼Œæ‰€ä»¥æ ˆçš„ <code>pop</code> API ç›¸å½“äºè¦ä»é˜Ÿå°¾å–å…ƒç´ ï¼š</p><p><img src="/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/5.jpg" alt="img"></p><p>é‚£ä¹ˆæœ€ç®€å•çš„æ€è·¯å°±æ˜¯ï¼ŒæŠŠé˜Ÿå°¾å…ƒç´ å‰é¢çš„æ‰€æœ‰å…ƒç´ é‡æ–°å¡åˆ°é˜Ÿå°¾ï¼Œè®©é˜Ÿå°¾å…ƒç´ æ’åˆ°é˜Ÿå¤´ï¼Œè¿™æ ·å°±å¯ä»¥å–å‡ºäº†ï¼š</p><p><img src="/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/6.jpg" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/data-structure/stack-queue/">é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—</a></li><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -4"><a href="#è§£æ³•ä»£ç -4" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-4">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque<span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># å°†å…ƒç´  x å‹å…¥æ ˆé¡¶</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># x æ˜¯é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œæ˜¯æ ˆçš„æ ˆé¡¶</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> x    <span class="token comment"># è¿”å›æ ˆé¡¶å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>top_elem    <span class="token comment"># åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>        <span class="token comment"># ç•™ä¸‹é˜Ÿå°¾ 2 ä¸ªå…ƒç´ </span>        <span class="token keyword">while</span> size <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># è®°å½•æ–°çš„é˜Ÿå°¾å…ƒç´ </span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># åˆ é™¤ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>q<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/implement-queue-using-stacks">232. ç”¨æ ˆå®ç°é˜Ÿåˆ— ğŸŸ¢</a></li><li><a href="https://leetcode.cn/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof">å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— ğŸŸ¢</a></li></ul><h2 id="388-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„"><a href="#388-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„" class="headerlink" title="388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_longest-absolute-file-path">388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/longest-absolute-file-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/longest-absolute-file-path/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">å‡è®¾æœ‰ä¸€ä¸ªåŒæ—¶å­˜å‚¨æ–‡ä»¶å’Œç›®å½•çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸‹å›¾å±•ç¤ºäº†æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç¤ºä¾‹ï¼š</p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/08/28/mdir.jpg" style="max-width: 100%; height: 142px; width: 300px;"></p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿™é‡Œå°†<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dir</code><span>&nbsp;</span>ä½œä¸ºæ ¹ç›®å½•ä¸­çš„å”¯ä¸€ç›®å½•ã€‚<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">dir</code><span>&nbsp;</span>åŒ…å«ä¸¤ä¸ªå­ç›®å½•<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subdir1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subdir2</code><span>&nbsp;</span>ã€‚<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subdir1</code><span>&nbsp;</span>åŒ…å«æ–‡ä»¶<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">file1.ext</code><span>&nbsp;</span>å’Œå­ç›®å½•<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subsubdir1</code>ï¼›<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subdir2</code><span>&nbsp;</span>åŒ…å«å­ç›®å½•<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">subsubdir2</code>ï¼Œè¯¥å­ç›®å½•ä¸‹åŒ…å«æ–‡ä»¶<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">file2.ext</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">åœ¨æ–‡æœ¬æ ¼å¼ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º(âŸ¶è¡¨ç¤ºåˆ¶è¡¨ç¬¦)ï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">dirâŸ¶ subdir1âŸ¶ âŸ¶ file1.extâŸ¶ âŸ¶ subsubdir1âŸ¶ subdir2âŸ¶ âŸ¶ subsubdir2âŸ¶ âŸ¶ âŸ¶ file2.ext</pre><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœæ˜¯ä»£ç è¡¨ç¤ºï¼Œä¸Šé¢çš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å†™ä¸º<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"</code><span>&nbsp;</span>ã€‚<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'\n'</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'\t'</code><span>&nbsp;</span>åˆ†åˆ«æ˜¯æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„<span>&nbsp;</span><strong style="font-weight: 600;">ç»å¯¹è·¯å¾„</strong><span>&nbsp;</span>ï¼Œå³å¿…é¡»æ‰“å¼€æ‰èƒ½åˆ°è¾¾æ–‡ä»¶/ç›®å½•æ‰€åœ¨ä½ç½®çš„ç›®å½•é¡ºåºï¼Œæ‰€æœ‰è·¯å¾„ç”¨<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'/'</code><span>&nbsp;</span>è¿æ¥ã€‚ä¸Šé¢ä¾‹å­ä¸­ï¼ŒæŒ‡å‘<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">file2.ext</code><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">ç»å¯¹è·¯å¾„</strong><span>&nbsp;</span>æ˜¯<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">"dir/subdir2/subsubdir2/file2.ext"</code><span>&nbsp;</span>ã€‚æ¯ä¸ªç›®å½•åç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆï¼Œæ¯ä¸ªæ–‡ä»¶åéµå¾ª<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">name.extension</code><span>&nbsp;</span>çš„æ ¼å¼ï¼Œå…¶ä¸­&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">name</code>&nbsp;å’Œ&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">extension</code>ç”±å­—æ¯ã€æ•°å­—å’Œ/æˆ–ç©ºæ ¼ç»„æˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªä»¥ä¸Šè¿°æ ¼å¼è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„å­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">input</code><span>&nbsp;</span>ï¼Œè¿”å›æ–‡ä»¶ç³»ç»Ÿä¸­&nbsp;<em>æŒ‡å‘&nbsp;<strong style="font-weight: 600;">æ–‡ä»¶</strong>&nbsp;çš„<span>&nbsp;</span><strong style="font-weight: 600;">æœ€é•¿ç»å¯¹è·¯å¾„</strong><span>&nbsp;</span>çš„é•¿åº¦</em>&nbsp;ã€‚ å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰æ–‡ä»¶ï¼Œè¿”å›&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/08/28/dir1.jpg" style="max-width: 100%; height: 101px; width: 200px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>input = "dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>20<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œç»å¯¹è·¯å¾„ä¸º "dir/subdir2/file.ext" ï¼Œè·¯å¾„é•¿åº¦ 20</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/08/28/dir2.jpg" style="max-width: 100%; height: 151px; width: 300px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>input = "dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>32<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼š"dir/subdir1/file1.ext" ï¼Œè·¯å¾„é•¿åº¦ 21"dir/subdir2/subsubdir2/file2.ext" ï¼Œè·¯å¾„é•¿åº¦ 32è¿”å› 32 ï¼Œå› ä¸ºè¿™æ˜¯æœ€é•¿çš„è·¯å¾„</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>input = "a"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>0<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä¸å­˜åœ¨ä»»ä½•æ–‡ä»¶</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 4ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>input = "file1.txt\nfile2.txt\nlongfile.txt"<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>12<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ ¹ç›®å½•ä¸‹æœ‰ 3 ä¸ªæ–‡ä»¶ã€‚å› ä¸ºæ ¹ç›®å½•ä¸­ä»»ä½•ä¸œè¥¿çš„ç»å¯¹è·¯å¾„åªæ˜¯åç§°æœ¬èº«ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ "longfile.txt" ï¼Œè·¯å¾„é•¿åº¦ä¸º 12</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">1 &lt;= input.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">input</code><span>&nbsp;</span>å¯èƒ½åŒ…å«å°å†™æˆ–å¤§å†™çš„è‹±æ–‡å­—æ¯ï¼Œä¸€ä¸ªæ¢è¡Œç¬¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'\n'</code>ï¼Œä¸€ä¸ªåˆ¶è¡¨ç¬¦<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'\t'</code>ï¼Œä¸€ä¸ªç‚¹<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">'.'</code>ï¼Œä¸€ä¸ªç©ºæ ¼<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">' '</code>ï¼Œå’Œæ•°å­—ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-absolute-file-path/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 388. æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-5"><a href="#åŸºæœ¬æ€è·¯-5" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-5">åŸºæœ¬æ€è·¯</a></h3><p>æˆ‘è§‰å¾—è¿™é“é¢˜è¿˜æ˜¯æ¯”è¾ƒå®ç”¨çš„ï¼Œå› ä¸ºåœ¨æˆ‘åšè¿™é“é¢˜ä¹‹å‰ï¼Œæˆ‘å°±æ€è€ƒå¹¶è§£å†³è¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨è¿™é‡Œå’Œå¤§å®¶åˆ†äº«ä¸‹æˆ‘çš„ä½¿ç”¨åœºæ™¯ï¼š</p><p>ä½ å¯ä»¥çœ‹æˆ‘çš„ <a href="https://github.com/labuladong/fucking-algorithm#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">GitHub ä»“åº“ä¸­çš„æ–‡ç« ç›®å½•</a>ï¼Œæ˜¯é€šè¿‡ç¼©è¿›æ¥è¡¨ç¤ºå±‚çº§çš„ï¼Œå¾ˆç±»ä¼¼æœ¬é¢˜æ‰€è¯´çš„åœºæ™¯ã€‚ç„¶è€Œæˆ‘éœ€è¦æŠŠè¿™äº›ç›®å½•è½¬åŒ–æˆ HTML æ–‡æ¡£ï¼ŒæŒ‰ç…§æ–‡ä»¶ç›®å½•çš„å½¢å¼æŠŠè¿™äº› HTML éƒ¨ç½²åˆ° <a href="https://labuladong.gitee.io/algo/">æˆ‘çš„ç½‘ç«™</a> ä¸Šã€‚ä½ çœ‹ï¼Œè¿™æ˜¯ä¸æ˜¯å°±æ¶‰åŠåˆ°æœ¬é¢˜ç”Ÿæˆæ–‡ä»¶çš„ç»å¯¹è·¯å¾„çš„é—®é¢˜ï¼Ÿ</p><p>å¯¹äºè¿™ä¸ªåœºæ™¯ï¼Œæˆ‘å½“æ—¶å…¶å®å°è¯•å¾ˆå¤šå¯è¡Œçš„åŠæ³•ã€‚ä½†è¿™é‡Œæˆ‘è¿˜æ˜¯å†™ä¸€ä¸ªæœ€ç®€å•ç›´æ¥å®¹æ˜“ç†è§£çš„è§£æ³•å§ï¼Œé‚£å°±æ˜¯ç”¨æ ˆæ¥è¾…åŠ©ï¼Œå¯¹äºæ¯ä¸€ä¸ªè·¯å¾„ï¼Œéƒ½å»ç»´æŠ¤æ­£ç¡®çš„çˆ¶è·¯å¾„ï¼Œä»è€Œè®¡ç®—æœ€é•¿è·¯å¾„çš„é•¿åº¦ã€‚å…·ä½“çœ‹ä»£ç æ³¨é‡Šå§ã€‚</p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -5"><a href="#è§£æ³•ä»£ç -5" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-5">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">lengthLongestPath</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># è¿™ä¸ªæ ˆå­˜å‚¨ä¹‹å‰çš„çˆ¶è·¯å¾„ã€‚å®é™…ä¸Šè¿™é‡Œåªç”¨å­˜çˆ¶è·¯å¾„çš„é•¿åº¦å°±å¤Ÿäº†ï¼Œè¿™ä¸ªä¼˜åŒ–ç•™ç»™ä½ å§</span>        stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        max_len <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> part <span class="token keyword">in</span> <span class="token builtin">input</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            level <span class="token operator">=</span> part<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span><span class="token string">"\t"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>            <span class="token comment"># è®©æ ˆä¸­åªä¿ç•™å½“å‰ç›®å½•çš„çˆ¶è·¯å¾„</span>            <span class="token keyword">while</span> level <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">:</span>                stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>part<span class="token punctuation">)</span> <span class="token operator">-</span> level<span class="token punctuation">)</span>            <span class="token comment"># å¦‚æœæ˜¯æ–‡ä»¶ï¼Œå°±è®¡ç®—è·¯å¾„é•¿åº¦</span>            <span class="token keyword">if</span> <span class="token string">"."</span> <span class="token keyword">in</span> part<span class="token punctuation">:</span>                total_length <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">len</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>                <span class="token comment"># åŠ ä¸Šçˆ¶è·¯å¾„çš„åˆ†éš”ç¬¦</span>                max_len <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_len<span class="token punctuation">,</span> total_length<span class="token punctuation">)</span>        <span class="token keyword">return</span> max_len<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ ˆçš„è®¾è®¡é¢˜"><a href="#æ ˆçš„è®¾è®¡é¢˜" class="headerlink" title="æ ˆçš„è®¾è®¡é¢˜"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E6%A0%88%E7%9A%84%E8%AE%BE%E8%AE%A1%E9%A2%98">æ ˆçš„è®¾è®¡é¢˜</a></h2><p>é™¤äº†ä¸Šé¢å‡ é“é¢˜ï¼Œè¿˜æœ‰ä¸€ç±»å¸¸è€ƒé¢˜ç›®æ˜¯è®©ä½ è®¾è®¡å…·å¤‡é¢å¤–åŠŸèƒ½çš„æ ˆç»“æ„ã€‚</p><h2 id="155-æœ€å°æ ˆ"><a href="#155-æœ€å°æ ˆ" class="headerlink" title="155. æœ€å°æ ˆ"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_min-stack">155. æœ€å°æ ˆ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">155. æœ€å°æ ˆ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/min-stack/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/min-stack/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ä¸ªæ”¯æŒ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code><span>&nbsp;</span>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code><span>&nbsp;</span>ï¼Œ<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code><span>&nbsp;</span>æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MinStack</code><span>&nbsp;</span>ç±»:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">MinStack()</code><span>&nbsp;</span>åˆå§‹åŒ–å †æ ˆå¯¹è±¡ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void push(int val)</code><span>&nbsp;</span>å°†å…ƒç´ valæ¨å…¥å †æ ˆã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void pop()</code><span>&nbsp;</span>åˆ é™¤å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int top()</code><span>&nbsp;</span>è·å–å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int getMin()</code><span>&nbsp;</span>è·å–å †æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["MinStack","push","push","push","getMin","pop","top","getMin"][[],[-2],[0],[-3],[],[],[],[]]<p><strong style="font-weight: 600;">è¾“å‡ºï¼š</strong><br>[null,null,null,null,-3,null,0,-2]</p><p><strong style="font-weight: 600;">è§£é‡Šï¼š</strong><br>MinStack minStack &#x3D; new MinStack();<br>minStack.push(-2);<br>minStack.push(0);<br>minStack.push(-3);<br>minStack.getMin();   â€“&gt; è¿”å› -3.<br>minStack.pop();<br>minStack.top();      â€“&gt; è¿”å› 0.<br>minStack.getMin();   â€“&gt; è¿”å› -2.<br></pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">-2<sup>31</sup>&nbsp;&lt;= val &lt;= 2<sup>31</sup>&nbsp;- 1</code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code>ã€<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">getMin</code><span>&nbsp;</span>æ“ä½œæ€»æ˜¯åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">éç©ºæ ˆ</strong><span>&nbsp;</span>ä¸Šè°ƒç”¨</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code>,&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">top</code>, and&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">getMin</code>æœ€å¤šè¢«è°ƒç”¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">3 * 10<sup>4</sup></code>&nbsp;æ¬¡</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/min-stack/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 155. æœ€å°æ ˆ</a>ã€‚</strong></details></p><h3 id="åŸºæœ¬æ€è·¯-6"><a href="#åŸºæœ¬æ€è·¯-6" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-6">åŸºæœ¬æ€è·¯</a></h3><p><a href="https://labuladong.online/algo/data-structure-basic/queue-stack-basic/">æ ¹æ®æˆ‘ä»¬ä¹‹å‰äº²è‡ªåŠ¨æ‰‹å®ç°çš„æ ˆ</a>ï¼Œæˆ‘ä»¬çŸ¥é“æ ˆæ˜¯ä¸€ç§æ“ä½œå—é™çš„æ•°æ®ç»“æ„ï¼Œåªèƒ½ä»æ ˆé¡¶æ’å…¥æˆ–å¼¹å‡ºå…ƒç´ ï¼Œæ‰€ä»¥å¯¹äºæ ‡å‡†çš„æ ˆæ¥è¯´ï¼Œå¦‚æœæƒ³å®ç°æœ¬é¢˜çš„ <code>getMin</code> æ–¹æ³•ï¼Œåªèƒ½è€è€å®å®æŠŠæ‰€æœ‰å…ƒç´ å¼¹å‡ºæ¥ç„¶åæ‰¾æœ€å°å€¼ã€‚<strong>æƒ³æé«˜æ—¶é—´æ•ˆç‡ï¼Œé‚£è‚¯å®šè¦é€šè¿‡ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯</strong>ã€‚</p><p>ä¸è¿‡åœ¨å…·ä½“è¯´è§£æ³•ä¹‹å‰ï¼Œæˆ‘æƒ³èŠä¸€ä¸‹åŠ¨æ€é›†åˆä¸­ç»´æŠ¤æœ€å€¼çš„é—®é¢˜ã€‚è¿™ç±»é—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œä½†å®é™…ä¸Šæ˜¯ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ã€‚å…¶å®æœ¬é¢˜å°±æ˜¯å¦‚ä¸‹ä¸€ä¸ªåœºæ™¯ï¼š</p><p>å‡è®¾ä½ æœ‰è‹¥å¹²æ•°å­—ï¼Œä½ ç”¨ä¸€ä¸ª <code>min</code> å˜é‡ç»´æŠ¤äº†å…¶ä¸­çš„æœ€å°å€¼ï¼Œå¦‚æœç°åœ¨ç»™è¿™äº›æ•°å­—ä¸­æ·»åŠ ä¸€ä¸ªæ–°æ•°å­—ï¼Œé‚£ä¹ˆåªè¦æ¯”è¾ƒè¿™ä¸ªæ–°æ•°å­—å’Œ <code>min</code> çš„å¤§å°å°±å¯ä»¥å¾—å‡ºæœ€æ–°çš„æœ€å°å€¼ã€‚ä½†å¦‚æœç°åœ¨ä»è¿™äº›æ•°å­—é’Ÿåˆ é™¤ä¸€ä¸ªæ•°å­—ï¼Œä½ è¿˜èƒ½ç”¨ <code>min</code> å˜é‡å¾—åˆ°æœ€å°å€¼å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ï¼Œå› ä¸ºå¦‚æœè¿™ä¸ªè¢«åˆ é™¤çš„æ•°å­—æ°å¥½æ˜¯æœ€å°å€¼ï¼Œé‚£ä¹ˆæ–°çš„ <code>min</code> å˜é‡åº”è¯¥æ›´æ–°ä¸ºç¬¬äºŒå°çš„å…ƒç´ å¯¹å§ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰è®°å½•ç¬¬äºŒå°çš„å…ƒç´ æ˜¯å¤šå°‘ï¼Œæ‰€ä»¥åªèƒ½æŠŠæ‰€æœ‰æ•°å­—é‡æ–°éå†ä¸€éã€‚</p><p>æ˜ç¡®äº†éš¾ç‚¹å†å›åˆ°æœ¬é¢˜ï¼Œå°±å¯ä»¥å¯¹ç—‡ä¸‹è¯äº†ã€‚åˆ é™¤æ ˆé¡¶å…ƒç´ çš„æ—¶å€™ï¼Œä¸ç¡®å®šæ–°çš„æœ€å°å€¼æ˜¯å¤šå°‘ï¼Œä½†æ¥¼ä¸‹é‚£å“¥ä»¬çŸ¥é“å•Šï¼Œä»–å½“æ—¶å…¥æ ˆæ—¶çš„æœ€å°å€¼ï¼Œå°±æ˜¯ç°åœ¨çš„æœ€å°å€¼å‘—ã€‚</p><p>æ‰€ä»¥è¿™é“é¢˜çš„å…³é”®å°±æ˜¯ï¼Œ<strong>æ¯ä¸ªå…ƒç´ å…¥æ ˆæ—¶ï¼Œè¿˜è¦è®°ä¸‹æ¥å½“å‰æ ˆä¸­çš„æœ€å°å€¼</strong>ã€‚æ¯”æ–¹è¯´ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªé¢å¤–çš„æ ˆ <code>minStk</code> æ¥è®°å½•æ ˆä¸­æ¯ä¸ªå…ƒç´ å…¥æ ˆæ—¶çš„æ ˆä¸­çš„æœ€å°å…ƒç´ æ˜¯å¤šå°‘ï¼Œè¿™æ ·æ¯æ¬¡åˆ é™¤å…ƒç´ æ—¶å°±èƒ½å¿«é€Ÿå¾—åˆ°å‰©ä½™æ ˆä¸­çš„æœ€å°å…ƒç´ äº†ã€‚</p><p><img src="/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/155.jpeg" alt="img"></p><p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšä¸€äº›ä¼˜åŒ–ï¼Œå‡å°‘ <code>minStk</code> ä¸­å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ï¼Œæˆ‘æŠŠåŸå§‹è§£æ³•å’Œä¼˜åŒ–è§£æ³•éƒ½å†™å‡ºæ¥äº†ï¼Œä¾›å‚è€ƒã€‚</p><blockquote><p>PSï¼šè¿™é“é¢˜å¹¶ä¸éš¾ï¼Œä½†æˆ‘è¿˜æ˜¯å¾ˆç»†è‡´åœ°åˆ†æäº†ï¼Œå¸Œæœ›ä½ æ·±åˆ»ç†è§£å…¶ä¸­çš„éš¾ç‚¹ã€‚ä¸‹ä¸€æ­¥å¯ä»¥åšä¸€ä¸‹ <a href="https://leetcode.cn/problems/sliding-window-maximum">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a>ï¼Œè¯·ä»”ç»†è§‚å¯Ÿå’Œæ€è€ƒï¼Œé˜Ÿåˆ—ç»“æ„æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªéš¾ç‚¹çš„ã€‚</p></blockquote><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/ds-design/">ã€ç»ƒä¹ ã€‘æ›´å¤šç»å…¸è®¾è®¡ä¹ é¢˜</a></li><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -6"><a href="#è§£æ³•ä»£ç -6" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-6">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åŸå§‹æ€è·¯</span><span class="token keyword">class</span> <span class="token class-name">MinStack1</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ </span>        self<span class="token punctuation">.</span>stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># é˜¶æ®µæ€§è®°å½•æ ˆä¸­çš„æœ€å°å…ƒç´ </span>        self<span class="token punctuation">.</span>minStk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ </span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>minStk <span class="token keyword">or</span> val <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># æ–°æ’å…¥çš„è¿™ä¸ªå…ƒç´ å°±æ˜¯å…¨æ ˆæœ€å°çš„</span>            self<span class="token punctuation">.</span>minStk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># æ’å…¥çš„è¿™ä¸ªå…ƒç´ æ¯”è¾ƒå¤§</span>            self<span class="token punctuation">.</span>minStk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>minStk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">getMin</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># ä¼˜åŒ–ç‰ˆ</span><span class="token keyword">class</span> <span class="token class-name">MinStack</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ </span>        self<span class="token punctuation">.</span>stk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># é˜¶æ®µæ€§è®°å½•æ ˆä¸­çš„æœ€å°å…ƒç´ </span>        self<span class="token punctuation">.</span>minStk <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token comment"># ç»´æŠ¤ minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ </span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>minStk <span class="token keyword">or</span> val <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># æ–°æ’å…¥çš„è¿™ä¸ªå…ƒç´ å°±æ˜¯å…¨æ ˆæœ€å°çš„</span>            self<span class="token punctuation">.</span>minStk<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># æ³¨æ„ Java çš„è¯­è¨€ç‰¹æ€§ï¼Œæ¯”è¾ƒ Integer ç›¸ç­‰è¦ç”¨ equals æ–¹æ³•</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token comment"># å¼¹å‡ºçš„å…ƒç´ æ˜¯å…¨æ ˆæœ€å°çš„</span>            self<span class="token punctuation">.</span>minStk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>stk<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>stk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">getMin</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># minStk æ ˆé¡¶ä¸ºå…¨æ ˆæœ€å°å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>minStk<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç±»ä¼¼é¢˜ç›®</strong>ï¼š</p><ul><li><a href="https://leetcode.cn/problems/sliding-window-maximum">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ ğŸ”´</a></li><li><a href="https://leetcode.cn/problems/bao-han-minhan-shu-de-zhan-lcof">å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ ğŸŸ¢</a></li><li><a href="https://leetcode.cn/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof">å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ ğŸ”´</a></li></ul><h2 id="895-æœ€å¤§é¢‘ç‡æ ˆ"><a href="#895-æœ€å¤§é¢‘ç‡æ ˆ" class="headerlink" title="895. æœ€å¤§é¢‘ç‡æ ˆ"></a><a href="https://labuladong.online/algo/problem-set/stack/#slug_maximum-frequency-stack">895. æœ€å¤§é¢‘ç‡æ ˆ</a></h2><details class="hint-container details" open="" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.1); transition: background 0.3s ease 0s, color 0.3s ease 0s; display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: Inter, ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: 16px; cursor: pointer;"><strong style="font-weight: 600;">895. æœ€å¤§é¢‘ç‡æ ˆ</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/maximum-frequency-stack/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/maximum-frequency-stack/" class="" target="_blank" rel="noopener noreferrer" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ä¸ªç±»ä¼¼å †æ ˆçš„æ•°æ®ç»“æ„ï¼Œå°†å…ƒç´ æ¨å…¥å †æ ˆï¼Œå¹¶ä»å †æ ˆä¸­å¼¹å‡º<strong style="font-weight: 600;">å‡ºç°é¢‘ç‡</strong>æœ€é«˜çš„å…ƒç´ ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FreqStack</code>&nbsp;ç±»:</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">FreqStack()</code>&nbsp;æ„é€ ä¸€ä¸ªç©ºçš„å †æ ˆã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">void push(int val)</code>&nbsp;å°†ä¸€ä¸ªæ•´æ•°&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">val</code>&nbsp;å‹å…¥æ ˆé¡¶ã€‚</li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">int pop()</code>&nbsp;åˆ é™¤å¹¶è¿”å›å †æ ˆä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ã€‚<ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å¦‚æœå‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ä¸åªä¸€ä¸ªï¼Œåˆ™ç§»é™¤å¹¶è¿”å›æœ€æ¥è¿‘æ ˆé¡¶çš„å…ƒç´ ã€‚</li></ul></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>["FreqStack","push","push","push","push","push","push","pop","pop","pop","pop"],[[],[5],[7],[5],[7],[4],[5],[],[],[],[]]<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[null,null,null,null,null,null,null,5,7,5,4]<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>FreqStack = new FreqStack();freqStack.push (5);//å †æ ˆä¸º [5]freqStack.push (7);//å †æ ˆæ˜¯ [5,7]freqStack.push (5);//å †æ ˆæ˜¯ [5,7,5]freqStack.push (7);//å †æ ˆæ˜¯ [5,7,5,7]freqStack.push (4);//å †æ ˆæ˜¯ [5,7,5,7,4]freqStack.push (5);//å †æ ˆæ˜¯ [5,7,5,7,4,5]freqStack.pop ();//è¿”å› 5 ï¼Œå› ä¸º 5 å‡ºç°é¢‘ç‡æœ€é«˜ã€‚å †æ ˆå˜æˆ [5,7,5,7,4]ã€‚freqStack.pop ();//è¿”å› 7 ï¼Œå› ä¸º 5 å’Œ 7 å‡ºç°é¢‘ç‡æœ€é«˜ï¼Œä½†7æœ€æ¥è¿‘é¡¶éƒ¨ã€‚å †æ ˆå˜æˆ [5,7,5,4]ã€‚freqStack.pop ();//è¿”å› 5 ï¼Œå› ä¸º 5 å‡ºç°é¢‘ç‡æœ€é«˜ã€‚å †æ ˆå˜æˆ [5,7,4]ã€‚freqStack.pop ();//è¿”å› 4 ï¼Œå› ä¸º 4, 5 å’Œ 7 å‡ºç°é¢‘ç‡æœ€é«˜ï¼Œä½† 4 æ˜¯æœ€æ¥è¿‘é¡¶éƒ¨çš„ã€‚å †æ ˆå˜æˆ [5,7]ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">0 &lt;= val &lt;= 10<sup>9</sup></code></li><li><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">push</code>&nbsp;å’Œ<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code>&nbsp;çš„æ“ä½œæ•°ä¸å¤§äº<span>&nbsp;</span><code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">2 * 10<sup>4</sup></code>ã€‚</li><li>è¾“å…¥ä¿è¯åœ¨è°ƒç”¨&nbsp;<code style="font-family: ui-monospace, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin: 0px; padding: 3px 6px; border-radius: 4px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(142, 150, 170, 0.14); font-size: 0.875em; overflow-wrap: break-word; transition: background-color 0.3s, color 0.3s;">pop</code>&nbsp;ä¹‹å‰å †æ ˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ã€‚</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-frequency-stack/" class="" target="_blank" style="color: rgb(7, 86, 171); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 895. æœ€å¤§é¢‘ç‡æ ˆ</a>ã€‚</strong></details><h3 id="åŸºæœ¬æ€è·¯-7"><a href="#åŸºæœ¬æ€è·¯-7" class="headerlink" title="åŸºæœ¬æ€è·¯"></a><a href="https://labuladong.online/algo/problem-set/stack/#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-7">åŸºæœ¬æ€è·¯</a></h3><p><strong>è¿™ç§è®¾è®¡æ•°æ®ç»“æ„çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯è¦ææ¸…æ¥šé—®é¢˜çš„éš¾ç‚¹åœ¨å“ªé‡Œï¼Œç„¶åç»“åˆå„ç§åŸºæœ¬æ•°æ®ç»“æ„çš„ç‰¹æ€§ï¼Œé«˜æ•ˆå®ç°é¢˜ç›®è¦æ±‚çš„ API</strong>ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬ä»”ç»†æ€è€ƒä¸€ä¸‹ <code>push</code> å’Œ <code>pop</code> æ–¹æ³•ï¼Œéš¾ç‚¹å¦‚ä¸‹ï¼š</p><p>1ã€æ¯æ¬¡ <code>pop</code> æ—¶ï¼Œå¿…é¡»è¦çŸ¥é“é¢‘ç‡æœ€é«˜çš„å…ƒç´ æ˜¯ä»€ä¹ˆã€‚</p><p>2ã€å¦‚æœé¢‘ç‡æœ€é«˜çš„å…ƒç´ æœ‰å¤šä¸ªï¼Œè¿˜å¾—çŸ¥é“å“ªä¸ªæ˜¯æœ€è¿‘ <code>push</code> è¿›æ¥çš„å…ƒç´ æ˜¯å“ªä¸ªã€‚</p><p>ä¸ºäº†å®ç°ä¸Šè¿°éš¾ç‚¹ï¼Œæˆ‘ä»¬è¦åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>1ã€è‚¯å®šè¦æœ‰ä¸€ä¸ªå˜é‡ <code>maxFreq</code> è®°å½•å½“å‰æ ˆä¸­æœ€é«˜çš„é¢‘ç‡æ˜¯å¤šå°‘ã€‚</p><p>2ã€æˆ‘ä»¬å¾—çŸ¥é“ä¸€ä¸ªé¢‘ç‡ <code>freq</code> å¯¹åº”çš„å…ƒç´ æœ‰å“ªäº›ï¼Œä¸”è¿™äº›å…ƒç´ è¦æœ‰æ—¶é—´é¡ºåºã€‚</p><p>3ã€éšç€ <code>pop</code> çš„è°ƒç”¨ï¼Œæ¯ä¸ª <code>val</code> å¯¹åº”çš„é¢‘ç‡ä¼šå˜åŒ–ï¼Œæ‰€ä»¥è¿˜å¾—ç»´æŒä¸€ä¸ªæ˜ å°„è®°å½•æ¯ä¸ª <code>val</code> å¯¹åº”çš„ <code>freq</code>ã€‚</p><p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå®ç° <code>FreqStack</code> æ‰€éœ€çš„æ•°æ®ç»“æ„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">class FreqStack &#123;    &#x2F;&#x2F; è®°å½• FreqStack ä¸­å…ƒç´ çš„æœ€å¤§é¢‘ç‡    int maxFreq &#x3D; 0;    &#x2F;&#x2F; è®°å½• FreqStack ä¸­æ¯ä¸ª val å¯¹åº”çš„å‡ºç°é¢‘ç‡ï¼Œåæ–‡å°±ç§°ä¸º VF è¡¨    HashMap&lt;Integer, Integer&gt; valToFreq &#x3D; new HashMap&lt;&gt;();    &#x2F;&#x2F; è®°å½•é¢‘ç‡ freq å¯¹åº”çš„ val åˆ—è¡¨ï¼Œåæ–‡å°±ç§°ä¸º FV è¡¨    HashMap&lt;Integer, Stack&lt;Integer&gt;&gt; freqToVals &#x3D; new HashMap&lt;&gt;();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶å®è¿™æœ‰ç‚¹ç±»ä¼¼åæ–‡ <a href="https://labuladong.online/algo/frequency-interview/lfu/">æ‰‹æŠŠæ‰‹å®ç° LFU ç®—æ³•</a>ï¼Œæ³¨æ„ <code>freqToVals</code> ä¸­ <code>val</code> åˆ—è¡¨ç”¨ä¸€ä¸ªæ ˆå®ç°ï¼Œå¦‚æœä¸€ä¸ª <code>freq</code> å¯¹åº”çš„å…ƒç´ æœ‰å¤šä¸ªï¼Œæ ¹æ®æ ˆçš„ç‰¹ç‚¹ï¼Œå¯ä»¥é¦–å…ˆå–å‡ºæœ€è¿‘æ·»åŠ çš„å…ƒç´ ã€‚</p><p>å…·ä½“çœ‹è§£æ³•ä»£ç å§ï¼Œè¦è®°ä½åœ¨ <code>push</code> å’Œ <code>pop</code> æ–¹æ³•ä¸­åŒæ—¶ä¿®æ”¹ <code>maxFreq</code>ã€<code>VF</code> è¡¨ã€<code>FV</code> è¡¨ï¼Œå¦åˆ™å®¹æ˜“å‡ºç° bugã€‚</p><p>ç®—æ³•æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ GIF æ‰€ç¤ºï¼š</p><p><img src="/2025/06/14/lian-xi-zhan-de-jing-dian-xi-ti/1.gif" alt="img"></p><p><strong>è¯¦ç»†é¢˜è§£</strong>ï¼š</p><ul><li><a href="https://labuladong.online/algo/problem-set/ds-design/">ã€ç»ƒä¹ ã€‘æ›´å¤šç»å…¸è®¾è®¡ä¹ é¢˜</a></li><li><a href="https://labuladong.online/algo/problem-set/stack/">ã€ç»ƒä¹ ã€‘æ ˆçš„ç»å…¸ä¹ é¢˜</a></li></ul><h3 id="è§£æ³•ä»£ç -7"><a href="#è§£æ³•ä»£ç -7" class="headerlink" title="è§£æ³•ä»£ç "></a><a href="https://labuladong.online/algo/problem-set/stack/#%E8%A7%A3%E6%B3%95%E4%BB%A3%E7%A0%81-7">è§£æ³•ä»£ç </a></h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">FreqStack</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½• FreqStack ä¸­å…ƒç´ çš„æœ€å¤§é¢‘ç‡</span>        self<span class="token punctuation">.</span>maxFreq <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># è®°å½• FreqStack ä¸­æ¯ä¸ª val å¯¹åº”çš„å‡ºç°é¢‘ç‡ï¼Œåæ–‡å°±ç§°ä¸º VF è¡¨</span>        self<span class="token punctuation">.</span>valToFreq <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token comment"># è®°å½•é¢‘ç‡ freq å¯¹åº”çš„ val åˆ—è¡¨ï¼Œåæ–‡å°±ç§°ä¸º FV è¡¨</span>        self<span class="token punctuation">.</span>freqToVals <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># ä¿®æ”¹ VF è¡¨ï¼šval å¯¹åº”çš„ freq åŠ ä¸€</span>        freq <span class="token operator">=</span> self<span class="token punctuation">.</span>valToFreq<span class="token punctuation">.</span>get<span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>valToFreq<span class="token punctuation">[</span>val<span class="token punctuation">]</span> <span class="token operator">=</span> freq        <span class="token comment"># ä¿®æ”¹ FV è¡¨ï¼šåœ¨ freq å¯¹åº”çš„åˆ—è¡¨åŠ ä¸Š val</span>        <span class="token keyword">if</span> freq <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>freqToVals<span class="token punctuation">:</span>            self<span class="token punctuation">.</span>freqToVals<span class="token punctuation">[</span>freq<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>freqToVals<span class="token punctuation">[</span>freq<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>        <span class="token comment"># æ›´æ–° maxFreq</span>        self<span class="token punctuation">.</span>maxFreq <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>maxFreq<span class="token punctuation">,</span> freq<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># ä¿®æ”¹ FV è¡¨ï¼špop å‡ºä¸€ä¸ª maxFreq å¯¹åº”çš„å…ƒç´  v</span>        vals <span class="token operator">=</span> self<span class="token punctuation">.</span>freqToVals<span class="token punctuation">[</span>self<span class="token punctuation">.</span>maxFreq<span class="token punctuation">]</span>        v <span class="token operator">=</span> vals<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># ä¿®æ”¹ VF è¡¨ï¼šv å¯¹åº”çš„ freq å‡ä¸€</span>        self<span class="token punctuation">.</span>valToFreq<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># æ›´æ–° maxFreq</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> vals<span class="token punctuation">:</span>            <span class="token comment"># å¦‚æœ maxFreq å¯¹åº”çš„å…ƒç´ ç©ºäº†</span>            self<span class="token punctuation">.</span>maxFreq <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®è·µ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—</title>
      <link href="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/"/>
      <url>/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/</url>
      
        <content type="html"><![CDATA[<h1 id="é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—"></a>é˜Ÿåˆ—å®ç°æ ˆä»¥åŠæ ˆå®ç°é˜Ÿåˆ—</h1><p>é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå½¢è±¡ä¸€ç‚¹å°±æ˜¯è¿™æ ·ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/1.jpg" alt="img"></p><p>è¿™ä¸¤ç§æ•°æ®ç»“æ„åº•å±‚å…¶å®éƒ½æ˜¯æ•°ç»„æˆ–è€…é“¾è¡¨å®ç°çš„ï¼Œåªæ˜¯ API é™å®šäº†å®ƒä»¬çš„ç‰¹æ€§</p><p>ä»Šå¤©æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ã€Œæ ˆã€çš„ç‰¹æ€§æ¥å®ç°ä¸€ä¸ªã€Œé˜Ÿåˆ—ã€ï¼Œå¦‚ä½•ç”¨ã€Œé˜Ÿåˆ—ã€å®ç°ä¸€ä¸ªã€Œæ ˆã€ã€‚</p><h3 id="ä¸€ã€ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#ä¸€ã€ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="ä¸€ã€ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a><a href="https://labuladong.online/algo/data-structure/stack-queue/#%E4%B8%80%E3%80%81%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97">ä¸€ã€ç”¨æ ˆå®ç°é˜Ÿåˆ—</a></h3><p>åŠ›æ‰£ç¬¬ 232 é¢˜ã€Œ<a href="https://leetcode.cn/problems/implement-queue-using-stacks/">ç”¨æ ˆå®ç°é˜Ÿåˆ—</a>ã€è®©æˆ‘ä»¬å®ç°çš„ API å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">lass MyQueue<span class="token punctuation">:</span>    <span class="token comment"># æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># åˆ é™¤é˜Ÿå¤´çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># è¿”å›é˜Ÿå¤´å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token comment"># åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ ˆ <code>s1, s2</code> å°±èƒ½å®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½ï¼ˆè¿™æ ·æ”¾ç½®æ ˆå¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼‰ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/2.jpg" alt="img"></p><p>å½“è°ƒç”¨ <code>push</code> è®©å…ƒç´ å…¥é˜Ÿæ—¶ï¼Œåªè¦æŠŠå…ƒç´ å‹å…¥ <code>s1</code> å³å¯ï¼Œæ¯”å¦‚è¯´ <code>push</code> è¿› 3 ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ 1,2,3ï¼Œé‚£ä¹ˆåº•å±‚ç»“æ„å°±æ˜¯è¿™æ ·ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/3.jpg" alt="img"></p><p>é‚£ä¹ˆå¦‚æœè¿™æ—¶å€™ä½¿ç”¨ <code>peek</code> æŸ¥çœ‹é˜Ÿå¤´çš„å…ƒç´ æ€ä¹ˆåŠå‘¢ï¼ŸæŒ‰é“ç†é˜Ÿå¤´å…ƒç´ åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯åœ¨ <code>s1</code> ä¸­ 1 è¢«å‹åœ¨æ ˆåº•ï¼Œç°åœ¨å°±è¦è½®åˆ° <code>s2</code> èµ·åˆ°ä¸€ä¸ªä¸­è½¬çš„ä½œç”¨äº†ï¼šå½“ <code>s2</code> ä¸ºç©ºæ—¶ï¼Œå¯ä»¥æŠŠ <code>s1</code> çš„æ‰€æœ‰å…ƒç´ å–å‡ºå†æ·»åŠ è¿› <code>s2</code>ï¼Œ<strong>è¿™æ—¶å€™ <code>s2</code> ä¸­å…ƒç´ å°±æ˜¯å…ˆè¿›å…ˆå‡ºé¡ºåºäº†</strong>ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/4.jpg" alt="img"></p><p>å½“ <code>s2</code> ä¸­å­˜åœ¨å…ƒç´ æ—¶ï¼Œç›´æ¥è°ƒç”¨æ“ä½œ <code>s2</code> çš„ <code>pop</code> æ–¹æ³•ï¼Œå¼¹å‡ºçš„å°±æ˜¯æœ€å…ˆæ’å…¥çš„å…ƒç´ ï¼Œå³å®ç°äº†é˜Ÿåˆ—çš„ <code>pop</code> æ“ä½œã€‚</p><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyQueue</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä½¿ç”¨ä¸¤ä¸ªæ ˆs1å’Œs2</span>        self<span class="token punctuation">.</span>s1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>s2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>s1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>    <span class="token comment"># è¿”å›é˜Ÿå¤´å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">peek</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>s2<span class="token punctuation">:</span>            <span class="token comment"># æŠŠ s1 å…ƒç´ å‹å…¥ s2</span>            <span class="token keyword">while</span> self<span class="token punctuation">.</span>s1<span class="token punctuation">:</span>                self<span class="token punctuation">.</span>s2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>s1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>s2<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment"># åˆ é™¤é˜Ÿå¤´å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># å…ˆè°ƒç”¨ peek ä¿è¯ s2 éç©º</span>        self<span class="token punctuation">.</span>peek<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>s2<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>    <span class="token comment"># ä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºæ‰è¯´æ˜é˜Ÿåˆ—ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>s1 <span class="token keyword">and</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>s2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡³æ­¤ï¼Œå°±ç”¨æ ˆç»“æ„å®ç°äº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨ä¸¤ä¸ªæ ˆäº’ç›¸é…åˆã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™å‡ ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p>æœ‰ç‚¹æ„æ€çš„æ˜¯ <code>peek</code> æ“ä½œï¼Œè°ƒç”¨å®ƒæ—¶å¯èƒ½è§¦å‘ <code>while</code> å¾ªç¯ï¼Œè¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹ <code>while</code> å¾ªç¯ä¸ä¼šè¢«è§¦å‘ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚ç”±äº <code>pop</code> æ“ä½œè°ƒç”¨äº† <code>peek</code>ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å’Œ <code>peek</code> ç›¸åŒã€‚</p><p>åƒè¿™ç§æƒ…å†µï¼Œå¯ä»¥è¯´å®ƒä»¬çš„<strong>æœ€åæ—¶é—´å¤æ‚åº¦</strong>æ˜¯ O(N)ï¼Œå› ä¸ºåŒ…å« <code>while</code> å¾ªç¯ï¼Œ<strong>å¯èƒ½</strong>éœ€è¦ä» <code>s1</code> å¾€ <code>s2</code> æ¬ç§»å…ƒç´ ã€‚</p><p>ä½†æ˜¯å®ƒä»¬çš„<strong>å‡æ‘Šæ—¶é—´å¤æ‚åº¦</strong>æ˜¯ O(1)ï¼Œè¿™ä¸ªè¦è¿™ä¹ˆç†è§£ï¼šå¯¹äºä¸€ä¸ªå…ƒç´ ï¼Œæœ€å¤šåªå¯èƒ½è¢«æ¬è¿ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>peek</code> æ“ä½œå¹³å‡åˆ°æ¯ä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</p><h3 id="äºŒã€ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#äºŒã€ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="äºŒã€ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a><a href="https://labuladong.online/algo/data-structure/stack-queue/#%E4%BA%8C%E3%80%81%E7%94%A8%E9%98%9F%E5%88%97%E5%AE%9E%E7%8E%B0%E6%A0%88">äºŒã€ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a></h3><p>å¦‚æœè¯´åŒæ ˆå®ç°é˜Ÿåˆ—æ¯”è¾ƒå·§å¦™ï¼Œé‚£ä¹ˆç”¨é˜Ÿåˆ—å®ç°æ ˆå°±æ¯”è¾ƒç®€å•ç²—æš´äº†ï¼Œåªéœ€è¦ä¸€ä¸ªé˜Ÿåˆ—ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„å°±èƒ½å®ç°äº†ã€‚</p><p>åŠ›æ‰£ç¬¬ 225 é¢˜ã€Œ<a href="https://leetcode.cn/problems/implement-stack-using-queues/">ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a>ã€è®©æˆ‘ä»¬å®ç°å¦‚ä¸‹ APIï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token comment"># æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># è¿”å›æ ˆé¡¶å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token comment"># åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…ˆè¯´ <code>push</code> APIï¼Œç›´æ¥å°†å…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼ŒåŒæ—¶è®°å½•é˜Ÿå°¾å…ƒç´ ï¼Œå› ä¸ºé˜Ÿå°¾å…ƒç´ ç›¸å½“äºæ ˆé¡¶å…ƒç´ ï¼Œå¦‚æœè¦ <code>top</code> æŸ¥çœ‹æ ˆé¡¶å…ƒç´ çš„è¯å¯ä»¥ç›´æ¥è¿”å›ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ— q æ¥å®ç°ä¸€ä¸ªæ ˆ</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token comment"># æ ˆé¡¶å…ƒç´ </span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># x æ˜¯é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œæ˜¯æ ˆçš„æ ˆé¡¶</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> x        <span class="token comment"># è¿”å›æ ˆé¡¶å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>top_elem    <span class="token comment"># æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œæ¯æ¬¡ <code>pop</code> åªèƒ½ä»é˜Ÿå¤´å–å…ƒç´ ï¼›ä½†æ˜¯æ ˆæ˜¯åè¿›å…ˆå‡ºï¼Œä¹Ÿå°±æ˜¯è¯´ <code>pop</code> API è¦ä»é˜Ÿå°¾å–å…ƒç´ ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/5.jpg" alt="img"></p><p>è§£å†³æ–¹æ³•ç®€å•ç²—æš´ï¼ŒæŠŠé˜Ÿåˆ—å‰é¢çš„éƒ½å–å‡ºæ¥å†åŠ å…¥é˜Ÿå°¾ï¼Œè®©ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ æ’åˆ°é˜Ÿå¤´ï¼Œè¿™æ ·å°±å¯ä»¥å–å‡ºäº†ï¼š</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/6.jpg" alt="img"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token comment"># ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œçœç•¥ä¸Šæ–‡ç»™å‡ºçš„ä»£ç éƒ¨åˆ†...</span>    <span class="token comment"># åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>        <span class="token keyword">while</span> size <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ å·²ç»åˆ°äº†é˜Ÿå¤´</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å®ç°è¿˜æœ‰ä¸€ç‚¹å°é—®é¢˜å°±æ˜¯ï¼ŒåŸæ¥çš„é˜Ÿå°¾å…ƒç´ è¢«æ¨åˆ°é˜Ÿå¤´å¹¶åˆ é™¤äº†ï¼Œä½†æ˜¯ <code>top_elem</code> å˜é‡æ²¡æœ‰æ›´æ–°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç‚¹å°ä¿®æ”¹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token comment"># ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œçœç•¥ä¸Šæ–‡ç»™å‡ºçš„ä»£ç éƒ¨åˆ†...</span>    <span class="token comment"># åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">)</span>        <span class="token comment"># ç•™ä¸‹é˜Ÿå°¾ 2 ä¸ªå…ƒç´ </span>        <span class="token keyword">while</span> size <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># è®°å½•æ–°çš„é˜Ÿå°¾å…ƒç´ </span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># åˆ é™¤ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ </span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å°±å®ç°å®Œäº†ï¼Œå®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> queue <span class="token keyword">import</span> Queue<span class="token keyword">class</span> <span class="token class-name">MyStack</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q <span class="token operator">=</span> Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶</span>    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>x<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> x    <span class="token comment"># åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å›</span>    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        size <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>qsize<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> size <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            size <span class="token operator">-=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>top_elem <span class="token operator">=</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>put<span class="token punctuation">(</span>self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># è¿”å›æ ˆé¡¶å…ƒç´ </span>    <span class="token keyword">def</span> <span class="token function">top</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>top_elem    <span class="token comment"># åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">def</span> <span class="token function">empty</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>q<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¾ˆæ˜æ˜¾ï¼Œç”¨é˜Ÿåˆ—å®ç°æ ˆçš„è¯ï¼Œ<code>pop</code> æ“ä½œæ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œå…¶ä»–æ“ä½œéƒ½æ˜¯ O(1)ã€‚</p><p>ä¸ªäººè®¤ä¸ºï¼Œç”¨é˜Ÿåˆ—å®ç°æ ˆæ˜¯æ²¡å•¥äº®ç‚¹çš„é—®é¢˜ï¼Œä½†æ˜¯ç”¨åŒæ ˆå®ç°é˜Ÿåˆ—æ˜¯å€¼å¾—å­¦ä¹ çš„ã€‚</p><p><img src="/2025/06/14/dui-lie-shi-xian-zhan-yi-ji-zhan-shi-xian-dui-lie/4.jpg" alt="img"></p><p>ä»æ ˆ <code>s1</code> æ¬è¿å…ƒç´ åˆ° <code>s2</code> ä¹‹åï¼Œå…ƒç´ åœ¨ <code>s2</code> ä¸­å°±å˜æˆäº†é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡ºé¡ºåºï¼Œè¿™ä¸ªç‰¹æ€§æœ‰ç‚¹ç±»ä¼¼ã€Œè´Ÿè´Ÿå¾—æ­£ã€ï¼Œç¡®å®ä¸å¤ªå®¹æ˜“æƒ³åˆ°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç»å…¸é˜Ÿåˆ—/æ ˆç®—æ³• </category>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> ç†è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•é“¾è¡¨çš„èŠ±å¼åè½¬æ–¹æ³•æ±‡æ€»</title>
      <link href="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/"/>
      <url>/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/</url>
      
        <content type="html"><![CDATA[<h2 id="åè½¬æ•´ä¸ªå•é“¾è¡¨"><a href="#åè½¬æ•´ä¸ªå•é“¾è¡¨" class="headerlink" title="åè½¬æ•´ä¸ªå•é“¾è¡¨"></a>åè½¬æ•´ä¸ªå•é“¾è¡¨</h2><p>åœ¨ åŠ›æ‰£&#x2F;LeetCode ä¸­ï¼Œå•é“¾è¡¨çš„é€šç”¨ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å•é“¾è¡¨èŠ‚ç‚¹çš„ç»“æ„</span><span class="token keyword">class</span> <span class="token class-name">ListNode</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>val <span class="token operator">=</span> x        self<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å•é“¾è¡¨åè½¬æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„ç®—æ³•é¢˜ï¼ŒåŠ›æ‰£ç¬¬ 206 é¢˜ <a href="https://leetcode.cn/problems/reverse-linked-list/">åè½¬é“¾è¡¨</a> å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼š</p><p>ä¸‹é¢æˆ‘ä»¬æ¥å°è¯•ç”¨å¤šç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="è¿­ä»£è§£æ³•"><a href="#è¿­ä»£è§£æ³•" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h3><p>è¿™é“é¢˜çš„å¸¸è§„åšæ³•å°±æ˜¯è¿­ä»£è§£æ³•ï¼Œé€šè¿‡æ“ä½œå‡ ä¸ªæŒ‡é’ˆï¼Œå°†é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæ–¹å‘åè½¬ï¼Œæ²¡ä»€ä¹ˆéš¾ç‚¹ï¼Œä¸»è¦æ˜¯æŒ‡é’ˆæ“ä½œçš„ç»†èŠ‚é—®é¢˜ã€‚</p><p>è¿™é‡Œç›´æ¥ç»™å‡ºä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># åè½¬ä»¥ head ä¸ºèµ·ç‚¹çš„å•é“¾è¡¨</span>    <span class="token keyword">def</span> <span class="token function">reverseList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ListNode<span class="token punctuation">:</span>        <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> head        <span class="token comment"># ç”±äºå•é“¾è¡¨çš„ç»“æ„ï¼Œè‡³å°‘è¦ç”¨ä¸‰ä¸ªæŒ‡é’ˆæ‰èƒ½å®Œæˆè¿­ä»£åè½¬</span>        <span class="token comment"># cur æ˜¯å½“å‰éå†çš„èŠ‚ç‚¹ï¼Œpre æ˜¯ cur çš„å‰é©±ç»“ç‚¹ï¼Œnxt æ˜¯ cur çš„åç»§ç»“ç‚¹</span>        pre<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> nxt <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>        <span class="token keyword">while</span> cur <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token comment"># é€ä¸ªç»“ç‚¹åè½¬</span>            cur<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pre            <span class="token comment"># æ›´æ–°æŒ‡é’ˆä½ç½®</span>            pre <span class="token operator">=</span> cur            cur <span class="token operator">=</span> nxt            <span class="token keyword">if</span> nxt <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>                nxt <span class="token operator">=</span> nxt<span class="token punctuation">.</span><span class="token builtin">next</span>        <span class="token comment"># è¿”å›åè½¬åçš„å¤´ç»“ç‚¹</span>        <span class="token keyword">return</span> pre<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªè§£æ³•çš„æ€è·¯æ˜¯ï¼š</p><ul><li>é¦–å…ˆåˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªç»“ç‚¹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥è¿”å›åŸé“¾è¡¨ã€‚</li><li>ç„¶ååˆå§‹åŒ–ä¸‰ä¸ªæŒ‡é’ˆï¼š<code>pre</code> æ˜¯å‰é©±æŒ‡é’ˆï¼Œ<code>cur</code> æ˜¯å½“å‰æŒ‡é’ˆï¼Œ<code>nxt</code> æ˜¯åç»§æŒ‡é’ˆã€‚</li><li>ç„¶åå¼€å§‹è¿­ä»£ï¼Œæ¯æ¬¡è¿­ä»£éƒ½å°†å½“å‰ç»“ç‚¹çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘ <code>pre</code>ï¼Œç„¶åæ›´æ–° <code>pre</code>ã€<code>cur</code>ã€<code>nxt</code> æŒ‡é’ˆçš„ä½ç½®ã€‚</li><li>æœ€åè¿”å› <code>pre</code> æŒ‡é’ˆï¼Œå³ä¸ºåè½¬åçš„å¤´ç»“ç‚¹ã€‚</li></ul><h3 id="é€’å½’è§£æ³•"><a href="#é€’å½’è§£æ³•" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h3><p>ä¸Šé¢çš„è¿­ä»£è§£æ³•æ“ä½œæŒ‡é’ˆè™½ç„¶æœ‰äº›ç¹çï¼Œä½†æ˜¯æ€è·¯è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ã€‚å¦‚æœç°åœ¨è®©ä½ ç”¨é€’å½’æ¥åè½¬å•é“¾è¡¨ï¼Œä½ æœ‰å•¥æƒ³æ³•æ²¡ï¼Ÿ</p><p><strong>é€’å½’åè½¬å•é“¾è¡¨çš„å…³é”®åœ¨äºï¼Œè¿™ä¸ªé—®é¢˜æœ¬èº«æ˜¯å­˜åœ¨å­é—®é¢˜ç»“æ„çš„ã€‚</strong></p><p>æ¯”æ–¹è¯´ï¼Œç°åœ¨ç»™ä½ è¾“å…¥ä¸€ä¸ªä»¥ 1 ä¸ºå¤´ç»“ç‚¹å•é“¾è¡¨ 1-&gt;2-&gt;3-&gt;4ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘å¿½ç•¥è¿™ä¸ªå¤´ç»“ç‚¹ 1ï¼Œåªæ‹¿å‡º 2-&gt;3-&gt;4 è¿™ä¸ªå­é“¾è¡¨ï¼Œå®ƒä¹Ÿæ˜¯ä¸ªå•é“¾è¡¨å¯¹å§ï¼Ÿ</p><p>é‚£ä¹ˆä½ è¿™ä¸ª <code>reverseList</code> å‡½æ•°ï¼Œåªè¦è¾“å…¥ä¸€ä¸ªå•é“¾è¡¨ï¼Œå°±èƒ½ç»™æˆ‘åè½¬å¯¹å§ï¼Ÿé‚£ä¹ˆä½ èƒ½ä¸èƒ½ç”¨è¿™ä¸ªå‡½æ•°å…ˆæ¥åè½¬ <code>2-&gt;3-&gt;4 </code>è¿™ä¸ªå­é“¾è¡¨å‘¢ï¼Œç„¶åå†æƒ³åŠæ³•æŠŠ <code>1</code> æ¥åˆ°åè½¬åçš„ <code>4-&gt;3-&gt;2 </code>çš„æœ€åé¢ï¼Œæ˜¯ä¸æ˜¯å°±å®Œæˆäº†æ•´ä¸ªé“¾è¡¨çš„åè½¬ï¼Ÿ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">reverseList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">reverseList</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>è¿™å°±æ˜¯ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€è·¯ï¼Œé€šè¿‡é€’å½’å‡½æ•°çš„å®šä¹‰ï¼ŒæŠŠåŸé—®é¢˜åˆ†è§£æˆè‹¥å¹²è§„æ¨¡æ›´å°ã€ç»“æ„ç›¸åŒçš„å­é—®é¢˜ï¼Œæœ€åé€šè¿‡å­é—®é¢˜çš„ç­”æ¡ˆç»„è£…åŸé—®é¢˜çš„è§£ã€‚</strong></p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é€’å½’å‡½æ•°æ¥åè½¬å•é“¾è¡¨ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ªå•é“¾è¡¨å¤´ç»“ç‚¹ï¼Œå°†è¯¥é“¾è¡¨åè½¬ï¼Œè¿”å›æ–°çš„å¤´ç»“ç‚¹</span>    <span class="token keyword">def</span> <span class="token function">reverseList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> head        last <span class="token operator">=</span> self<span class="token punctuation">.</span>reverseList<span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">)</span>         head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> head         head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> <span class="token boolean">None</span>        <span class="token keyword">return</span> last<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºã€Œåˆ†è§£é—®é¢˜ã€æ€è·¯çš„é€’å½’ç®—æ³•ï¼Œæœ€é‡è¦çš„å°±æ˜¯æ˜ç¡®é€’å½’å‡½æ•°çš„å®šä¹‰ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„ <code>reverseList</code> å‡½æ•°å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><p><strong>è¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹ <code>head</code>ï¼Œå°†ã€Œä»¥ <code>head</code> ä¸ºèµ·ç‚¹ã€çš„é“¾è¡¨åè½¬ï¼Œå¹¶è¿”å›åè½¬ä¹‹åçš„å¤´ç»“ç‚¹</strong>ã€‚</p><p>æ˜ç™½äº†å‡½æ•°çš„å®šä¹‰ï¼Œå†æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬æƒ³åè½¬è¿™ä¸ªé“¾è¡¨ï¼š</p><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/1.jpg" alt="img"></p><p>é‚£ä¹ˆè¾“å…¥ <code>reverseList(head)</code> åï¼Œä¼šåœ¨è¿™é‡Œè¿›è¡Œé€’å½’ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ListNode last <span class="token operator">=</span> <span class="token function">reverseList</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸è¦è·³è¿›é€’å½’ï¼ˆä½ çš„è„‘è¢‹èƒ½å‹å‡ ä¸ªæ ˆå‘€ï¼Ÿï¼‰ï¼Œè€Œæ˜¯è¦æ ¹æ®åˆšæ‰çš„å‡½æ•°å®šä¹‰ï¼Œæ¥å¼„æ¸…æ¥šè¿™æ®µä»£ç ä¼šäº§ç”Ÿä»€ä¹ˆç»“æœï¼š</p><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/2.jpg" alt="img"></p><p>è¿™ä¸ª <code>reverseList(head.next)</code> æ‰§è¡Œå®Œæˆåï¼Œæ•´ä¸ªé“¾è¡¨å°±æˆäº†è¿™æ ·ï¼š</p><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/3.jpg" alt="img"></p><p>ç°åœ¨å†æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/4.jpg" alt="img"></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">head<span class="token punctuation">.</span>next <span class="token operator">=</span> null<span class="token punctuation">;</span><span class="token keyword">return</span> last<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/5.jpg" alt="img"></p><p>ç¥ä¸ç¥å¥‡ï¼Œè¿™æ ·æ•´ä¸ªé“¾è¡¨å°±åè½¬è¿‡æ¥äº†ï¼é€’å½’ä»£ç å°±æ˜¯è¿™ä¹ˆç®€æ´ä¼˜é›…ï¼Œä¸è¿‡å…¶ä¸­æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼š</p><p>1ã€é€’å½’å‡½æ•°è¦æœ‰ base caseï¼Œä¹Ÿå°±æ˜¯è¿™å¥ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> null <span class="token operator">||</span> head<span class="token punctuation">.</span>next <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ„æ€æ˜¯å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œåè½¬ç»“æœå°±æ˜¯å®ƒè‡ªå·±ï¼Œç›´æ¥è¿”å›å³å¯ã€‚</p><p>2ã€å½“é“¾è¡¨é€’å½’åè½¬ä¹‹åï¼Œæ–°çš„å¤´ç»“ç‚¹æ˜¯ <code>last</code>ï¼Œè€Œä¹‹å‰çš„ <code>head</code> å˜æˆäº†æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ«å¿˜äº†é“¾è¡¨çš„æœ«å°¾è¦æŒ‡å‘ nullï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">head<span class="token punctuation">.</span>next <span class="token operator">=</span> null<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ ·ï¼Œæ•´ä¸ªå•é“¾è¡¨å°±å®Œæˆåè½¬äº†ã€‚</p><blockquote><p>é€’å½’æ“ä½œé“¾è¡¨çš„æ•ˆç‡ä¸å¦‚è¿­ä»£</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œé€’å½’æ“ä½œé“¾è¡¨å¹¶ä¸é«˜æ•ˆã€‚</p><p>é€’å½’è§£æ³•å’Œè¿­ä»£è§£æ³•ç›¸æ¯”ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(N)ï¼Œä½†æ˜¯è¿­ä»£è§£æ³•çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œè€Œé€’å½’è§£æ³•éœ€è¦å †æ ˆï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(N)ã€‚</p><p>æ‰€ä»¥é€’å½’æ“ä½œé“¾è¡¨å¯ä»¥ç”¨æ¥ç»ƒä¹ é€’å½’æ€ç»´ï¼Œä½†æ˜¯è€ƒè™‘æ•ˆç‡çš„è¯è¿˜æ˜¯ä½¿ç”¨è¿­ä»£ç®—æ³•æ›´å¥½ã€‚</p></blockquote><h2 id="åè½¬é“¾è¡¨å‰-N-ä¸ªèŠ‚ç‚¹"><a href="#åè½¬é“¾è¡¨å‰-N-ä¸ªèŠ‚ç‚¹" class="headerlink" title="åè½¬é“¾è¡¨å‰ N ä¸ªèŠ‚ç‚¹"></a>åè½¬é“¾è¡¨å‰ N ä¸ªèŠ‚ç‚¹</h2><p>è¿™æ¬¡æˆ‘ä»¬å®ç°ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†é“¾è¡¨çš„å‰ n ä¸ªèŠ‚ç‚¹åè½¬ï¼ˆn &lt;= é“¾è¡¨é•¿åº¦ï¼‰</span><span class="token keyword">def</span> <span class="token function">reverseN</span><span class="token punctuation">(</span>head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¯”å¦‚è¯´å¯¹äºä¸‹å›¾é“¾è¡¨ï¼Œæ‰§è¡Œ <code>reverseN(head, 3)</code>ï¼š</p><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/6.jpg" alt="img"></p><h3 id="è¿­ä»£è§£æ³•-1"><a href="#è¿­ä»£è§£æ³•-1" class="headerlink" title="è¿­ä»£è§£æ³•"></a>è¿­ä»£è§£æ³•</h3><p>è¿­ä»£è§£æ³•åº”è¯¥æ¯”è¾ƒå¥½å†™ï¼Œåœ¨ä¹‹å‰å®ç°çš„ <code>reverseList</code> åŸºç¡€ä¸Šç¨åŠ ä¿®æ”¹å°±å¯ä»¥äº†ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">reverseN</span><span class="token punctuation">(</span>head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> head <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> head    pre<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> nxt <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span> head<span class="token punctuation">,</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>    <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>        cur<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> pre        pre <span class="token operator">=</span> cur        cur <span class="token operator">=</span> nxt        <span class="token keyword">if</span> nxt <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            nxt <span class="token operator">=</span> nxt<span class="token punctuation">.</span><span class="token builtin">next</span>        n <span class="token operator">-=</span> <span class="token number">1</span>    <span class="token comment"># æ­¤æ—¶çš„ cur æ˜¯ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹ï¼Œhead æ˜¯åè½¬åçš„å°¾ç»“ç‚¹</span>    head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> cur     <span class="token comment"># æ­¤æ—¶çš„ pre æ˜¯åè½¬åçš„å¤´ç»“ç‚¹</span>    <span class="token keyword">return</span> pre<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é€’å½’è§£æ³•-1"><a href="#é€’å½’è§£æ³•-1" class="headerlink" title="é€’å½’è§£æ³•"></a>é€’å½’è§£æ³•</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åé©±èŠ‚ç‚¹</span>successor <span class="token operator">=</span> <span class="token boolean">None</span><span class="token comment"># åè½¬ä»¥ head ä¸ºèµ·ç‚¹çš„ n ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›æ–°çš„å¤´ç»“ç‚¹</span><span class="token keyword">def</span> <span class="token function">reverseN</span><span class="token punctuation">(</span>head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> successor    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token comment"># è®°å½•ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹</span>        successor <span class="token operator">=</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>        <span class="token keyword">return</span> head    <span class="token comment"># ä»¥ head.next ä¸ºèµ·ç‚¹ï¼Œéœ€è¦åè½¬å‰ n - 1 ä¸ªèŠ‚ç‚¹</span>    last <span class="token operator">=</span> reverseN<span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    head<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> head    <span class="token comment"># è®©åè½¬ä¹‹åçš„ head èŠ‚ç‚¹å’Œåé¢çš„èŠ‚ç‚¹è¿èµ·æ¥</span>    head<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> successor    <span class="token keyword">return</span> last <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…·ä½“çš„åŒºåˆ«ï¼š</p><p>1ã€base case å˜ä¸º <code>n == 1</code>ï¼Œåè½¬ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯å®ƒæœ¬èº«ï¼Œ<strong>åŒæ—¶è¦è®°å½•åé©±èŠ‚ç‚¹</strong>ï¼Œå³è¦è®°å½•ç¬¬ <code>n + 1</code> ä¸ªèŠ‚ç‚¹ã€‚</p><p>2ã€åˆšæ‰æˆ‘ä»¬ç›´æ¥æŠŠ <code>head.next</code> è®¾ç½®ä¸º nullï¼Œå› ä¸ºæ•´ä¸ªé“¾è¡¨åè½¬ååŸæ¥çš„ <code>head</code> å˜æˆäº†æ•´ä¸ªé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚ä½†ç°åœ¨ <code>head</code> èŠ‚ç‚¹åœ¨é€’å½’åè½¬ä¹‹åä¸ä¸€å®šæ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œæ‰€ä»¥è¦è®°å½•åé©± <code>successor</code>ï¼ˆç¬¬ <code>n + 1</code> ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œåè½¬ä¹‹åå°† <code>head</code> è¿æ¥ä¸Šã€‚</p><p><img src="/2025/05/21/dan-lian-biao-de-hua-shi-fan-zhuan-fang-fa-hui-zong/7.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> é“¾è¡¨ </tag>
            
            <tag> åè½¬é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ»‘åŠ¨çª—å£ç®—æ³•æ ¸å¿ƒ</title>
      <link href="/2025/05/08/hua-dong-chuang-kou-suan-fa-he-xin/"/>
      <url>/2025/05/08/hua-dong-chuang-kou-suan-fa-he-xin/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ»‘åŠ¨çª—å£å¯ä»¥å½’ä¸ºå¿«æ…¢åŒæŒ‡é’ˆï¼Œä¸€å¿«ä¸€æ…¢ä¸¤ä¸ªæŒ‡é’ˆå‰åç›¸éšï¼Œä¸­é—´çš„éƒ¨åˆ†å°±æ˜¯çª—å£ã€‚æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§ä¸»è¦ç”¨æ¥è§£å†³å­æ•°ç»„é—®é¢˜ï¼Œæ¯”å¦‚è®©ä½ å¯»æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„æœ€é•¿&#x2F;æœ€çŸ­å­æ•°ç»„ã€‚</p></blockquote><h2 id="æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ"><a href="#æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ" class="headerlink" title="æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ"></a>æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ</h2><p>å¦‚æœç”¨æš´åŠ›è§£çš„è¯ï¼Œä½ éœ€è¦åµŒå¥— for å¾ªç¯è¿™æ ·ç©·ä¸¾æ‰€æœ‰å­æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// nums[i, j] æ˜¯ä¸€ä¸ªå­æ•°ç»„</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§çš„æ€è·¯ä¹Ÿä¸éš¾ï¼Œå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œä¸æ–­æ»‘åŠ¨ï¼Œç„¶åæ›´æ–°ç­”æ¡ˆï¼Œè¯¥ç®—æ³•çš„å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å¢å¤§çª—å£</span>    window<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    right<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>window needs shrink<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ç¼©å°çª—å£</span>        window<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        left<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸºäºæ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶å†™å‡ºçš„ä»£ç ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ $O(N)$ï¼Œæ¯”åµŒå¥— <code>for</code> å¾ªç¯çš„æš´åŠ›è§£æ³•æ•ˆç‡é«˜ã€‚</p><h2 id="ä¸€ã€æœ€å°è¦†ç›–å­ä¸²"><a href="#ä¸€ã€æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="ä¸€ã€æœ€å°è¦†ç›–å­ä¸²"></a>ä¸€ã€æœ€å°è¦†ç›–å­ä¸²</h2><p>å…ˆæ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 76 é¢˜<a href="https://leetcode.cn/problems/minimum-window-substring/">æœ€å°è¦†ç›–å­ä¸²</a>éš¾åº¦ Hardï¼š</p><hr><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ ã€‚</p><p>æ³¨æ„ï¼š</p><p>å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚<br>å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</p><p><strong>ç¤ºä¾‹ 1</strong>ï¼š</p><p>è¾“å…¥ï¼šs &#x3D; â€œADOBECODEBANCâ€, t &#x3D; â€œABCâ€<br>è¾“å‡ºï¼šâ€BANCâ€<br>è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² â€œBANCâ€ åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ â€˜Aâ€™ã€â€™Bâ€™ å’Œ â€˜Câ€™ã€‚</p><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p>è¾“å…¥ï¼šs &#x3D; â€œaâ€, t &#x3D; â€œaâ€<br>è¾“å‡ºï¼šâ€aâ€<br>è§£é‡Šï¼šæ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚</p><p><strong>ç¤ºä¾‹ 3:</strong></p><p>è¾“å…¥: s &#x3D; â€œaâ€, t &#x3D; â€œaaâ€<br>è¾“å‡º: â€œâ€<br>è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ â€˜aâ€™ å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ<br>å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p><hr><p>å°±æ˜¯è¯´è¦åœ¨ S(source) ä¸­æ‰¾åˆ°åŒ…å« T(target) ä¸­å…¨éƒ¨å­—æ¯çš„ä¸€ä¸ªå­ä¸²ï¼Œä¸”è¿™ä¸ªå­ä¸²ä¸€å®šæ˜¯æ‰€æœ‰å¯èƒ½å­ä¸²ä¸­æœ€çŸ­çš„ã€‚</p><h3 id="æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š"><a href="#æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š" class="headerlink" title="æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š"></a>æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š</h3><p>1ã€æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² <code>S</code> ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ– <code>left = right = 0</code>ï¼ŒæŠŠç´¢å¼•å·¦é—­å³å¼€åŒºé—´ <code>[left, right)</code> ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ã€‚</p><p>2ã€æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ  <code>right</code> æŒ‡é’ˆæ‰©å¤§çª—å£ <code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† T ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚</p><p>3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ  <code>right</code>ï¼Œè½¬è€Œä¸æ–­å¢åŠ  <code>left</code> æŒ‡é’ˆç¼©å°çª—å£ <code>[left, right)</code>ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« T ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  <code>left</code>ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚</p><p>4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° <code>right</code> åˆ°è¾¾å­—ç¬¦ä¸² <code>S</code> çš„å°½å¤´ã€‚</p><blockquote><p>è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œ<strong>ç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€</strong>ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–å­ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œå°±å¥½åƒä¸€æ¡æ¯›æ¯›è™«ï¼Œä¸€ä¼¸ä¸€ç¼©ï¼Œä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—å£ã€è¿™ä¸ªåå­—çš„æ¥å†</p></blockquote><h3 id="ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š"><a href="#ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š" class="headerlink" title="ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š"></a>ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</h3><p>1ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç§»åŠ¨ right æ‰©å¤§çª—å£ï¼Ÿçª—å£åŠ å…¥å­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ</p><p>2ã€ä»€ä¹ˆæ—¶å€™çª—å£åº”è¯¥æš‚åœæ‰©å¤§ï¼Œå¼€å§‹ç§»åŠ¨ left ç¼©å°çª—å£ï¼Ÿä»çª—å£ç§»å‡ºå­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ</p><p>3ã€æˆ‘ä»¬è¦çš„ç»“æœåº”è¯¥åœ¨æ‰©å¤§çª—å£æ—¶è¿˜æ˜¯ç¼©å°çª—å£æ—¶è¿›è¡Œæ›´æ–°ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ªå­—ç¬¦è¿›å…¥çª—å£ï¼Œåº”è¯¥å¢åŠ  window è®¡æ•°å™¨ï¼›å¦‚æœä¸€ä¸ªå­—ç¬¦å°†ç§»å‡ºçª—å£çš„æ—¶å€™ï¼Œåº”è¯¥å‡å°‘ window è®¡æ•°å™¨ï¼›å½“ valid æ»¡è¶³ need æ—¶åº”è¯¥æ”¶ç¼©çª—å£ï¼›åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„æ—¶å€™æ›´æ–°æœ€ç»ˆç»“æœã€‚</p><p><img src="/2025/05/08/hua-dong-chuang-kou-suan-fa-he-xin/1(1).jpg" alt=" "></p><p>ä¸‹é¢æ˜¯å®Œæ•´ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">minWindow</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> t<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>        need<span class="token punctuation">,</span> window <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> c <span class="token keyword">in</span> t<span class="token punctuation">:</span>            need<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> need<span class="token punctuation">.</span>get<span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>        left <span class="token operator">=</span> <span class="token number">0</span>        right <span class="token operator">=</span> <span class="token number">0</span>        valid <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment"># validå˜é‡è¡¨ç¤ºçª—å£ä¸­æ»¡è¶³ need æ¡ä»¶çš„å­—ç¬¦ä¸ªæ•°</span>        <span class="token comment"># è®°å½•æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦</span>        start <span class="token operator">=</span> <span class="token number">0</span>        length <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> right <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦</span>            c <span class="token operator">=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span>            <span class="token comment"># æ‰©å¤§çª—å£</span>            right <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span>            <span class="token keyword">if</span> c <span class="token keyword">in</span> need<span class="token punctuation">:</span>                window<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>get<span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>                <span class="token keyword">if</span> window<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">==</span> need<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">:</span>                    valid <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©</span>            <span class="token keyword">while</span> valid <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>need<span class="token punctuation">)</span><span class="token punctuation">:</span>                 <span class="token comment"># åœ¨è¿™é‡Œæ›´æ–°æœ€å°è¦†ç›–å­ä¸²</span>                <span class="token keyword">if</span> right <span class="token operator">-</span> left <span class="token operator">&lt;</span> length<span class="token punctuation">:</span>                    start <span class="token operator">=</span> left                    length <span class="token operator">=</span> right <span class="token operator">-</span> left                <span class="token comment"># d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦</span>                d <span class="token operator">=</span> s<span class="token punctuation">[</span>left<span class="token punctuation">]</span>                <span class="token comment"># ç¼©å°çª—å£</span>                left <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token comment"># è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°</span>                <span class="token keyword">if</span> d <span class="token keyword">in</span> need<span class="token punctuation">:</span>                    <span class="token keyword">if</span> window<span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token operator">==</span> need<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">:</span>                        valid <span class="token operator">-=</span> <span class="token number">1</span>                    window<span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># è¿”å›æœ€å°è¦†ç›–å­ä¸²</span>        <span class="token keyword">return</span> <span class="token string">""</span> <span class="token keyword">if</span> length <span class="token operator">==</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> s<span class="token punctuation">[</span>start<span class="token punctuation">:</span> start <span class="token operator">+</span> length<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ»‘åŠ¨çª—å£ </tag>
            
            <tag> åŠ›æ‰£ </tag>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é“¾è¡¨åŒæŒ‡é’ˆ</title>
      <link href="/2025/05/05/lian-biao-shuang-zhi-zhen/"/>
      <url>/2025/05/05/lian-biao-shuang-zhi-zhen/</url>
      
        <content type="html"><![CDATA[<h1 id="é“¾è¡¨çš„åˆå¹¶"><a href="#é“¾è¡¨çš„åˆå¹¶" class="headerlink" title="é“¾è¡¨çš„åˆå¹¶"></a>é“¾è¡¨çš„åˆå¹¶</h1><blockquote><p>æœ‰äº›é¢˜ç›®è™½ç„¶ä¸æ˜¯é“¾è¡¨çš„é¢˜ç›®ï¼Œä½†å…¶ä¸­è•´å«äº†åˆå¹¶æœ‰åºé“¾è¡¨çš„æ€æƒ³ã€‚</p></blockquote><h2 id="264-ä¸‘æ•°-II-åŠ›æ‰£"><a href="#264-ä¸‘æ•°-II-åŠ›æ‰£" class="headerlink" title="264. ä¸‘æ•° II åŠ›æ‰£"></a>264. ä¸‘æ•° II <a href="https://leetcode.cn/problems/ugly-number-ii/description/">åŠ›æ‰£</a></h2><hr><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ n ä¸ª <strong>ä¸‘æ•°</strong> ã€‚</p><p><strong>ä¸‘æ•°</strong> å°±æ˜¯è´¨å› å­åªåŒ…å« 2ã€3 å’Œ 5 çš„æ­£æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn &#x3D; 10<br>è¾“å‡ºï¼š12<br>è§£é‡Šï¼š[1, 2, 3, 4, 5, 6, 8, 9, 10, 12] æ˜¯ç”±å‰ 10 ä¸ªä¸‘æ•°ç»„æˆçš„åºåˆ—ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn &#x3D; 1<br>è¾“å‡ºï¼š1<br>è§£é‡Šï¼š1 é€šå¸¸è¢«è§†ä¸ºä¸‘æ•°ã€‚</p><p>æç¤ºï¼š</p><p>1 &lt;&#x3D; n &lt;&#x3D; 1690</p><hr><h3 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a>åŸºæœ¬æ€è·¯</h3><p>è¿™é“é¢˜å¾ˆç²¾å¦™ï¼Œä½ çœ‹ç€å®ƒå¥½åƒæ˜¯é“æ•°å­¦é¢˜ï¼Œå®é™…ä¸Šå®ƒå´æ˜¯ä¸€ä¸ªåˆå¹¶å¤šä¸ªæœ‰åºé“¾è¡¨çš„é—®é¢˜ï¼ŒåŒæ—¶ç”¨åˆ°äº†ç­›é€‰ç´ æ•°çš„æ€è·¯ã€‚</p><p>æ ¹æ®é¢˜æ„ï¼Œæ¯ä¸ªä¸‘æ•°éƒ½å¯ä»¥ç”±å…¶ä»–è¾ƒå°çš„ä¸‘æ•°é€šè¿‡ä¹˜ä»¥ 2 æˆ– 3 æˆ– 5 å¾—åˆ°ã€‚<br>æˆ‘ä»¬æŠŠæ‰€æœ‰ä¸‘æ•°æƒ³è±¡æˆä¸€ä¸ªä»å°åˆ°å¤§æ’åºçš„é“¾è¡¨ï¼Œå°±æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">1</span> <span class="token operator">-></span> <span class="token number">2</span> <span class="token operator">-></span> <span class="token number">3</span> <span class="token operator">-></span> <span class="token number">4</span> <span class="token operator">-></span> <span class="token number">5</span> <span class="token operator">-></span> <span class="token number">6</span> <span class="token operator">-></span> <span class="token number">8</span> <span class="token operator">-></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸‘æ•°åˆ†ä¸ºä¸‰ç±»ï¼š2 çš„å€æ•°ã€3 çš„å€æ•°ã€5 çš„å€æ•°ï¼ˆæŒ‰ç…§é¢˜ç›®çš„æ„æ€ï¼Œ1 ç®—ä½œç‰¹æ®Šçš„ä¸‘æ•°ï¼Œæ”¾åœ¨å¼€å¤´ï¼‰ï¼Œè¿™ä¸‰ç±»ä¸‘æ•°å°±å¥½åƒä¸‰æ¡æœ‰åºé“¾è¡¨ï¼Œå¦‚ä¸‹ï¼š</p><p>èƒ½è¢« 2 æ•´é™¤çš„ä¸‘æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">1</span> <span class="token operator">-></span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">3</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">5</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">6</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">2</span> <span class="token operator">-></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>èƒ½è¢« 3 æ•´é™¤çš„ä¸‘æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">1</span> <span class="token operator">-></span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">3</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">5</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">6</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">-></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>èƒ½è¢« 5 æ•´é™¤çš„ä¸‘æ•°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">1</span> <span class="token operator">-></span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">2</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">3</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">4</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">5</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">6</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span> <span class="token number">8</span><span class="token operator">*</span><span class="token number">5</span> <span class="token operator">-></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ‘ä»¬å…¶å®å°±æ˜¯æƒ³æŠŠè¿™ä¸‰æ¡<strong>æœ‰åºé“¾è¡¨</strong>ä¸€èµ·å¹¶<strong>å»é‡</strong>ï¼Œåˆå¹¶çš„ç»“æœå°±æ˜¯ä¸‘æ•°çš„åºåˆ—ã€‚ç„¶åæ±‚åˆå¹¶åçš„è¿™æ¡æœ‰åºé“¾è¡¨ä¸­ç¬¬ n ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆã€‚æ‰€ä»¥è¿™é‡Œå°±å’Œåˆå¹¶å¤šä¸ªæœ‰åºé“¾è¡¨ä¸€æ ·</p><p>å…·ä½“æ€è·¯çœ‹æ³¨é‡Šå§</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">nthUglyNumber</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        <span class="token comment"># å¯ä»¥ç†è§£ä¸ºä¸‰ä¸ªæŒ‡å‘æœ‰åºé“¾è¡¨å¤´ç»“ç‚¹çš„æŒ‡é’ˆï¼Œp2,p3,p5ä»£è¡¨çš„æ˜¯ç¬¬å‡ ä¸ªæ•°çš„ 2 å€ã€ç¬¬å‡ ä¸ªæ•° 3 å€ã€ç¬¬å‡ ä¸ªæ•° 5 å€</span>        p2<span class="token punctuation">,</span> p3<span class="token punctuation">,</span> p5 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>        <span class="token comment"># å¯ä»¥ç†è§£ä¸ºä¸‰ä¸ªæœ‰åºé“¾è¡¨çš„å¤´èŠ‚ç‚¹çš„å€¼</span>        product2<span class="token punctuation">,</span> product3<span class="token punctuation">,</span> product5 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span>        <span class="token comment"># å¯ä»¥ç†è§£ä¸ºæœ€ç»ˆåˆå¹¶çš„æœ‰åºé“¾è¡¨ï¼ˆç»“æœé“¾è¡¨ï¼‰</span>        ugly <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># å¯ä»¥ç†è§£ä¸ºç»“æœé“¾è¡¨ä¸Šçš„æŒ‡é’ˆ</span>        p <span class="token operator">=</span> <span class="token number">1</span>        <span class="token comment"># å¼€å§‹åˆå¹¶ä¸‰ä¸ªæœ‰åºé“¾è¡¨</span>        <span class="token keyword">while</span> p <span class="token operator">&lt;=</span> n<span class="token punctuation">:</span>            <span class="token comment"># å–ä¸‰ä¸ªé“¾è¡¨çš„æœ€å°ç»“ç‚¹</span>            min_val <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>product2<span class="token punctuation">,</span> product3<span class="token punctuation">,</span> product5<span class="token punctuation">)</span>            <span class="token comment"># æ¥åˆ°ç»“æœé“¾è¡¨ä¸Š</span>            ugly<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> min_val            p <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token comment"># å‰è¿›å¯¹åº”æœ‰åºé“¾è¡¨ä¸Šçš„æŒ‡é’ˆ</span>            <span class="token keyword">if</span> min_val <span class="token operator">==</span> product2<span class="token punctuation">:</span>                product2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> ugly<span class="token punctuation">[</span>p2<span class="token punctuation">]</span>                p2 <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> min_val <span class="token operator">==</span> product3<span class="token punctuation">:</span>                product3 <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> ugly<span class="token punctuation">[</span>p3<span class="token punctuation">]</span>                p3 <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> min_val <span class="token operator">==</span> product5<span class="token punctuation">:</span>                product5 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> ugly<span class="token punctuation">[</span>p5<span class="token punctuation">]</span>                p5 <span class="token operator">+=</span> <span class="token number">1</span>                <span class="token comment"># è¿”å›ç¬¬ n ä¸ªä¸‘æ•°</span>        <span class="token keyword">return</span> ugly<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="é“¾è¡¨è¿ç®—é¢˜"><a href="#é“¾è¡¨è¿ç®—é¢˜" class="headerlink" title="é“¾è¡¨è¿ç®—é¢˜"></a>é“¾è¡¨è¿ç®—é¢˜</h1><blockquote><p>æœ‰äº›é¢˜ç›®è™½ç„¶ä¸æ˜¯é“¾è¡¨çš„é¢˜ç›®ï¼Œä½†å…¶ä¸­è•´å«äº†åˆå¹¶æœ‰åºé“¾è¡¨çš„æ€æƒ³ã€‚</p></blockquote><h2 id="445-ä¸¤æ•°ç›¸åŠ -II-åŠ›æ‰£"><a href="#445-ä¸¤æ•°ç›¸åŠ -II-åŠ›æ‰£" class="headerlink" title="445. ä¸¤æ•°ç›¸åŠ  II åŠ›æ‰£"></a>445. ä¸¤æ•°ç›¸åŠ  II <a href="https://leetcode.cn/problems/add-two-numbers-ii/description/">åŠ›æ‰£</a></h2><hr><p>ç»™ä½ ä¸¤ä¸ª éç©º é“¾è¡¨æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä½æ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚</p><p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚</p><p>ç¤ºä¾‹1ï¼š</p><p><img src="/%E9%93%BE%E8%A1%A8%E5%8F%8C%E6%8C%87%E9%92%88%5C1626420025-fZfzMX-image.png"></p><p>è¾“å…¥ï¼šl1 &#x3D; [7,2,4,3], l2 &#x3D; [5,6,4]<br>è¾“å‡ºï¼š[7,8,0,7]<br>ç¤ºä¾‹2ï¼š</p><p>è¾“å…¥ï¼šl1 &#x3D; [2,4,3], l2 &#x3D; [5,6,4]<br>è¾“å‡ºï¼š[8,0,7]<br>ç¤ºä¾‹3ï¼š</p><p>è¾“å…¥ï¼šl1 &#x3D; [0], l2 &#x3D; [0]<br>è¾“å‡ºï¼š[0]</p><p>æç¤ºï¼š</p><p>é“¾è¡¨çš„é•¿åº¦èŒƒå›´ä¸º [1, 100]<br>0 &lt;&#x3D; node.val &lt;&#x3D; 9<br>è¾“å…¥æ•°æ®ä¿è¯é“¾è¡¨ä»£è¡¨çš„æ•°å­—æ— å‰å¯¼ 0</p><p>è¿›é˜¶ï¼šå¦‚æœè¾“å…¥é“¾è¡¨ä¸èƒ½ç¿»è½¬è¯¥å¦‚ä½•è§£å†³ï¼Ÿ</p><hr><h3 id="åŸºæœ¬æ€è·¯-1"><a href="#åŸºæœ¬æ€è·¯-1" class="headerlink" title="åŸºæœ¬æ€è·¯"></a>åŸºæœ¬æ€è·¯</h3><p>è¿™é“é¢˜æ˜¯ ä¸¤æ•°ç›¸åŠ  çš„è¿›é˜¶é—®é¢˜ï¼Œæˆ‘ä»¬æ¨¡æ‹ŸåŠ æ³•è¿ç®—å½“ç„¶æ˜¯ä»æœ€ä½ä½å¼€å§‹åŠ ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®çš„å¤„ç†è¿›ä½ã€‚ä½†ç°åœ¨å•é“¾è¡¨çš„å¼€å¤´æ˜¯æœ€é«˜ä½ï¼Œé‚£ä¹ˆæœ€ç›´æ¥çš„æƒ³æ³•å°±æ˜¯å…ˆ <strong>ç¿»è½¬é“¾è¡¨</strong>ï¼Œè¿™æ ·å°±æ²¡ä»€ä¹ˆéš¾åº¦ã€‚</p><p>ä¸è¿‡æœ¬é¢˜ä¹Ÿè¯´äº†ï¼Œå¦‚æœä¸è®©ä½ åè½¬é“¾è¡¨æ€ä¹ˆåŠï¼Ÿå…¶å®ä¹Ÿå¥½åŠï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ ˆè¿™ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼ŒæŠŠé“¾è¡¨èŠ‚ç‚¹ä»å¤´åˆ°å°¾æ”¾è¿›æ ˆä¸­ï¼Œå†ä»æ ˆæ‹¿å‡ºæ¥å°±æ˜¯ä»å°¾åˆ°å¤´çš„é¡ºåºï¼Œç›¸å½“äºæ˜¯åè½¬é“¾è¡¨çš„æ•ˆæœï¼Œç„¶åå†è¿›è¡ŒåŠ æ³•è¿ç®—å³å¯ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¡ç®—ç»“æœçš„é«˜ä½ä¹Ÿåº”è¯¥æ”¾åœ¨ç»“æœé“¾è¡¨çš„å·¦ä¾§ï¼Œä¹Ÿå°±æ˜¯æ’å…¥åˆ° dummy èŠ‚ç‚¹çš„åé¢ã€‚å…·ä½“çœ‹ä»£ç å§ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">addTwoNumbers</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> l1<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> l2<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ListNode<span class="token punctuation">:</span>        <span class="token comment"># æŠŠé“¾è¡¨å…ƒç´ è½¬å…¥æ ˆä¸­</span>        stk1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> l1<span class="token punctuation">:</span>            stk1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>l1<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            l1 <span class="token operator">=</span> l1<span class="token punctuation">.</span><span class="token builtin">next</span>        stk2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> l2<span class="token punctuation">:</span>            stk2<span class="token punctuation">.</span>append<span class="token punctuation">(</span>l2<span class="token punctuation">.</span>val<span class="token punctuation">)</span>            l2 <span class="token operator">=</span> l2<span class="token punctuation">.</span><span class="token builtin">next</span>        <span class="token comment"># æ¥ä¸‹æ¥åŸºæœ¬ä¸Šæ˜¯å¤ç”¨æˆ‘åœ¨ç¬¬ 2 é¢˜çš„ä»£ç é€»è¾‘</span>        <span class="token comment"># æ³¨æ„æ–°èŠ‚ç‚¹è¦ç›´æ¥æ’å…¥åˆ° dummy åé¢</span>        <span class="token comment"># è™šæ‹Ÿå¤´ç»“ç‚¹ï¼ˆæ„å»ºæ–°é“¾è¡¨æ—¶çš„å¸¸ç”¨æŠ€å·§ï¼‰</span>        dummy <span class="token operator">=</span> ListNode<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment"># è®°å½•è¿›ä½</span>        carry <span class="token operator">=</span> <span class="token number">0</span>        <span class="token comment"># å¼€å§‹æ‰§è¡ŒåŠ æ³•ï¼Œä¸¤æ¡é“¾è¡¨èµ°å®Œä¸”æ²¡æœ‰è¿›ä½æ—¶æ‰èƒ½ç»“æŸå¾ªç¯</span>        <span class="token keyword">while</span> stk1 <span class="token keyword">or</span> stk2 <span class="token keyword">or</span> carry <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># å…ˆåŠ ä¸Šä¸Šæ¬¡çš„è¿›ä½</span>            val <span class="token operator">=</span> carry            <span class="token keyword">if</span> stk1<span class="token punctuation">:</span>                val <span class="token operator">+=</span> stk1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> stk2<span class="token punctuation">:</span>                val <span class="token operator">+=</span> stk2<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># å¤„ç†è¿›ä½æƒ…å†µ</span>            carry <span class="token operator">=</span> val <span class="token operator">//</span> <span class="token number">10</span>            val <span class="token operator">=</span> val <span class="token operator">%</span> <span class="token number">10</span>            <span class="token comment"># æ„å»ºæ–°èŠ‚ç‚¹ï¼Œç›´æ¥æ¥åœ¨ dummy åé¢</span>            newNode <span class="token operator">=</span> ListNode<span class="token punctuation">(</span>val<span class="token punctuation">)</span>            newNode<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> dummy<span class="token punctuation">.</span><span class="token builtin">next</span>            dummy<span class="token punctuation">.</span><span class="token builtin">next</span> <span class="token operator">=</span> newNode        <span class="token comment"># è¿”å›ç»“æœé“¾è¡¨çš„å¤´ç»“ç‚¹ï¼ˆå»é™¤è™šæ‹Ÿå¤´ç»“ç‚¹ï¼‰</span>        <span class="token keyword">return</span> dummy<span class="token punctuation">.</span><span class="token builtin">next</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é“¾è¡¨ </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•é«˜æ•ˆå¯»æ‰¾ç´ æ•°</title>
      <link href="/2025/05/05/ru-he-gao-xiao-xun-zhao-su-shu/"/>
      <url>/2025/05/05/ru-he-gao-xiao-xun-zhao-su-shu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç´ æ•°çš„å®šä¹‰çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œå¦‚æœä¸€ä¸ªæ•°å¦‚æœåªèƒ½è¢« <code>1</code> å’Œå®ƒæœ¬èº«æ•´é™¤ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯ç´ æ•°</p></blockquote><ul><li>æ¯”å¦‚åŠ›æ‰£ç¬¬ 204 é¢˜<a href="https://leetcode.cn/problems/count-primes/">è®¡æ•°è´¨æ•°</a></li></ul><h2 id="å¸¸è§„æ€è·¯"><a href="#å¸¸è§„æ€è·¯" class="headerlink" title="å¸¸è§„æ€è·¯"></a>å¸¸è§„æ€è·¯</h2><p>æˆ‘ä»¬å¯ä»¥ä» 2 å¼€å§‹ï¼Œåˆ¤æ–­æ¯ä¸ªæ•°æ˜¯å¦æ˜¯ç´ æ•°ï¼Œå¦‚æœæ˜¯ç´ æ•°ï¼Œæˆ‘ä»¬å°±æŠŠcountåŠ 1ï¼Œå¦‚æœä¸æ˜¯ç´ æ•°ï¼Œæˆ‘ä»¬å°±è·³è¿‡å®ƒã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">countPrimes</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>    count <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> isPrime<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>            count <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">return</span> count<span class="token comment"># åˆ¤æ–­æ•´æ•° n æ˜¯å¦æ˜¯ç´ æ•°</span><span class="token keyword">def</span> <span class="token function">isPrime</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token comment"># æœ‰å…¶ä»–æ•´é™¤å› å­</span>            <span class="token keyword">return</span> <span class="token boolean">False</span>    <span class="token keyword">return</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¿™æ ·å†™çš„è¯æ—¶é—´å¤æ‚åº¦ $O(n^2)$ï¼Œ<strong>é—®é¢˜å¾ˆå¤§</strong>ã€‚é¦–å…ˆä½ ç”¨ <code>isPrime</code> å‡½æ•°æ¥è¾…åŠ©çš„æ€è·¯å°±ä¸å¤Ÿé«˜æ•ˆï¼›è€Œä¸”å°±ç®—ä½ è¦ç”¨ <code>isPrime</code> å‡½æ•°ï¼Œè¿™æ ·å†™ç®—æ³•ä¹Ÿæ˜¯<strong>å­˜åœ¨è®¡ç®—å†—ä½™</strong>çš„ã€‚</p></blockquote><p><strong>ä¼˜åŒ–æ€è·¯</strong></p><p>å…ˆæ¥è¯´ä¸‹å¦‚æœä½ è¦åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ç´ æ•°ï¼Œåº”è¯¥å¦‚ä½•å†™ç®—æ³•ã€‚åªéœ€ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ isPrime ä»£ç ä¸­çš„ for å¾ªç¯æ¡ä»¶ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">boolean isPrime<span class="token punctuation">(</span><span class="token builtin">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token builtin">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¢å¥è¯è¯´ï¼Œi ä¸éœ€è¦éå†åˆ° nï¼Œè€Œåªéœ€è¦åˆ° sqrt(n) å³å¯ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ n &#x3D; 12ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token number">12</span> <span class="token operator">=</span> <span class="token number">2</span> Ã— <span class="token number">6</span><span class="token number">12</span> <span class="token operator">=</span> <span class="token number">3</span> Ã— <span class="token number">4</span><span class="token number">12</span> <span class="token operator">=</span> sqrt<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> Ã— sqrt<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token number">12</span> <span class="token operator">=</span> <span class="token number">4</span> Ã— <span class="token number">3</span><span class="token number">12</span> <span class="token operator">=</span> <span class="token number">6</span> Ã— <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œåä¸¤ä¸ªä¹˜ç§¯å°±æ˜¯å‰é¢ä¸¤ä¸ªåè¿‡æ¥ï¼Œåè½¬ä¸´ç•Œç‚¹å°±åœ¨ <code>sqrt(n)</code>ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨ <code>[2,sqrt(n)]</code> è¿™ä¸ªåŒºé—´ä¹‹å†…æ²¡æœ‰å‘ç°å¯æ•´é™¤å› å­ï¼Œå°±å¯ä»¥ç›´æ¥æ–­å®š n æ˜¯ç´ æ•°äº†ï¼Œå› ä¸ºåœ¨åŒºé—´ <code>[sqrt(n),n]</code> ä¹Ÿä¸€å®šä¸ä¼šå‘ç°å¯æ•´é™¤å› å­ã€‚</p><p>ç°åœ¨ï¼Œ<code>isPrime</code> å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦é™ä¸º$O(sqrt(N))$ï¼Œä½†æ˜¯æˆ‘ä»¬å®ç° <code>countPrimes</code> å‡½æ•°å…¶å®å¹¶ä¸éœ€è¦è¿™ä¸ªå‡½æ•°ï¼Œä»¥ä¸Šåªæ˜¯å¸Œæœ›è¯»è€…æ˜ç™½ <code>sqrt(n)</code> çš„å«ä¹‰ï¼Œå› ä¸ºç­‰ä¼šè¿˜ä¼šç”¨åˆ°ã€‚</p><h2 id="é«˜æ•ˆå®ç°-countPrimes"><a href="#é«˜æ•ˆå®ç°-countPrimes" class="headerlink" title="é«˜æ•ˆå®ç° countPrimes"></a>é«˜æ•ˆå®ç° countPrimes</h2><p>æ¥ä¸‹æ¥ä»‹ç»çš„æ–¹æ³•å«åšã€Œç´ æ•°ç­›é€‰æ³•ã€ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¤å¸Œè…Šä¸€ä½åå«åŸƒæ‹‰æ‰˜è‰²å°¼çš„å¤§ä½¬å‘æ˜</p><p>ç´ æ•°ç­›é€‰æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å’Œä¸Šé¢çš„å¸¸è§„æ€è·¯åç€æ¥ï¼š</p><p>é¦–å…ˆä» 2 å¼€å§‹ï¼Œæˆ‘ä»¬çŸ¥é“ 2 æ˜¯ä¸€ä¸ªç´ æ•°ï¼Œé‚£ä¹ˆ 2 Ã— 2 &#x3D; 4, 3 Ã— 2 &#x3D; 6, 4 Ã— 2 &#x3D; 8â€¦ éƒ½ä¸å¯èƒ½æ˜¯ç´ æ•°äº†ã€‚</p><p>ç„¶åæˆ‘ä»¬å‘ç° 3 ä¹Ÿæ˜¯ç´ æ•°ï¼Œé‚£ä¹ˆ 3 Ã— 2 &#x3D; 6, 3 Ã— 3 &#x3D; 9, 3 Ã— 4 &#x3D; 12â€¦ ä¹Ÿéƒ½ä¸å¯èƒ½æ˜¯ç´ æ•°äº†ã€‚</p><p>Wikipedia çš„è¿™ä¸ª GIF å¾ˆå½¢è±¡ï¼š</p><p><img src="/2025/05/05/ru-he-gao-xiao-xun-zhao-su-shu/1.gif" alt="ç´ æ•°ç­›é€‰æ³•"></p><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ æ˜¯å¦æœ‰ç‚¹æ˜ç™½è¿™ä¸ªæ’é™¤æ³•çš„é€»è¾‘äº†å‘¢ï¼Ÿå…ˆçœ‹æˆ‘ä»¬çš„ç¬¬ä¸€ç‰ˆä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">countPrimes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>        isPrime <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">]</span> <span class="token operator">*</span> n        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> isPrime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">:</span>                    isPrime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>        count <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> isPrime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>                 count <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span> count<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä¸Šé¢è¿™æ®µä»£ç ä½ èƒ½å¤Ÿç†è§£ï¼Œé‚£ä¹ˆä½ å·²ç»æŒæ¡äº†æ•´ä½“æ€è·¯ï¼Œä½†æ˜¯è¿˜æœ‰ä¸¤ä¸ªç»†å¾®çš„åœ°æ–¹å¯ä»¥ä¼˜åŒ–ã€‚</p><p>é¦–å…ˆï¼Œå›æƒ³æœ¬æ–‡å¼€å¤´ä»‹ç»çš„ <code>isPrime</code> ç´ æ•°åˆ¤å®šå‡½æ•°ï¼Œç”±äºå› å­çš„å¯¹ç§°æ€§ï¼Œå…¶ä¸­çš„ <code>for</code> å¾ªç¯åªéœ€è¦éå† <code>[2,sqrt(n)]</code> å°±å¤Ÿäº†ã€‚è¿™é‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¤–å±‚çš„ <code>for</code> å¾ªç¯ä¹Ÿåªéœ€è¦éå†åˆ° <code>sqrt(n)</code>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>isPrime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>         <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é™¤æ­¤ä¹‹å¤–ï¼Œå¾ˆéš¾æ³¨æ„åˆ°å†…å±‚çš„ for å¾ªç¯ä¹Ÿå¯ä»¥ä¼˜åŒ–ã€‚æˆ‘ä»¬ä¹‹å‰çš„åšæ³•æ˜¯ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">+=</span> i<span class="token punctuation">)</span>     isPrime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™æ ·å¯ä»¥æŠŠ i çš„æ•´æ•°å€éƒ½æ ‡è®°ä¸º falseï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨è®¡ç®—å†—ä½™ã€‚</p><p>æ¯”å¦‚ n &#x3D; 25ï¼Œi &#x3D; 5 æ—¶ç®—æ³•ä¼šæ ‡è®° 5 Ã— 2 &#x3D; 10ï¼Œ5 Ã— 3 &#x3D; 15 ç­‰ç­‰æ•°å­—ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å·²ç»è¢« i &#x3D; 2 å’Œ i &#x3D; 3 çš„ 2 Ã— 5 å’Œ 3 Ã— 5 æ ‡è®°äº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¨å¾®ä¼˜åŒ–ä¸€ä¸‹ï¼Œè®© j ä» i * i å¼€å§‹éå†ï¼Œè€Œä¸æ˜¯ä» 2 * i å¼€å§‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">+=</span> i<span class="token punctuation">)</span>     isPrime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™æ ·ï¼Œç´ æ•°è®¡æ•°çš„ç®—æ³•å°±é«˜æ•ˆå®ç°äº†ï¼Œå…¶å®è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªåå­—ï¼Œå«åš Sieve of Eratosthenesã€‚çœ‹ä¸‹å®Œæ•´çš„æœ€ç»ˆä»£ç ï¼š</p><pre><code class="language-python">class Solution:    def countPrimes(self, n: int) -&gt; int:        isPrime = [True] * n        for i in range(2, int(n ** 0.5) + 1):            if isPrime[i]:                for j in range(i * i, n, i):                    isPrime[j] = False        count = 0        for i in range(2, n):            if isPrime[i]:                 count += 1        return count</code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç´ æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¡¶æ’åº</title>
      <link href="/2025/05/02/tong-pai-xu/"/>
      <url>/2025/05/02/tong-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¡¶æ’åºç®—æ³•çš„æ ¸å¿ƒæ€æƒ³åˆ†ä¸‰æ­¥ï¼š</p><p>1ã€å°†å¾…æ’åºæ•°ç»„ä¸­çš„å…ƒç´ ä½¿ç”¨æ˜ å°„å‡½æ•°åˆ†é…åˆ°è‹¥å¹²ä¸ªã€Œæ¡¶ã€ä¸­ã€‚</p><p>2ã€å¯¹æ¯ä¸ªæ¡¶ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</p><p>3ã€æœ€åå°†è¿™äº›æ’å¥½åºçš„æ¡¶è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æ’åºç»“æœã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡æ•°æ’åº</title>
      <link href="/2025/05/02/ji-shu-pai-xu/"/>
      <url>/2025/05/02/ji-shu-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è®¡æ•°æ’åºçš„åŸç†æ¯”è¾ƒç®€å•ï¼šç»Ÿè®¡æ¯ç§å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œè¿›è€Œæ¨ç®—å‡ºæ¯ä¸ªå…ƒç´ åœ¨æ’åºåæ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œæœ€ç»ˆå®Œæˆæ’åºã€‚</p></blockquote><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><p>æ¯”æ–¹è¯´ï¼Œè¾“å…¥ä¸€ä¸ª <code>nums</code> æ•°ç»„ï¼Œæˆ‘ç»Ÿè®¡å‡ºå…¶ä¸­æœ‰ <code>2</code> ä¸ªå…ƒç´  <code>1</code>ï¼Œ<code>1</code> ä¸ªå…ƒç´  <code>3</code>ï¼Œ<code>3</code> ä¸ªå…ƒç´  <code>6</code>ï¼Œé‚£ä¹ˆåªè¦æˆ‘åœ¨æ•°ç»„ä¸­ä¾æ¬¡å¡«å…¥ <code>2</code> ä¸ª <code>1</code>ï¼Œ<code>1</code> ä¸ª <code>3</code>ï¼Œ<code>3</code> ä¸ª <code>6</code>ï¼Œå°±èƒ½å¾—åˆ°æ’åºç»“æœ <code>[1, 1, 3, 6, 6, 6]</code>ã€‚</p><p>çœ‹ä¸ªé¢˜ç›®å°±æ˜ç™½äº† <a href="https://leetcode.cn/problems/sort-colors/">é¢œè‰²åˆ†ç±»</a></p><hr><blockquote><ol start="75"><li>é¢œè‰²åˆ†ç±» | åŠ›æ‰£ | LeetCode |  ğŸŸ <br>ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ nums ï¼ŒåŸåœ° å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚</li></ol><p>æˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤º<font color="red">çº¢è‰²</font>ã€ç™½è‰²å’Œ<font color="blue">è“è‰²</font>ã€‚</p><p>å¿…é¡»åœ¨ä¸ä½¿ç”¨åº“å†…ç½®çš„ sort å‡½æ•°çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p>è¾“å…¥ï¼šnums &#x3D; [2,0,2,1,1,0]</p><p>è¾“å‡ºï¼š[0,0,1,1,2,2]</p><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p>è¾“å…¥ï¼šnums &#x3D; [2,0,1]</p><p>è¾“å‡ºï¼š[0,1,2]</p><p><strong>æç¤ºï¼š</strong></p><p>n &#x3D;&#x3D; nums.length</p><p>1 &lt;&#x3D; n &lt;&#x3D; 300</p><p>nums[i] ä¸º 0ã€1 æˆ– 2</p><p><strong>è¿›é˜¶ï¼š</strong></p><p>ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ</p></blockquote><hr><p>æˆ‘ä»¬ç”¨è®¡æ•°æ’åºçš„æ€è·¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯´ç™½äº†å°±æ˜¯è®©ä½ å¯¹æ•°ç»„æ’åºï¼Œä¸”è¿™ä¸ªæ•°ç»„é‡Œåªæœ‰ 0ã€1ã€2 ä¸‰ç§å…ƒç´ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º <code>3</code> çš„ <code>count</code> æ•°ç»„ï¼Œ<code>count[0]</code>, <code>count[1]</code>, <code>count[2]</code> åˆ†åˆ«è¡¨ç¤ºæ•°ç»„ä¸­ <code>0</code>ã€<code>1</code>ã€<code>2</code> å‡ºç°çš„æ¬¡æ•°ã€‚ç„¶åæˆ‘ä»¬æŒ‰ç…§ <code>count</code> æ•°ç»„çš„ç»Ÿè®¡ç»“æœï¼Œä¾æ¬¡å¡«å……åŸæ•°ç»„å³å¯ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">sortColors</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>        <span class="token comment"># ç»Ÿè®¡ 0, 1, 2 å‡ºç°çš„æ¬¡æ•°</span>        count <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">3</span>        <span class="token keyword">for</span> element <span class="token keyword">in</span> nums<span class="token punctuation">:</span>            count<span class="token punctuation">[</span>element<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># æŒ‰ç…§ count æ•°ç»„çš„ç»Ÿè®¡ç»“æœï¼Œä¾æ¬¡å¡«å……åŸæ•°ç»„</span>        index <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">for</span> element <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>count<span class="token punctuation">[</span>element<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> element                index <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†é¢œè‰²åˆ†ç±»é—®é¢˜çš„æ’åºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å †æ’åº</title>
      <link href="/2025/05/02/dui-pai-xu/"/>
      <url>/2025/05/02/dui-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å †æ’åºæ˜¯ä» <em><strong>äºŒå‰å †ç»“æ„</strong></em> è¡ç”Ÿå‡ºæ¥çš„æ’åºç®—æ³•ï¼Œå¤æ‚åº¦ä¸º $O(NlogN)$ã€‚å †æ’åºä¸»è¦åˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯åœ¨å¾…æ’åºæ•°ç»„ä¸ŠåŸåœ°åˆ›å»ºäºŒå‰å †ï¼ˆHeapifyï¼‰ï¼Œç„¶åè¿›è¡ŒåŸåœ°æ’åºï¼ˆSortï¼‰ã€‚</p></blockquote><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><blockquote><p>å †æ’åºçš„ä¸¤ä¸ªå…³é”®æ­¥éª¤ï¼š</p><p>1ã€åŸåœ°å»ºå †ï¼ˆHeapifyï¼‰ï¼šç›´æ¥æŠŠå¾…æ’åºæ•°ç»„åŸåœ°å˜æˆä¸€ä¸ªäºŒå‰å †ã€‚</p><p>2ã€æ’åºï¼ˆSortï¼‰ï¼šå°†å…ƒç´ ä¸æ–­åœ°ä»å †ä¸­å–å‡ºï¼Œæœ€ç»ˆå¾—åˆ°æœ‰åºçš„ç»“æœã€‚</p></blockquote><p>ä¸‹é¢è¿™äº›å‡½æ•°å°±æ˜¯ä» <strong>äºŒå‰å †å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—</strong> ä¸­çš„ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°é‡ŒæŠ å‡ºæ¥çš„ï¼ŒæŠŠæ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°ä¼ å…¥ï¼Œå…¶ä»–çš„é€»è¾‘å®Œå…¨ä¸€æ ·ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">min_heap_swim</span><span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å°é¡¶å †çš„ä¸Šæµ®æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯æ ‘é«˜ O(logN)</span>    <span class="token keyword">while</span> node <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">and</span> heap<span class="token punctuation">[</span>parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">></span> heap<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">:</span>        swap<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">,</span> node<span class="token punctuation">)</span>        node <span class="token operator">=</span> parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">min_heap_sink</span><span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å°é¡¶å †çš„ä¸‹æ²‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯æ ‘é«˜ O(logN)</span>    <span class="token keyword">while</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">or</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size<span class="token punctuation">:</span>        <span class="token comment"># æ¯”è¾ƒè‡ªå·±å’Œå·¦å³å­èŠ‚ç‚¹ï¼Œçœ‹çœ‹è°æœ€å°</span>        min_index <span class="token operator">=</span> node        <span class="token keyword">if</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">and</span> heap<span class="token punctuation">[</span>left<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> heap<span class="token punctuation">[</span>min_index<span class="token punctuation">]</span><span class="token punctuation">:</span>            min_index <span class="token operator">=</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        <span class="token keyword">if</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">and</span> heap<span class="token punctuation">[</span>right<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> heap<span class="token punctuation">[</span>min_index<span class="token punctuation">]</span><span class="token punctuation">:</span>            min_index <span class="token operator">=</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        <span class="token keyword">if</span> min_index <span class="token operator">==</span> node<span class="token punctuation">:</span>            <span class="token keyword">break</span>        <span class="token comment"># å¦‚æœå·¦å³å­èŠ‚ç‚¹ä¸­æœ‰æ¯”è‡ªå·±å°çš„ï¼Œå°±äº¤æ¢</span>        swap<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">,</span> min_index<span class="token punctuation">)</span>        node <span class="token operator">=</span> min_index<span class="token keyword">def</span> <span class="token function">max_heap_swim</span><span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å¤§é¡¶å †çš„ä¸Šæµ®æ“ä½œ</span>    <span class="token keyword">while</span> node <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">and</span> heap<span class="token punctuation">[</span>parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> heap<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">:</span>        swap<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">,</span> node<span class="token punctuation">)</span>        node <span class="token operator">=</span> parent<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">max_heap_sink</span><span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å¤§é¡¶å †çš„ä¸‹æ²‰æ“ä½œ</span>    <span class="token keyword">while</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">or</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size<span class="token punctuation">:</span>        <span class="token comment"># å°é¡¶å †å’Œå¤§é¡¶å †çš„å”¯ä¸€åŒºåˆ«å°±åœ¨è¿™é‡Œï¼Œæ¯”è¾ƒé€»è¾‘ç›¸å</span>        <span class="token comment"># æ¯”è¾ƒè‡ªå·±å’Œå·¦å³å­èŠ‚ç‚¹ï¼Œçœ‹çœ‹è°æœ€å¤§</span>        max_index <span class="token operator">=</span> node        <span class="token keyword">if</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">and</span> heap<span class="token punctuation">[</span>left<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">></span> heap<span class="token punctuation">[</span>max_index<span class="token punctuation">]</span><span class="token punctuation">:</span>            max_index <span class="token operator">=</span> left<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        <span class="token keyword">if</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">&lt;</span> size <span class="token keyword">and</span> heap<span class="token punctuation">[</span>right<span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">></span> heap<span class="token punctuation">[</span>max_index<span class="token punctuation">]</span><span class="token punctuation">:</span>            max_index <span class="token operator">=</span> right<span class="token punctuation">(</span>node<span class="token punctuation">)</span>        <span class="token keyword">if</span> max_index <span class="token operator">==</span> node<span class="token punctuation">:</span>            <span class="token keyword">break</span>        swap<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> node<span class="token punctuation">,</span> max_index<span class="token punctuation">)</span>        node <span class="token operator">=</span> max_index<span class="token keyword">def</span> <span class="token function">parent</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>node <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token keyword">def</span> <span class="token function">left</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å·¦å­èŠ‚ç‚¹çš„ç´¢å¼•</span>    <span class="token keyword">return</span> node <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">right</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å³å­èŠ‚ç‚¹çš„ç´¢å¼•</span>    <span class="token keyword">return</span> node <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token keyword">def</span> <span class="token function">swap</span><span class="token punctuation">(</span>heap<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># äº¤æ¢æ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®</span>    heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> heap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç®€å•ç›´æ¥çš„å †æ’åºå®ç°"><a href="#ç®€å•ç›´æ¥çš„å †æ’åºå®ç°" class="headerlink" title="ç®€å•ç›´æ¥çš„å †æ’åºå®ç°"></a>ç®€å•ç›´æ¥çš„å †æ’åºå®ç°</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># ç¬¬ä¸€æ­¥ï¼ŒåŸåœ°å»ºå †ï¼Œæ³¨æ„è¿™é‡Œåˆ›å»ºçš„æ˜¯å¤§é¡¶å †</span>    <span class="token comment"># åªè¦ä»å·¦å¾€å³å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ swim æ–¹æ³•ï¼Œå°±å¯ä»¥åŸåœ°å»ºå †</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        max_heap_swim<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token punctuation">)</span>    <span class="token comment"># ç¬¬äºŒæ­¥ï¼Œæ’åº</span>    <span class="token comment"># ç°åœ¨æ•´ä¸ªæ•°ç»„å·²ç»æ˜¯ä¸€ä¸ªå¤§é¡¶äº†ï¼Œç›´æ¥æ¨¡æ‹Ÿåˆ é™¤å †é¡¶å…ƒç´ çš„è¿‡ç¨‹å³å¯</span>    heap_size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token keyword">while</span> heap_size <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token comment"># ä»å †é¡¶åˆ é™¤å…ƒç´ ï¼Œæ”¾åˆ°å †çš„åé¢</span>        swap<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> heap_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>        heap_size <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token comment"># æ¢å¤å †çš„æ€§è´¨</span>        max_heap_sink<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> heap_size<span class="token punctuation">)</span>        <span class="token comment"># ç°åœ¨ nums[0..heap_size) æ˜¯ä¸€ä¸ªå¤§é¡¶å †ï¼Œnums[heap_size..) æ˜¯æœ‰åºå…ƒç´ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œé¢ä¸€ä¸ªå…³é”®ç‚¹æ˜¯è¦ç”¨å¤§é¡¶å †æ¥å®Œæˆ <code>nums</code> ä»å°åˆ°å¤§çš„æ’åºï¼Œå› ä¸ºä»å †é¡¶åˆ é™¤çš„å…ƒç´ æ˜¯ä»åå¾€å‰å¡«åˆ° <code>nums</code> æ•°ç»„ä¸­çš„ï¼Œæœ€ç»ˆ <code>nums</code> ä¸­çš„å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åºçš„ã€‚</p><p>å¦‚æœä½ ç”¨å°é¡¶å †çš„è¯ï¼Œæœ€ç»ˆ <code>nums</code> ä¸­çš„å…ƒç´ æ˜¯ä»å¤§åˆ°å°æ’åºçš„ï¼Œè¿˜éœ€è¦å†ç¿»è½¬ä¸€ä¸‹æ•°ç»„ï¼Œæ²¡æœ‰å¤§é¡¶å †çš„æ•ˆç‡é«˜ã€‚</p><h2 id="å †æ’åºçš„å¤æ‚åº¦åˆ†æ"><a href="#å †æ’åºçš„å¤æ‚åº¦åˆ†æ" class="headerlink" title="å †æ’åºçš„å¤æ‚åº¦åˆ†æ"></a>å †æ’åºçš„å¤æ‚åº¦åˆ†æ</h2><p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸Šè¿°ä»£ç çš„æ—¶é—´å¤æ‚åº¦ï¼Œå‡è®¾ <code>nums</code> çš„å…ƒç´ ä¸ªæ•°ä¸º <code>N</code>ï¼š</p><ul><li>ç¬¬ä¸€æ­¥å»ºå †çš„è¿‡ç¨‹ä¸­ï¼Œ<code>swim</code> æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯<br>$O(logN)$ï¼Œç®—æ³•å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ <code>swim</code> æ–¹æ³•ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ $O(NlogN)$ã€‚</li><li>ç¬¬äºŒæ­¥æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ <code>sink</code> æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(logN)$ï¼Œç®—æ³•å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ <code>sink</code> æ–¹æ³•ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ $O(NlogN)$ã€‚</li></ul><p><strong>ç»¼ä¸Šï¼Œæ•´ä¸ªå †æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $2NlogN$ï¼Œç”¨ Big O è¡¨ç¤ºå°±æ˜¯ $O(NlogN)$</strong>ã€‚ä¸ å¿«é€Ÿæ’åºã€å½’å¹¶æ’åº æ˜¯ä¸€ä¸ªçº§åˆ«çš„æ’åºç®—æ³•ã€‚</p><h2 id="å †æ’åºçš„ç¨³å®šæ€§"><a href="#å †æ’åºçš„ç¨³å®šæ€§" class="headerlink" title="å †æ’åºçš„ç¨³å®šæ€§"></a>å †æ’åºçš„ç¨³å®šæ€§</h2><p>å †æ’åºæ˜¯ä¸€ç§ä¸ç¨³å®šçš„æ’åºç®—æ³•ï¼ŒåŸå› åœ¨äºå®ƒåœ¨æ’åºè¿‡ç¨‹ä¸­äº¤æ¢å…ƒç´ æ—¶ï¼Œå¯èƒ½ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½’å¹¶æ’åº</title>
      <link href="/2025/05/02/gui-bing-pai-xu/"/>
      <url>/2025/05/02/gui-bing-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å½’å¹¶æ’åºçš„æ ¸å¿ƒæ€è·¯éœ€è¦ç»“åˆ<em><strong>äºŒå‰æ ‘çš„ååºéå†</strong></em> æ¥ç†è§£ï¼šå…ˆåˆ©ç”¨é€’å½’æŠŠå·¦å³ä¸¤åŠå­æ•°ç»„æ’å¥½åºï¼Œç„¶ååœ¨äºŒå‰æ ‘çš„ååºä½ç½®åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ã€‚</p></blockquote><h2 id="å½’å¹¶æ’åºæ ¸å¿ƒæ€è·¯"><a href="#å½’å¹¶æ’åºæ ¸å¿ƒæ€è·¯" class="headerlink" title="å½’å¹¶æ’åºæ ¸å¿ƒæ€è·¯"></a>å½’å¹¶æ’åºæ ¸å¿ƒæ€è·¯</h2><p>å‰æ–‡å¿«é€Ÿæ’åºçš„æ€è·¯æ˜¯ï¼Œå…ˆæŠŠä¸€ä¸ªå…ƒç´ æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼ˆæ’å¥½åºï¼‰ï¼Œç„¶åå°†è¿™ä¸ªå…ƒç´ å·¦å³ä¸¤è¾¹å‰©ä¸‹çš„å…ƒç´ åˆ©ç”¨é€’å½’åˆ†åˆ«æ’å¥½åºï¼Œæœ€ç»ˆæ•´ä¸ªæ•°ç»„å°±æ’å¥½åºäº†ã€‚ä»£ç æ¡†æ¶å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># ****** å‰åºä½ç½® ******</span>    <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†ï¼Œå°† nums[p] æ’å¥½åº</span>    <span class="token comment"># ä½¿å¾— nums[lo..p-1] &lt;= nums[p] &lt; nums[p+1..hi]</span>    p <span class="token operator">=</span> partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># å»å·¦å³å­æ•°ç»„è¿›è¡Œåˆ‡åˆ†</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½’å¹¶æ’åºçš„æ€è·¯æ˜¯ï¼ŒæŠŠæ•°ç»„åˆ‡æˆä¸¤åŠï¼Œå…ˆæŠŠè¿™ä¸¤åŠå­æ•°ç»„åˆ†åˆ«æ’å¥½åºï¼Œç„¶åå†åˆå¹¶è¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œæ•´ä¸ªæ•°ç»„å°±æ’å¥½åºäº†ã€‚ä»£ç æ¡†æ¶å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å®šä¹‰ï¼šæ’åº nums[lo..hi]</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> lo <span class="token operator">==</span> hi<span class="token punctuation">:</span>        <span class="token keyword">return</span>    mid <span class="token operator">=</span> <span class="token punctuation">(</span>lo <span class="token operator">+</span> hi<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>    <span class="token comment"># åˆ©ç”¨å®šä¹‰ï¼Œæ’åº nums[lo..mid]</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">)</span>    <span class="token comment"># åˆ©ç”¨å®šä¹‰ï¼Œæ’åº nums[mid+1..hi]</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># ****** ååºä½ç½® ******</span>    <span class="token comment"># æ­¤æ—¶ä¸¤éƒ¨åˆ†å­æ•°ç»„å·²ç»è¢«æ’å¥½åº</span>    <span class="token comment"># åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œä½¿ nums[lo..hi] æœ‰åº</span>    merge<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(nlogn)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚</p><p><img src="/2025/05/02/gui-bing-pai-xu/1.jpeg"></p><p>æ¯å‘ä¸‹ä¸€å±‚ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ•°ç»„å…ƒç´ å°±å‡åŠï¼Œä½†æ˜¯æ¯ä¸€å±‚æ€»çš„å…ƒç´ æ•°é‡å°±æ˜¯æ•°ç»„çš„é•¿åº¦ $O(n)$ã€‚</p><p>è¿™æ£µäºŒå‰æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå³æ ‘é«˜æ˜¯$O(logn)$ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(nlogn)$ï¼Œå³æ ‘é«˜ä¹˜ä»¥æ¯å±‚çš„å¤æ‚åº¦ã€‚</p><h2 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h2><p>å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(n)$ï¼Œå…¶ä¸­ $n$ æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚</p><h2 id="ç®—æ³•ç¨³å®šæ€§"><a href="#ç®—æ³•ç¨³å®šæ€§" class="headerlink" title="ç®—æ³•ç¨³å®šæ€§"></a>ç®—æ³•ç¨³å®šæ€§</h2><p>å½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºç®—æ³•ï¼Œå½’å¹¶æ’åºçš„ç¨³å®šæ€§å–å†³äº merge å‡½æ•°çš„å®ç°</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ’åº</title>
      <link href="/2025/05/02/kuai-su-pai-xu/"/>
      <url>/2025/05/02/kuai-su-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ€è·¯éœ€è¦ç»“åˆ<em><strong>äºŒå‰æ ‘çš„å‰åºéå†</strong></em> æ¥ç†è§£ï¼šåœ¨äºŒå‰æ ‘éå†çš„å‰åºä½ç½®å°†ä¸€ä¸ªå…ƒç´ æ’å¥½ä½ç½®ï¼Œç„¶åé€’å½’åœ°å°†å‰©ä¸‹çš„å…ƒç´ æ’å¥½ä½ç½®ã€‚</p></blockquote><h2 id="å¿«é€Ÿæ’åºæ ¸å¿ƒæ€è·¯"><a href="#å¿«é€Ÿæ’åºæ ¸å¿ƒæ€è·¯" class="headerlink" title="å¿«é€Ÿæ’åºæ ¸å¿ƒæ€è·¯"></a>å¿«é€Ÿæ’åºæ ¸å¿ƒæ€è·¯</h2><p>å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€è·¯æ˜¯è¿™æ ·çš„ï¼š</p><p>1ã€åœ¨ <code>nums</code> æ•°ç»„ä¸­ä»»æ„é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆ‡åˆ†å…ƒç´  <code>pivot</code>ï¼ˆä¸€èˆ¬é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>  <span class="token operator">^</span>pivot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>2ã€å¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œè‹¥å¹²äº¤æ¢æ“ä½œï¼Œå°†å°äº <code>pivot</code> çš„å…ƒç´ æ”¾åˆ° <code>pivot</code> çš„å·¦è¾¹ï¼Œå¤§äº <code>pivot</code> çš„å…ƒç´ æ”¾åˆ° <code>pivot</code> çš„å³è¾¹ï¼ˆæ¢å¥è¯è¯´ï¼Œå…¶å®å°±æ˜¯å°† <code>pivot</code> è¿™ä¸€ä¸ªå…ƒç´ æ’å¥½åºï¼‰ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>          <span class="token operator">^</span>        pivot    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>3ã€é€’å½’åœ°å¯¹ <code>pivot</code> å·¦è¾¹å’Œå³è¾¹çš„å­æ•°ç»„è¿›è¡Œå¿«é€Ÿæ’åºã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>  <span class="token operator">^</span>         <span class="token operator">^</span>   <span class="token operator">^</span>pivot1          pivot2 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>        <span class="token operator">^</span>   <span class="token operator">^</span>            <span class="token operator">^</span>    pivot1             pivot2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>4ã€é€’å½’åœ°é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å¿«é€Ÿæ’åºçš„å®ç°"><a href="#å¿«é€Ÿæ’åºçš„å®ç°" class="headerlink" title="å¿«é€Ÿæ’åºçš„å®ç°"></a>å¿«é€Ÿæ’åºçš„å®ç°</h2><ul><li>ä»£ç æ¡†æ¶  <pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>    <span class="token keyword">return</span><span class="token comment"># ****** å‰åºä½ç½® ******</span><span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†ï¼Œå°† nums[p] æ’å¥½åº</span><span class="token comment"># ä½¿å¾— nums[lo..p-1] &lt;= nums[p] &lt; nums[p+1..hi]</span>p <span class="token operator">=</span> partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token comment"># å»å·¦å³å­æ•°ç»„è¿›è¡Œåˆ‡åˆ†</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>å…·ä½“ä»£ç   <pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> lo <span class="token operator">>=</span> hi<span class="token punctuation">:</span>        <span class="token keyword">return</span>    <span class="token comment"># ****** å‰åºä½ç½® ******</span>    <span class="token comment"># å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†ï¼Œå°† nums[p] æ’å¥½åº</span>    <span class="token comment"># ä½¿å¾— nums[lo..p-1] &lt;= nums[p] &lt; nums[p+1..hi]</span>    p <span class="token operator">=</span> partition<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> hi<span class="token punctuation">)</span>    <span class="token comment"># å»å·¦å³å­æ•°ç»„è¿›è¡Œåˆ‡åˆ†</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> lo<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>    sort<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hi<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">partition</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> lo<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> hi<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span>    pivot <span class="token operator">=</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span>    left <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token number">1</span>    right <span class="token operator">=</span> hi    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">:</span>            left <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">></span> pivot<span class="token punctuation">:</span>            right <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">if</span> left <span class="token operator">></span> right<span class="token punctuation">:</span>            <span class="token keyword">break</span>        nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>    nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span>    <span class="token keyword">return</span> right<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>å¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º$O(n\log n)$ï¼Œæœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚</p><h2 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h2><p>å¿«é€Ÿæ’åºä¸éœ€è¦é¢å¤–çš„è¾…åŠ©ç©ºé—´ï¼Œæ˜¯åŸåœ°æ’åºç®—æ³•ã€‚</p><p>é€’å½’éå†äºŒå‰æ ‘æ—¶ï¼Œé€’å½’å‡½æ•°çš„å †æ ˆæ·±åº¦ä¸ºæ ‘çš„é«˜åº¦ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯$O(n\log n)$</p><h2 id="ç¨³å®šæ€§"><a href="#ç¨³å®šæ€§" class="headerlink" title="ç¨³å®šæ€§"></a>ç¨³å®šæ€§</h2><p>å¿«é€Ÿæ’åºæ˜¯ä¸ç¨³å®šæ’åºç®—æ³•ï¼Œå› ä¸ºåœ¨ <code>partition</code> å‡½æ•°ä¸­ï¼Œä¸ä¼šè€ƒè™‘ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®ï¼Œæ‰€ä»¥ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸Œå°”æ’åº</title>
      <link href="/2025/04/28/xi-er-pai-xu/"/>
      <url>/2025/04/28/xi-er-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¸Œå°”æ’åºæ˜¯åŸºäºæ’å…¥æ’åº çš„ç®€å•æ”¹è¿›ï¼Œé€šè¿‡é¢„å¤„ç†å¢åŠ æ•°ç»„çš„å±€éƒ¨æœ‰åºæ€§ï¼Œçªç ´äº†æ’å…¥æ’åºçš„$O(n^2)$æ—¶é—´å¤æ‚åº¦ã€‚</p></blockquote><h2 id="hæœ‰åºæ•°ç»„"><a href="#hæœ‰åºæ•°ç»„" class="headerlink" title="hæœ‰åºæ•°ç»„"></a><code>h</code>æœ‰åºæ•°ç»„</h2><p>ä¸€ä¸ªæ•°ç»„æ˜¯<code>h</code>æœ‰åºçš„ï¼Œæ˜¯æŒ‡è¿™ä¸ªæ•°ç»„ä¸­ä»»æ„é—´éš”ä¸º <code>h</code>ï¼ˆæˆ–è€…è¯´é—´éš”å…ƒç´ çš„ä¸ªæ•°ä¸º <code>h-1</code>ï¼‰çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ã€‚</p><p>è¿™ä¸ªæ¦‚å¿µç”¨æ–‡å­—ä¸å¥½æè¿°æ¸…æ¥šï¼Œç›´æ¥çœ‹ä¸ªä¾‹å­å§ã€‚æ¯”æ–¹è¯´ <code>h=3 </code>æ—¶ï¼Œä¸€ä¸ª <code>3</code> æœ‰åºæ•°ç»„æ˜¯è¿™æ ·çš„ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">nums<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span>    <span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span>       <span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">^</span> <span class="token number">1</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">9</span>    <span class="token number">2</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">5</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">6</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">12</span>        <span class="token number">4</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token number">11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°ç»„ä¸­ä»»æ„é—´éš”ä¸º <code>3</code>çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ã€‚</p><p>å¦å¤–ï¼ŒæŒ‰ç…§è¿™ä¸ªå®šä¹‰ï¼Œå½“ä¸€ä¸ªæ•°ç»„å®Œæˆæ’åºçš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯ <code>1</code> æœ‰åºæ•°ç»„ã€‚</p><h2 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h2><p>å¸Œå°”æ’åºè¦å‘è¡¨çœ‹æ³•äº†ï¼š</p><p>ä½ æ’å…¥æ’åºçš„é—®é¢˜æ˜¯ï¼Œä¸Šæ¥å°±æƒ³ç€ä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥æŠŠä¹±åºæ•°ç»„å˜æˆ <code>1</code> æœ‰åºæ•°ç»„ã€‚è€Œæˆ‘å¸Œå°”æ’åºä¸ç€æ€¥ï¼Œæ¯”æ–¹è¯´ï¼Œæˆ‘å…ˆæŠŠä¹±åºæ•°ç»„å˜æˆä¸€ä¸ª <code>16</code> æœ‰åºæ•°ç»„ï¼Œç„¶åå†å˜æˆ <code>8</code> æœ‰åºæ•°ç»„ï¼Œ<code>4 </code>æœ‰åºæ•°ç»„ï¼Œ<code>2</code> æœ‰åºæ•°ç»„ï¼Œæœ€åå˜æˆ <code>1</code> æœ‰åºæ•°ç»„ï¼Œå®Œæˆæ’åºã€‚</p><p>è¿™ä¸ª<code>1, 2, 4, 8, 16...</code>çš„åºåˆ—ç§°ä¹‹ä¸ºã€Œ<strong>é€’å¢å‡½æ•°</strong>ã€ï¼Œæˆ‘ä¸Šé¢ä¸¾çš„ä¾‹å­çš„é€’å¢å‡½æ•°å°±æ˜¯ $2^(k-1)$</p><p>é‚£ä¹ˆå¦‚ä½•æŠŠä¸€ä¸ªæ•°ç»„å˜æˆ h æœ‰åºæ•°ç»„å‘¢ï¼ŸåŸºäºæ’å…¥æ’åºçš„ä»£ç æ”¹åŠ¨å‡ ä¸ªåœ°æ–¹å°±è¡Œäº†ï¼Œç›´æ¥çœ‹å¸Œå°”æ’åºçš„ä»£ç å§ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¸Œå°”æ’åºï¼Œå¯¹ h æœ‰åºæ•°ç»„è¿›è¡Œæ’å…¥æ’åº</span><span class="token comment"># é€æ¸ç¼©å° hï¼Œæœ€å h=1 æ—¶ï¼Œå®Œæˆæ•´ä¸ªæ•°ç»„çš„æ’åº</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token comment"># æˆ‘ä»¬ä½¿ç”¨çš„ç”Ÿæˆå‡½æ•°æ˜¯ 2^(k-1)</span>    <span class="token comment"># å³ h = 1, 2, 4, 8, 16...</span>    h <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">while</span> h <span class="token operator">&lt;</span> n <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">:</span>        h <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> h    <span class="token comment"># æ”¹åŠ¨ä¸€ï¼ŒæŠŠæ’å…¥æ’åºçš„ä¸»è¦é€»è¾‘å¥—åœ¨ h çš„ while å¾ªç¯ä¸­</span>    <span class="token keyword">while</span> h <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token comment"># æ”¹åŠ¨äºŒï¼Œsorted_index åˆå§‹åŒ–ä¸º hï¼Œè€Œä¸æ˜¯ 1</span>        sorted_index <span class="token operator">=</span> h        <span class="token keyword">while</span> sorted_index <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>            <span class="token comment"># æ”¹åŠ¨ä¸‰ï¼ŒæŠŠæ¯”è¾ƒå’Œäº¤æ¢å…ƒç´ çš„æ­¥é•¿è®¾ç½®ä¸º hï¼Œè€Œä¸æ˜¯ç›¸é‚»å…ƒç´ </span>            i <span class="token operator">=</span> sorted_index            <span class="token keyword">while</span> i <span class="token operator">>=</span> h<span class="token punctuation">:</span>                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span><span class="token punctuation">:</span>                    <span class="token comment"># swap(nums[i], nums[i - h])</span>                    tmp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                    nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span>                    nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span> <span class="token operator">=</span> tmp                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token keyword">break</span>                i <span class="token operator">-=</span> h            sorted_index <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># æŒ‰ç…§é€’å¢å‡½æ•°çš„è§„åˆ™ï¼Œç¼©å° h</span>        h <span class="token operator">//=</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><h3 id="é€’å¢å‡½æ•°çš„é€‰æ‹©æ˜¯å…³é”®"><a href="#é€’å¢å‡½æ•°çš„é€‰æ‹©æ˜¯å…³é”®" class="headerlink" title="é€’å¢å‡½æ•°çš„é€‰æ‹©æ˜¯å…³é”®"></a>é€’å¢å‡½æ•°çš„é€‰æ‹©æ˜¯å…³é”®</h3></blockquote><p>å¸Œå°”æ’åºçš„æ€§èƒ½å’Œé€’å¢å‡½æ•°çš„é€‰æ‹©æœ‰å¾ˆå¤§å…³ç³»ï¼Œä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨çš„é€’å¢å‡½æ•°æ˜¯ $h &#x3D; 2^k-1$ã€‚å› ä¸ºè¿™æ˜¯æœ€ç®€å•çš„ï¼Œä½†è¿™å¹¶ä¸æœ€ä¼˜çš„é€‰æ‹©ã€‚</p><p>æ¯”æ–¹è¯´ã€Šç®—æ³•4ã€‹ä¸­ç»™çš„é€’å¢å‡½æ•°æ˜¯ $h &#x3D; (3^k - 1) &#x2F; 2$ï¼Œå³<code>1ï¼Œ4ï¼Œ13ï¼Œ40ï¼Œ121 ...</code>è¿™ä¸ªé€’å¢å‡½æ•°çš„é€‰æ‹©æ˜¯æ¯”è¾ƒåˆç†çš„ã€‚ä»£ç å¦‚ä¸‹ï¼Œä¸»è¦ä¿®æ”¹ <code>h</code> çš„åˆå§‹åŒ–å’Œæ›´æ–°é€»è¾‘ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æŠŠç”Ÿæˆå‡½æ•°æ¢æˆ (3^k - 1) / 2</span><span class="token comment"># å³ h = 1, 4, 13, 40, 121, 364...</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    h <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">while</span> h <span class="token operator">&lt;</span> n <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">:</span>        h <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> h <span class="token operator">+</span> <span class="token number">1</span>    <span class="token keyword">while</span> h <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>        sorted_index <span class="token operator">=</span> h        <span class="token keyword">while</span> sorted_index <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>            i <span class="token operator">=</span> sorted_index            <span class="token keyword">while</span> i <span class="token operator">>=</span> h<span class="token punctuation">:</span>                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span><span class="token punctuation">:</span>                    tmp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                    nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span>                    nums<span class="token punctuation">[</span>i <span class="token operator">-</span> h<span class="token punctuation">]</span> <span class="token operator">=</span> tmp                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token keyword">break</span>                i <span class="token operator">-=</span> h            sorted_index <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token comment"># æŒ‰ç…§é€’å¢å‡½æ•°çš„è§„åˆ™ï¼Œç¼©å° h</span>        h <span class="token operator">//=</span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ’åºç¨³å®šæ€§"><a href="#æ’åºç¨³å®šæ€§" class="headerlink" title="æ’åºç¨³å®šæ€§"></a>æ’åºç¨³å®šæ€§</h2><p>å¸Œå°”æ’åºæ˜¯ä¸ç¨³å®šæ’åºã€‚</p><p>è¿™ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£å§ï¼Œå½“ <code>h</code> å¤§äº <code>1</code> æ—¶è¿›è¡Œçš„æ’åºæ“ä½œï¼Œå°±å¯èƒ½æ‰“ä¹±ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®äº†ã€‚</p><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>å¸Œå°”æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯ $O(1)$ï¼Œæ˜¯åŸåœ°æ’åºã€‚</p><p>å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦å¾ˆéš¾åˆ†æï¼Œä¸»è¦å–å†³äºé€’å¢å‡½æ•°çš„é€‰æ‹©ï¼Œä¸”æ¶‰åŠè¾ƒå¤šçš„æ•°å­¦çŸ¥è¯†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œä¸è¿‡ä¸€ä¸ªé‡è¦ç»“è®ºæ˜¯ï¼š<strong>å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯å°äº $O(n^2)$ çš„</strong>ã€‚</p><blockquote><p>ç»•äº†ä¸€å¤§åœˆï¼Œç»ˆäºèƒ½å¤ŸæˆåŠŸé€šè¿‡ç¬¬ 912 é¢˜ã€Œ<a href="https://leetcode.cn/problems/sort-an-array/description/">æ’åºæ•°ç»„</a>ã€äº†</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’å…¥æ’åº</title>
      <link href="/2025/04/27/cha-ru-pai-xu/"/>
      <url>/2025/04/27/cha-ru-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ’å…¥æ’åºæ˜¯åŸºäºé€‰æ‹©æ’åºçš„ä¸€ç§ä¼˜åŒ–ï¼Œå°† <code>nums[sortedIndex]</code> æ’å…¥åˆ°å·¦ä¾§çš„æœ‰åºæ•°ç»„ä¸­ã€‚å¯¹äºæœ‰åºåº¦è¾ƒé«˜çš„æ•°ç»„ï¼Œæ’å…¥æ’åºçš„æ•ˆç‡æ¯”è¾ƒé«˜ã€‚</p></blockquote><ul><li>ç»ƒä¹ é¢˜ç›®: åŠ›æ‰£ç¬¬ 912 é¢˜ <a href="https://leetcode.cn/problems/sort-an-array/description/">æ•°ç»„æ’åº</a>ï¼Œå…ˆä¸çº ç»“æ—¶é—´å¤æ‚åº¦ã€‚</li></ul><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><p>é€‰æ‹©æ’åºçš„æ€è·¯æ˜¯ï¼šåœ¨ <code>nums[sortedIndex..]</code> ä¸­æ‰¾åˆ°æœ€å°å€¼ï¼Œç„¶åå°†å…¶æ’å…¥åˆ° <code>nums[sortedIndex]</code> çš„ä½ç½®ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½åè¿‡æ¥æƒ³ï¼Œåœ¨ <code>nums[0..sortedIndex-1]</code> è¿™ä¸ªéƒ¨åˆ†æœ‰åºçš„æ•°ç»„ä¸­ï¼Œæ‰¾åˆ° <code>nums[sortedIndex]</code> åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œç„¶åè¿›è¡Œæ’å…¥å‘¢ï¼Ÿ</p><p>æˆ‘æƒ³åˆ©ç”¨æ•°ç»„çš„æœ‰åºæ€§ï¼šæ—¢ç„¶ <code>nums[0..sortedIndex-1]</code> è¿™éƒ¨åˆ†æ˜¯å·²ç»æ’å¥½åºçš„ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ç”¨äºŒåˆ†æœç´¢æ¥å¯»æ‰¾ <code>nums[sortedIndex]</code> åº”è¯¥æ’å…¥çš„ä½ç½®ã€‚  </p><p>ç”¨äºŒåˆ†æœç´¢å¥½åƒæ˜¯å¤šæ­¤ä¸€ä¸¾çš„ã€‚å› ä¸ºå°±ç®—æˆ‘ç”¨äºŒåˆ†æœç´¢æ‰¾åˆ°äº† <code>nums[sortedIndex]</code> åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œæˆ‘è¿˜æ˜¯éœ€è¦æ¬ç§»å…ƒç´ è¿›è¡Œæ’å…¥ï¼Œé‚£è¿˜ä¸å¦‚ä¸€è¾¹éå†ä¸€éäº¤æ¢å…ƒç´ çš„æ–¹æ³•ç®€å•é«˜æ•ˆå‘¢ã€‚</p><h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><ol><li>ä» <code>nums[1..n]</code> å¼€å§‹éå†ï¼Œå¯¹äº <code>nums[sortedIndex]</code>ï¼Œåœ¨ <code>nums[0..sortedIndex-1]</code> ä¸­æ‰¾åˆ° <code>nums[sortedIndex]</code> åº”è¯¥æ’å…¥çš„ä½ç½® <code>j</code>ï¼Œå¹¶ä¸€æ­¥æ­¥å·¦ç§» <code>nums[sortedIndex]</code> åˆ° <code>nums[j]</code>çš„ä½ç½®</li><li>é‡å¤æ­¥éª¤ 1ï¼Œç›´åˆ° <code>nums[sortedIndex]</code> åˆ°è¾¾ <code>nums[n]</code>ã€‚</li></ol><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯¹é€‰æ‹©æ’åºè¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå‘å·¦ä¾§æœ‰åºæ•°ç»„ä¸­æ’å…¥å…ƒç´ </span><span class="token comment"># è¿™ä¸ªç®—æ³•æœ‰å¦ä¸€ä¸ªåå­—ï¼Œå«åšæ’å…¥æ’åº</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token comment"># ç»´æŠ¤ [0, sorted_index) æ˜¯æœ‰åºæ•°ç»„</span>    sorted_index <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> sorted_index <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token comment"># å°† nums[sorted_index] æ’å…¥åˆ°æœ‰åºæ•°ç»„ [0, sorted_index) ä¸­</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sorted_index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment"># swap(nums[i], nums[i - 1])</span>                tmp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>                nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">break</span>        sorted_index <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><font color=Blue >è¿™ä¸ªç®—æ³•çš„åå­—å«åšæ’å…¥æ’åºï¼Œå®ƒçš„æ‰§è¡Œè¿‡ç¨‹å°±åƒæ˜¯æ‰“æ‰‘å…‹ç‰Œæ—¶ï¼Œå°†æ–°æŠ“åˆ°çš„ç‰Œæ’å…¥åˆ°æ‰‹ä¸­å·²ç»æ’å¥½åºçš„ç‰Œä¸­ã€‚</font>        </p></blockquote><h2 id="åˆå§‹æœ‰åºåº¦è¶Šé«˜ï¼Œæ•ˆç‡è¶Šé«˜"><a href="#åˆå§‹æœ‰åºåº¦è¶Šé«˜ï¼Œæ•ˆç‡è¶Šé«˜" class="headerlink" title="åˆå§‹æœ‰åºåº¦è¶Šé«˜ï¼Œæ•ˆç‡è¶Šé«˜"></a>åˆå§‹æœ‰åºåº¦è¶Šé«˜ï¼Œæ•ˆç‡è¶Šé«˜</h2><p>æ’å…¥æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯$O(1)$ï¼Œæ˜¯åŸåœ°æ’åºç®—æ³•ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^2)$ ï¼Œå…·ä½“çš„æ“ä½œæ¬¡æ•°å’Œé€‰æ‹©æ’åºç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—æ±‚å’Œï¼Œå¤§çº¦æ˜¯ $ n^2&#x2F;2 $æ¬¡ã€‚</p><p>å¦‚æœè¾“å…¥æ•°ç»„å·²ç»æœ‰åºï¼Œæˆ–è€…ä»…æœ‰ä¸ªåˆ«å…ƒç´ é€†åºï¼Œé‚£ä¹ˆæ’å…¥æ’åºçš„å†…å±‚ for å¾ªç¯å‡ ä¹ä¸éœ€è¦æ‰§è¡Œå…ƒç´ äº¤æ¢ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ¥è¿‘$O(n)$ ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†’æ³¡æ’åº</title>
      <link href="/2025/04/27/mou-pao-pai-xu/"/>
      <url>/2025/04/27/mou-pao-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å†’æ³¡ç®—æ³•æ˜¯å¯¹é€‰æ‹©æ’åºçš„ä¸€ç§ä¼˜åŒ–ï¼Œé€šè¿‡äº¤æ¢ nums[sortedIndex] å³ä¾§çš„é€†åºå¯¹å®Œæˆæ’åºï¼Œæ˜¯ä¸€ç§<strong>ç¨³å®š</strong>æ’åºç®—æ³•ã€‚</p></blockquote><ul><li>ç»ƒä¹ é¢˜ç›®: åŠ›æ‰£ç¬¬ 912 é¢˜ <a href="https://leetcode.cn/problems/sort-an-array/description/">æ•°ç»„æ’åº</a>ï¼Œå…ˆä¸çº ç»“æ—¶é—´å¤æ‚åº¦ã€‚</li></ul><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><p>é€‰æ‹©æ’åºå¤±å»ç¨³å®šæ€§çš„åŸå› ï¼Œå³æ¯æ¬¡éƒ½è¦äº¤æ¢æœ€å°å…ƒç´ <code>nums[minIndex]</code>å’Œå½“å‰å…ƒç´ <code>nums[sortedIndex]</code>ï¼Œè¿™æ ·å¯èƒ½ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®ã€‚  </p><p>æ‰€ä»¥ä¼˜åŒ–çš„æ–¹å‘å°±åœ¨è¿™é‡Œï¼Œä½ ä¸è¦å›¾çœäº‹å„¿ç›´æ¥æŠŠ <code>nums[sortedIndex]</code> äº¤æ¢åˆ° <code>nums[minIndex]</code>ï¼Œè€Œæ˜¯æ¨¡ä»¿<br>åœ¨æ•°ç»„ä¸­éƒ¨æ’å…¥å…ƒç´ çš„æ“ä½œï¼Œå°† <code>nums[sortedIndex..minIndex]</code> çš„å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ä¸€ä½ï¼ŒæŠŠ <code>nums[sortedIndex + 1]</code> çš„ä½ç½®ç©ºå‡ºæ¥è®© <code>nums[sortedIndex]</code> è¿™ä¸ªå…ƒç´ å»é‚£é‡Œå¾…ç€ã€‚</p><p>è¿™å°±æ˜¯å†’æ³¡æ’åºå®é™…åšçš„äº‹ã€‚</p><h2 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h2><ol><li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚ </li><li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚ </li><li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚ </li><li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚</li></ol><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯¹é€‰æ‹©æ’åºè¿›è¡Œç¬¬ä¸€æ³¢ä¼˜åŒ–ï¼Œè·å¾—äº†ç¨³å®šæ€§</span><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    sortedIndex <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> sortedIndex <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token comment"># åœ¨æœªæ’åºéƒ¨åˆ†ä¸­æ‰¾åˆ°æœ€å°å€¼ nums[minIndex]</span>        minIndex <span class="token operator">=</span> sortedIndex        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sortedIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>                minIndex <span class="token operator">=</span> i        <span class="token comment"># ä¼˜åŒ–ï¼šå°† nums[minIndex] æ’å…¥åˆ° nums[sortedIndex] çš„ä½ç½®</span>        <span class="token comment"># å°† nums[sortedIndex..minIndex] çš„å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ä¸€ä½</span>        minVal <span class="token operator">=</span> nums<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span>        <span class="token comment"># æ•°ç»„æ¬ç§»æ•°æ®çš„æ“ä½œ</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>minIndex<span class="token punctuation">,</span> sortedIndex<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>        nums<span class="token punctuation">[</span>sortedIndex<span class="token punctuation">]</span> <span class="token operator">=</span> minVal        sortedIndex <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç ä¸Šä¼˜åŒ–ä¸€ä¸‹</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sortArray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    sortedIndex <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> sortedIndex <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token comment"># é€šè¿‡ä¸€æ¬¡å¾ªç¯,ä¸€è¾¹æ‰¾æœ€å°å€¼ä¸€è¾¹æ¢ä½ï¼Œå¯ä»¥å°†ä¸€ä¸ªå…ƒç´ æ¢åˆ°æ­£ç¡®çš„ä½ç½®</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>sortedIndex<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># Output: n-1,n-2,..., 0 </span>            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>                sortedIndex <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">return</span> nums<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç®—æ³•åˆ†æ"><a href="#ç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$</li><li>ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$</li><li>ç¨³å®šæ€§ï¼šç¨³å®š</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€‰æ‹©æ’åº</title>
      <link href="/2025/04/27/xuan-ze-pai-xu/"/>
      <url>/2025/04/27/xuan-ze-pai-xu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>é€‰æ‹©æ’åºæ˜¯æœ€ç®€å•æœ´ç´ çš„æ’åºç®—æ³•ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä¸”ä¸æ˜¯ç¨³å®šæ’åºã€‚å…¶ä»–åŸºç¡€æ’åºç®—æ³•éƒ½æ˜¯åŸºäºé€‰æ‹©æ’åºçš„ä¼˜åŒ–ã€‚</p></blockquote><ul><li>ç»ƒä¹ é¢˜ç›®: åŠ›æ‰£ç¬¬ 912 é¢˜ <a href="https://leetcode.cn/problems/sort-an-array/description/">æ•°ç»„æ’åº</a>ï¼Œå…ˆä¸çº ç»“æ—¶é—´å¤æ‚åº¦</li></ul><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><p>ç°åœ¨å°±æ˜¯ç»™ä½ è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œè®©ä½ å†™ä¸ªæ’åºç®—æ³•æŠŠæ‰€æœ‰å…ƒç´ ä»å°åˆ°å¤§æ’åºï¼Œä½ æ¥è¯´ï¼Œæ€ä¹ˆå†™ï¼Ÿ  </p><p>æˆ‘ç¬¬ä¸€æ¬¡æ€è€ƒè¿™ä¸ªé—®é¢˜æ—¶ï¼Œæƒ³åˆ°çš„æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š</p><p>å…ˆéå†ä¸€éæ•°ç»„ï¼Œæ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°å€¼ï¼Œç„¶åæŠŠå®ƒå’Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼›æ¥ç€å†éå†ä¸€éæ•°ç»„ï¼Œæ‰¾åˆ°ç¬¬äºŒå°çš„å…ƒç´ ï¼Œå’Œæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼›ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ•´ä¸ªæ•°ç»„æœ‰åºã€‚</p><p>è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªè¢«å¤§å®¶ç†ŸçŸ¥çš„åå­—ï¼Œå«åšã€Œé€‰æ‹©æ’åºã€ï¼Œå³æ¯æ¬¡éƒ½å»éå†é€‰æ‹©æœ€å°çš„å…ƒç´ ã€‚</p><h2 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h2><ol><li>é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ã€‚      </li><li>å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°<strong>å·²æ’åºåºåˆ—</strong>çš„æœ«å°¾ã€‚      </li><li>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</li></ol><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>    <span class="token comment"># sortedIndex æ˜¯ä¸€ä¸ªåˆ†å‰²çº¿</span>    <span class="token comment"># ç´¢å¼• &lt; sortedIndex çš„å…ƒç´ éƒ½æ˜¯å·²æ’åºçš„</span>    <span class="token comment"># ç´¢å¼• >= sortedIndex çš„å…ƒç´ éƒ½æ˜¯æœªæ’åºçš„</span>    <span class="token comment"># åˆå§‹åŒ–ä¸º 0ï¼Œè¡¨ç¤ºæ•´ä¸ªæ•°ç»„éƒ½æ˜¯æœªæ’åºçš„</span>    sortedIndex <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">while</span> sortedIndex <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token comment"># æ‰¾åˆ°æœªæ’åºéƒ¨åˆ† [sortedIndex, n) ä¸­çš„æœ€å°å€¼</span>        minIndex <span class="token operator">=</span> sortedIndex        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sortedIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>                minIndex <span class="token operator">=</span> i        <span class="token comment"># äº¤æ¢æœ€å°å€¼å’Œ sortedIndex å¤„çš„å…ƒç´ </span>        nums<span class="token punctuation">[</span>sortedIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>sortedIndex<span class="token punctuation">]</span>        <span class="token comment"># sortedIndex åç§»ä¸€ä½</span>        sortedIndex <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>é€‰æ‹©æ’åºçš„æœ€å¥½æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$ã€‚  </p><h2 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h2><p>é€‰æ‹©æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯$O(1)$ï¼Œå› ä¸ºåªéœ€è¦ä¸€ä¸ªè¾…åŠ©å˜é‡æ¥è®°å½•æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ çš„ç´¢å¼•ã€‚  </p><h2 id="ç¨³å®šæ€§"><a href="#ç¨³å®šæ€§" class="headerlink" title="ç¨³å®šæ€§"></a>ç¨³å®šæ€§</h2><p>é€‰æ‹©æ’åºä¸æ˜¯ç¨³å®šæ’åºç®—æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç®—æ³•çš„å…³é”®æŒ‡æ ‡</title>
      <link href="/2025/04/27/pai-xu-suan-fa-de-guan-jian-zhi-biao/"/>
      <url>/2025/04/27/pai-xu-suan-fa-de-guan-jian-zhi-biao/</url>
      
        <content type="html"><![CDATA[<h3 id="æ—¶ç©ºå¤æ‚åº¦"><a href="#æ—¶ç©ºå¤æ‚åº¦" class="headerlink" title="æ—¶ç©ºå¤æ‚åº¦"></a>æ—¶ç©ºå¤æ‚åº¦</h3><p>é¦–å…ˆä¸€ä¸ªæŒ‡æ ‡è‚¯å®šæ˜¯æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚</p><p>æ­£å¦‚ æ—¶ç©ºå¤æ‚åº¦å…¥é—¨ ä¸­æ‰€è¯´ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç®—æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯è¶Šå°è¶Šå¥½çš„ã€‚</p><h3 id="æ’åºç¨³å®šæ€§"><a href="#æ’åºç¨³å®šæ€§" class="headerlink" title="æ’åºç¨³å®šæ€§"></a>æ’åºç¨³å®šæ€§</h3><p>ç¨³å®šæ€§æ˜¯æ’åºç®—æ³•çš„ä¸€ä¸ªé‡è¦æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•æ€»ç»“ä¸ºï¼š</p><p><strong>å¯¹äºåºåˆ—ä¸­çš„ç›¸åŒå…ƒç´ ï¼Œå¦‚æœæ’åºä¹‹åå®ƒä»¬çš„ç›¸å¯¹ä½ç½®æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œåˆ™ç§°è¯¥æ’åºç®—æ³•ä¸ºã€Œç¨³å®šæ’åºã€ï¼Œåä¹‹åˆ™ä¸ºã€Œä¸ç¨³å®šæ’åºã€ã€‚</strong></p><p>å¦‚æœå•å•æ’åº int æ•°ç»„ï¼Œé‚£ä¹ˆç¨³å®šæ€§æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ä½†å¦‚æœæ’åºä¸€äº›ç»“æ„æ¯”è¾ƒå¤æ‚çš„æ•°æ®ï¼Œé‚£ä¹ˆç¨³å®šæ’åºå°±ä¼šæœ‰ä¸€å®šçš„ä¼˜åŠ¿ã€‚</p><p>æ¯”å¦‚è¯´ç°åœ¨ä½ æœ‰è‹¥å¹²è®¢å•æ•°æ®ï¼Œå·²ç»æŒ‰ç…§äº¤æ˜“æ—¥æœŸæ’å¥½åºäº†ï¼Œç°åœ¨ä½ æƒ³å¯¹ç”¨æˆ· ID å†è¿›è¡Œæ’åºï¼Œ<br>å¦‚æœä½ ç”¨ç¨³å®šæ’åºç®—æ³•ï¼Œé‚£ä¹ˆæ’åºå®Œæˆåï¼Œç›¸åŒç”¨æˆ· ID çš„è®¢å•ä¾ç„¶ä¼šæŒ‰ç…§äº¤æ˜“æ—¥æœŸæœ‰åºæ’åˆ—</p><h3 id="æ˜¯å¦åŸåœ°æ’åº"><a href="#æ˜¯å¦åŸåœ°æ’åº" class="headerlink" title="æ˜¯å¦åŸåœ°æ’åº"></a>æ˜¯å¦åŸåœ°æ’åº</h3><p>åŸåœ°æ’åºå°±æ˜¯æŒ‡æ’åºè¿‡ç¨‹ä¸­ä¸éœ€è¦é¢å¤–çš„è¾…åŠ©ç©ºé—´ï¼Œåªéœ€è¦å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ï¼Œç›´æ¥æ“ä½œåŸæ•°ç»„è¿›è¡Œæ’åºã€‚</p><p>æ³¨æ„ï¼Œå…³é”®æ˜¯æ˜¯å¦éœ€è¦é¢å¤–çš„ç©ºé—´ï¼Œè€Œä¸æ˜¯æ˜¯å¦è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ç±»ä¼¼è¿™æ ·çš„åŒºåˆ«ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// éåŸåœ°æ’åº</span><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æ’åºè¿‡ç¨‹ä¸­éœ€è¦é¢å¤–çš„è¾…åŠ©æ•°ç»„ï¼Œæ¶ˆè€— O(N) çš„ç©ºé—´</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// å¯¹ nums è¿›è¡Œæ’åº</span>    <span class="token keyword">for</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token comment">// åŸåœ°æ’åº</span><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ç›´æ¥æ“ä½œ numsï¼Œä¸éœ€è¦é¢å¤–çš„è¾…åŠ©æ•°ç»„ï¼Œæ¶ˆè€— O(1) çš„ç©ºé—´</span>    <span class="token keyword">for</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸éš¾æƒ³åˆ°ï¼Œå¯¹äºå¤§æ•°æ®é‡çš„æ’åºï¼ŒåŸåœ°æ’åºç®—æ³•æ˜¯æ¯”è¾ƒæœ‰ä¼˜åŠ¿çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åºç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoå›¾ç‰‡åŠ è½½é—®é¢˜</title>
      <link href="/2025/04/27/hexo-tu-pian-jia-zai-wen-ti/"/>
      <url>/2025/04/27/hexo-tu-pian-jia-zai-wen-ti/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€é€šç”¨è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰"><a href="#ä¸€ã€é€šç”¨è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰" class="headerlink" title="ä¸€ã€é€šç”¨è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰"></a>ä¸€ã€é€šç”¨è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰</h3><h4 id="1-å¯ç”¨èµ„æºæ–‡ä»¶å¤¹å¹¶é…ç½®æ’ä»¶"><a href="#1-å¯ç”¨èµ„æºæ–‡ä»¶å¤¹å¹¶é…ç½®æ’ä»¶" class="headerlink" title="1. å¯ç”¨èµ„æºæ–‡ä»¶å¤¹å¹¶é…ç½®æ’ä»¶"></a>1. <strong>å¯ç”¨èµ„æºæ–‡ä»¶å¤¹å¹¶é…ç½®æ’ä»¶</strong></h4><ul><li><p>æ­¥éª¤1ï¼šåœ¨_config.ymlä¸­é…ç½®</p>  <pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">post_asset_folder</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>æ­¥éª¤ 2ï¼šå®‰è£…é€‚é…æ–°ç‰ˆ Hexo çš„æ’ä»¶ï¼ˆäºŒé€‰ä¸€ï¼‰</p>  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æ–¹æ¡ˆä¸€ï¼šæ”¹è¿›ç‰ˆæ’ä»¶ï¼ˆå…¼å®¹æ€§æ›´å¼ºï¼‰</span><span class="token function">npm</span> uninstall hexo-asset-image <span class="token parameter variable">--save</span><span class="token function">npm</span> <span class="token function">install</span> hexo-asset-img <span class="token parameter variable">--save</span><span class="token comment"># æ–¹æ¡ˆäºŒï¼šå®˜æ–¹æ¨èè¯­æ³•ï¼ˆæ— éœ€æ’ä»¶ï¼‰</span><span class="token function">npm</span> <span class="token function">install</span> hexo-renderer-marked <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>  åœ¨_config.ymlä¸­è¡¥å……é…ç½®ï¼š</p>  <pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">marked</span><span class="token punctuation">:</span>  <span class="token key atrule">prependRoot</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">postAsset</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="2-Typora-ä¸-Markdown-åä½œä¼˜åŒ–"><a href="#2-Typora-ä¸-Markdown-åä½œä¼˜åŒ–" class="headerlink" title="2. Typora ä¸ Markdown åä½œä¼˜åŒ–"></a>2. <strong>Typora ä¸ Markdown åä½œä¼˜åŒ–</strong></h4><ul><li><p>Typoraè®¾ç½®ï¼š<code> åå¥½è®¾ç½® â†’ å›¾åƒ â†’ å¤åˆ¶åˆ° ./$&#123;filename&#125;</code>ï¼Œå®ç°å›¾ç‰‡è‡ªåŠ¨å­˜å…¥åŒåæ–‡ä»¶å¤¹</p></li><li><p>Markdown è¯­æ³•ï¼š</p> <pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token comment">&lt;!-- æ’ä»¶æ–¹æ¡ˆ --></span>&#123;% asset_img image.jpg å›¾ç‰‡æè¿° %&#125;<span class="token comment">&lt;!-- æ— æ’ä»¶æ–¹æ¡ˆï¼ˆéœ€ hexo-renderer-markedï¼‰ --></span><span class="token url"><span class="token operator">!</span>[<span class="token content">å›¾ç‰‡æè¿°</span>](<span class="token url">image.jpg</span>)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="3-éªŒè¯ç”Ÿæˆè·¯å¾„"><a href="#3-éªŒè¯ç”Ÿæˆè·¯å¾„" class="headerlink" title="3. éªŒè¯ç”Ÿæˆè·¯å¾„"></a>3. <strong>éªŒè¯ç”Ÿæˆè·¯å¾„</strong></h4><ul><li>æ‰§è¡Œ<pre class="line-numbers language-none"><code class="language-none">hexo clean &amp;&amp; hexo g --debug<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>æ£€æŸ¥ <code>public/å¹´ä»½/æœˆä»½/æ—¥æœŸ/æ–‡ç« å/</code> ç›®å½•ä¸‹æ˜¯å¦åŒ…å«å›¾ç‰‡æ–‡ä»¶</li></ul>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›ç¨‹çº¿ç¨‹åç¨‹</title>
      <link href="/2025/04/17/jin-cheng-xian-cheng/"/>
      <url>/2025/04/17/jin-cheng-xian-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€è¿›ç¨‹"><a href="#ä¸€ã€è¿›ç¨‹" class="headerlink" title="ä¸€ã€è¿›ç¨‹"></a>ä¸€ã€è¿›ç¨‹</h1><p>â€ƒâ€ƒè¿›ç¨‹ï¼Œç›´è§‚ç‚¹è¯´ï¼Œä¿å­˜åœ¨ç¡¬ç›˜ä¸Šçš„ç¨‹åºè¿è¡Œä»¥åï¼Œä¼šåœ¨å†…å­˜ç©ºé—´é‡Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜ä½“ï¼Œè¿™ä¸ªå†…å­˜ä½“æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œæœ‰è‡ªå·±çš„å †ï¼Œä¸Šçº§æŒ‚é å•ä½æ˜¯æ“ä½œç³»ç»Ÿã€‚æ“ä½œç³»ç»Ÿä¼šä»¥è¿›ç¨‹ä¸ºå•ä½ï¼Œåˆ†é…ç³»ç»Ÿèµ„æºï¼ˆCPUæ—¶é—´ç‰‡ã€å†…å­˜ç­‰èµ„æºï¼‰ï¼Œè¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚</p><p><img src="/2025/04/17/jin-cheng-xian-cheng/6470aeedc4699483fdcae88b3edb7a36.png"></p><p><img src="/2025/04/17/jin-cheng-xian-cheng/29c6aba84af60c91c99d25eb92b26ac7.jpeg"></p><p><strong>ã€è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ã€‘ï¼š</strong></p><p>ç®¡é“(Pipe)ã€å‘½åç®¡é“(FIFO)ã€æ¶ˆæ¯é˜Ÿåˆ—(Message Queue) ã€ä¿¡å·é‡(Semaphore) ã€å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰ï¼›å¥—æ¥å­—ï¼ˆSocketï¼‰ã€‚</p><h1 id="äºŒã€çº¿ç¨‹"><a href="#äºŒã€çº¿ç¨‹" class="headerlink" title="äºŒã€çº¿ç¨‹"></a>äºŒã€çº¿ç¨‹</h1><p>â€ƒâ€ƒçº¿ç¨‹ï¼Œæœ‰æ—¶è¢«ç§°ä¸ºè½»é‡çº§è¿›ç¨‹(Lightweight Processï¼ŒLWPï¼‰ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼ˆCPUè°ƒåº¦ï¼‰æ‰§è¡Œçš„æœ€å°å•ä½ã€‚</p><h1 id="ä¸‰ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»"><a href="#ä¸‰ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»" class="headerlink" title="ä¸‰ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»"></a>ä¸‰ã€è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»</h1><h3 id="ã€åŒºåˆ«ã€‘ï¼š"><a href="#ã€åŒºåˆ«ã€‘ï¼š" class="headerlink" title="ã€åŒºåˆ«ã€‘ï¼š"></a>ã€åŒºåˆ«ã€‘ï¼š</h3><p><strong>è°ƒåº¦</strong>ï¼šçº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºæ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼›</p><p><strong>å¹¶å‘æ€§</strong>ï¼šä¸ä»…è¿›ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼ŒåŒä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¹Ÿå¯å¹¶å‘æ‰§è¡Œï¼›</p><p><strong>æ‹¥æœ‰èµ„æº</strong>ï¼šè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼Œçº¿ç¨‹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œä½†å¯ä»¥è®¿é—®éš¶å±äºè¿›ç¨‹çš„èµ„æºã€‚è¿›ç¨‹æ‰€ç»´æŠ¤çš„æ˜¯ç¨‹åºæ‰€åŒ…å«çš„èµ„æºï¼ˆé™æ€èµ„æºï¼‰ï¼Œ å¦‚ï¼šåœ°å€ç©ºé—´ï¼Œæ‰“å¼€çš„æ–‡ä»¶å¥æŸ„é›†ï¼Œæ–‡ä»¶ç³»ç»ŸçŠ¶æ€ï¼Œä¿¡å·å¤„ç†handlerç­‰ï¼›çº¿ç¨‹æ‰€ç»´æŠ¤çš„è¿è¡Œç›¸å…³çš„èµ„æºï¼ˆåŠ¨æ€èµ„æºï¼‰ï¼Œå¦‚ï¼šè¿è¡Œæ ˆï¼Œè°ƒåº¦ç›¸å…³çš„æ§åˆ¶ä¿¡æ¯ï¼Œå¾…å¤„ç†çš„ä¿¡å·é›†ç­‰ï¼›</p><p><strong>ç³»ç»Ÿå¼€é”€</strong>ï¼šåœ¨åˆ›å»ºæˆ–æ’¤æ¶ˆè¿›ç¨‹æ—¶ï¼Œç”±äºç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…å’Œå›æ”¶èµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿçš„å¼€é”€æ˜æ˜¾å¤§äºåˆ›å»ºæˆ–æ’¤æ¶ˆçº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ä½†æ˜¯è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„ã€‚çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹æ­»æ‰å°±ç­‰äºæ‰€æœ‰çš„çº¿ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ã€‚</p><h3 id="ã€è”ç³»ã€‘ï¼š"><a href="#ã€è”ç³»ã€‘ï¼š" class="headerlink" title="ã€è”ç³»ã€‘ï¼š"></a>ã€è”ç³»ã€‘ï¼š</h3><p>ä¸€ä¸ªçº¿ç¨‹åªèƒ½å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼›</p><p>èµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„æ‰€æœ‰èµ„æºï¼›</p><p>å¤„ç†æœºåˆ†ç»™çº¿ç¨‹ï¼Œå³çœŸæ­£åœ¨å¤„ç†æœºä¸Šè¿è¡Œçš„æ˜¯çº¿ç¨‹ï¼›</p><p>çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åä½œåŒæ­¥ã€‚ä¸åŒè¿›ç¨‹çš„çº¿ç¨‹é—´è¦åˆ©ç”¨æ¶ˆæ¯é€šä¿¡çš„åŠæ³•å®ç°åŒæ­¥ã€‚</p><h1 id="å››ã€ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­è§£é‡Šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"><a href="#å››ã€ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­è§£é‡Šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«" class="headerlink" title="å››ã€ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­è§£é‡Šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"></a>å››ã€ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­è§£é‡Šè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</h1><p>è¿›ç¨‹å°±å¥½æ¯”ä¸€ä¸ªè½¦é—´ï¼Œçº¿ç¨‹å°±æ˜¯è½¦é—´çš„å·¥äºº</p><h1 id="äº”ã€åç¨‹"><a href="#äº”ã€åç¨‹" class="headerlink" title="äº”ã€åç¨‹"></a>äº”ã€åç¨‹</h1><p>â€ƒâ€ƒåç¨‹ï¼Œæ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ï¼Œåç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œå®Œå…¨æ˜¯ç”±ç¨‹åºæ‰€æ§åˆ¶ï¼ˆä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼‰ã€‚è¿™æ ·å¸¦æ¥çš„å¥½å¤„å°±æ˜¯æ€§èƒ½å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œä¸ä¼šåƒçº¿ç¨‹åˆ‡æ¢é‚£æ ·æ¶ˆè€—èµ„æºã€‚</p><p><img src="/2025/04/17/jin-cheng-xian-cheng/b7a5938afc75f67d3f1554fd98875f75-1744896323880-35.png"></p><p>â€ƒâ€ƒå­ç¨‹åºï¼Œæˆ–è€…ç§°ä¸ºå‡½æ•°ï¼Œåœ¨æ‰€æœ‰è¯­è¨€ä¸­éƒ½æ˜¯å±‚çº§è°ƒç”¨ï¼Œæ¯”å¦‚Aè°ƒç”¨Bï¼ŒBåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆè°ƒç”¨äº†Cï¼ŒCæ‰§è¡Œå®Œæ¯•è¿”å›ï¼ŒBæ‰§è¡Œå®Œæ¯•è¿”å›ï¼Œæœ€åæ˜¯Aæ‰§è¡Œå®Œæ¯•ã€‚æ‰€ä»¥å­ç¨‹åºè°ƒç”¨æ˜¯é€šè¿‡æ ˆå®ç°çš„ï¼Œä¸€ä¸ªçº¿ç¨‹å°±æ˜¯æ‰§è¡Œä¸€ä¸ªå­ç¨‹åºã€‚å­ç¨‹åºè°ƒç”¨æ€»æ˜¯ä¸€ä¸ªå…¥å£ï¼Œä¸€æ¬¡è¿”å›ï¼Œè°ƒç”¨é¡ºåºæ˜¯æ˜ç¡®çš„ã€‚è€Œåç¨‹çš„è°ƒç”¨å’Œå­ç¨‹åºä¸åŒã€‚</p><p>â€ƒâ€ƒåç¨‹åœ¨å­ç¨‹åºå†…éƒ¨æ˜¯å¯ä¸­æ–­çš„ï¼Œç„¶åè½¬è€Œæ‰§è¡Œåˆ«çš„å­ç¨‹åºï¼Œåœ¨é€‚å½“çš„æ—¶å€™å†è¿”å›æ¥æ¥ç€æ‰§è¡Œã€‚</p><p><strong>åç¨‹çš„ç‰¹ç‚¹åœ¨äºæ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£å’Œå¤šçº¿ç¨‹æ¯”ï¼Œåç¨‹æœ‰ä½•ä¼˜åŠ¿ï¼Ÿ</strong></p><p><strong>æé«˜çš„æ‰§è¡Œæ•ˆç‡</strong>ï¼šå› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ï¼Œå› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ï¼›</p><p><strong>ä¸éœ€è¦å¤šçº¿ç¨‹çš„é”æœºåˆ¶</strong>ï¼šå› ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿä¸å­˜åœ¨åŒæ—¶å†™å˜é‡å†²çªï¼Œåœ¨åç¨‹ä¸­æ§åˆ¶å…±äº«èµ„æºä¸åŠ é”ï¼Œåªéœ€è¦åˆ¤æ–­çŠ¶æ€å°±å¥½äº†ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡æ¯”å¤šçº¿ç¨‹é«˜å¾ˆå¤šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿›ç¨‹çº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>githubé…ç½®SSH-Keyä¿å§†æ•™ç¨‹</title>
      <link href="/2025/04/15/github-pei-zhi-ssh-key/"/>
      <url>/2025/04/15/github-pei-zhi-ssh-key/</url>
      
        <content type="html"><![CDATA[<h1 id="githubé…ç½®SSH-Keyä¿å§†çº§æ•™ç¨‹"><a href="#githubé…ç½®SSH-Keyä¿å§†çº§æ•™ç¨‹" class="headerlink" title="githubé…ç½®SSH-Keyä¿å§†çº§æ•™ç¨‹"></a>githubé…ç½®SSH-Keyä¿å§†çº§æ•™ç¨‹</h1><h3 id="é…ç½®è¿‡ç¨‹"><a href="#é…ç½®è¿‡ç¨‹" class="headerlink" title="é…ç½®è¿‡ç¨‹"></a>é…ç½®è¿‡ç¨‹</h3><h3 id="ç¬¬1æ­¥ï¼šæŸ¥çœ‹-æˆ–è€…-ç”Ÿæˆä¸€ä¸ªSSH-Key"><a href="#ç¬¬1æ­¥ï¼šæŸ¥çœ‹-æˆ–è€…-ç”Ÿæˆä¸€ä¸ªSSH-Key" class="headerlink" title="ç¬¬1æ­¥ï¼šæŸ¥çœ‹ æˆ–è€… ç”Ÿæˆä¸€ä¸ªSSH-Key"></a>ç¬¬1æ­¥ï¼šæŸ¥çœ‹ æˆ–è€… ç”Ÿæˆä¸€ä¸ª<a href="https://zhida.zhihu.com/search?content_id=241042157&content_type=Article&match_order=1&q=SSH-Key&zhida_source=entity">SSH-Key</a></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// æ–°ç¯å¢ƒå¤§æ¦‚ç‡ä¼šæŠ¥é”™ ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸å­˜åœ¨</span>$ cd <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>ssh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœæŠ¥é”™å¦‚ä¸‹</p><p><img src="https://picx.zhimg.com/v2-8cd1f45e079593a46cbb4bc449c86609_1440w.jpg" alt="img"></p><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤ç”Ÿæˆssh-key</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">ssh<span class="token operator">-</span>keygen <span class="token operator">-</span>t rsa <span class="token operator">-</span>C <span class="token string">"xxx@xxx.com"</span>  <span class="token comment">// å°† "xxx@xxx.com" æ›¿æ¢ä¸ºä½ è‡ªå·±GitHubçš„é‚®ç®±åœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åä¸€ç›´æŒ‰ â€œenterâ€é”®ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://pic3.zhimg.com/v2-0be2a290a6a935679ac33b3eb9518686_1440w.jpg" alt="img"></p><h3 id="ç¬¬2æ­¥ï¼šè·å–ssh-keyå…¬é’¥å†…å®¹"><a href="#ç¬¬2æ­¥ï¼šè·å–ssh-keyå…¬é’¥å†…å®¹" class="headerlink" title="ç¬¬2æ­¥ï¼šè·å–ssh keyå…¬é’¥å†…å®¹"></a>ç¬¬2æ­¥ï¼šè·å–ssh keyå…¬é’¥å†…å®¹</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// è¿›å…¥sshç›®å½•</span>$ cd <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>ssh<span class="token comment">//å…¶ä¸­ï¼š</span><span class="token comment">//id_rsaï¼šæ˜¯ç§é’¥</span><span class="token comment">//id_rsa.pubï¼šæ˜¯å…¬é’¥</span><span class="token comment">// æŸ¥çœ‹ssh å…¬é’¥  è¿›è¡Œå¤åˆ¶</span>$ cat id_rsa<span class="token punctuation">.</span>pub<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://pic3.zhimg.com/v2-3dec0306103257b6adfdb581aa640f28_1440w.jpg" alt="img"></p><h3 id="ç¬¬3æ­¥ï¼šGitHubè®¾ç½®ä¸­æ·»åŠ å…¬é’¥"><a href="#ç¬¬3æ­¥ï¼šGitHubè®¾ç½®ä¸­æ·»åŠ å…¬é’¥" class="headerlink" title="ç¬¬3æ­¥ï¼šGitHubè®¾ç½®ä¸­æ·»åŠ å…¬é’¥"></a>ç¬¬3æ­¥ï¼šGitHubè®¾ç½®ä¸­æ·»åŠ å…¬é’¥</h3><p>ç‚¹å‡»GitHubä¸­è®¾ç½®æ ‡ç­¾ï¼Œç„¶åç‚¹å‡» <strong>SSH and GPG keys</strong> ã€ <strong>New SSH key</strong> å°†å¤åˆ¶å¥½çš„é“¾æ¥ç²˜è´´è¿›å»</p><p><img src="https://pic4.zhimg.com/v2-61ad52bd47aedb08f6d39fa4750ad847_1440w.jpg" alt="img"></p><p><img src="https://picx.zhimg.com/v2-7ff3ec3c4945801c9174f40dda7a7ba3_1440w.jpg" alt="img"></p><h3 id="ç¬¬4æ­¥ï¼šæ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ"><a href="#ç¬¬4æ­¥ï¼šæ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ" class="headerlink" title="ç¬¬4æ­¥ï¼šæ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ"></a>ç¬¬4æ­¥ï¼šæ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">$ ssh <span class="token operator">-</span>T git@github<span class="token punctuation">.</span>com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>çœ‹åˆ°<strong>successfully</strong>å­—æ ·å°±æˆåŠŸäº†</p><h3 id="ç¬¬5æ­¥ï¼šGitHubä¸­åˆ›å»ºä»“åº“ï¼Œå¹¶ä½¿ç”¨sshé“¾æ¥è¿›è¡Œä¸‹æ‹‰"><a href="#ç¬¬5æ­¥ï¼šGitHubä¸­åˆ›å»ºä»“åº“ï¼Œå¹¶ä½¿ç”¨sshé“¾æ¥è¿›è¡Œä¸‹æ‹‰" class="headerlink" title="ç¬¬5æ­¥ï¼šGitHubä¸­åˆ›å»ºä»“åº“ï¼Œå¹¶ä½¿ç”¨sshé“¾æ¥è¿›è¡Œä¸‹æ‹‰"></a>ç¬¬5æ­¥ï¼šGitHubä¸­åˆ›å»ºä»“åº“ï¼Œå¹¶ä½¿ç”¨sshé“¾æ¥è¿›è¡Œä¸‹æ‹‰</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">$ git clone <span class="token operator">+</span> <span class="token string">"sshé“¾æ¥"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬6æ­¥ï¼šç¼–ç ï¼Œä»£ç ä¸Šä¼ "><a href="#ç¬¬6æ­¥ï¼šç¼–ç ï¼Œä»£ç ä¸Šä¼ " class="headerlink" title="ç¬¬6æ­¥ï¼šç¼–ç ï¼Œä»£ç ä¸Šä¼ "></a>ç¬¬6æ­¥ï¼šç¼–ç ï¼Œä»£ç ä¸Šä¼ </h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">è§£é‡Š<span class="token comment">// æŸ¥çœ‹æ›´æ”¹é¡¹</span>$ git status<span class="token comment">// æ·»åŠ æ‰€æœ‰æ›´æ”¹é¡¹</span>$ git add <span class="token punctuation">.</span><span class="token comment">// æäº¤commit , è¿™ä¸€æ­¥å¯èƒ½ä¼šæœ‰é—®é¢˜</span>$ git commit <span class="token operator">-</span>m <span class="token string">"feat:add code"</span><span class="token comment">// æ¨é€è‡³è¿œç«¯</span>$git push<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨commitçš„æ—¶å€™å¯èƒ½ä¼šç¢°åˆ°é—®é¢˜ â€œ<strong>please tell me who you are</strong>â€,æŒ‰ç…§æç¤ºè¿›è¡Œè®¾ç½®å°±è¡Œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">$ git config <span class="token operator">--</span>global user<span class="token punctuation">.</span>email <span class="token string">"you@example.com"</span>   <span class="token comment">// "you@example.com"æ›¿æ¢ä¸ºä½ çš„GitHubé‚®ç®±åœ°å€</span>$ git config <span class="token operator">--</span>global user<span class="token punctuation">.</span>name <span class="token string">"Your Name"</span>   <span class="token comment">// "Your Name"æ›¿æ¢ä¸ºä½ çš„GitHubåç§°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2025/04/15/hello-world/"/>
      <url>/2025/04/15/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
